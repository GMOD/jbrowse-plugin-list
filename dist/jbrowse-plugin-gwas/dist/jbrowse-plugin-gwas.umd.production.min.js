"use strict";var JBrowsePluginGWAS=(()=>{var $G=Object.create;var Cm=Object.defineProperty;var UG=Object.getOwnPropertyDescriptor;var VG=Object.getOwnPropertyNames;var GG=Object.getPrototypeOf,YG=Object.prototype.hasOwnProperty;var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rt=(e,t)=>{for(var r in t)Cm(e,r,{get:t[r],enumerable:!0})},QR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VG(t))!YG.call(e,o)&&o!==r&&Cm(e,o,{get:()=>t[o],enumerable:!(n=UG(t,o))||n.enumerable});return e};var g=(e,t,r)=>(r=e!=null?$G(GG(e)):{},QR(t||!e||!e.__esModule?Cm(r,"default",{value:e,enumerable:!0}):r,e)),nx=e=>QR(Cm({},"__esModule",{value:!0}),e);var km=y((bOe,eM)=>{eM.exports=JBrowseExports["@jbrowse/core/Plugin"]});var xe=y((yOe,tM)=>{tM.exports=JBrowseExports["@jbrowse/core/configuration"]});var Tm=y((_Oe,rM)=>{rM.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/AdapterType"]});var $=y((wOe,iM)=>{iM.exports=JBrowseExports.react});var Q=y((SOe,aM)=>{aM.exports=JBrowseExports["@mui/material"]});var re=y((COe,sM)=>{sM.exports=JBrowseExports["mobx-react"]});var lM={};rt(lM,{default:()=>ZG});var Uu,uM,cM,XG,ZG,fM=T(()=>{"use strict";Uu=g($()),uM=g(Q()),cM=g(re()),XG=(0,cM.observer)(function({model:e}){let[t,r]=(0,Uu.useState)("neg_log_pvalue");return(0,Uu.useEffect)(()=>{e.setMixinData({adapter:{scoreColumn:t}})},[e,t]),Uu.default.createElement(uM.TextField,{label:"Score column",helperText:"Name of the column to use as the score for the Manhattan plot (e.g., 'neg_log_pvalue', 'pvalue')",value:t,onChange:n=>{r(n.target.value)},fullWidth:!0})}),ZG=XG});var jn=y((TOe,pM)=>{pM.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes"]});var Z=y((OOe,gM)=>{gM.exports=JBrowseExports["@jbrowse/core/util"]});var yn=y((POe,vM)=>{vM.exports=JBrowseExports["@jbrowse/core/util/tracks"]});var Oe=y((jOe,yM)=>{yM.exports=JBrowseExports["mobx-state-tree"]});var Wt=y((LOe,Pf)=>{function JG(e){return e&&e.__esModule?e:{default:e}}Pf.exports=JG,Pf.exports.__esModule=!0,Pf.exports.default=Pf.exports});var dx=y((NOe,Ti)=>{function fx(e){"@babel/helpers - typeof";return Ti.exports=fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti.exports.__esModule=!0,Ti.exports.default=Ti.exports,fx(e)}Ti.exports=fx,Ti.exports.__esModule=!0,Ti.exports.default=Ti.exports});var wM=y((DOe,Af)=>{var xM=dx().default;function QG(e,t){if(xM(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xM(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Af.exports=QG,Af.exports.__esModule=!0,Af.exports.default=Af.exports});var px=y((FOe,jf)=>{var eY=dx().default,tY=wM();function rY(e){var t=tY(e,"string");return eY(t)=="symbol"?t:t+""}jf.exports=rY,jf.exports.__esModule=!0,jf.exports.default=jf.exports});var SM=y((qOe,If)=>{var nY=px();function oY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}If.exports=oY,If.exports.__esModule=!0,If.exports.default=If.exports});var As=y((BOe,Lf)=>{function iY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Lf.exports=iY,Lf.exports.__esModule=!0,Lf.exports.default=Lf.exports});var js=y((zOe,Nf)=>{var aY=px();function CM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aY(n.key),n)}}function sY(e,t,r){return t&&CM(e.prototype,t),r&&CM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Nf.exports=sY,Nf.exports.__esModule=!0,Nf.exports.default=Nf.exports});var mx=y((HOe,Df)=>{function uY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Df.exports=uY,Df.exports.__esModule=!0,Df.exports.default=Df.exports});var kM=y((WOe,Ff)=>{var cY=mx();function lY(e){if(Array.isArray(e))return cY(e)}Ff.exports=lY,Ff.exports.__esModule=!0,Ff.exports.default=Ff.exports});var TM=y(($Oe,qf)=>{function fY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}qf.exports=fY,qf.exports.__esModule=!0,qf.exports.default=qf.exports});var RM=y((UOe,Bf)=>{var EM=mx();function dY(e,t){if(e){if(typeof e=="string")return EM(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EM(e,t):void 0}}Bf.exports=dY,Bf.exports.__esModule=!0,Bf.exports.default=Bf.exports});var MM=y((VOe,zf)=>{function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}zf.exports=pY,zf.exports.__esModule=!0,zf.exports.default=zf.exports});var OM=y((GOe,Hf)=>{var mY=kM(),hY=TM(),gY=RM(),vY=MM();function bY(e){return mY(e)||hY(e)||gY(e)||vY()}Hf.exports=bY,Hf.exports.__esModule=!0,Hf.exports.default=Hf.exports});var PM=y(zo=>{"use strict";var yY=Wt(),_Y=yY(OM()),xY={functions:"Jexl Function",transforms:"Transform"};zo.ArrayLiteral=function(e){return this.evalArray(e.value)};zo.BinaryExpression=function(e){var t=this,r=this._grammar.elements[e.operator];if(r.evalOnDemand){var n=function(i){return{eval:function(){return t.eval(i)}}};return r.evalOnDemand(n(e.left),n(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then(function(o){return r.eval(o[0],o[1])})};zo.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then(function(r){return r?e.consequent?t.eval(e.consequent):r:t.eval(e.alternate)})};zo.FilterExpression=function(e){var t=this;return this.eval(e.subject).then(function(r){return e.relative?t._filterRelative(r,e.expr):t._filterStatic(r,e.expr)})};zo.Identifier=function(e){return e.from?this.eval(e.from).then(function(t){if(t!=null)return Array.isArray(t)&&(t=t[0]),t[e.value]}):e.relative?this._relContext[e.value]:this._context[e.value]};zo.Literal=function(e){return e.value};zo.ObjectLiteral=function(e){return this.evalMap(e.value)};zo.FunctionCall=function(e){var t=xY[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var r=this._grammar[e.pool],n=r[e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then(function(o){return n.apply(void 0,(0,_Y.default)(o))})};zo.UnaryExpression=function(e){var t=this;return this.eval(e.right).then(function(r){return t._grammar.elements[e.operator].eval(r)})}});var IM=y((XOe,jM)=>{"use strict";var AM=Wt(),wY=AM(As()),SY=AM(js()),CY=PM(),kY=(function(){function e(t,r,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Promise;(0,wY.default)(this,e),this._grammar=t,this._context=r||{},this._relContext=n||this._context,this.Promise=o}return(0,SY.default)(e,[{key:"eval",value:function(r){var n=this;return this.Promise.resolve().then(function(){return CY[r.type].call(n,r)})}},{key:"evalArray",value:function(r){var n=this;return this.Promise.all(r.map(function(o){return n.eval(o)}))}},{key:"evalMap",value:function(r){var n=this,o=Object.keys(r),i={},a=o.map(function(s){return n.eval(r[s])});return this.Promise.all(a).then(function(s){return s.forEach(function(c,u){i[o[u]]=c}),i})}},{key:"_filterRelative",value:function(r,n){var o=this,i=[];return Array.isArray(r)||(r=r===void 0?[]:[r]),r.forEach(function(a){var s=new e(o._grammar,o._context,a,o.Promise);i.push(s.eval(n))}),this.Promise.all(i).then(function(a){var s=[];return a.forEach(function(c,u){c&&s.push(r[u])}),s})}},{key:"_filterStatic",value:function(r,n){return this.eval(n).then(function(o){return typeof o=="boolean"?o?r:void 0:r[o]})}}]),e})();jM.exports=kY});var FM=y((ZOe,DM)=>{"use strict";var NM=Wt(),TY=NM(As()),EY=NM(js()),RY=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,LM=/^[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Zа-яА-Я0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,MY=/\\\\/,OY=/^\s*$/,PY=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],AY=["[a-zA-Z\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$][a-zA-Z0-9\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],jY=["binaryOp","unaryOp","openParen","openBracket","question","colon"],IY=(function(){function e(t){(0,TY.default)(this,e),this._grammar=t}return(0,EY.default)(e,[{key:"getElements",value:function(r){var n=this._getSplitRegex();return r.split(n).filter(function(o){return o})}},{key:"getTokens",value:function(r){for(var n=[],o=!1,i=0;i<r.length;i++)this._isWhitespace(r[i])?n.length&&(n[n.length-1].raw+=r[i]):r[i]==="-"&&this._isNegative(n)?o=!0:(o&&(r[i]="-"+r[i],o=!1),n.push(this._createToken(r[i])));return o&&n.push(this._createToken("-")),n}},{key:"tokenize",value:function(r){var n=this.getElements(r);return this.getTokens(n)}},{key:"_createToken",value:function(r){var n={type:"literal",value:r,raw:r};if(r[0]==='"'||r[0]==="'")n.value=this._unquote(r);else if(r.match(RY))n.value=parseFloat(r);else if(r==="true"||r==="false")n.value=r==="true";else if(this._grammar.elements[r])n.type=this._grammar.elements[r].type;else if(r.match(LM))n.type="identifier";else throw new Error("Invalid expression token: ".concat(r));return n}},{key:"_escapeRegExp",value:function(r){return r=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r.match(LM)&&(r="\\b"+r+"\\b"),r}},{key:"_getSplitRegex",value:function(){var r=this;if(!this._splitRegex){var n=Object.keys(this._grammar.elements).sort(function(o,i){return i.length-o.length}).map(function(o){return r._escapeRegExp(o)},this);this._splitRegex=new RegExp("("+[PY.join("|"),n.join("|"),AY.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(r){return r.length?jY.some(function(n){return n===r[r.length-1].type}):!0}},{key:"_isWhitespace",value:function(r){return!!r.match(OY)}},{key:"_unquote",value:function(r){var n=r[0],o=new RegExp("\\\\"+n,"g");return r.substr(1,r.length-2).replace(o,n).replace(MY,"\\")}}]),e})();DM.exports=IY});var hx=y($t=>{"use strict";$t.argVal=function(e){e&&this._cursor.args.push(e)};$t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})};$t.arrayVal=function(e){e&&this._cursor.value.push(e)};$t.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,r=this._cursor._parent;r&&r.operator&&this._grammar.elements[r.operator].precedence>=t;)this._cursor=r,r=r._parent;var n={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,n),this._cursor=r,this._placeAtCursor(n)};$t.dot=function(){this._nextIdentEncapsulate=this._cursor&&this._cursor.type!=="UnaryExpression"&&(this._cursor.type!=="BinaryExpression"||this._cursor.type==="BinaryExpression"&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)};$t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})};$t.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})};$t.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))};$t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})};$t.objKey=function(e){this._curObjKey=e.value};$t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})};$t.objVal=function(e){this._cursor.value[this._curObjKey]=e};$t.subExpression=function(e){this._placeAtCursor(e)};$t.ternaryEnd=function(e){this._cursor.alternate=e};$t.ternaryMid=function(e){this._cursor.consequent=e};$t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree};$t.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})};$t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}});var BM=y(qM=>{"use strict";var tn=hx();qM.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:tn.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:tn.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:tn.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:tn.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:tn.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:tn.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:tn.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:tn.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:tn.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:tn.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:tn.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:tn.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:tn.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:tn.ternaryEnd,completable:!0}}});var WM=y((QOe,HM)=>{"use strict";var zM=Wt(),LY=zM(As()),NY=zM(js()),DY=hx(),Rm=BM().states,FY=(function(){function e(t,r,n){(0,LY.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=r||"",this._relative=!1,this._stopMap=n||{}}return(0,NY.default)(e,[{key:"addToken",value:function(r){if(this._state==="complete")throw new Error("Cannot add a new token to a completed Parser");var n=Rm[this._state],o=this._exprStr;if(this._exprStr+=r.raw,n.subHandler){this._subParser||this._startSubExpression(o);var i=this._subParser.addToken(r);if(i){if(this._endSubExpression(),this._parentStop)return i;this._state=i}}else if(n.tokenTypes[r.type]){var a=n.tokenTypes[r.type],s=DY[r.type];a.handler&&(s=a.handler),s&&s.call(this,r),a.toState&&(this._state=a.toState)}else{if(this._stopMap[r.type])return this._stopMap[r.type];throw new Error("Token ".concat(r.raw," (").concat(r.type,") unexpected in expression: ").concat(this._exprStr))}return!1}},{key:"addTokens",value:function(r){r.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!Rm[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){Rm[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(r){this._cursor?(this._cursor.right=r,this._setParent(r,this._cursor)):this._tree=r,this._cursor=r}},{key:"_placeBeforeCursor",value:function(r){this._cursor=this._cursor._parent,this._placeAtCursor(r)}},{key:"_setParent",value:function(r,n){Object.defineProperty(r,"_parent",{value:n,writable:!0})}},{key:"_startSubExpression",value:function(r){var n=Rm[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,r,n)}}]),e})();HM.exports=FY});var VM=y((ePe,UM)=>{"use strict";var $M=Wt(),qY=$M(As()),BY=$M(js()),ua=(function(){function e(t){(0,qY.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,BY.default)(e,[{key:"catch",value:function(r){if(this.error)try{this._resolve(r(this.error))}catch(n){this._reject(n)}return this}},{key:"then",value:function(r,n){if(!this.error)try{this._resolve(r(this.value))}catch(o){this._reject(o)}return n&&this.catch(n),this}},{key:"_reject",value:function(r){this.value=void 0,this.error=r}},{key:"_resolve",value:function(r){r instanceof e?r.error?this._reject(r.error):this._resolve(r.value):(this.value=r,this.error=void 0)}}]),e})();ua.all=function(e){return new ua(function(t){var r=e.map(function(n){for(;n instanceof ua;){if(n.error)throw Error(n.error);n=n.value}return n});t(r)})};ua.resolve=function(e){return new ua(function(t){return t(e)})};ua.reject=function(e){return new ua(function(t,r){return r(e)})};UM.exports=ua});var XM=y((tPe,YM)=>{"use strict";var GM=Wt(),zY=GM(As()),HY=GM(js()),WY=IM(),$Y=FM(),UY=WM(),VY=VM(),GY=(function(){function e(t,r){(0,zY.default)(this,e),this._grammar=t,this._exprStr=r,this._ast=null}return(0,HY.default)(e,[{key:"compile",value:function(){var r=new $Y(this._grammar),n=new UY(this._grammar),o=r.tokenize(this._exprStr);return n.addTokens(o),this._ast=n.complete(),this}},{key:"eval",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._eval(r,Promise)}},{key:"evalSync",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._eval(r,VY);if(n.error)throw n.error;return n.value}},{key:"_eval",value:function(r,n){var o=this;return n.resolve().then(function(){var i=o._getAst(),a=new WY(o._grammar,r,void 0,n);return a.eval(i)})}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e})();YM.exports=GY});var KM=y(ZM=>{"use strict";ZM.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(t,r){return t+r}},"-":{type:"binaryOp",precedence:30,eval:function(t,r){return t-r}},"*":{type:"binaryOp",precedence:40,eval:function(t,r){return t*r}},"/":{type:"binaryOp",precedence:40,eval:function(t,r){return t/r}},"//":{type:"binaryOp",precedence:40,eval:function(t,r){return Math.floor(t/r)}},"%":{type:"binaryOp",precedence:50,eval:function(t,r){return t%r}},"^":{type:"binaryOp",precedence:50,eval:function(t,r){return Math.pow(t,r)}},"==":{type:"binaryOp",precedence:20,eval:function(t,r){return t==r}},"!=":{type:"binaryOp",precedence:20,eval:function(t,r){return t!=r}},">":{type:"binaryOp",precedence:20,eval:function(t,r){return t>r}},">=":{type:"binaryOp",precedence:20,eval:function(t,r){return t>=r}},"<":{type:"binaryOp",precedence:20,eval:function(t,r){return t<r}},"<=":{type:"binaryOp",precedence:20,eval:function(t,r){return t<=r}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n&&r.eval()})}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n||r.eval()})}},in:{type:"binaryOp",precedence:20,eval:function(t,r){return typeof r=="string"?r.indexOf(t)!==-1:Array.isArray(r)?r.some(function(n){return n===t}):!1}},"!":{type:"unaryOp",precedence:1/0,eval:function(t){return!t}}},functions:{},transforms:{}}}});var QM=y((nPe,vx)=>{"use strict";var gx=Wt(),YY=gx(SM()),XY=gx(As()),ZY=gx(js()),KY=XM(),JY=KM(),QY=JY.getGrammar,JM=(function(){function e(){(0,XY.default)(this,e),this.expr=this.expr.bind(this),this._grammar=QY()}return(0,ZY.default)(e,[{key:"addBinaryOp",value:function(r,n,o,i){this._addGrammarElement(r,(0,YY.default)({type:"binaryOp",precedence:n},i?"evalOnDemand":"eval",o))}},{key:"addFunction",value:function(r,n){this._grammar.functions[r]=n}},{key:"addFunctions",value:function(r){for(var n in r)this._grammar.functions[n]=r[n]}},{key:"addUnaryOp",value:function(r,n){this._addGrammarElement(r,{type:"unaryOp",weight:1/0,eval:n})}},{key:"addTransform",value:function(r,n){this._grammar.transforms[r]=n}},{key:"addTransforms",value:function(r){for(var n in r)this._grammar.transforms[n]=r[n]}},{key:"compile",value:function(r){var n=this.createExpression(r);return n.compile()}},{key:"createExpression",value:function(r){return new KY(this._grammar,r)}},{key:"getFunction",value:function(r){return this._grammar.functions[r]}},{key:"getTransform",value:function(r){return this._grammar.transforms[r]}},{key:"eval",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(r);return o.eval(n)}},{key:"evalSync",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(r);return o.evalSync(n)}},{key:"expr",value:function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=r.reduce(function(s,c,u){var l=u<o.length?o[u]:"";return s+=c+l,s},"");return this.createExpression(a)}},{key:"removeOp",value:function(r){this._grammar.elements[r]&&(this._grammar.elements[r].type==="binaryOp"||this._grammar.elements[r].type==="unaryOp")&&delete this._grammar.elements[r]}},{key:"_addGrammarElement",value:function(r,n){this._grammar.elements[r]=n}}]),e})();vx.exports=new JM;vx.exports.Jexl=JM});var eO=y(Wf=>{"use strict";var eX=Wf&&Wf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.default=rX;var tX=eX(QM());function rX(){let e=new tX.default.Jexl;return e.addFunction("get",(t,r)=>t.get(r)),e.addFunction("parent",t=>t.parent()),e.addFunction("id",t=>t.id()),e.addFunction("cast",t=>t),e.addFunction("log",t=>(console.log(t),t)),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(t,r)=>t.split(r)),e.addFunction("join",(t,...r)=>[...r].filter(n=>!!n).join(t)),e.addFunction("charAt",(t,r)=>t.charAt(r)),e.addFunction("charCodeAt",(t,r)=>t.charCodeAt(r)),e.addFunction("codePointAt",(t,r)=>t.codePointAt(r)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("endsWith",(t,r,n)=>t.endsWith(r,n)),e.addFunction("padEnd",(t,r,n)=>t.padEnd(r,n)),e.addFunction("padStart",(t,r,n)=>t.padStart(r,n)),e.addFunction("repeat",(t,r)=>t.repeat(r)),e.addFunction("replace",(t,r,n)=>t.replace(r,n)),e.addFunction("replaceAll",(t,r,n)=>t.replaceAll(r,n)),e.addFunction("slice",(t,r,n)=>t.slice(r,n)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("substring",(t,r,n)=>t.substring(r,n)),e.addFunction("toLowerCase",t=>t.toLowerCase()),e.addFunction("toUpperCase",t=>t.toUpperCase()),e.addFunction("jsonParse",t=>JSON.parse(t)),e.addFunction("trim",t=>t.trim()),e.addFunction("trimEnd",t=>t.trimEnd()),e.addFunction("trimStart",t=>t.trimStart()),e.addFunction("getTag",(t,r)=>{let n=t.get("tags");return n?n[r]:t.get(r)}),e.addBinaryOp("&",15,(t,r)=>t&r),e}});var Uf=y($f=>{"use strict";var nX=$f&&$f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($f,"__esModule",{value:!0});$f.stringToJexlExpression=iX;var oX=nX(eO()),bx={};function iX(e,t){let r=`nosig|${e}`;if(!bx[r]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");let o=e.split("jexl:")[1],i=t?t.compile(o):(0,oX.default)().compile(o);bx[r]=i}return bx[r]}});var Mm=y(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});var aX=Uf(),yx=class e{constructor({filters:t=[]}){this.filterChain=t.map(r=>r.trim()).filter(r=>!!r).map(r=>{if(typeof r=="string")return{expr:(0,aX.stringToJexlExpression)(r),string:r};throw new Error(`invalid inputFilter string "${r}"`)})}passes(...t){for(let r of this.filterChain)if(!r.expr.evalSync({feature:t[0]}))return!1;return!0}toJSON(){return{filters:this.filterChain.map(t=>t.string)}}static fromJSON(t){return new e(t)}};_x.default=yx});var He=y((sPe,tO)=>{tO.exports=JBrowseExports["@jbrowse/core/ui"]});var F=y((pPe,nO)=>{nO.exports=JBrowseExports["react/jsx-runtime"]});var wx=y(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.ErrorBoundary=void 0;var uX=F(),cX=$(),xx=class extends cX.Component{constructor(t){super(t),this.state={error:void 0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t})}render(){return this.state.error?(0,uX.jsx)(this.props.FallbackComponent,{error:this.state.error}):this.props.children}};Om.ErrorBoundary=xx});var Sx=y((hPe,oO)=>{oO.exports=JBrowseExports["@mui/material/utils"]});var In=y(Cx=>{"use strict";"use client";Object.defineProperty(Cx,"__esModule",{value:!0});Object.defineProperty(Cx,"default",{enumerable:!0,get:function(){return lX.createSvgIcon}});var lX=Sx()});var kx=y(Pm=>{"use strict";"use client";var fX=Wt().default;Object.defineProperty(Pm,"__esModule",{value:!0});Pm.default=void 0;var dX=fX(In()),pX=F(),vPe=Pm.default=(0,dX.default)((0,pX.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")});var me=y((yPe,iO)=>{iO.exports=JBrowseExports["tss-react/mui"]});var aO=y(Am=>{"use strict";"use client";var mX=Wt().default;Object.defineProperty(Am,"__esModule",{value:!0});Am.default=void 0;var hX=mX(In()),gX=F(),_Pe=Am.default=(0,hX.default)((0,gX.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")});var sO=y(jm=>{"use strict";"use client";var vX=Wt().default;Object.defineProperty(jm,"__esModule",{value:!0});jm.default=void 0;var bX=vX(In()),yX=F(),wPe=jm.default=(0,bX.default)((0,yX.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")});var uO=y(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});Tx.default=SX;var _X=F(),xX=me(),wX=(0,xX.makeStyles)()(e=>({bg:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:e.palette.mode==="dark"?"#833":"#f88",border:`1px solid ${e.palette.divider}`}}));function SX({children:e}){let{classes:t}=wX();return(0,_X.jsx)("div",{className:t.bg,children:e})}});var lO=y((kPe,cO)=>{cO.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}}});var Vf=y((TPe,dO)=>{"use strict";var CX=lO(),fO={"text/plain":"Text","text/html":"Url",default:"Text"},kX="Copy to clipboard: #{key}, Enter";function TX(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function EX(e,t){var r,n,o,i,a,s,c=!1;t||(t={}),r=t.debug||!1;try{o=CX(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=fO[t.format]||fO.default;window.clipboardData.setData(f,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),n=TX("message"in t?t.message:kX),window.prompt(n,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c}dO.exports=EX});var mO=y(Ex=>{var pO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ex.encode=function(e){if(0<=e&&e<pO.length)return pO[e];throw new TypeError("Must be between 0 and 63: "+e)};Ex.decode=function(e){var t=65,r=90,n=97,o=122,i=48,a=57,s=43,c=47,u=26,l=52;return t<=e&&e<=r?e-t:n<=e&&e<=o?e-n+u:i<=e&&e<=a?e-i+l:e==s?62:e==c?63:-1}});var Ox=y(Mx=>{var hO=mO(),Rx=5,gO=1<<Rx,vO=gO-1,bO=gO;function RX(e){return e<0?(-e<<1)+1:(e<<1)+0}function MX(e){var t=(e&1)===1,r=e>>1;return t?-r:r}Mx.encode=function(t){var r="",n,o=RX(t);do n=o&vO,o>>>=Rx,o>0&&(n|=bO),r+=hO.encode(n);while(o>0);return r};Mx.decode=function(t,r,n){var o=t.length,i=0,a=0,s,c;do{if(r>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(c=hO.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(c&bO),c&=vO,i=i+(c<<a),a+=Rx}while(s);n.value=MX(i),n.rest=r}});var Gu=y(rr=>{function OX(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}rr.getArg=OX;var yO=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,PX=/^data:.+\,.+$/;function Gf(e){var t=e.match(yO);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}rr.urlParse=Gf;function Vu(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}rr.urlGenerate=Vu;var AX=32;function jX(e){var t=[];return function(r){for(var n=0;n<t.length;n++)if(t[n].input===r){var o=t[0];return t[0]=t[n],t[n]=o,t[0].result}var i=e(r);return t.unshift({input:r,result:i}),t.length>AX&&t.pop(),i}}var Px=jX(function(t){var r=t,n=Gf(t);if(n){if(!n.path)return t;r=n.path}for(var o=rr.isAbsolute(r),i=[],a=0,s=0;;)if(a=s,s=r.indexOf("/",a),s===-1){i.push(r.slice(a));break}else for(i.push(r.slice(a,s));s<r.length&&r[s]==="/";)s++;for(var c,u=0,s=i.length-1;s>=0;s--)c=i[s],c==="."?i.splice(s,1):c===".."?u++:u>0&&(c===""?(i.splice(s+1,u),u=0):(i.splice(s,2),u--));return r=i.join("/"),r===""&&(r=o?"/":"."),n?(n.path=r,Vu(n)):r});rr.normalize=Px;function _O(e,t){e===""&&(e="."),t===""&&(t=".");var r=Gf(t),n=Gf(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Vu(r);if(r||t.match(PX))return t;if(n&&!n.host&&!n.path)return n.host=t,Vu(n);var o=t.charAt(0)==="/"?t:Px(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=o,Vu(n)):o}rr.join=_O;rr.isAbsolute=function(e){return e.charAt(0)==="/"||yO.test(e)};function IX(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}rr.relative=IX;var xO=(function(){var e=Object.create(null);return!("__proto__"in e)})();function wO(e){return e}function LX(e){return SO(e)?"$"+e:e}rr.toSetString=xO?wO:LX;function NX(e){return SO(e)?e.slice(1):e}rr.fromSetString=xO?wO:NX;function SO(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}function DX(e,t,r){var n=Ei(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:Ei(e.name,t.name)}rr.compareByOriginalPositions=DX;function FX(e,t,r){var n;return n=e.originalLine-t.originalLine,n!==0||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:Ei(e.name,t.name)}rr.compareByOriginalPositionsNoSource=FX;function qX(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=Ei(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:Ei(e.name,t.name)}rr.compareByGeneratedPositionsDeflated=qX;function BX(e,t,r){var n=e.generatedColumn-t.generatedColumn;return n!==0||r||(n=Ei(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:Ei(e.name,t.name)}rr.compareByGeneratedPositionsDeflatedNoLine=BX;function Ei(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function zX(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=Ei(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:Ei(e.name,t.name)}rr.compareByGeneratedPositionsInflated=zX;function HX(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}rr.parseSourceMapInput=HX;function WX(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Gf(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}t=_O(Vu(n),t)}return Px(t)}rr.computeSourceURL=WX});var Ix=y(CO=>{var Ax=Gu(),jx=Object.prototype.hasOwnProperty,Is=typeof Map<"u";function Ri(){this._array=[],this._set=Is?new Map:Object.create(null)}Ri.fromArray=function(t,r){for(var n=new Ri,o=0,i=t.length;o<i;o++)n.add(t[o],r);return n};Ri.prototype.size=function(){return Is?this._set.size:Object.getOwnPropertyNames(this._set).length};Ri.prototype.add=function(t,r){var n=Is?t:Ax.toSetString(t),o=Is?this.has(t):jx.call(this._set,n),i=this._array.length;(!o||r)&&this._array.push(t),o||(Is?this._set.set(t,i):this._set[n]=i)};Ri.prototype.has=function(t){if(Is)return this._set.has(t);var r=Ax.toSetString(t);return jx.call(this._set,r)};Ri.prototype.indexOf=function(t){if(Is){var r=this._set.get(t);if(r>=0)return r}else{var n=Ax.toSetString(t);if(jx.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')};Ri.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)};Ri.prototype.toArray=function(){return this._array.slice()};CO.ArraySet=Ri});var EO=y(TO=>{var kO=Gu();function $X(e,t){var r=e.generatedLine,n=t.generatedLine,o=e.generatedColumn,i=t.generatedColumn;return n>r||n==r&&i>=o||kO.compareByGeneratedPositionsInflated(e,t)<=0}function Im(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Im.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};Im.prototype.add=function(t){$X(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};Im.prototype.toArray=function(){return this._sorted||(this._array.sort(kO.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};TO.MappingList=Im});var Lx=y(RO=>{var Yf=Ox(),Mt=Gu(),Lm=Ix().ArraySet,UX=EO().MappingList;function Ln(e){e||(e={}),this._file=Mt.getArg(e,"file",null),this._sourceRoot=Mt.getArg(e,"sourceRoot",null),this._skipValidation=Mt.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=Mt.getArg(e,"ignoreInvalidMapping",!1),this._sources=new Lm,this._names=new Lm,this._mappings=new UX,this._sourcesContents=null}Ln.prototype._version=3;Ln.fromSourceMap=function(t,r){var n=t.sourceRoot,o=new Ln(Object.assign(r||{},{file:t.file,sourceRoot:n}));return t.eachMapping(function(i){var a={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(a.source=i.source,n!=null&&(a.source=Mt.relative(n,a.source)),a.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(a.name=i.name)),o.addMapping(a)}),t.sources.forEach(function(i){var a=i;n!==null&&(a=Mt.relative(n,i)),o._sources.has(a)||o._sources.add(a);var s=t.sourceContentFor(i);s!=null&&o.setSourceContent(i,s)}),o};Ln.prototype.addMapping=function(t){var r=Mt.getArg(t,"generated"),n=Mt.getArg(t,"original",null),o=Mt.getArg(t,"source",null),i=Mt.getArg(t,"name",null);!this._skipValidation&&this._validateMapping(r,n,o,i)===!1||(o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),i!=null&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:o,name:i}))};Ln.prototype.setSourceContent=function(t,r){var n=t;this._sourceRoot!=null&&(n=Mt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Mt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Mt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};Ln.prototype.applySourceMap=function(t,r,n){var o=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=t.file}var i=this._sourceRoot;i!=null&&(o=Mt.relative(i,o));var a=new Lm,s=new Lm;this._mappings.unsortedForEach(function(c){if(c.source===o&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Mt.join(n,c.source)),i!=null&&(c.source=Mt.relative(i,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var l=c.source;l!=null&&!a.has(l)&&a.add(l);var f=c.name;f!=null&&!s.has(f)&&s.add(f)},this),this._sources=a,this._names=s,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Mt.join(n,c)),i!=null&&(c=Mt.relative(i,c)),this.setSourceContent(c,u))},this)};Ln.prototype._validateMapping=function(t,r,n,o){if(r&&typeof r.line!="number"&&typeof r.column!="number"){var i="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!o)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;var i="Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:o});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}};Ln.prototype._serializeMappings=function(){for(var t=0,r=1,n=0,o=0,i=0,a=0,s="",c,u,l,f,d=this._mappings.toArray(),p=0,m=d.length;p<m;p++){if(u=d[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Mt.compareByGeneratedPositionsInflated(u,d[p-1]))continue;c+=","}c+=Yf.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(f=this._sources.indexOf(u.source),c+=Yf.encode(f-a),a=f,c+=Yf.encode(u.originalLine-1-o),o=u.originalLine-1,c+=Yf.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(l=this._names.indexOf(u.name),c+=Yf.encode(l-i),i=l)),s+=c}return s};Ln.prototype._generateSourcesContent=function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Mt.relative(r,n));var o=Mt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)};Ln.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};Ln.prototype.toString=function(){return JSON.stringify(this.toJSON())};RO.SourceMapGenerator=Ln});var MO=y(Ls=>{Ls.GREATEST_LOWER_BOUND=1;Ls.LEAST_UPPER_BOUND=2;function Nx(e,t,r,n,o,i){var a=Math.floor((t-e)/2)+e,s=o(r,n[a],!0);return s===0?a:s>0?t-a>1?Nx(a,t,r,n,o,i):i==Ls.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?Nx(e,a,r,n,o,i):i==Ls.LEAST_UPPER_BOUND?a:e<0?-1:e}Ls.search=function(t,r,n,o){if(r.length===0)return-1;var i=Nx(-1,r.length,t,r,n,o||Ls.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&n(r[i],r[i-1],!0)===0;)--i;return i}});var AO=y(PO=>{function VX(e){function t(o,i,a){var s=o[i];o[i]=o[a],o[a]=s}function r(o,i){return Math.round(o+Math.random()*(i-o))}function n(o,i,a,s){if(a<s){var c=r(a,s),u=a-1;t(o,c,s);for(var l=o[s],f=a;f<s;f++)i(o[f],l,!1)<=0&&(u+=1,t(o,u,f));t(o,u+1,f);var d=u+1;n(o,i,a,d-1),n(o,i,d+1,s)}}return n}function GX(e){let t=VX.toString();return new Function(`return ${t}`)()(e)}var OO=new WeakMap;PO.quickSort=function(e,t,r=0){let n=OO.get(t);n===void 0&&(n=GX(t),OO.set(t,n)),n(e,t,r,e.length-1)}});var LO=y(Nm=>{var oe=Gu(),Fx=MO(),Yu=Ix().ArraySet,YX=Ox(),Xf=AO().quickSort;function ut(e,t){var r=e;return typeof e=="string"&&(r=oe.parseSourceMapInput(e)),r.sections!=null?new io(r,t):new hr(r,t)}ut.fromSourceMap=function(e,t){return hr.fromSourceMap(e,t)};ut.prototype._version=3;ut.prototype.__generatedMappings=null;Object.defineProperty(ut.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});ut.prototype.__originalMappings=null;Object.defineProperty(ut.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});ut.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return n===";"||n===","};ut.prototype._parseMappings=function(t,r){throw new Error("Subclasses must implement _parseMappings")};ut.GENERATED_ORDER=1;ut.ORIGINAL_ORDER=2;ut.GREATEST_LOWER_BOUND=1;ut.LEAST_UPPER_BOUND=2;ut.prototype.eachMapping=function(t,r,n){var o=r||null,i=n||ut.GENERATED_ORDER,a;switch(i){case ut.GENERATED_ORDER:a=this._generatedMappings;break;case ut.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var s=this.sourceRoot,c=t.bind(o),u=this._names,l=this._sources,f=this._sourceMapURL,d=0,p=a.length;d<p;d++){var m=a[d],h=m.source===null?null:l.at(m.source);h!==null&&(h=oe.computeSourceURL(s,h,f)),c({source:h,generatedLine:m.generatedLine,generatedColumn:m.generatedColumn,originalLine:m.originalLine,originalColumn:m.originalColumn,name:m.name===null?null:u.at(m.name)})}};ut.prototype.allGeneratedPositionsFor=function(t){var r=oe.getArg(t,"line"),n={source:oe.getArg(t,"source"),originalLine:r,originalColumn:oe.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",oe.compareByOriginalPositions,Fx.LEAST_UPPER_BOUND);if(i>=0){var a=this._originalMappings[i];if(t.column===void 0)for(var s=a.originalLine;a&&a.originalLine===s;)o.push({line:oe.getArg(a,"generatedLine",null),column:oe.getArg(a,"generatedColumn",null),lastColumn:oe.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)o.push({line:oe.getArg(a,"generatedLine",null),column:oe.getArg(a,"generatedColumn",null),lastColumn:oe.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i]}return o};Nm.SourceMapConsumer=ut;function hr(e,t){var r=e;typeof e=="string"&&(r=oe.parseSourceMapInput(e));var n=oe.getArg(r,"version"),o=oe.getArg(r,"sources"),i=oe.getArg(r,"names",[]),a=oe.getArg(r,"sourceRoot",null),s=oe.getArg(r,"sourcesContent",null),c=oe.getArg(r,"mappings"),u=oe.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=oe.normalize(a)),o=o.map(String).map(oe.normalize).map(function(l){return a&&oe.isAbsolute(a)&&oe.isAbsolute(l)?oe.relative(a,l):l}),this._names=Yu.fromArray(i.map(String),!0),this._sources=Yu.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(l){return oe.computeSourceURL(a,l,t)}),this.sourceRoot=a,this.sourcesContent=s,this._mappings=c,this._sourceMapURL=t,this.file=u}hr.prototype=Object.create(ut.prototype);hr.prototype.consumer=ut;hr.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=oe.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};hr.fromSourceMap=function(t,r){var n=Object.create(hr.prototype),o=n._names=Yu.fromArray(t._names.toArray(),!0),i=n._sources=Yu.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return oe.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),s=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,l=a.length;u<l;u++){var f=a[u],d=new IO;d.generatedLine=f.generatedLine,d.generatedColumn=f.generatedColumn,f.source&&(d.source=i.indexOf(f.source),d.originalLine=f.originalLine,d.originalColumn=f.originalColumn,f.name&&(d.name=o.indexOf(f.name)),c.push(d)),s.push(d)}return Xf(n.__originalMappings,oe.compareByOriginalPositions),n};hr.prototype._version=3;Object.defineProperty(hr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function IO(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Dx=oe.compareByGeneratedPositionsDeflatedNoLine;function jO(e,t){let r=e.length,n=e.length-t;if(!(n<=1))if(n==2){let o=e[t],i=e[t+1];Dx(o,i)>0&&(e[t]=i,e[t+1]=o)}else if(n<20)for(let o=t;o<r;o++)for(let i=o;i>t;i--){let a=e[i-1],s=e[i];if(Dx(a,s)<=0)break;e[i-1]=s,e[i]=a}else Xf(e,Dx,t)}hr.prototype._parseMappings=function(t,r){var n=1,o=0,i=0,a=0,s=0,c=0,u=t.length,l=0,f={},d={},p=[],m=[],h,v,b,_,S;let x=0;for(;l<u;)if(t.charAt(l)===";")n++,l++,o=0,jO(m,x),x=m.length;else if(t.charAt(l)===",")l++;else{for(h=new IO,h.generatedLine=n,_=l;_<u&&!this._charIsMappingSeparator(t,_);_++);for(v=t.slice(l,_),b=[];l<_;)YX.decode(t,l,d),S=d.value,l=d.rest,b.push(S);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");if(h.generatedColumn=o+b[0],o=h.generatedColumn,b.length>1&&(h.source=s+b[1],s+=b[1],h.originalLine=i+b[2],i=h.originalLine,h.originalLine+=1,h.originalColumn=a+b[3],a=h.originalColumn,b.length>4&&(h.name=c+b[4],c+=b[4])),m.push(h),typeof h.originalLine=="number"){let O=h.source;for(;p.length<=O;)p.push(null);p[O]===null&&(p[O]=[]),p[O].push(h)}}jO(m,x),this.__generatedMappings=m;for(var C=0;C<p.length;C++)p[C]!=null&&Xf(p[C],oe.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...p)};hr.prototype._findMapping=function(t,r,n,o,i,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[o]);return Fx.search(t,r,i,a)};hr.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};hr.prototype.originalPositionFor=function(t){var r={generatedLine:oe.getArg(t,"line"),generatedColumn:oe.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",oe.compareByGeneratedPositionsDeflated,oe.getArg(t,"bias",ut.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===r.generatedLine){var i=oe.getArg(o,"source",null);i!==null&&(i=this._sources.at(i),i=oe.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var a=oe.getArg(o,"name",null);return a!==null&&(a=this._names.at(a)),{source:i,line:oe.getArg(o,"originalLine",null),column:oe.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};hr.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1};hr.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var o=t;this.sourceRoot!=null&&(o=oe.relative(this.sourceRoot,o));var i;if(this.sourceRoot!=null&&(i=oe.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!i.path||i.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')};hr.prototype.generatedPositionFor=function(t){var r=oe.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:oe.getArg(t,"line"),originalColumn:oe.getArg(t,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",oe.compareByOriginalPositions,oe.getArg(t,"bias",ut.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:oe.getArg(i,"generatedLine",null),column:oe.getArg(i,"generatedColumn",null),lastColumn:oe.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Nm.BasicSourceMapConsumer=hr;function io(e,t){var r=e;typeof e=="string"&&(r=oe.parseSourceMapInput(e));var n=oe.getArg(r,"version"),o=oe.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Yu,this._names=new Yu;var i={line:-1,column:0};this._sections=o.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var s=oe.getArg(a,"offset"),c=oe.getArg(s,"line"),u=oe.getArg(s,"column");if(c<i.line||c===i.line&&u<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=s,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new ut(oe.getArg(a,"map"),t)}})}io.prototype=Object.create(ut.prototype);io.prototype.constructor=ut;io.prototype._version=3;Object.defineProperty(io.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});io.prototype.originalPositionFor=function(t){var r={generatedLine:oe.getArg(t,"line"),generatedColumn:oe.getArg(t,"column")},n=Fx.search(r,this._sections,function(i,a){var s=i.generatedLine-a.generatedOffset.generatedLine;return s||i.generatedColumn-a.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};io.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};io.prototype.sourceContentFor=function(t,r){for(var n=0;n<this._sections.length;n++){var o=this._sections[n],i=o.consumer.sourceContentFor(t,!0);if(i||i==="")return i}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};io.prototype.generatedPositionFor=function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(oe.getArg(t,"source"))!==-1){var o=n.consumer.generatedPositionFor(t);if(o){var i={line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}};io.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,a=0;a<i.length;a++){var s=i[a],c=o.consumer._sources.at(s.source);c!==null&&(c=oe.computeSourceURL(o.consumer.sourceRoot,c,this._sourceMapURL)),this._sources.add(c),c=this._sources.indexOf(c);var u=null;s.name&&(u=o.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var l={source:c,generatedLine:s.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(o.generatedOffset.generatedLine===s.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}Xf(this.__generatedMappings,oe.compareByGeneratedPositionsDeflated),Xf(this.__originalMappings,oe.compareByOriginalPositions)};Nm.IndexedSourceMapConsumer=io});var DO=y(NO=>{var XX=Lx().SourceMapGenerator,Dm=Gu(),ZX=/(\r?\n)/,KX=10,Xu="$$$isSourceNode$$$";function _n(e,t,r,n,o){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=o??null,this[Xu]=!0,n!=null&&this.add(n)}_n.fromStringWithSourceMap=function(t,r,n){var o=new _n,i=t.split(ZX),a=0,s=function(){var d=m(),p=m()||"";return d+p;function m(){return a<i.length?i[a++]:void 0}},c=1,u=0,l=null;return r.eachMapping(function(d){if(l!==null)if(c<d.generatedLine)f(l,s()),c++,u=0;else{var p=i[a]||"",m=p.substr(0,d.generatedColumn-u);i[a]=p.substr(d.generatedColumn-u),u=d.generatedColumn,f(l,m),l=d;return}for(;c<d.generatedLine;)o.add(s()),c++;if(u<d.generatedColumn){var p=i[a]||"";o.add(p.substr(0,d.generatedColumn)),i[a]=p.substr(d.generatedColumn),u=d.generatedColumn}l=d},this),a<i.length&&(l&&f(l,s()),o.add(i.splice(a).join(""))),r.sources.forEach(function(d){var p=r.sourceContentFor(d);p!=null&&(n!=null&&(d=Dm.join(n,d)),o.setSourceContent(d,p))}),o;function f(d,p){if(d===null||d.source===void 0)o.add(p);else{var m=n?Dm.join(n,d.source):d.source;o.add(new _n(d.originalLine,d.originalColumn,m,p,d.name))}}};_n.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Xu]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};_n.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Xu]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};_n.prototype.walk=function(t){for(var r,n=0,o=this.children.length;n<o;n++)r=this.children[n],r[Xu]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};_n.prototype.join=function(t){var r,n,o=this.children.length;if(o>0){for(r=[],n=0;n<o-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this};_n.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[Xu]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this};_n.prototype.setSourceContent=function(t,r){this.sourceContents[Dm.toSetString(t)]=r};_n.prototype.walkSourceContents=function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Xu]&&this.children[r].walkSourceContents(t);for(var o=Object.keys(this.sourceContents),r=0,n=o.length;r<n;r++)t(Dm.fromSetString(o[r]),this.sourceContents[o[r]])};_n.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t};_n.prototype.toStringWithSourceMap=function(t){var r={code:"",line:1,column:0},n=new XX(t),o=!1,i=null,a=null,s=null,c=null;return this.walk(function(u,l){r.code+=u,l.source!==null&&l.line!==null&&l.column!==null?((i!==l.source||a!==l.line||s!==l.column||c!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),i=l.source,a=l.line,s=l.column,c=l.name,o=!0):o&&(n.addMapping({generated:{line:r.line,column:r.column}}),i=null,o=!1);for(var f=0,d=u.length;f<d;f++)u.charCodeAt(f)===KX?(r.line++,r.column=0,f+1===d?(i=null,o=!1):o&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(u,l){n.setSourceContent(u,l)}),{code:r.code,map:n}};NO.SourceNode=_n});var FO=y(Fm=>{Fm.SourceMapGenerator=Lx().SourceMapGenerator;Fm.SourceMapConsumer=LO().SourceMapConsumer;Fm.SourceNode=DO().SourceNode});var qO=y(qm=>{"use strict";"use client";var JX=Wt().default;Object.defineProperty(qm,"__esModule",{value:!0});qm.default=void 0;var QX=JX(In()),eZ=F(),FPe=qm.default=(0,QX.default)((0,eZ.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")});var zO=y(Zf=>{"use strict";var tZ=Zf&&Zf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.default=oZ;var BO=F(),rZ=tZ(qO()),nZ=Q();function oZ(e){let{children:t,...r}=e;return(0,BO.jsxs)(nZ.Link,{...r,target:"_blank",rel:"noopener noreferrer",children:[t," ",(0,BO.jsx)(rZ.default,{fontSize:"small"})]})}});var Bm,qx=T(()=>{Bm=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");let t={};return Object.keys(e).forEach(r=>{let[n,o]=e[r];t[n]=o}),t}});function ao(e){return Object.keys(e)}var zm=T(()=>{});function Ho(e,t){if(!e)throw new Error(t)}var Hm=T(()=>{});function Zu(e,t){return t}var Wm=T(()=>{});var $m,HO=T(()=>{Hm();Wm();$m=e=>{let t=e.length,r=0,n="";for(;r<t;r++){let o=e[r];if(o==null)continue;let i;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))i=$m(o);else{Ho(!Zu(o,!1)),i="";for(let a in o)o[a]&&a&&(i&&(i+=" "),i+=a)}break}default:i=o}i&&(n&&(n+=" "),n+=i)}return n}});function WO(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $O=T(()=>{});var UO,VO=T(()=>{UO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}});function GO(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Bx=T(()=>{});function Kf(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return Wo={name:o.name,styles:o.styles,next:Wo},o.name;var i=r;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Wo={name:a.name,styles:a.styles,next:Wo},a=a.next;var s=i.styles+";";return s}return cZ(e,t,r)}case"function":{if(e!==void 0){var c=Wo,u=r(e);return Wo=c,Kf(e,t,u)}break}}var l=r;if(t==null)return l;var f=t[l];return f!==void 0?f:l}function cZ(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=Kf(e,t,r[o])+";";else for(var i in r){var a=r[i];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=i+"{"+t[s]+"}":YO(s)&&(n+=zx(i)+":"+XO(i,s)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&iZ)throw new Error(uZ);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)YO(a[c])&&(n+=zx(i)+":"+XO(i,a[c])+";");else{var u=Kf(e,t,a);switch(i){case"animation":case"animationName":{n+=zx(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}function Ns(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";Wo=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=Kf(r,t,i);else{var a=i;o+=a[0]}for(var s=1;s<e.length;s++)if(o+=Kf(r,t,e[s]),n){var c=i;o+=c[s]}ZO.lastIndex=0;for(var u="",l;(l=ZO.exec(o))!==null;)u+="-"+l[1];var f=WO(o)+u;return{name:f,styles:o,next:Wo}}var iZ,aZ,sZ,KO,YO,zx,XO,uZ,ZO,Wo,Um=T(()=>{$O();VO();Bx();iZ=!1,aZ=/[A-Z]|^ms/g,sZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KO=function(t){return t.charCodeAt(1)===45},YO=function(t){return t!=null&&typeof t!="boolean"},zx=GO(function(e){return KO(e)?e:e.replace(aZ,"-$&").toLowerCase()}),XO=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(sZ,function(n,o,i){return Wo={name:o,styles:i,next:Wo},o})}return UO[t]!==1&&!KO(t)&&typeof r=="number"&&r!==0?r+"px":r},uZ="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";ZO=/label:\s*([^\s;{]+)\s*(;|$)/g});function Jf(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var lZ,Vm,Ku,Gm=T(()=>{lZ=!0;Vm=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||lZ===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},Ku=function(t,r,n){Vm(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}}});function QO(e,t){var r;let n=(0,JO.useRef)();return(!n.current||t.length!==((r=n.current.prevDeps)===null||r===void 0?void 0:r.length)||n.current.prevDeps.map((o,i)=>o===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}var JO,eP=T(()=>{JO=g($())});function tP(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}var rP=T(()=>{});function Ym(e){let{useCache:t}=e;function r(){let n=t(),{css:o,cx:i}=QO(()=>fZ({cache:n}),[n]);return{css:o,cx:i}}return{useCssAndCx:r}}var fZ,nP,Hx=T(()=>{HO();Um();Gm();eP();rP();({createCssAndCx:fZ}=(()=>{function e(r,n,o){let i=[],a=Jf(r,i,o);return i.length<2?o:a+n(i)}function t(r){let{cache:n}=r,o=(...a)=>{let s=Ns(a,n.registered);Ku(n,s,!1);let c=`${n.key}-${s.name}`;e:{let u=a[0];if(!tP(u))break e;nP.saveClassNameCSSObjectMapping(n,c,u)}return c};return{css:o,cx:(...a)=>{let s=$m(a),c=nP.fixClassName(n,s,o);return e(n.registered,o,c)}}}return{createCssAndCx:t}})());nP=(()=>{let e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,r,n)=>{let o=e.get(t);o===void 0&&(o=new Map,e.set(t,o)),o.set(r,n)},fixClassName:(()=>{function t(r){let n=!1;return r.map(([o,i])=>{if(i===void 0)return o;let a;if(n)a={"&&":i};else{a=o;for(let s in i)if(s.startsWith("@media")){n=!0;break}}return a})}return(r,n,o)=>{let i=e.get(r);return $m(t(n.split(" ").map(a=>[a,i?.get(a)])).map(a=>typeof a=="string"?a:o(a)))}})()}})()});function so(e){if(!(e instanceof Object)||typeof e=="function")return e;let t=[];for(let r in e){let n=e[r],o=typeof n;if(!(o==="string"||o==="number"&&!isNaN(n)||o==="boolean"||n===void 0||n===null))return e;t.push(`${r}:${o}_${n}`)}return"xSqLiJdLMd9s"+t.join("|")}var Xm=T(()=>{});function Ju(e,t,r){if(!(t instanceof Object))return e;let n={};return ao(e).forEach(o=>n[o]=r(e[o],t[o])),ao(t).forEach(o=>{if(o in e)return;let i=t[o];typeof i=="string"&&(n[o]=i)}),n}var Zm=T(()=>{zm()});var Wx,oP,iP=T(()=>{Wx=g($());Xm();Zm();oP=({classes:e,theme:t,muiStyleOverridesParams:r,css:n,cx:o,name:i})=>{var a,s;e:{if(i==="makeStyle no name"){i=void 0;break e}if(r!==void 0&&i===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let c;try{c=i===void 0?void 0:((s=(a=t.components)===null||a===void 0?void 0:a[i])===null||s===void 0?void 0:s.styleOverrides)||void 0}catch{}let u=(0,Wx.useMemo)(()=>{if(c===void 0)return;let l={};for(let f in c){let d=c[f];d instanceof Object&&(l[f]=n(typeof d=="function"?d({theme:t,ownerState:r?.ownerState,...r?.props}):d))}return l},[c,so(r?.props),so(r?.ownerState),n]);return e=(0,Wx.useMemo)(()=>Ju(e,u,o),[e,u,o]),{classes:e}}});function pZ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mZ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var dZ,aP,sP=T(()=>{dZ=!1;aP=(function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!dZ:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mZ(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=pZ(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e})()});var gr,Qf,Ve,Km,Qu,ec,uP,Jm,cP,Qm=T(()=>{gr="-ms-",Qf="-moz-",Ve="-webkit-",Km="comm",Qu="rule",ec="decl",uP="@import",Jm="@keyframes",cP="@layer"});function dP(e,t){return Ot(e,0)^45?(((t<<2^Ot(e,0))<<2^Ot(e,1))<<2^Ot(e,2))<<2^Ot(e,3):0}function eh(e){return e.trim()}function $x(e,t){return(e=t.exec(e))?e[0]:e}function Ue(e,t,r){return e.replace(t,r)}function ed(e,t){return e.indexOf(t)}function Ot(e,t){return e.charCodeAt(t)|0}function ca(e,t,r){return e.slice(t,r)}function Nr(e){return e.length}function tc(e){return e.length}function rc(e,t){return t.push(e),e}function Ux(e,t){return e.map(t).join("")}var lP,Ds,fP,nc=T(()=>{lP=Math.abs,Ds=String.fromCharCode,fP=Object.assign});function td(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:th,column:oc,length:a,return:""}}function sc(e,t){return fP(td("",null,null,"",null,null,0),e,{length:-e.length},t)}function mP(){return Dt}function hP(){return Dt=Dr>0?Ot(ac,--Dr):0,oc--,Dt===10&&(oc=1,th--),Dt}function Fr(){return Dt=Dr<pP?Ot(ac,Dr++):0,oc++,Dt===10&&(oc=1,th++),Dt}function Nn(){return Ot(ac,Dr)}function rd(){return Dr}function uc(e,t){return ca(ac,e,t)}function ic(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rh(e){return th=oc=1,pP=Nr(ac=e),Dr=0,[]}function nh(e){return ac="",e}function cc(e){return eh(uc(Dr-1,Vx(e===91?e+2:e===40?e+1:e)))}function gP(e){for(;(Dt=Nn())&&Dt<33;)Fr();return ic(e)>2||ic(Dt)>3?"":" "}function vP(e,t){for(;--t&&Fr()&&!(Dt<48||Dt>102||Dt>57&&Dt<65||Dt>70&&Dt<97););return uc(e,rd()+(t<6&&Nn()==32&&Fr()==32))}function Vx(e){for(;Fr();)switch(Dt){case e:return Dr;case 34:case 39:e!==34&&e!==39&&Vx(Dt);break;case 40:e===41&&Vx(e);break;case 92:Fr();break}return Dr}function bP(e,t){for(;Fr()&&e+Dt!==57;)if(e+Dt===84&&Nn()===47)break;return"/*"+uc(t,Dr-1)+"*"+Ds(e===47?e:Fr())}function yP(e){for(;!ic(Nn());)Fr();return uc(e,Dr)}var th,oc,pP,Dr,Dt,ac,Gx=T(()=>{nc();th=1,oc=1,pP=0,Dr=0,Dt=0,ac=""});function wP(e){return nh(oh("",null,null,null,[""],e=rh(e),0,[0],e))}function oh(e,t,r,n,o,i,a,s,c){for(var u=0,l=0,f=a,d=0,p=0,m=0,h=1,v=1,b=1,_=0,S="",x=o,C=i,O=n,k=S;v;)switch(m=_,_=Fr()){case 40:if(m!=108&&Ot(k,f-1)==58){ed(k+=Ue(cc(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=cc(_);break;case 9:case 10:case 13:case 32:k+=gP(m);break;case 92:k+=vP(rd()-1,7);continue;case 47:switch(Nn()){case 42:case 47:rc(hZ(bP(Fr(),rd()),t,r),c);break;default:k+="/"}break;case 123*h:s[u++]=Nr(k)*b;case 125*h:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+l:b==-1&&(k=Ue(k,/\f/g,"")),p>0&&Nr(k)-f&&rc(p>32?xP(k+";",n,r,f-1):xP(Ue(k," ","")+";",n,r,f-2),c);break;case 59:k+=";";default:if(rc(O=_P(k,t,r,u,l,o,s,S,x=[],C=[],f),i),_===123)if(l===0)oh(k,t,O,O,x,i,f,s,C);else switch(d===99&&Ot(k,3)===110?100:d){case 100:case 108:case 109:case 115:oh(e,O,O,n&&rc(_P(e,O,O,0,0,o,s,S,o,x=[],f),C),o,C,f,s,n?x:C);break;default:oh(k,O,O,O,[""],C,0,s,C)}}u=l=p=0,h=b=1,S=k="",f=a;break;case 58:f=1+Nr(k),p=m;default:if(h<1){if(_==123)--h;else if(_==125&&h++==0&&hP()==125)continue}switch(k+=Ds(_),_*h){case 38:b=l>0?1:(k+="\f",-1);break;case 44:s[u++]=(Nr(k)-1)*b,b=1;break;case 64:Nn()===45&&(k+=cc(Fr())),d=Nn(),l=f=Nr(S=k+=yP(rd())),_++;break;case 45:m===45&&Nr(k)==2&&(h=0)}}return i}function _P(e,t,r,n,o,i,a,s,c,u,l){for(var f=o-1,d=o===0?i:[""],p=tc(d),m=0,h=0,v=0;m<n;++m)for(var b=0,_=ca(e,f+1,f=lP(h=a[m])),S=e;b<p;++b)(S=eh(h>0?d[b]+" "+_:Ue(_,/&\f/g,d[b])))&&(c[v++]=S);return td(e,t,r,o===0?Qu:s,c,u,l)}function hZ(e,t,r){return td(e,t,r,Km,Ds(mP()),ca(e,2,-2),0)}function xP(e,t,r,n){return td(e,t,r,ec,ca(e,0,n),ca(e,n+1,-1),n)}var SP=T(()=>{Qm();nc();Gx()});var CP=T(()=>{});function Fs(e,t){for(var r="",n=tc(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function kP(e,t,r,n){switch(e.type){case cP:if(e.children.length)break;case uP:case ec:return e.return=e.return||e.value;case Km:return"";case Jm:return e.return=e.value+"{"+Fs(e.children,n)+"}";case Qu:e.value=e.props.join(",")}return Nr(r=Fs(e.children,n))?e.return=e.value+"{"+r+"}":""}var TP=T(()=>{Qm();nc()});function EP(e){var t=tc(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function RP(e){return function(t){t.root||(t=t.return)&&e(t)}}var MP=T(()=>{nc()});var OP=T(()=>{Qm();nc();SP();CP();Gx();TP();MP()});var ih=T(()=>{});function AP(e,t){switch(dP(e,t)){case 5103:return Ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ve+e+Qf+e+gr+e+e;case 6828:case 4268:return Ve+e+gr+e+e;case 6165:return Ve+e+gr+"flex-"+e+e;case 5187:return Ve+e+Ue(e,/(\w+).+(:[^]+)/,Ve+"box-$1$2"+gr+"flex-$1$2")+e;case 5443:return Ve+e+gr+"flex-item-"+Ue(e,/flex-|-self/,"")+e;case 4675:return Ve+e+gr+"flex-line-pack"+Ue(e,/align-content|flex-|-self/,"")+e;case 5548:return Ve+e+gr+Ue(e,"shrink","negative")+e;case 5292:return Ve+e+gr+Ue(e,"basis","preferred-size")+e;case 6060:return Ve+"box-"+Ue(e,"-grow","")+Ve+e+gr+Ue(e,"grow","positive")+e;case 4554:return Ve+Ue(e,/([^-])(transform)/g,"$1"+Ve+"$2")+e;case 6187:return Ue(Ue(Ue(e,/(zoom-|grab)/,Ve+"$1"),/(image-set)/,Ve+"$1"),e,"")+e;case 5495:case 3959:return Ue(e,/(image-set\([^]*)/,Ve+"$1$`$1");case 4968:return Ue(Ue(e,/(.+:)(flex-)?(.*)/,Ve+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ve+e+e;case 4095:case 3583:case 4068:case 2532:return Ue(e,/(.+)-inline(.+)/,Ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nr(e)-1-t>6)switch(Ot(e,t+1)){case 109:if(Ot(e,t+4)!==45)break;case 102:return Ue(e,/(.+:)(.+)-([^]+)/,"$1"+Ve+"$2-$3$1"+Qf+(Ot(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ed(e,"stretch")?AP(Ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ot(e,t+1)!==115)break;case 6444:switch(Ot(e,Nr(e)-3-(~ed(e,"!important")&&10))){case 107:return Ue(e,":",":"+Ve)+e;case 101:return Ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ve+(Ot(e,14)===45?"inline-":"")+"box$3$1"+Ve+"$2$3$1"+gr+"$2box$3")+e}break;case 5936:switch(Ot(e,t+11)){case 114:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ve+e+gr+e+e}return e}var gZ,vZ,bZ,PP,yZ,_Z,xZ,wZ,jP,Yx=T(()=>{sP();OP();ih();Bx();gZ=function(t,r,n){for(var o=0,i=0;o=i,i=Nn(),o===38&&i===12&&(r[n]=1),!ic(i);)Fr();return uc(t,Dr)},vZ=function(t,r){var n=-1,o=44;do switch(ic(o)){case 0:o===38&&Nn()===12&&(r[n]=1),t[n]+=gZ(Dr-1,r,n);break;case 2:t[n]+=cc(o);break;case 4:if(o===44){t[++n]=Nn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Ds(o)}while(o=Fr());return t},bZ=function(t,r){return nh(vZ(rh(t),r))},PP=new WeakMap,yZ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!PP.get(n))&&!o){PP.set(t,!0);for(var i=[],a=bZ(r,i),s=n.props,c=0,u=0;c<a.length;c++)for(var l=0;l<s.length;l++,u++)t.props[u]=i[c]?a[c].replace(/&\f/g,s[l]):s[l]+" "+a[c]}}},_Z=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};xZ=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case ec:t.return=AP(t.value,t.length);break;case Jm:return Fs([sc(t,{value:Ue(t.value,"@","@"+Ve)})],o);case Qu:if(t.length)return Ux(t.props,function(i){switch($x(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fs([sc(t,{props:[Ue(i,/:(read-\w+)/,":"+Qf+"$1")]})],o);case"::placeholder":return Fs([sc(t,{props:[Ue(i,/:(plac\w+)/,":"+Ve+"input-$1")]}),sc(t,{props:[Ue(i,/:(plac\w+)/,":"+Qf+"$1")]}),sc(t,{props:[Ue(i,/:(plac\w+)/,gr+"input-$1")]})],o)}return""})}},wZ=[xZ],jP=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){var v=h.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var o=t.stylisPlugins||wZ,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(h){for(var v=h.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)i[v[b]]=!0;s.push(h)});var c,u=[yZ,_Z];{var l,f=[kP,RP(function(h){l.insert(h)})],d=EP(u.concat(o,f)),p=function(v){return Fs(wP(v),d)};c=function(v,b,_,S){l=_,p(v?v+"{"+b.styles+"}":b.styles),S&&(m.inserted[b.name]=!0)}}var m={key:r,sheet:new aP({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return m.sheet.hydrate(s),m}});var Xx=T(()=>{});var LP=y(Je=>{"use strict";var nr=typeof Symbol=="function"&&Symbol.for,Zx=nr?Symbol.for("react.element"):60103,Kx=nr?Symbol.for("react.portal"):60106,ah=nr?Symbol.for("react.fragment"):60107,sh=nr?Symbol.for("react.strict_mode"):60108,uh=nr?Symbol.for("react.profiler"):60114,ch=nr?Symbol.for("react.provider"):60109,lh=nr?Symbol.for("react.context"):60110,Jx=nr?Symbol.for("react.async_mode"):60111,fh=nr?Symbol.for("react.concurrent_mode"):60111,dh=nr?Symbol.for("react.forward_ref"):60112,ph=nr?Symbol.for("react.suspense"):60113,SZ=nr?Symbol.for("react.suspense_list"):60120,mh=nr?Symbol.for("react.memo"):60115,hh=nr?Symbol.for("react.lazy"):60116,CZ=nr?Symbol.for("react.block"):60121,kZ=nr?Symbol.for("react.fundamental"):60117,TZ=nr?Symbol.for("react.responder"):60118,EZ=nr?Symbol.for("react.scope"):60119;function xn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zx:switch(e=e.type,e){case Jx:case fh:case ah:case uh:case sh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case lh:case dh:case hh:case mh:case ch:return e;default:return t}}case Kx:return t}}}function IP(e){return xn(e)===fh}Je.AsyncMode=Jx;Je.ConcurrentMode=fh;Je.ContextConsumer=lh;Je.ContextProvider=ch;Je.Element=Zx;Je.ForwardRef=dh;Je.Fragment=ah;Je.Lazy=hh;Je.Memo=mh;Je.Portal=Kx;Je.Profiler=uh;Je.StrictMode=sh;Je.Suspense=ph;Je.isAsyncMode=function(e){return IP(e)||xn(e)===Jx};Je.isConcurrentMode=IP;Je.isContextConsumer=function(e){return xn(e)===lh};Je.isContextProvider=function(e){return xn(e)===ch};Je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zx};Je.isForwardRef=function(e){return xn(e)===dh};Je.isFragment=function(e){return xn(e)===ah};Je.isLazy=function(e){return xn(e)===hh};Je.isMemo=function(e){return xn(e)===mh};Je.isPortal=function(e){return xn(e)===Kx};Je.isProfiler=function(e){return xn(e)===uh};Je.isStrictMode=function(e){return xn(e)===sh};Je.isSuspense=function(e){return xn(e)===ph};Je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ah||e===fh||e===uh||e===sh||e===ph||e===SZ||typeof e=="object"&&e!==null&&(e.$$typeof===hh||e.$$typeof===mh||e.$$typeof===ch||e.$$typeof===lh||e.$$typeof===dh||e.$$typeof===kZ||e.$$typeof===TZ||e.$$typeof===EZ||e.$$typeof===CZ)};Je.typeOf=xn});var DP=y((GAe,NP)=>{"use strict";NP.exports=LP()});var $P=y((YAe,WP)=>{"use strict";var Qx=DP(),RZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},MZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},OZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e1={};e1[Qx.ForwardRef]=OZ;e1[Qx.Memo]=zP;function FP(e){return Qx.isMemo(e)?zP:e1[e.$$typeof]||RZ}var PZ=Object.defineProperty,AZ=Object.getOwnPropertyNames,qP=Object.getOwnPropertySymbols,jZ=Object.getOwnPropertyDescriptor,IZ=Object.getPrototypeOf,BP=Object.prototype;function HP(e,t,r){if(typeof t!="string"){if(BP){var n=IZ(t);n&&n!==BP&&HP(e,n,r)}var o=AZ(t);qP&&(o=o.concat(qP(t)));for(var i=FP(e),a=FP(t),s=0;s<o.length;++s){var c=o[s];if(!MZ[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var u=jZ(t,c);try{PZ(e,c,u)}catch{}}}}return e}WP.exports=HP});var nd,LZ,UP,t1,r1,n1=T(()=>{nd=g($()),LZ=function(t){return t()},UP=nd.useInsertionEffect?nd.useInsertionEffect:!1,t1=UP||LZ,r1=UP||nd.useLayoutEffect});var Dn,od,VP,i1,NZ,a1,gh,vh,bh,o1,GP,DZ,FZ,YP,s1=T(()=>{Dn=g($()),od=g($());Yx();Xx();ih();Gm();Um();n1();VP=!1,i1=Dn.createContext(typeof HTMLElement<"u"?jP({key:"css"}):null),NZ=i1.Provider,a1=function(){return(0,od.useContext)(i1)},gh=function(t){return(0,od.forwardRef)(function(r,n){var o=(0,od.useContext)(i1);return t(r,o,n)})},vh=Dn.createContext({}),bh={}.hasOwnProperty,o1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",GP=function(t,r){var n={};for(var o in r)bh.call(r,o)&&(n[o]=r[o]);return n[o1]=t,n},DZ=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return Vm(r,n,o),t1(function(){return Ku(r,n,o)}),null},FZ=gh(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var o=e[o1],i=[n],a="";typeof e.className=="string"?a=Jf(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=Ns(i,void 0,Dn.useContext(vh));a+=t.key+"-"+s.name;var c={};for(var u in e)bh.call(e,u)&&u!=="css"&&u!==o1&&!VP&&(c[u]=e[u]);return c.className=a,r&&(c.ref=r),Dn.createElement(Dn.Fragment,null,Dn.createElement(DZ,{cache:t,serialized:s,isStringTag:typeof o=="string"}),Dn.createElement(o,c))}),YP=FZ});function u1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ns(t)}function KP(){var e=u1.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var la,h2e,XP,ZP,yh=T(()=>{s1();s1();la=g($());Gm();n1();Um();Yx();Xx();ih();h2e=g($P()),XP=function(t,r){var n=arguments;if(r==null||!bh.call(r,"css"))return la.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=YP,i[1]=GP(t,r);for(var a=2;a<o;a++)i[a]=n[a];return la.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(XP||(XP={}));ZP=gh(function(e,t){var r=e.styles,n=Ns([r],void 0,la.useContext(vh)),o=la.useRef();return r1(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(s=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),o.current=[a,s],function(){a.flush()}},[t]),r1(function(){var i=o.current,a=i[0],s=i[1];if(s){i[1]=!1;return}if(n.next!==void 0&&Ku(t,n.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",n,a,!1)},[t,n.name]),null})});function ad(e){let{useTheme:t,cache:r}=e,{useCache:n}=c1({cacheProvidedAtInception:r}),{useCssAndCx:o}=Ym({useCache:n});function i(s){let{name:c,uniqId:u=`${zZ++}`}=s??{},l=typeof c!="object"?c:Object.keys(c)[0];return function(f){let d=typeof f=="function"?f:()=>f;return function(m,h){let v=t(),{css:b,cx:_}=o(),S=n(),x=(0,id.useMemo)(()=>{let C={},O=typeof Proxy<"u"&&new Proxy({},{get:(E,R)=>(typeof R=="symbol"&&Ho(!1),C[R]=`${S.key}-${u}${l!==void 0?`-${l}`:""}-${R}-ref`)}),k=d(v,m,O||{}),P=Bm(ao(k).map(E=>{let R=k[E];return R.label||(R.label=`${l!==void 0?`${l}-`:""}${E}`),[E,`${b(R)}${Zu(E,E in C)?` ${C[E]}`:""}`]}));return ao(C).forEach(E=>{E in P||(P[E]=C[E])}),P},[S,b,_,v,so(m)]);{let C=h?.props.classes;x=(0,id.useMemo)(()=>Ju(x,C,_),[x,so(C),_])}{let C=oP({classes:x,css:b,cx:_,name:l??"makeStyle no name",idOfUseStyles:u,muiStyleOverridesParams:h,theme:v});C.classes!==void 0&&(x=C.classes),C.css!==void 0&&(b=C.css),C.cx!==void 0&&(_=C.cx)}return{classes:x,theme:v,css:b,cx:_}}}}function a(){let s=t(),{css:c,cx:u}=o();return{theme:s,css:c,cx:u}}return{makeStyles:i,useStyles:a}}function QP(e){let{children:t,value:r}=e;return id.default.createElement(JP.Provider,{value:r},t)}var id,_h,BZ,zZ,JP,c1,xh=T(()=>{"use client";id=g($());qx();zm();Hx();Xm();Wm();Hm();Zm();_h=g($());iP();yh();BZ=a1,zZ=0;JP=(0,_h.createContext)(void 0);({createUseCache:c1}=(()=>{function e(){return(0,_h.useContext)(JP)}function t(r){let{cacheProvidedAtInception:n}=r;function o(){var i;let a=BZ(),s=e(),c=(i=n??s)!==null&&i!==void 0?i:a;if(c===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return c}return{useCache:o}}return{createUseCache:t}})())});function l1(e){return e.charAt(0).toUpperCase()+e.slice(1)}var eA=T(()=>{});function f1(e){let{useTheme:t,cache:r}=e,{makeStyles:n}=ad({useTheme:t,cache:r});function o(i,a,s){let c=typeof i=="string"?(()=>{let p=i,m=function({children:h,...v}){return(0,lc.createElement)(p,v,h)};return Object.defineProperty(m,"name",{value:l1(p)}),m})():i,u=(()=>{{let{name:m}=s??{};if(m!==void 0)return typeof m!="object"?m:Object.keys(m)[0]}let p;e:{let m=c.displayName;if(typeof m!="string"||m==="")break e;p=m}e:{if(p!==void 0)break e;let m=c.name;if(typeof m!="string"||m==="")break e;p=m}if(p!==void 0)return p=p.replace(/\$/g,"usd"),p=p.replace(/\(/g,"_").replace(/\)/g,"_"),p=p.replace(/[^a-zA-Z0-9-_]/g,"_"),p})(),l=n({...s,name:u})(typeof a=="function"?(p,m,h)=>rA(a(p,m,h)):rA(a));function f(p){for(let m in p)if(m!=="root")return!0;return!1}let d=(0,lc.forwardRef)(function(p,m){let{className:h,classes:v,...b}=p,{classes:_,cx:S}=l(p,{props:p}),x=S(_.root,h);return nA.set(_,{..._,root:x}),lc.default.createElement(c,{ref:m,className:f(_)?h:x,...typeof i=="string"?{}:{classes:_},...b})});return u!==void 0&&(d.displayName=`${l1(u)}WithStyles`,Object.defineProperty(d,"name",{value:d.displayName})),d}return o.getClasses=HZ,{withStyles:o}}function HZ(e){let t=e.classes;if(t===void 0)throw new Error(tA);let r=nA.get(t);if(r===void 0)throw new Error(tA);return r}function rA(e){let t={},r={};return Object.keys(e).forEach(n=>(n.startsWith("@media")?r:t)[n]=e[n]),Object.keys(r).forEach(n=>{let o=r[n];Object.keys(o).forEach(i=>{var a;return t[i]={...(a=t[i])!==null&&a!==void 0?a:{},[n]:o[i]}})}),t}var lc,nA,tA,oA=T(()=>{lc=g($());xh();eA();nA=new WeakMap,tA="getClasses should only be used in conjunction with withStyles"});var iA,aA=T(()=>{iA=!(typeof document=="object"&&typeof document?.getElementById=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u")});function d1(e){sA=0,fa.splice(0,fa.length);let{useContext:t,usePlugin:r,cache:n}=e,{useCache:o}=c1({cacheProvidedAtInception:n}),{useCssAndCx:i}=Ym({useCache:o});return{tss:Sh({useContext:t,useCache:o,useCssAndCx:i,usePlugin:r??(({classes:c,cx:u,css:l})=>({classes:c,cx:u,css:l})),name:void 0,doesUseNestedSelectors:!1})}}function Sh(e){let{useContext:t,useCache:r,useCssAndCx:n,usePlugin:o,name:i,doesUseNestedSelectors:a}=e;return{withParams:()=>Sh({...e}),withName:s=>Sh({...e,name:typeof s!="object"?s:Object.keys(s)[0]}),withNestedSelectors:()=>Sh({...e,doesUseNestedSelectors:!0}),create:s=>{let c=`x${sA++}`;if(i!==void 0)for(;;){let l=fa.find(f=>f.name===i);if(l===void 0)break;fa.splice(fa.indexOf(l),1)}let u=typeof s=="function"?s:()=>s;return function(f){var d,p,m;let{classesOverrides:h,...v}=f??{},b=t(),{css:_,cx:S}=n(),x=r(),C=()=>{let P={},E=u({...f,...b,...a?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:(I,q)=>{if(typeof q=="symbol"&&Ho(!1),iA&&i===void 0)throw new Error(["tss-react: In SSR setups, in order to use nested selectors, you must also give a unique name to the useStyle function.",'Solution: Use tss.withName("ComponentName").withNestedSelectors<...>()... to set a name.'].join(`
`));e:{if(i===void 0)break e;let N=fa.find(M=>M.name===i&&M.idOfUseStyles===c);N===void 0&&(N={name:i,idOfUseStyles:c,nestedSelectorRuleNames:new Set},fa.push(N)),N.nestedSelectorRuleNames.add(q)}e:{if(i===void 0||!(fa.find(M=>M.name===i&&M.idOfUseStyles!==c&&M.nestedSelectorRuleNames.has(q))!==void 0))break e;throw new Error([`tss-react: There are in your codebase two different useStyles named "${i}" that`,`both use use the nested selector ${q}.
`,`This may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.
`,`Solution: Ensure each useStyles using nested selectors has a unique name.
`,'Use: tss.withName("UniqueName").withNestedSelectors<...>()...'].join(" "))}return P[q]=`${x.key}-${i!==void 0?i:c}-${q}-ref`}})}:{}}),R=Bm(ao(E).map(I=>{let q=E[I];return q.label||(q.label=`${i!==void 0?`${i}-`:""}${I}`),[I,`${_(q)}${Zu(I,I in P)?` ${P[I]}`:""}`]}));return ao(P).forEach(I=>{I in R||(R[I]=P[I])}),R=Ju(R,h,S),R},O=WZ({cache:x,cssObjectByRuleNameOrGetCssObjectByRuleName:s,classesOverridesRef:so(h),paramsAndPluginParamsRef:so(v),idOfUseStyles:c,context:b,getClasses:C}),k=o({classes:O,css:_,cx:S,idOfUseStyles:c,name:i,...b,...v});return{classes:(d=k.classes)!==null&&d!==void 0?d:O,css:(p=k.css)!==null&&p!==void 0?p:_,cx:(m=k.cx)!==null&&m!==void 0?m:S,...b}}}}}function WZ(e){let{cache:t,cssObjectByRuleNameOrGetCssObjectByRuleName:r,classesOverridesRef:n,paramsAndPluginParamsRef:o,idOfUseStyles:i,context:a,getClasses:s}=e;e:{let u=wh.get(t);if(u===void 0)break e;let l=u.get(r);if(l===void 0)break e;let f=l.get(n);if(f===void 0)break e;let d=f.get(o);if(d===void 0)break e;let p=d.find(({context:m})=>{if(m===a)return!0;if(ao(m).length!==ao(a).length)return!1;for(let h in m)if(so(m[h])!==so(a[h]))return!1;return!0});if(p===void 0)break e;if(p?.idOfUseStyles!==i){d.splice(d.indexOf(p),1);break e}return p.result}let c=s();{wh.has(t)||wh.set(t,new WeakMap);let u=wh.get(t);Ho(u!==void 0),u.has(r)||u.set(r,new Map);let l=u.get(r);Ho(l!==void 0),l.has(n)||(l.size>200&&l.clear(),l.set(n,new Map));let f=l.get(n);if(Ho(f!==void 0),!f.has(o)){e:{let p=typeof o=="string"?257:5;if(f.size<p)break e;f.clear()}f.set(o,[])}let d=f.get(o);Ho(d!==void 0),d.length>5&&(d=[]),d.push({idOfUseStyles:i,context:a,result:c})}return c}var sA,fa,wh,uA=T(()=>{xh();Hx();Hm();qx();zm();Wm();Xm();Zm();aA();sA=0,fa=[];wh=new WeakMap});function lA(e){let{styles:t}=e;return cA.default.createElement(ZP,{styles:u1(t)})}var cA,fA=T(()=>{"use client";cA=g($());yh()});var pA={};rt(pA,{GlobalStyles:()=>lA,TssCacheProvider:()=>QP,createMakeAndWithStyles:()=>$Z,createMakeStyles:()=>ad,createTss:()=>d1,createWithStyles:()=>f1,keyframes:()=>KP,tss:()=>dA,useStyles:()=>UZ});function $Z(e){return{...ad(e),...f1(e)}}var dA,UZ,mA=T(()=>{"use client";xh();oA();uA();yh();fA();({tss:dA}=d1({useContext:()=>({})})),UZ=dA.create({})});var hA=y(p1=>{"use strict";Object.defineProperty(p1,"__esModule",{value:!0});p1.default=KZ;var VZ=F(),GZ=Q(),YZ=(mA(),nx(pA)),XZ=me(),ZZ=(0,XZ.makeStyles)()({dots:{"&::after":{display:"inline-block",content:'""',width:"1em",textAlign:"left",animation:`${(0,YZ.keyframes)`
      0% {
        content: '';
      }
      25% {
          content: '.';
      }
      50% {
        content: '..';
      }
      75% {
        content: '...';
      }
      `} 1.2s infinite ease-in-out`}}});function KZ({message:e,children:t,variant:r="body2",...n}){let{cx:o,classes:i}=ZZ();return(0,VZ.jsx)(GZ.Typography,{className:o(i.dots,n.className),...n,variant:r,children:e||"Loading"})}});var h1=y(sd=>{"use strict";var kh=sd&&sd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sd,"__esModule",{value:!0});sd.default=lK;var wn=F(),Ch=$(),fc=Q(),JZ=kh(Vf()),QZ=FO(),eK=me(),tK=kh(ud()),gA=kh(zO()),rK=kh(hA());async function bA(e){let t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status} fetching ${e}: ${await t.text()}`);return t}async function nK(e){return(await bA(e)).json()}async function oK(e){return(await bA(e)).text()}var m1={};async function iK(e){var t;if(m1[e]!==void 0)return m1[e];let r=new URL(e).search,n=await oK(e),o=((t=new RegExp(/\/\/# sourceMappingURL=(.*)/).exec(n))===null||t===void 0?void 0:t[1])||"";o=new URL(o,e).href+r;let i=await nK(o),a=new QZ.SourceMapConsumer(i);return m1[e]=a,a}async function aK(e){let t=e.split(`
`),r=[];for(let n of t){let o=new RegExp(/(.*)(https?:\/\/.*):(\d+):(\d+)/).exec(n);if(o===null){r.push(n);continue}let i=o[2],s=(await iK(i)).originalPositionFor({line:Number.parseInt(o[3]),column:Number.parseInt(o[4])});if(!s.source||!s.line||!s.column){r.push(n);continue}r.push(`${s.source}:${s.line}:${s.column+1} (${o[1].trim()})`)}return r.join(`
`)}var vA=1e4;function sK(e,t){if(e.startsWith("Error:")){let r=`${t}`;return e.slice(r.length)}else return e}var uK=(0,eK.makeStyles)()(e=>({pre:{background:(0,fc.alpha)(e.palette.error.main,.2),border:`1px solid ${e.palette.divider}`,overflow:"auto",margin:20,maxHeight:300}}));function cK({text:e,extra:t}){let{classes:r}=uK(),n=encodeURIComponent(`${[`I got this error from JBrowse, here is the stack trace:
`,"```",e,"```",t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`)}
`),o=[e,t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`),i="jbrowse2@berkeley.edu",a=`https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${n}`,s=`mailto:${i}?subject=JBrowse%202%20error&body=${n}`;return(0,wn.jsxs)(wn.Fragment,{children:[(0,wn.jsxs)(fc.Typography,{children:["Post a new issue at"," ",(0,wn.jsx)(gA.default,{href:a,children:"GitHub"})," or send an email to ",(0,wn.jsx)(gA.default,{href:s,children:i})," "]}),(0,wn.jsx)("pre",{className:r.pre,children:o})]})}function lK({error:e,onClose:t,extra:r}){let[n,o]=(0,Ch.useState)(),[i,a]=(0,Ch.useState)(),[s,c]=(0,Ch.useState)(!1),u=`${typeof e=="object"&&e!==null&&"stack"in e?e.stack:""}`,l=e?`${e}`:"",f=sK(u,l);(0,Ch.useEffect)(()=>{(async()=>{try{let p=await aK(f);o(p)}catch(p){console.error(p),o(f),a(p)}})()},[f]);let d=[i?"Error loading source map, showing raw stack trace below:":"",l.length>vA?`${l.slice(0,vA)}...`:l,n||"No stack trace available",window.JBrowseSession?`JBrowse ${window.JBrowseSession.version}`:""].filter(p=>!!p).join(`
`);return(0,wn.jsxs)(tK.default,{open:!0,onClose:t,title:"Stack trace",maxWidth:"xl",children:[(0,wn.jsx)(fc.DialogContent,{children:n===void 0?(0,wn.jsx)(rK.default,{variant:"h6"}):(0,wn.jsx)(cK,{text:d,extra:r})}),(0,wn.jsxs)(fc.DialogActions,{children:[(0,wn.jsx)(fc.Button,{variant:"contained",color:"secondary",onClick:()=>{(0,JZ.default)(d),c(!0),setTimeout(()=>{c(!1)},1e3)},children:s?"Copied!":"Copy stack trace to clipboard"}),(0,wn.jsx)(fc.Button,{variant:"contained",color:"primary",onClick:t,children:"Close"})]})]})}});var _A=y(uo=>{"use strict";var fK=uo&&uo.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),dK=uo&&uo.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),pK=uo&&uo.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&fK(r,t,n[o]);return dK(r,t),r}})(),v1=uo&&uo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uo,"__esModule",{value:!0});var Fn=F(),g1=$(),mK=v1(aO()),hK=v1(sO()),Th=Q(),gK=me(),vK=v1(uO()),bK=(0,g1.lazy)(()=>Promise.resolve().then(()=>pK(h1()))),yA=(0,gK.makeStyles)()(e=>({bg:{background:e.palette.divider,border:"1px solid black",margin:20},iconFloat:{float:"right",marginLeft:100}}));function yK(e){let t="",r="is not assignable",n=e.indexOf(r);if(n!==-1){let o=e.slice(0,n+r.length),i=/.*at path "(.*)" snapshot `(.*)` is not assignable/m.exec(o);i&&(e=`Failed to load element at ${i[1]}...Failed element had snapshot`,t=i[2]);let a=/.*snapshot `(.*)` is not assignable/.exec(o);a&&(e="Failed to load element...Failed element had snapshot",t=a[1])}return t}function _K({error:e,onReset:t}){let{classes:r}=yA(),[n,o]=(0,g1.useState)(!1);return(0,Fn.jsxs)("div",{className:r.iconFloat,children:[typeof e=="object"&&e&&"stack"in e?(0,Fn.jsx)(Th.Tooltip,{title:"Get stack trace",children:(0,Fn.jsx)(Th.IconButton,{onClick:()=>{o(!0)},color:"primary",children:(0,Fn.jsx)(hK.default,{})})}):null,t?(0,Fn.jsx)(Th.Tooltip,{title:"Retry",children:(0,Fn.jsx)(Th.IconButton,{onClick:t,color:"primary",children:(0,Fn.jsx)(mK.default,{})})}):null,n?(0,Fn.jsx)(g1.Suspense,{fallback:null,children:(0,Fn.jsx)(bK,{error:e,onClose:()=>{o(!1)}})}):null]})}function xK({error:e,onReset:t}){let{classes:r}=yA(),n=`${e}`,o=n.indexOf("expected an instance of"),i=o!==-1?n.slice(0,o):n,a=yK(n);return(0,Fn.jsxs)(vK.default,{children:[i.slice(0,1e4),(0,Fn.jsx)(_K,{error:e,onReset:t}),a?(0,Fn.jsx)("pre",{className:r.bg,children:JSON.stringify(JSON.parse(a),null,2)}):null]})}uo.default=xK});var IA=y((K2e,jA)=>{"use strict";var{entries:MA,setPrototypeOf:xA,isFrozen:wK,getPrototypeOf:SK,getOwnPropertyDescriptor:CK}=Object,{freeze:Br,seal:qn,create:C1}=Object,{apply:k1,construct:T1}=typeof Reflect<"u"&&Reflect;Br||(Br=function(t){return t});qn||(qn=function(t){return t});k1||(k1=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return t.apply(r,o)});T1||(T1=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new t(...n)});var Eh=zr(Array.prototype.forEach),kK=zr(Array.prototype.lastIndexOf),wA=zr(Array.prototype.pop),cd=zr(Array.prototype.push),TK=zr(Array.prototype.splice),Mh=zr(String.prototype.toLowerCase),b1=zr(String.prototype.toString),y1=zr(String.prototype.match),ld=zr(String.prototype.replace),EK=zr(String.prototype.indexOf),RK=zr(String.prototype.trim),co=zr(Object.prototype.hasOwnProperty),qr=zr(RegExp.prototype.test),fd=MK(TypeError);function zr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return k1(e,t,n)}}function MK(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T1(e,r)}}function Fe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mh;xA&&xA(e,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){let i=r(o);i!==o&&(wK(t)||(t[n]=i),o=i)}e[o]=!0}return e}function OK(e){for(let t=0;t<e.length;t++)co(e,t)||(e[t]=null);return e}function Mi(e){let t=C1(null);for(let[r,n]of MA(e))co(e,r)&&(Array.isArray(n)?t[r]=OK(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Mi(n):t[r]=n);return t}function dd(e,t){for(;e!==null;){let n=CK(e,t);if(n){if(n.get)return zr(n.get);if(typeof n.value=="function")return zr(n.value)}e=SK(e)}function r(){return null}return r}var SA=Br(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_1=Br(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),x1=Br(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PK=Br(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),w1=Br(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),AK=Br(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),CA=Br(["#text"]),kA=Br(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),S1=Br(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TA=Br(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rh=Br(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jK=qn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IK=qn(/<%[\w\W]*|[\w\W]*%>/gm),LK=qn(/\$\{[\w\W]*/gm),NK=qn(/^data-[\-\w.\u00B7-\uFFFF]+$/),DK=qn(/^aria-[\-\w]+$/),OA=qn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),FK=qn(/^(?:\w+script|data):/i),qK=qn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PA=qn(/^html$/i),BK=qn(/^[a-z][.\w]*(-[.\w]+)+$/i),EA=Object.freeze({__proto__:null,ARIA_ATTR:DK,ATTR_WHITESPACE:qK,CUSTOM_ELEMENT:BK,DATA_ATTR:NK,DOCTYPE_NAME:PA,ERB_EXPR:IK,IS_ALLOWED_URI:OA,IS_SCRIPT_OR_DATA:FK,MUSTACHE_EXPR:jK,TMPLIT_EXPR:LK}),pd={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zK=function(){return typeof window>"u"?null:window},HK=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null,o="data-tt-policy-suffix";r&&r.hasAttribute(o)&&(n=r.getAttribute(o));let i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},RA=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function AA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zK(),t=ve=>AA(ve);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==pd.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,o=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:s,Element:c,NodeFilter:u,NamedNodeMap:l=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=e,m=c.prototype,h=dd(m,"cloneNode"),v=dd(m,"remove"),b=dd(m,"nextSibling"),_=dd(m,"childNodes"),S=dd(m,"parentNode");if(typeof a=="function"){let ve=r.createElement("template");ve.content&&ve.content.ownerDocument&&(r=ve.content.ownerDocument)}let x,C="",{implementation:O,createNodeIterator:k,createDocumentFragment:P,getElementsByTagName:E}=r,{importNode:R}=n,I=RA();t.isSupported=typeof MA=="function"&&typeof S=="function"&&O&&O.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:q,ERB_EXPR:N,TMPLIT_EXPR:M,DATA_ATTR:D,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:H}=EA,{IS_ALLOWED_URI:te}=EA,Ce=null,ge=Fe({},[...SA,..._1,...x1,...w1,...CA]),Y=null,ze=Fe({},[...kA,...S1,...TA,...Rh]),W=Object.seal(C1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,we=null,be=Object.seal(C1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),ne=!0,de=!0,Pe=!1,ie=!0,ye=!1,ce=!0,ke=!1,Ae=!1,pe=!1,ee=!1,_e=!1,Re=!1,Te=!0,G=!1,K="user-content-",X=!0,Se=!1,Me={},Be=null,at=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ir=null,dr=Fe({},["audio","video","img","source","image","track"]),Ie=null,tr=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pn="http://www.w3.org/1998/Math/MathML",Do="http://www.w3.org/2000/svg",Lr="http://www.w3.org/1999/xhtml",Ht=Lr,$e=!1,Ke=null,An=Fe({},[Pn,Do,Lr],b1),Ct=Fe({},["mi","mo","mn","ms","mtext"]),oo=Fe({},["annotation-xml"]),Tr=Fe({},["title","style","font","a","script"]),Lt=null,pr=["application/xhtml+xml","text/html"],_t="text/html",tt=null,Qr=null,Ms=r.createElement("form"),Os=function(A){return A instanceof RegExp||A instanceof Function},Fo=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qr&&Qr===A)){if((!A||typeof A!="object")&&(A={}),A=Mi(A),Lt=pr.indexOf(A.PARSER_MEDIA_TYPE)===-1?_t:A.PARSER_MEDIA_TYPE,tt=Lt==="application/xhtml+xml"?b1:Mh,Ce=co(A,"ALLOWED_TAGS")?Fe({},A.ALLOWED_TAGS,tt):ge,Y=co(A,"ALLOWED_ATTR")?Fe({},A.ALLOWED_ATTR,tt):ze,Ke=co(A,"ALLOWED_NAMESPACES")?Fe({},A.ALLOWED_NAMESPACES,b1):An,Ie=co(A,"ADD_URI_SAFE_ATTR")?Fe(Mi(tr),A.ADD_URI_SAFE_ATTR,tt):tr,Ir=co(A,"ADD_DATA_URI_TAGS")?Fe(Mi(dr),A.ADD_DATA_URI_TAGS,tt):dr,Be=co(A,"FORBID_CONTENTS")?Fe({},A.FORBID_CONTENTS,tt):at,ae=co(A,"FORBID_TAGS")?Fe({},A.FORBID_TAGS,tt):Mi({}),we=co(A,"FORBID_ATTR")?Fe({},A.FORBID_ATTR,tt):Mi({}),Me=co(A,"USE_PROFILES")?A.USE_PROFILES:!1,ne=A.ALLOW_ARIA_ATTR!==!1,de=A.ALLOW_DATA_ATTR!==!1,Pe=A.ALLOW_UNKNOWN_PROTOCOLS||!1,ie=A.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ye=A.SAFE_FOR_TEMPLATES||!1,ce=A.SAFE_FOR_XML!==!1,ke=A.WHOLE_DOCUMENT||!1,ee=A.RETURN_DOM||!1,_e=A.RETURN_DOM_FRAGMENT||!1,Re=A.RETURN_TRUSTED_TYPE||!1,pe=A.FORCE_BODY||!1,Te=A.SANITIZE_DOM!==!1,G=A.SANITIZE_NAMED_PROPS||!1,X=A.KEEP_CONTENT!==!1,Se=A.IN_PLACE||!1,te=A.ALLOWED_URI_REGEXP||OA,Ht=A.NAMESPACE||Lr,Ct=A.MATHML_TEXT_INTEGRATION_POINTS||Ct,oo=A.HTML_INTEGRATION_POINTS||oo,W=A.CUSTOM_ELEMENT_HANDLING||{},A.CUSTOM_ELEMENT_HANDLING&&Os(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&Os(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ye&&(de=!1),_e&&(ee=!0),Me&&(Ce=Fe({},CA),Y=[],Me.html===!0&&(Fe(Ce,SA),Fe(Y,kA)),Me.svg===!0&&(Fe(Ce,_1),Fe(Y,S1),Fe(Y,Rh)),Me.svgFilters===!0&&(Fe(Ce,x1),Fe(Y,S1),Fe(Y,Rh)),Me.mathMl===!0&&(Fe(Ce,w1),Fe(Y,TA),Fe(Y,Rh))),A.ADD_TAGS&&(typeof A.ADD_TAGS=="function"?be.tagCheck=A.ADD_TAGS:(Ce===ge&&(Ce=Mi(Ce)),Fe(Ce,A.ADD_TAGS,tt))),A.ADD_ATTR&&(typeof A.ADD_ATTR=="function"?be.attributeCheck=A.ADD_ATTR:(Y===ze&&(Y=Mi(Y)),Fe(Y,A.ADD_ATTR,tt))),A.ADD_URI_SAFE_ATTR&&Fe(Ie,A.ADD_URI_SAFE_ATTR,tt),A.FORBID_CONTENTS&&(Be===at&&(Be=Mi(Be)),Fe(Be,A.FORBID_CONTENTS,tt)),X&&(Ce["#text"]=!0),ke&&Fe(Ce,["html","head","body"]),Ce.table&&(Fe(Ce,["tbody"]),delete ae.tbody),A.TRUSTED_TYPES_POLICY){if(typeof A.TRUSTED_TYPES_POLICY.createHTML!="function")throw fd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof A.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=A.TRUSTED_TYPES_POLICY,C=x.createHTML("")}else x===void 0&&(x=HK(p,o)),x!==null&&typeof C=="string"&&(C=x.createHTML(""));Br&&Br(A),Qr=A}},qo=Fe({},[..._1,...x1,...PK]),Si=Fe({},[...w1,...AK]),ex=function(A){let V=S(A);(!V||!V.tagName)&&(V={namespaceURI:Ht,tagName:"template"});let se=Mh(A.tagName),dt=Mh(V.tagName);return Ke[A.namespaceURI]?A.namespaceURI===Do?V.namespaceURI===Lr?se==="svg":V.namespaceURI===Pn?se==="svg"&&(dt==="annotation-xml"||Ct[dt]):!!qo[se]:A.namespaceURI===Pn?V.namespaceURI===Lr?se==="math":V.namespaceURI===Do?se==="math"&&oo[dt]:!!Si[se]:A.namespaceURI===Lr?V.namespaceURI===Do&&!oo[dt]||V.namespaceURI===Pn&&!Ct[dt]?!1:!Si[se]&&(Tr[se]||!qo[se]):!!(Lt==="application/xhtml+xml"&&Ke[A.namespaceURI]):!1},bn=function(A){cd(t.removed,{element:A});try{S(A).removeChild(A)}catch{v(A)}},Bo=function(A,V){try{cd(t.removed,{attribute:V.getAttributeNode(A),from:V})}catch{cd(t.removed,{attribute:null,from:V})}if(V.removeAttribute(A),A==="is")if(ee||_e)try{bn(V)}catch{}else try{V.setAttribute(A,"")}catch{}},Wu=function(A){let V=null,se=null;if(pe)A="<remove></remove>"+A;else{let Nt=y1(A,/^[\r\n\t ]+/);se=Nt&&Nt[0]}Lt==="application/xhtml+xml"&&Ht===Lr&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");let dt=x?x.createHTML(A):A;if(Ht===Lr)try{V=new d().parseFromString(dt,Lt)}catch{}if(!V||!V.documentElement){V=O.createDocument(Ht,"template",null);try{V.documentElement.innerHTML=$e?C:dt}catch{}}let Er=V.body||V.documentElement;return A&&se&&Er.insertBefore(r.createTextNode(se),Er.childNodes[0]||null),Ht===Lr?E.call(V,ke?"html":"body")[0]:ke?V.documentElement:Er},UR=function(A){return k.call(A.ownerDocument||A,A,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},tx=function(A){return A instanceof f&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof l)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function"||typeof A.hasChildNodes!="function")},VR=function(A){return typeof s=="function"&&A instanceof s};function Ci(ve,A,V){Eh(ve,se=>{se.call(t,A,V,Qr)})}let GR=function(A){let V=null;if(Ci(I.beforeSanitizeElements,A,null),tx(A))return bn(A),!0;let se=tt(A.nodeName);if(Ci(I.uponSanitizeElement,A,{tagName:se,allowedTags:Ce}),ce&&A.hasChildNodes()&&!VR(A.firstElementChild)&&qr(/<[/\w!]/g,A.innerHTML)&&qr(/<[/\w!]/g,A.textContent)||A.nodeType===pd.progressingInstruction||ce&&A.nodeType===pd.comment&&qr(/<[/\w]/g,A.data))return bn(A),!0;if(!(be.tagCheck instanceof Function&&be.tagCheck(se))&&(!Ce[se]||ae[se])){if(!ae[se]&&XR(se)&&(W.tagNameCheck instanceof RegExp&&qr(W.tagNameCheck,se)||W.tagNameCheck instanceof Function&&W.tagNameCheck(se)))return!1;if(X&&!Be[se]){let dt=S(A)||A.parentNode,Er=_(A)||A.childNodes;if(Er&&dt){let Nt=Er.length;for(let en=Nt-1;en>=0;--en){let ki=h(Er[en],!0);ki.__removalCount=(A.__removalCount||0)+1,dt.insertBefore(ki,b(A))}}}return bn(A),!0}return A instanceof c&&!ex(A)||(se==="noscript"||se==="noembed"||se==="noframes")&&qr(/<\/no(script|embed|frames)/i,A.innerHTML)?(bn(A),!0):(ye&&A.nodeType===pd.text&&(V=A.textContent,Eh([q,N,M],dt=>{V=ld(V,dt," ")}),A.textContent!==V&&(cd(t.removed,{element:A.cloneNode()}),A.textContent=V)),Ci(I.afterSanitizeElements,A,null),!1)},YR=function(A,V,se){if(Te&&(V==="id"||V==="name")&&(se in r||se in Ms))return!1;if(!(de&&!we[V]&&qr(D,V))){if(!(ne&&qr(U,V))){if(!(be.attributeCheck instanceof Function&&be.attributeCheck(V,A))){if(!Y[V]||we[V]){if(!(XR(A)&&(W.tagNameCheck instanceof RegExp&&qr(W.tagNameCheck,A)||W.tagNameCheck instanceof Function&&W.tagNameCheck(A))&&(W.attributeNameCheck instanceof RegExp&&qr(W.attributeNameCheck,V)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(V,A))||V==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&qr(W.tagNameCheck,se)||W.tagNameCheck instanceof Function&&W.tagNameCheck(se))))return!1}else if(!Ie[V]){if(!qr(te,ld(se,L,""))){if(!((V==="src"||V==="xlink:href"||V==="href")&&A!=="script"&&EK(se,"data:")===0&&Ir[A])){if(!(Pe&&!qr(B,ld(se,L,"")))){if(se)return!1}}}}}}}return!0},XR=function(A){return A!=="annotation-xml"&&y1(A,H)},ZR=function(A){Ci(I.beforeSanitizeAttributes,A,null);let{attributes:V}=A;if(!V||tx(A))return;let se={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0},dt=V.length;for(;dt--;){let Er=V[dt],{name:Nt,namespaceURI:en,value:ki}=Er,$u=tt(Nt),rx=ki,mr=Nt==="value"?rx:RK(rx);if(se.attrName=$u,se.attrValue=mr,se.keepAttr=!0,se.forceKeepAttr=void 0,Ci(I.uponSanitizeAttribute,A,se),mr=se.attrValue,G&&($u==="id"||$u==="name")&&(Bo(Nt,A),mr=K+mr),ce&&qr(/((--!?|])>)|<\/(style|title|textarea)/i,mr)){Bo(Nt,A);continue}if($u==="attributename"&&y1(mr,"href")){Bo(Nt,A);continue}if(se.forceKeepAttr)continue;if(!se.keepAttr){Bo(Nt,A);continue}if(!ie&&qr(/\/>/i,mr)){Bo(Nt,A);continue}ye&&Eh([q,N,M],JR=>{mr=ld(mr,JR," ")});let KR=tt(A.nodeName);if(!YR(KR,$u,mr)){Bo(Nt,A);continue}if(x&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!en)switch(p.getAttributeType(KR,$u)){case"TrustedHTML":{mr=x.createHTML(mr);break}case"TrustedScriptURL":{mr=x.createScriptURL(mr);break}}if(mr!==rx)try{en?A.setAttributeNS(en,Nt,mr):A.setAttribute(Nt,mr),tx(A)?bn(A):wA(t.removed)}catch{Bo(Nt,A)}}Ci(I.afterSanitizeAttributes,A,null)},WG=function ve(A){let V=null,se=UR(A);for(Ci(I.beforeSanitizeShadowDOM,A,null);V=se.nextNode();)Ci(I.uponSanitizeShadowNode,V,null),GR(V),ZR(V),V.content instanceof i&&ve(V.content);Ci(I.afterSanitizeShadowDOM,A,null)};return t.sanitize=function(ve){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=null,se=null,dt=null,Er=null;if($e=!ve,$e&&(ve="<!-->"),typeof ve!="string"&&!VR(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw fd("dirty is not a string, aborting")}else throw fd("toString is not a function");if(!t.isSupported)return ve;if(Ae||Fo(A),t.removed=[],typeof ve=="string"&&(Se=!1),Se){if(ve.nodeName){let ki=tt(ve.nodeName);if(!Ce[ki]||ae[ki])throw fd("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof s)V=Wu("<!---->"),se=V.ownerDocument.importNode(ve,!0),se.nodeType===pd.element&&se.nodeName==="BODY"||se.nodeName==="HTML"?V=se:V.appendChild(se);else{if(!ee&&!ye&&!ke&&ve.indexOf("<")===-1)return x&&Re?x.createHTML(ve):ve;if(V=Wu(ve),!V)return ee?null:Re?C:""}V&&pe&&bn(V.firstChild);let Nt=UR(Se?ve:V);for(;dt=Nt.nextNode();)GR(dt),ZR(dt),dt.content instanceof i&&WG(dt.content);if(Se)return ve;if(ee){if(_e)for(Er=P.call(V.ownerDocument);V.firstChild;)Er.appendChild(V.firstChild);else Er=V;return(Y.shadowroot||Y.shadowrootmode)&&(Er=R.call(n,Er,!0)),Er}let en=ke?V.outerHTML:V.innerHTML;return ke&&Ce["!doctype"]&&V.ownerDocument&&V.ownerDocument.doctype&&V.ownerDocument.doctype.name&&qr(PA,V.ownerDocument.doctype.name)&&(en="<!DOCTYPE "+V.ownerDocument.doctype.name+`>
`+en),ye&&Eh([q,N,M],ki=>{en=ld(en,ki," ")}),x&&Re?x.createHTML(en):en},t.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fo(ve),Ae=!0},t.clearConfig=function(){Qr=null,Ae=!1},t.isValidAttribute=function(ve,A,V){Qr||Fo({});let se=tt(ve),dt=tt(A);return YR(se,dt,V)},t.addHook=function(ve,A){typeof A=="function"&&cd(I[ve],A)},t.removeHook=function(ve,A){if(A!==void 0){let V=kK(I[ve],A);return V===-1?void 0:TK(I[ve],V,1)[0]}return wA(I[ve])},t.removeHooks=function(ve){I[ve]=[]},t.removeAllHooks=function(){I=RA()},t}var WK=AA();jA.exports=WK});var NA=y((J2e,LA)=>{"use strict";var $K=/["'&<>]/;LA.exports=UK;function UK(e){var t=""+e,r=$K.exec(t);if(!r)return t;var n,o="",i=0,a=0;for(i=r.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=n}return a!==i?o+t.substring(a,i):o}});var DA=y($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.TWO_PWR_32_DBL=$o.TWO_PWR_16_DBL=void 0;$o.longFromBytesToUnsigned=VK;$o.TWO_PWR_16_DBL=65536;$o.TWO_PWR_32_DBL=$o.TWO_PWR_16_DBL*$o.TWO_PWR_16_DBL;function VK(e,t=0){let r=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;return((e[t+4]|e[t+5]<<8|e[t+6]<<16|e[t+7]<<24)>>>0)*$o.TWO_PWR_32_DBL+(r>>>0)}});var qA=y(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});var E1=DA(),Oh=1;function FA(e,t,r){let n=t[Oh],o=r?r[Oh]:1/0;return n<=e&&o>e?0:n<e?-1:1}var R1=class{constructor({filehandle:t}){this.filehandle=t}_getIndex(){return this.index||(this.index=this._readIndex().catch(t=>{throw this.index=void 0,t})),this.index}async _readIndex(){let t=await this.filehandle.read(8,0),r=(0,E1.longFromBytesToUnsigned)(t);if(!r)return[[0,0]];let n=new Array(r+1);n[0]=[0,0];let o=16*r;if(o>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");let i=await this.filehandle.read(o,8);for(let a=0;a<r;a+=1){let s=(0,E1.longFromBytesToUnsigned)(i,a*16),c=(0,E1.longFromBytesToUnsigned)(i,a*16+8);n[a+1]=[s,c]}return n}async getLastBlock(){return(await this._getIndex()).at(-1)}async getRelevantBlocksForRead(t,r){let n=r+t;if(t===0)return[];let o=await this._getIndex(),i=[],a=0,s=o.length-1,c=Math.floor(o.length/2),u=FA(r,o[c],o[c+1]);for(;u!==0;)u>0?s=c-1:u<0&&(a=c+1),c=Math.ceil((s-a)/2)+a,u=FA(r,o[c],o[c+1]);i.push(o[c]);let l=c+1;for(;l<o.length&&(i.push(o[l]),!(o[l][Oh]>=n));l+=1);return i[i.length-1][Oh]<n&&i.push([]),i}};M1.default=R1});var dc=y(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.Z_DEFLATED=he.Z_UNKNOWN=he.Z_TEXT=he.Z_BINARY=he.Z_DEFAULT_STRATEGY=he.Z_FIXED=he.Z_RLE=he.Z_HUFFMAN_ONLY=he.Z_FILTERED=he.Z_DEFAULT_COMPRESSION=he.Z_BEST_COMPRESSION=he.Z_BEST_SPEED=he.Z_NO_COMPRESSION=he.Z_BUF_ERROR=he.Z_DATA_ERROR=he.Z_STREAM_ERROR=he.Z_ERRNO=he.Z_NEED_DICT=he.Z_STREAM_END=he.Z_OK=he.Z_TREES=he.Z_BLOCK=he.Z_FINISH=he.Z_FULL_FLUSH=he.Z_SYNC_FLUSH=he.Z_PARTIAL_FLUSH=he.Z_NO_FLUSH=void 0;he.Z_NO_FLUSH=0;he.Z_PARTIAL_FLUSH=1;he.Z_SYNC_FLUSH=2;he.Z_FULL_FLUSH=3;he.Z_FINISH=4;he.Z_BLOCK=5;he.Z_TREES=6;he.Z_OK=0;he.Z_STREAM_END=1;he.Z_NEED_DICT=2;he.Z_ERRNO=-1;he.Z_STREAM_ERROR=-2;he.Z_DATA_ERROR=-3;he.Z_BUF_ERROR=-5;he.Z_NO_COMPRESSION=0;he.Z_BEST_SPEED=1;he.Z_BEST_COMPRESSION=9;he.Z_DEFAULT_COMPRESSION=-1;he.Z_FILTERED=1;he.Z_HUFFMAN_ONLY=2;he.Z_RLE=3;he.Z_FIXED=4;he.Z_DEFAULT_STRATEGY=0;he.Z_BINARY=0;he.Z_TEXT=1;he.Z_UNKNOWN=2;he.Z_DEFLATED=8});var da=y(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.Buf32=Ze.Buf16=Ze.Buf8=Ze.flattenChunks=Ze.arraySet=void 0;Ze.assign=YK;Ze.shrinkBuf=XK;Ze.setTyped=tJ;function GK(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function YK(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)GK(r,n)&&(e[n]=r[n])}}return e}function XK(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}var Uo={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),o);return}for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n,o,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)i=e[t],a.set(i,o),o+=i.length;return a},Buf8:function(e){return new Uint8Array(e)},Buf16:function(e){return new Uint16Array(e)},Buf32:function(e){return new Int32Array(e)}},Vo={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)},Buf8:function(e){return new Array(e)},Buf16:function(e){return new Array(e)},Buf32:function(e){return new Array(e)}},pc=()=>{let e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return pc=()=>e,e},ZK=(e,t,r,n,o)=>(Ze.arraySet=pc()?Uo.arraySet:Vo.arraySet,(0,Ze.arraySet)(e,t,r,n,o));Ze.arraySet=ZK;var KK=e=>(Ze.flattenChunks=pc()?Uo.flattenChunks:Vo.flattenChunks,(0,Ze.flattenChunks)(e));Ze.flattenChunks=KK;var JK=e=>(Ze.Buf8=pc()?Uo.Buf8:Vo.Buf8,(0,Ze.Buf8)(e));Ze.Buf8=JK;var QK=e=>(Ze.Buf16=pc()?Uo.Buf16:Vo.Buf16,(0,Ze.Buf16)(e));Ze.Buf16=QK;var eJ=e=>(Ze.Buf32=pc()?Uo.Buf32:Vo.Buf32,(0,Ze.Buf32)(e));Ze.Buf32=eJ;function tJ(e){Ze.arraySet=e?Uo.arraySet:Vo.arraySet,Ze.flattenChunks=e?Uo.flattenChunks:Vo.flattenChunks,Ze.Buf8=e?Uo.Buf8:Vo.Buf8,Ze.Buf16=e?Uo.Buf16:Vo.Buf16,Ze.Buf32=e?Uo.Buf32:Vo.Buf32}});var P1=y(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.string2buf=rJ;qs.buf2binstring=nJ;qs.binstring2buf=oJ;qs.buf2string=iJ;qs.utf8border=aJ;var BA=da(),zA=function(){let e=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}return zA=()=>e,e},HA=function(){let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}return HA=()=>e,e},O1=function(e){for(var t=(0,BA.Buf8)(256),r=0;r<256;r++)t[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;return t[254]=t[254]=1,O1=n=>t[n],t[e]};function rJ(e){var t,r,n,o,i,a=e.length,s=0;for(o=0;o<a;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t}function WA(e,t){if(t<65534&&(e.subarray&&HA()||!e.subarray&&zA()))return String.fromCharCode.apply(null,(0,BA.shrinkBuf)(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}function nJ(e){return WA(e,e.length)}function oJ(e){for(var t=new Uint8Array(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}function iJ(e,t){var r,n,o,i,a=t||e.length,s=new Array(a*2);for(n=0,r=0;r<a;){if(o=e[r++],o<128){s[n++]=o;continue}if(i=O1(o),i>4){s[n++]=65533,r+=i-1;continue}for(o&=i===2?31:i===3?15:7;i>1&&r<a;)o=o<<6|e[r++]&63,i--;if(i>1){s[n++]=65533;continue}o<65536?s[n++]=o:(o-=65536,s[n++]=55296|o>>10&1023,s[n++]=56320|o&1023)}return WA(s,n)}function aJ(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+O1(e[r])>t?r:t}});var $A=y(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.default=sJ;function sJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}});var I1=y(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.default=uJ;function uJ(e,t,r,n){for(var o=e&65535|0,i=e>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do o=o+t[n++]|0,i=i+o|0;while(--a);o%=65521,i%=65521}return o|i<<16|0}});var N1=y(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.default=lJ;function cJ(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var UA=function(){let e=cJ();return UA=()=>e,e};function lJ(e,t,r,n){var o=UA(),i=n+r;e^=-1;for(var a=n;a<i;a++)e=e>>>8^o[(e^t[a])&255];return e^-1}});var VA=y(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.default=dJ;var Ph=30,fJ=12;function dJ(e,t){var r,n,o,i,a,s,c,u,l,f,d,p,m,h,v,b,_,S,x,C,O,k,P,E,R;r=e.state,n=e.next_in,E=e.input,o=n+(e.avail_in-5),i=e.next_out,R=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,p=r.hold,m=r.bits,h=r.lencode,v=r.distcode,b=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{m<15&&(p+=E[n++]<<m,m+=8,p+=E[n++]<<m,m+=8),S=h[p&b];t:for(;;){if(x=S>>>24,p>>>=x,m-=x,x=S>>>16&255,x===0)R[i++]=S&65535;else if(x&16){C=S&65535,x&=15,x&&(m<x&&(p+=E[n++]<<m,m+=8),C+=p&(1<<x)-1,p>>>=x,m-=x),m<15&&(p+=E[n++]<<m,m+=8,p+=E[n++]<<m,m+=8),S=v[p&_];r:for(;;){if(x=S>>>24,p>>>=x,m-=x,x=S>>>16&255,x&16){if(O=S&65535,x&=15,m<x&&(p+=E[n++]<<m,m+=8,m<x&&(p+=E[n++]<<m,m+=8)),O+=p&(1<<x)-1,O>c){e.msg="invalid distance too far back",r.mode=Ph;break e}if(p>>>=x,m-=x,x=i-a,O>x){if(x=O-x,x>l&&r.sane){e.msg="invalid distance too far back",r.mode=Ph;break e}if(k=0,P=d,f===0){if(k+=u-x,x<C){C-=x;do R[i++]=d[k++];while(--x);k=i-O,P=R}}else if(f<x){if(k+=u+f-x,x-=f,x<C){C-=x;do R[i++]=d[k++];while(--x);if(k=0,f<C){x=f,C-=x;do R[i++]=d[k++];while(--x);k=i-O,P=R}}}else if(k+=f-x,x<C){C-=x;do R[i++]=d[k++];while(--x);k=i-O,P=R}for(;C>2;)R[i++]=P[k++],R[i++]=P[k++],R[i++]=P[k++],C-=3;C&&(R[i++]=P[k++],C>1&&(R[i++]=P[k++]))}else{k=i-O;do R[i++]=R[k++],R[i++]=R[k++],R[i++]=R[k++],C-=3;while(C>2);C&&(R[i++]=R[k++],C>1&&(R[i++]=R[k++]))}}else if((x&64)===0){S=v[(S&65535)+(p&(1<<x)-1)];continue r}else{e.msg="invalid distance code",r.mode=Ph;break e}break}}else if((x&64)===0){S=h[(S&65535)+(p&(1<<x)-1)];continue t}else if(x&32){r.mode=fJ;break e}else{e.msg="invalid literal/length code",r.mode=Ph;break e}break}}while(n<o&&i<s);C=m>>3,n-=C,m-=C<<3,p&=(1<<m)-1,e.next_in=n,e.next_out=i,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=i<s?257+(s-i):257-(i-s),r.hold=p,r.bits=m}});var JA=y(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.default=vJ;var GA=da(),mc=15,YA=852,XA=592,ZA=0,F1=1,KA=2,pJ=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],mJ=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],hJ=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],gJ=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function vJ(e,t,r,n,o,i,a,s){var c=s.bits,u=0,l=0,f=0,d=0,p=0,m=0,h=0,v=0,b=0,_=0,S,x,C,O,k,P=null,E=0,R,I=(0,GA.Buf16)(mc+1),q=(0,GA.Buf16)(mc+1),N=null,M=0,D,U,B;for(u=0;u<=mc;u++)I[u]=0;for(l=0;l<n;l++)I[t[r+l]]++;for(p=c,d=mc;d>=1&&I[d]===0;d--);if(p>d&&(p=d),d===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<d&&I[f]===0;f++);for(p<f&&(p=f),v=1,u=1;u<=mc;u++)if(v<<=1,v-=I[u],v<0)return-1;if(v>0&&(e===ZA||d!==1))return-1;for(q[1]=0,u=1;u<mc;u++)q[u+1]=q[u]+I[u];for(l=0;l<n;l++)t[r+l]!==0&&(a[q[t[r+l]]++]=l);if(e===ZA?(P=N=a,R=19):e===F1?(P=pJ,E-=257,N=mJ,M-=257,R=256):(P=hJ,N=gJ,R=-1),_=0,l=0,u=f,k=i,m=p,h=0,C=-1,b=1<<p,O=b-1,e===F1&&b>YA||e===KA&&b>XA)return 1;for(;;){D=u-h,a[l]<R?(U=0,B=a[l]):a[l]>R?(U=N[M+a[l]],B=P[E+a[l]]):(U=96,B=0),S=1<<u-h,x=1<<m,f=x;do x-=S,o[k+(_>>h)+x]=D<<24|U<<16|B|0;while(x!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,l++,--I[u]===0){if(u===d)break;u=t[r+a[l]]}if(u>p&&(_&O)!==C){for(h===0&&(h=p),k+=f,m=u-h,v=1<<m;m+h<d&&(v-=I[m+h],!(v<=0));)m++,v<<=1;if(b+=1<<m,e===F1&&b>YA||e===KA&&b>XA)return 1;C=_&O,o[C]=p<<24|m<<16|k-i|0}}return _!==0&&(o[k+_]=u-h<<24|64<<16|0),s.bits=p,0}});var j2=y(Hr=>{"use strict";var Nh=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.inflateInfo=void 0;Hr.inflateResetKeep=R2;Hr.inflateReset=M2;Hr.inflateReset2=O2;Hr.inflateInit2=P2;Hr.inflateInit=OJ;Hr.inflate=AJ;Hr.inflateEnd=jJ;Hr.inflateGetHeader=IJ;Hr.inflateSetDictionary=LJ;var U1=Nh(I1()),Go=Nh(N1()),bJ=Nh(VA()),md=Nh(JA()),Sn=da(),yJ=0,C2=1,k2=2,QA=4,_J=5,Ah=6,Bs=0,xJ=1,wJ=2,Bn=-2,T2=-3,V1=-4,SJ=-5,e2=8,E2=1,t2=2,r2=3,n2=4,o2=5,i2=6,a2=7,s2=8,u2=9,c2=10,Lh=11,Oi=12,B1=13,l2=14,z1=15,f2=16,d2=17,p2=18,m2=19,jh=20,Ih=21,h2=22,g2=23,v2=24,b2=25,y2=26,H1=27,_2=28,x2=29,pt=30,G1=31,CJ=32,kJ=852,TJ=592,EJ=15,RJ=EJ;function w2(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function MJ(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=(0,Sn.Buf16)(320),this.work=(0,Sn.Buf16)(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R2(e){var t;return!e||!e.state?Bn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=E2,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=(0,Sn.Buf32)(kJ),t.distcode=t.distdyn=(0,Sn.Buf32)(TJ),t.sane=1,t.back=-1,Bs)}function M2(e){var t;return!e||!e.state?Bn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,R2(e))}function O2(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Bn:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,M2(e))}function P2(e,t){var r,n;return e?(n=new MJ,e.state=n,n.window=null,r=O2(e,t),r!==Bs&&(e.state=null),r):Bn}function OJ(e){return P2(e,RJ)}var S2=!0,W1,$1;function PJ(e){if(S2){var t;for(W1=(0,Sn.Buf32)(512),$1=(0,Sn.Buf32)(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for((0,md.default)(C2,e.lens,0,288,W1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;(0,md.default)(k2,e.lens,0,32,$1,0,e.work,{bits:5}),S2=!1}e.lencode=W1,e.lenbits=9,e.distcode=$1,e.distbits=5}function A2(e,t,r,n){var o,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=(0,Sn.Buf8)(i.wsize)),n>=i.wsize?((0,Sn.arraySet)(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>n&&(o=n),(0,Sn.arraySet)(i.window,t,r-n,o,i.wnext),n-=o,n?((0,Sn.arraySet)(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}function AJ(e,t){var r,n,o,i,a,s,c,u,l,f,d,p,m,h,v=0,b,_,S,x,C,O,k,P,E=(0,Sn.Buf8)(4),R,I,q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Bn;r=e.state,r.mode===Oi&&(r.mode=B1),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,f=s,d=c,P=Bs;e:for(;;)switch(r.mode){case E2:if(r.wrap===0){r.mode=B1;break}for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,E[0]=u&255,E[1]=u>>>8&255,r.check=(0,Go.default)(r.check,E,2,0),u=0,l=0,r.mode=t2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=pt;break}if((u&15)!==e2){e.msg="unknown compression method",r.mode=pt;break}if(u>>>=4,l-=4,k=(u&15)+8,r.wbits===0)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=pt;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=u&512?c2:Oi,u=0,l=0;break;case t2:for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==e2){e.msg="unknown compression method",r.mode=pt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=pt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(E[0]=u&255,E[1]=u>>>8&255,r.check=(0,Go.default)(r.check,E,2,0)),u=0,l=0,r.mode=r2;case r2:for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=(0,Go.default)(r.check,E,4,0)),u=0,l=0,r.mode=n2;case n2:for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(E[0]=u&255,E[1]=u>>>8&255,r.check=(0,Go.default)(r.check,E,2,0)),u=0,l=0,r.mode=o2;case o2:if(r.flags&1024){for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(E[0]=u&255,E[1]=u>>>8&255,r.check=(0,Go.default)(r.check,E,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=i2;case i2:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),(0,Sn.arraySet)(r.head.extra,n,i,p,k)),r.flags&512&&(r.check=(0,Go.default)(r.check,n,p,i)),s-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=a2;case a2:if(r.flags&2048){if(s===0)break e;p=0;do k=n[i+p++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&p<s);if(r.flags&512&&(r.check=(0,Go.default)(r.check,n,p,i)),s-=p,i+=p,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=s2;case s2:if(r.flags&4096){if(s===0)break e;p=0;do k=n[i+p++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&p<s);if(r.flags&512&&(r.check=(0,Go.default)(r.check,n,p,i)),s-=p,i+=p,k)break e}else r.head&&(r.head.comment=null);r.mode=u2;case u2:if(r.flags&512){for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=pt;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Oi;break;case c2:for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}e.adler=r.check=w2(u),u=0,l=0,r.mode=Lh;case Lh:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,wJ;e.adler=r.check=1,r.mode=Oi;case Oi:if(t===_J||t===Ah)break e;case B1:if(r.last){u>>>=l&7,l-=l&7,r.mode=H1;break}for(;l<3;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=l2;break;case 1:if(PJ(r),r.mode=jh,t===Ah){u>>>=2,l-=2;break e}break;case 2:r.mode=d2;break;case 3:e.msg="invalid block type",r.mode=pt}u>>>=2,l-=2;break;case l2:for(u>>>=l&7,l-=l&7;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=pt;break}if(r.length=u&65535,u=0,l=0,r.mode=z1,t===Ah)break e;case z1:r.mode=f2;case f2:if(p=r.length,p){if(p>s&&(p=s),p>c&&(p=c),p===0)break e;(0,Sn.arraySet)(o,n,i,p,a),s-=p,i+=p,c-=p,a+=p,r.length-=p;break}r.mode=Oi;break;case d2:for(;l<14;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=pt;break}r.have=0,r.mode=p2;case p2:for(;r.have<r.ncode;){for(;l<3;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.lens[q[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},P=(0,md.default)(yJ,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid code lengths set",r.mode=pt;break}r.have=0,r.mode=m2;case m2:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(S<16)u>>>=b,l-=b,r.lens[r.have++]=S;else{if(S===16){for(I=b+2;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u>>>=b,l-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=pt;break}k=r.lens[r.have-1],p=3+(u&3),u>>>=2,l-=2}else if(S===17){for(I=b+3;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,k=0,p=3+(u&7),u>>>=3,l-=3}else{for(I=b+7;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,k=0,p=11+(u&127),u>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=pt;break}for(;p--;)r.lens[r.have++]=k}}if(r.mode===pt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=pt;break}if(r.lenbits=9,R={bits:r.lenbits},P=(0,md.default)(C2,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid literal/lengths set",r.mode=pt;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},P=(0,md.default)(k2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,P){e.msg="invalid distances set",r.mode=pt;break}if(r.mode=jh,t===Ah)break e;case jh:r.mode=Ih;case Ih:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,(0,bJ.default)(e,d),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,r.mode===Oi&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(_&&(_&240)===0){for(x=b,C=_,O=S;v=r.lencode[O+((u&(1<<x+C)-1)>>x)],b=v>>>24,_=v>>>16&255,S=v&65535,!(x+b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=x,l-=x,r.back+=x}if(u>>>=b,l-=b,r.back+=b,r.length=S,_===0){r.mode=y2;break}if(_&32){r.back=-1,r.mode=Oi;break}if(_&64){e.msg="invalid literal/length code",r.mode=pt;break}r.extra=_&15,r.mode=h2;case h2:if(r.extra){for(I=r.extra;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=g2;case g2:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if((_&240)===0){for(x=b,C=_,O=S;v=r.distcode[O+((u&(1<<x+C)-1)>>x)],b=v>>>24,_=v>>>16&255,S=v&65535,!(x+b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=x,l-=x,r.back+=x}if(u>>>=b,l-=b,r.back+=b,_&64){e.msg="invalid distance code",r.mode=pt;break}r.offset=S,r.extra=_&15,r.mode=v2;case v2:if(r.extra){for(I=r.extra;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=pt;break}r.mode=b2;case b2:if(c===0)break e;if(p=d-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=pt;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),h=r.window}else h=o,m=a-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do o[a++]=h[m++];while(--p);r.length===0&&(r.mode=Ih);break;case y2:if(c===0)break e;o[a++]=r.length,c--,r.mode=Ih;break;case H1:if(r.wrap){for(;l<32;){if(s===0)break e;s--,u|=n[i++]<<l,l+=8}if(d-=c,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?(0,Go.default)(r.check,o,d,a-d):(0,U1.default)(r.check,o,d,a-d)),d=c,(r.flags?u:w2(u))!==r.check){e.msg="incorrect data check",r.mode=pt;break}u=0,l=0}r.mode=_2;case _2:if(r.wrap&&r.flags){for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=pt;break}u=0,l=0}r.mode=x2;case x2:P=xJ;break e;case pt:P=T2;break e;case G1:return V1;case CJ:default:return Bn}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<pt&&(r.mode<H1||t!==QA))&&A2(e,e.output,e.next_out,d-e.avail_out)?(r.mode=G1,V1):(f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?(0,Go.default)(r.check,o,d,e.next_out-d):(0,U1.default)(r.check,o,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Oi?128:0)+(r.mode===jh||r.mode===z1?256:0),(f===0&&d===0||t===QA)&&P===Bs&&(P=SJ),P)}function jJ(e){if(!e||!e.state)return Bn;var t=e.state;return t.window&&(t.window=null),e.state=null,Bs}function IJ(e,t){var r;return!e||!e.state||(r=e.state,(r.wrap&2)===0)?Bn:(r.head=t,t.done=!1,Bs)}function LJ(e,t){var r=t.length,n,o,i;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==Lh)?Bn:n.mode===Lh&&(o=1,o=(0,U1.default)(o,t,r,0),o!==n.check)?T2:(i=A2(e,t,r,r),i?(n.mode=G1,V1):(n.havedict=1,Bs))}Hr.inflateInfo="pako inflate (from Nodeca project)"});var Dh=y(Y1=>{"use strict";Object.defineProperty(Y1,"__esModule",{value:!0});Y1.default={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Z1=y(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.default=NJ;function NJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}});var I2=y(Yo=>{"use strict";var Q1=Yo&&Yo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ungzip=Yo.Inflate=void 0;Yo.inflate=ew;Yo.inflateRaw=qJ;var hd=da(),gd=P1(),Pt=dc(),DJ=Q1($A()),hc=j2(),J1=Q1(Dh()),FJ=Q1(Z1()),K1=Object.prototype.toString,Fh=class e{constructor(t){if(!(this instanceof e))return new e(t);this.options=(0,hd.assign)({chunkSize:16384,windowBits:0,to:""},t||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FJ.default,this.strm.avail_out=0;var n=(0,hc.inflateInit2)(this.strm,r.windowBits);if(n!==Pt.Z_OK)throw new Error(J1.default[n]);if(this.header=new DJ.default,(0,hc.inflateGetHeader)(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=(0,gd.string2buf)(r.dictionary):K1.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=(0,hc.inflateSetDictionary)(this.strm,r.dictionary),n!==Pt.Z_OK)))throw new Error(J1.default[n])}push(t,r){var n=this.strm,o=this.options.chunkSize,i=this.options.dictionary,a,s,c,u,l,f,d=!1;if(this.ended)return!1;s=r===~~r?r:r===!0?Pt.Z_FINISH:Pt.Z_NO_FLUSH,typeof t=="string"?n.input=(0,gd.binstring2buf)(t):K1.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=(0,hd.Buf8)(o),n.next_out=0,n.avail_out=o),a=(0,hc.inflate)(n,Pt.Z_NO_FLUSH),a===Pt.Z_NEED_DICT&&i&&(typeof i=="string"?f=(0,gd.string2buf)(i):K1.call(i)==="[object ArrayBuffer]"?f=new Uint8Array(i):f=i,a=(0,hc.inflateSetDictionary)(this.strm,f)),a===Pt.Z_BUF_ERROR&&d===!0&&(a=Pt.Z_OK,d=!1),a!==Pt.Z_STREAM_END&&a!==Pt.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===Pt.Z_STREAM_END||n.avail_in===0&&(s===Pt.Z_FINISH||s===Pt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(c=(0,gd.utf8border)(n.output,n.next_out),u=n.next_out-c,l=(0,gd.buf2string)(n.output,c),n.next_out=u,n.avail_out=o-u,u&&(0,hd.arraySet)(n.output,n.output,c,u,0),this.onData(l)):this.onData((0,hd.shrinkBuf)(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(d=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==Pt.Z_STREAM_END);return a===Pt.Z_STREAM_END&&(s=Pt.Z_FINISH),s===Pt.Z_FINISH?(a=(0,hc.inflateEnd)(this.strm),this.onEnd(a),this.ended=!0,a===Pt.Z_OK):(s===Pt.Z_SYNC_FLUSH&&(this.onEnd(Pt.Z_OK),n.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===Pt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=(0,hd.flattenChunks)(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}};Yo.Inflate=Fh;function ew(e,t){var r=new Fh(t);if(r.push(e,!0),r.err)throw r.msg||J1.default[r.err];return r.result}function qJ(e,t){return t=t||{},t.raw=!0,ew(e,t)}Yo.ungzip=ew});var tj=y(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs._tr_init=tQ;Hs._tr_stored_block=ej;Hs._tr_align=rQ;Hs._tr_flush_block=nQ;Hs._tr_tally=oQ;var yc=dc(),BJ=da();function gc(e){for(var t=e.length;--t>=0;)e[t]=0}var zJ=0,B2=1,HJ=2,WJ=3,$J=258,iw=29,_d=256,bd=_d+1+iw,vc=30,uw=19,z2=2*bd+1,zs=15,tw=16,UJ=7,cw=256,H2=16,W2=17,$2=18,aw=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],VJ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],GJ=512,Xo,bc,_c,xc,Bh,vd;function rw(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}var V2,G2,Y2;function nw(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function X2(e){return e<256?_c[e]:_c[256+(e>>>7)]}function yd(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function rn(e,t,r){e.bi_valid>tw-r?(e.bi_buf|=t<<e.bi_valid&65535,yd(e,e.bi_buf),e.bi_buf=t>>tw-e.bi_valid,e.bi_valid+=r-tw):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Zo(e,t,r){rn(e,r[t*2],r[t*2+1])}function Z2(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function YJ(e){e.bi_valid===16?(yd(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function XJ(e,t){var r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,f,d,p,m,h=0;for(d=0;d<=zs;d++)e.bl_count[d]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<z2;u++)l=e.heap[u],d=r[r[l*2+1]*2+1]+1,d>c&&(d=c,h++),r[l*2+1]=d,!(l>n)&&(e.bl_count[d]++,p=0,l>=s&&(p=a[l-s]),m=r[l*2],e.opt_len+=m*(d+p),i&&(e.static_len+=m*(o[l*2+1]+p)));if(h!==0){do{for(d=c-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,h-=2}while(h>0);for(d=c;d!==0;d--)for(l=e.bl_count[d];l!==0;)f=e.heap[--u],!(f>n)&&(r[f*2+1]!==d&&(e.opt_len+=(d-r[f*2+1])*r[f*2],r[f*2+1]=d),l--)}}function K2(e,t,r){var n=new Array(zs+1),o=0,i,a;for(i=1;i<=zs;i++)n[i]=o=o+r[i-1]<<1;for(a=0;a<=t;a++){var s=e[a*2+1];s!==0&&(e[a*2]=Z2(n[s]++,s))}}function ZJ(){var e,t,r,n,o,i=new Array(zs+1);for(Xo=new Array((bd+2)*2),gc(Xo),bc=new Array(vc*2),gc(bc),_c=new Array(GJ),gc(_c),xc=new Array($J-WJ+1),gc(xc),Bh=new Array(iw),gc(Bh),vd=new Array(vc),gc(vd),r=0,n=0;n<iw-1;n++)for(Bh[n]=r,e=0;e<1<<aw[n];e++)xc[r++]=n;for(xc[r-1]=n,o=0,n=0;n<16;n++)for(vd[n]=o,e=0;e<1<<qh[n];e++)_c[o++]=n;for(o>>=7;n<vc;n++)for(vd[n]=o<<7,e=0;e<1<<qh[n]-7;e++)_c[256+o++]=n;for(t=0;t<=zs;t++)i[t]=0;for(e=0;e<=143;)Xo[e*2+1]=8,e++,i[8]++;for(;e<=255;)Xo[e*2+1]=9,e++,i[9]++;for(;e<=279;)Xo[e*2+1]=7,e++,i[7]++;for(;e<=287;)Xo[e*2+1]=8,e++,i[8]++;for(K2(Xo,bd+1,i),e=0;e<vc;e++)bc[e*2+1]=5,bc[e*2]=Z2(e,5);V2=new rw(Xo,aw,_d+1,bd,zs),G2=new rw(bc,qh,0,vc,zs),Y2=new rw(new Array(0),VJ,0,uw,UJ)}function J2(e){var t;for(t=0;t<bd;t++)e.dyn_ltree[t*2]=0;for(t=0;t<vc;t++)e.dyn_dtree[t*2]=0;for(t=0;t<uw;t++)e.bl_tree[t*2]=0;e.dyn_ltree[cw*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q2(e){e.bi_valid>8?yd(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function KJ(e,t,r,n){Q2(e),n&&(yd(e,r),yd(e,~r)),(0,BJ.arraySet)(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function L2(e,t,r,n){var o=t*2,i=r*2;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]}function ow(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&L2(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!L2(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function N2(e,t,r){var n,o,i=0,a,s;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+i*2]<<8|e.pending_buf[e.d_buf+i*2+1],o=e.pending_buf[e.l_buf+i],i++,n===0?Zo(e,o,t):(a=xc[o],Zo(e,a+_d+1,t),s=aw[a],s!==0&&(o-=Bh[a],rn(e,o,s)),n--,a=X2(n),Zo(e,a,r),s=qh[a],s!==0&&(n-=vd[a],rn(e,n,s)));while(i<e.last_lit);Zo(e,cw,t)}function sw(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems,a,s,c=-1,u;for(e.heap_len=0,e.heap_max=z2,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)ow(e,r,a);u=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ow(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,r[u*2]=r[a*2]+r[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,r[a*2+1]=r[s*2+1]=u,e.heap[1]=u++,ow(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],XJ(e,t),K2(r,c,e.bl_count)}function D2(e,t,r){var n,o=-1,i,a=t[1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++s<c&&i===a)&&(s<u?e.bl_tree[i*2]+=s:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[H2*2]++):s<=10?e.bl_tree[W2*2]++:e.bl_tree[$2*2]++,s=0,o=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function F2(e,t,r){var n,o=-1,i,a=t[1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++s<c&&i===a)){if(s<u)do Zo(e,i,e.bl_tree);while(--s!==0);else i!==0?(i!==o&&(Zo(e,i,e.bl_tree),s--),Zo(e,H2,e.bl_tree),rn(e,s-3,2)):s<=10?(Zo(e,W2,e.bl_tree),rn(e,s-3,3)):(Zo(e,$2,e.bl_tree),rn(e,s-11,7));s=0,o=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}function JJ(e){var t;for(D2(e,e.dyn_ltree,e.l_desc.max_code),D2(e,e.dyn_dtree,e.d_desc.max_code),sw(e,e.bl_desc),t=uw-1;t>=3&&e.bl_tree[U2[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function QJ(e,t,r,n){var o;for(rn(e,t-257,5),rn(e,r-1,5),rn(e,n-4,4),o=0;o<n;o++)rn(e,e.bl_tree[U2[o]*2+1],3);F2(e,e.dyn_ltree,t-1),F2(e,e.dyn_dtree,r-1)}function eQ(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return yc.Z_BINARY;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return yc.Z_TEXT;for(r=32;r<_d;r++)if(e.dyn_ltree[r*2]!==0)return yc.Z_TEXT;return yc.Z_BINARY}var q2=!1;function tQ(e){q2||(ZJ(),q2=!0),e.l_desc=new nw(e.dyn_ltree,V2),e.d_desc=new nw(e.dyn_dtree,G2),e.bl_desc=new nw(e.bl_tree,Y2),e.bi_buf=0,e.bi_valid=0,J2(e)}function ej(e,t,r,n){rn(e,(zJ<<1)+(n?1:0),3),KJ(e,t,r,!0)}function rQ(e){rn(e,B2<<1,3),Zo(e,cw,Xo),YJ(e)}function nQ(e,t,r,n){var o,i,a=0;e.level>0?(e.strm.data_type===yc.Z_UNKNOWN&&(e.strm.data_type=eQ(e)),sw(e,e.l_desc),sw(e,e.d_desc),a=JJ(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=r+5,r+4<=o&&t!==-1?ej(e,t,r,n):e.strategy===yc.Z_FIXED||i===o?(rn(e,(B2<<1)+(n?1:0),3),N2(e,Xo,bc)):(rn(e,(HJ<<1)+(n?1:0),3),QJ(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N2(e,e.dyn_ltree,e.dyn_dtree)),J2(e),n&&Q2(e)}function oQ(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(xc[r]+_d+1)*2]++,e.dyn_dtree[X2(t)*2]++),e.last_lit===e.lit_bufsize-1}});var uj=y(nn=>{"use strict";var pw=nn&&nn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.deflateInfo=void 0;nn.deflateResetKeep=ij;nn.deflateReset=aj;nn.deflateSetHeader=SQ;nn.deflateInit2=sj;nn.deflateInit=CQ;nn.deflate=kQ;nn.deflateEnd=TQ;nn.deflateSetDictionary=EQ;var nj=pw(I1()),ue=dc(),pa=pw(N1()),iQ=pw(Dh()),zn=tj(),Wr=da(),aQ=9,sQ=15,uQ=8,cQ=29,lQ=256,fw=lQ+1+cQ,fQ=30,dQ=19,pQ=2*fw+1,mQ=15,We=3,ga=258,lo=ga+We+1,hQ=32,$h=42,dw=69,zh=73,Hh=91,Wh=103,Ws=113,wd=666,Ut=1,Sd=2,$s=3,Sc=4,gQ=3;function va(e,t){return e.msg=iQ.default[t],t}function rj(e){return(e<<1)-(e>4?9:0)}function ha(e){for(var t=e.length;--t>=0;)e[t]=0}function ma(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&((0,Wr.arraySet)(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function vr(e,t){(0,zn._tr_flush_block)(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ma(e.strm)}function Ge(e,t){e.pending_buf[e.pending++]=t}function xd(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function vQ(e,t,r,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,(0,Wr.arraySet)(t,e.input,e.next_in,o,r),e.state.wrap===1?e.adler=(0,nj.default)(e.adler,t,o,r):e.state.wrap===2&&(e.adler=(0,pa.default)(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}function oj(e,t){var r=e.max_chain_length,n=e.strstart,o,i,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-lo?e.strstart-(e.w_size-lo):0,u=e.window,l=e.w_mask,f=e.prev,d=e.strstart+ga,p=u[n+a-1],m=u[n+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(o=t,!(u[o+a]!==m||u[o+a-1]!==p||u[o]!==u[n]||u[++o]!==u[n+1])){n+=2,o++;do;while(u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&n<d);if(i=ga-(d-n),n=d-ga,i>a){if(e.match_start=t,a=i,i>=s)break;p=u[n+a-1],m=u[n+a]}}while((t=f[t&l])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead}function Us(e){var t=e.w_size,r,n,o,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-lo)){(0,Wr.arraySet)(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do o=e.head[--r],e.head[r]=o>=t?o-t:0;while(--n);n=t,r=n;do o=e.prev[--r],e.prev[r]=o>=t?o-t:0;while(--n);i+=t}if(e.strm.avail_in===0)break;if(n=vQ(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=We)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+We-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<We)););}while(e.lookahead<lo&&e.strm.avail_in!==0)}function bQ(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Us(e),e.lookahead===0&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,vr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-lo&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?$s:Sc):(e.strstart>e.block_start&&(vr(e,!1),e.strm.avail_out===0),Ut)}function lw(e,t){for(var r,n;;){if(e.lookahead<lo){if(Us(e),e.lookahead<lo&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(r=0,e.lookahead>=We&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-lo&&(e.match_length=oj(e,r)),e.match_length>=We)if(n=(0,zn._tr_tally)(e,e.strstart-e.match_start,e.match_length-We),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=We){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=(0,zn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=e.strstart<We-1?e.strstart:We-1,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?$s:Sc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:Sd}function wc(e,t){for(var r,n,o;;){if(e.lookahead<lo){if(Us(e),e.lookahead<lo&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(r=0,e.lookahead>=We&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=We-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-lo&&(e.match_length=oj(e,r),e.match_length<=5&&(e.strategy===ue.Z_FILTERED||e.match_length===We&&e.strstart-e.match_start>4096)&&(e.match_length=We-1)),e.prev_length>=We&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-We,n=(0,zn._tr_tally)(e,e.strstart-1-e.prev_match,e.prev_length-We),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=We-1,e.strstart++,n&&(vr(e,!1),e.strm.avail_out===0))return Ut}else if(e.match_available){if(n=(0,zn._tr_tally)(e,0,e.window[e.strstart-1]),n&&vr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ut}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=(0,zn._tr_tally)(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<We-1?e.strstart:We-1,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?$s:Sc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:Sd}function yQ(e,t){for(var r,n,o,i,a=e.window;;){if(e.lookahead<=ga){if(Us(e),e.lookahead<=ga&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=We&&e.strstart>0&&(o=e.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){i=e.strstart+ga;do;while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<i);e.match_length=ga-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=We?(r=(0,zn._tr_tally)(e,1,e.match_length-We),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=(0,zn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?$s:Sc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:Sd}function _Q(e,t){for(var r;;){if(e.lookahead===0&&(Us(e),e.lookahead===0)){if(t===ue.Z_NO_FLUSH)return Ut;break}if(e.match_length=0,r=(0,zn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?$s:Sc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:Sd}function Ko(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}var mw=function(){let e=[new Ko(0,0,0,0,bQ),new Ko(4,4,8,4,lw),new Ko(4,5,16,8,lw),new Ko(4,6,32,32,lw),new Ko(4,4,16,16,wc),new Ko(8,16,32,32,wc),new Ko(8,16,128,128,wc),new Ko(8,32,128,256,wc),new Ko(32,128,258,1024,wc),new Ko(32,258,258,4096,wc)];return mw=()=>e,e};function xQ(e){e.window_size=2*e.w_size,ha(e.head);let t=mw();e.max_lazy_match=t[e.level].max_lazy,e.good_match=t[e.level].good_length,e.nice_match=t[e.level].nice_length,e.max_chain_length=t[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=We-1,e.match_available=0,e.ins_h=0}function wQ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue.Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=(0,Wr.Buf16)(pQ*2),this.dyn_dtree=(0,Wr.Buf16)((2*fQ+1)*2),this.bl_tree=(0,Wr.Buf16)((2*dQ+1)*2),ha(this.dyn_ltree),ha(this.dyn_dtree),ha(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=(0,Wr.Buf16)(mQ+1),this.heap=(0,Wr.Buf16)(2*fw+1),ha(this.heap),this.heap_len=0,this.heap_max=0,this.depth=(0,Wr.Buf16)(2*fw+1),ha(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ij(e){var t;return!e||!e.state?va(e,ue.Z_STREAM_ERROR):(e.total_in=e.total_out=0,e.data_type=ue.Z_UNKNOWN,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?$h:Ws,e.adler=t.wrap===2?0:1,t.last_flush=ue.Z_NO_FLUSH,(0,zn._tr_init)(t),ue.Z_OK)}function aj(e){var t=ij(e);return t===ue.Z_OK&&xQ(e.state),t}function SQ(e,t){return!e||!e.state||e.state.wrap!==2?ue.Z_STREAM_ERROR:(e.state.gzhead=t,ue.Z_OK)}function sj(e,t,r,n,o,i){if(!e)return ue.Z_STREAM_ERROR;var a=1;if(t===ue.Z_DEFAULT_COMPRESSION&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>aQ||r!==ue.Z_DEFLATED||n<8||n>15||t<0||t>9||i<0||i>ue.Z_FIXED)return va(e,ue.Z_STREAM_ERROR);n===8&&(n=9);var s=new wQ;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+We-1)/We),s.window=(0,Wr.Buf8)(s.w_size*2),s.head=(0,Wr.Buf16)(s.hash_size),s.prev=(0,Wr.Buf16)(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=(0,Wr.Buf8)(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=r,aj(e)}function CQ(e,t){return sj(e,t,ue.Z_DEFLATED,sQ,uQ,ue.Z_DEFAULT_STRATEGY)}function kQ(e,t){var r,n,o,i;if(!e||!e.state||t>ue.Z_BLOCK||t<0)return e?va(e,ue.Z_STREAM_ERROR):ue.Z_STREAM_ERROR;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===wd&&t!==ue.Z_FINISH)return va(e,e.avail_out===0?ue.Z_BUF_ERROR:ue.Z_STREAM_ERROR);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===$h)if(n.wrap===2)e.adler=0,Ge(n,31),Ge(n,139),Ge(n,8),n.gzhead?(Ge(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ge(n,n.gzhead.time&255),Ge(n,n.gzhead.time>>8&255),Ge(n,n.gzhead.time>>16&255),Ge(n,n.gzhead.time>>24&255),Ge(n,n.level===9?2:n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?4:0),Ge(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Ge(n,n.gzhead.extra.length&255),Ge(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=dw):(Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,n.level===9?2:n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?4:0),Ge(n,gQ),n.status=Ws);else{var a=ue.Z_DEFLATED+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=hQ),a+=31-a%31,n.status=Ws,xd(n,a),n.strstart!==0&&(xd(n,e.adler>>>16),xd(n,e.adler&65535)),e.adler=1}if(n.status===dw)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),ma(e),o=n.pending,n.pending===n.pending_buf_size));)Ge(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=zh)}else n.status=zh;if(n.status===zh)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),ma(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Ge(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),i===0&&(n.gzindex=0,n.status=Hh)}else n.status=Hh;if(n.status===Hh)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),ma(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Ge(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,pa.default)(e.adler,n.pending_buf,n.pending-o,o)),i===0&&(n.status=Wh)}else n.status=Wh;if(n.status===Wh&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ma(e),n.pending+2<=n.pending_buf_size&&(Ge(n,e.adler&255),Ge(n,e.adler>>8&255),e.adler=0,n.status=Ws)):n.status=Ws),n.pending!==0){if(ma(e),e.avail_out===0)return n.last_flush=-1,ue.Z_OK}else if(e.avail_in===0&&rj(t)<=rj(r)&&t!==ue.Z_FINISH)return va(e,ue.Z_BUF_ERROR);if(n.status===wd&&e.avail_in!==0)return va(e,ue.Z_BUF_ERROR);if(e.avail_in!==0||n.lookahead!==0||t!==ue.Z_NO_FLUSH&&n.status!==wd){var c=n.strategy===ue.Z_HUFFMAN_ONLY?_Q(n,t):n.strategy===ue.Z_RLE?yQ(n,t):mw()[n.level].func(n,t);if((c===$s||c===Sc)&&(n.status=wd),c===Ut||c===$s)return e.avail_out===0&&(n.last_flush=-1),ue.Z_OK;if(c===Sd&&(t===ue.Z_PARTIAL_FLUSH?(0,zn._tr_align)(n):t!==ue.Z_BLOCK&&((0,zn._tr_stored_block)(n,0,0,!1),t===ue.Z_FULL_FLUSH&&(ha(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ma(e),e.avail_out===0))return n.last_flush=-1,ue.Z_OK}return t!==ue.Z_FINISH?ue.Z_OK:n.wrap<=0?ue.Z_STREAM_END:(n.wrap===2?(Ge(n,e.adler&255),Ge(n,e.adler>>8&255),Ge(n,e.adler>>16&255),Ge(n,e.adler>>24&255),Ge(n,e.total_in&255),Ge(n,e.total_in>>8&255),Ge(n,e.total_in>>16&255),Ge(n,e.total_in>>24&255)):(xd(n,e.adler>>>16),xd(n,e.adler&65535)),ma(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ue.Z_OK:ue.Z_STREAM_END)}function TQ(e){var t;return!e||!e.state?ue.Z_STREAM_ERROR:(t=e.state.status,t!==$h&&t!==dw&&t!==zh&&t!==Hh&&t!==Wh&&t!==Ws&&t!==wd?va(e,ue.Z_STREAM_ERROR):(e.state=null,t===Ws?va(e,ue.Z_DATA_ERROR):ue.Z_OK))}function EQ(e,t){var r=t.length,n,o,i,a,s,c,u,l;if(!e||!e.state||(n=e.state,a=n.wrap,a===2||a===1&&n.status!==$h||n.lookahead))return ue.Z_STREAM_ERROR;for(a===1&&(e.adler=(0,nj.default)(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(a===0&&(ha(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=(0,Wr.Buf8)(n.w_size),(0,Wr.arraySet)(l,t,r-n.w_size,n.w_size,0),t=l,r=n.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=r,e.next_in=0,e.input=t,Us(n);n.lookahead>=We;){o=n.strstart,i=n.lookahead-(We-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+We-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++;while(--i);n.strstart=o,n.lookahead=We-1,Us(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=We-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,n.wrap=a,ue.Z_OK}nn.deflateInfo="pako deflate (from Nodeca project)"});var fj=y(Pi=>{"use strict";var lj=Pi&&Pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Deflate=void 0;Pi.deflate=vw;Pi.deflateRaw=MQ;Pi.gzip=OQ;var Cd=da(),hw=P1(),br=dc(),kd=uj(),gw=lj(Dh()),RQ=lj(Z1()),cj=Object.prototype.toString,Uh=class{constructor(t){this.options=(0,Cd.assign)({level:br.Z_DEFAULT_COMPRESSION,method:br.Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:br.Z_DEFAULT_STRATEGY,to:""},t||{});var r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RQ.default,this.strm.avail_out=0;var n=(0,kd.deflateInit2)(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==br.Z_OK)throw new Error(gw.default[n]);if(r.header&&(0,kd.deflateSetHeader)(this.strm,r.header),r.dictionary){var o;if(typeof r.dictionary=="string"?o=(0,hw.string2buf)(r.dictionary):cj.call(r.dictionary)==="[object ArrayBuffer]"?o=new Uint8Array(r.dictionary):o=r.dictionary,n=(0,kd.deflateSetDictionary)(this.strm,o),n!==br.Z_OK)throw new Error(gw.default[n]);this._dict_set=!0}}push(t,r){var n=this.strm,o=this.options.chunkSize,i,a;if(this.ended)return!1;a=r===~~r?r:r===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof t=="string"?n.input=(0,hw.string2buf)(t):cj.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=(0,Cd.Buf8)(o),n.next_out=0,n.avail_out=o),i=(0,kd.deflate)(n,a),i!==br.Z_STREAM_END&&i!==br.Z_OK)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===br.Z_FINISH||a===br.Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData((0,hw.buf2binstring)((0,Cd.shrinkBuf)(n.output,n.next_out))):this.onData((0,Cd.shrinkBuf)(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==br.Z_STREAM_END);return a===br.Z_FINISH?(i=(0,kd.deflateEnd)(this.strm),this.onEnd(i),this.ended=!0,i===br.Z_OK):(a===br.Z_SYNC_FLUSH&&(this.onEnd(br.Z_OK),n.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=(0,Cd.flattenChunks)(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}};Pi.Deflate=Uh;function vw(e,t){var r=new Uh(t);if(r.push(e,!0),r.err)throw r.msg||gw.default[r.err];return r.result}function MQ(e,t){return t=t||{},t.raw=!0,vw(e,t)}function OQ(e,t){return t=t||{},t.gzip=!0,vw(e,t)}});var dj=y(Ai=>{"use strict";var PQ=Ai&&Ai.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),bw=Ai&&Ai.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PQ(t,e,r)};Object.defineProperty(Ai,"__esModule",{value:!0});bw(dc(),Ai);bw(I2(),Ai);bw(fj(),Ai)});var _w=y(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0});yw.concatUint8Array=jQ;function AQ(e){let t=0;for(let r of e)t+=r.length;return t}function jQ(e,t){let r=new Uint8Array(t??AQ(e)),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}});var xw=y(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.unzip=IQ;Gh.unzipChunkSlice=LQ;var Vh=dj(),pj=_w();async function IQ(e){try{let t,r=0,n,o=[],i=0;do{let a=e.subarray(r);if(n=new Vh.Inflate(void 0),{strm:t}=n,n.push(a,Vh.Z_SYNC_FLUSH),n.err)throw new Error(n.msg);r+=t.next_in;let s=n.result;o.push(s),i+=s.length}while(t.avail_in);return(0,pj.concatUint8Array)(o,i)}catch(t){throw/incorrect header check/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function LQ(e,t,r){try{let n,{minv:o,maxv:i}=t,a=o.blockPosition,s=o.dataPosition,c=[],u=[],l=[],f=0,d=!1,p=0;do{let m=e.subarray(a-o.blockPosition),h=a.toString(),v,b,_=r?.get(h);if(_)v=_.buffer,b=_.nextIn,d=!0;else{let C=new Vh.Inflate(void 0);if({strm:n}=C,C.push(m,Vh.Z_SYNC_FLUSH),C.err)throw new Error(C.msg);v=C.result,b=n.next_in,d=!1,r?.set(h,{buffer:v,nextIn:b})}c.push(v);let S=v.length;u.push(a),l.push(s),c.length===1&&o.dataPosition&&(c[0]=c[0].subarray(o.dataPosition),S=c[0].length);let x=a;if(a+=b,s+=S,x>=i.blockPosition){c[f]=c[f].subarray(0,i.blockPosition===o.blockPosition?i.dataPosition-o.dataPosition+1:i.dataPosition+1),p+=c[f].length,u.push(a),l.push(s);break}p+=S,f++}while(d?a<e.length+o.blockPosition:n.avail_in);return{buffer:(0,pj.concatUint8Array)(c,p),cpositions:u,dpositions:l}}catch(n){throw/incorrect header check/.exec(`${n}`)?new Error("problem decompressing block: incorrect gzip header check"):n}}});var mj=y(Td=>{"use strict";var NQ=Td&&Td.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});var DQ=NQ(qA()),FQ=xw(),qQ=_w(),ww=class{constructor({filehandle:t,gziFilehandle:r}){this.filehandle=t,this.gzi=new DQ.default({filehandle:r})}async _readAndUncompressBlock(t,r){let n=r;n||(n=(await this.filehandle.stat()).size);let o=n-t,i=await this.filehandle.read(o,t);return(0,FQ.unzip)(i)}async read(t,r){let n=await this.gzi.getRelevantBlocksForRead(t,r),o=[];for(let i=0;i<n.length-1;i+=1){let a=await this._readAndUncompressBlock(n[i][0],n[i+1][0]),[,s]=n[i],c=s>=r?0:r-s,u=Math.min(r+t,s+a.length)-s;c>=0&&c<a.length&&o.push(a.subarray(c,u))}return(0,qQ.concatUint8Array)(o)}};Td.default=ww});var gj=y(Jo=>{"use strict";var BQ=Jo&&Jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.unzipChunkSlice=Jo.unzip=Jo.BgzfFilehandle=void 0;var zQ=mj();Object.defineProperty(Jo,"BgzfFilehandle",{enumerable:!0,get:function(){return BQ(zQ).default}});var hj=xw();Object.defineProperty(Jo,"unzip",{enumerable:!0,get:function(){return hj.unzip}});Object.defineProperty(Jo,"unzipChunkSlice",{enumerable:!0,get:function(){return hj.unzipChunkSlice}})});var vj=y(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});Cw.default=HQ;var Sw=$();function HQ(){let e=(0,Sw.useRef)(null),[t,r]=(0,Sw.useState)({width:void 0,height:void 0});return(0,Sw.useEffect)(()=>{if(!e.current)return;let n=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:void 0;if(!n)return;let o=new n(i=>{r({width:i[0].contentRect.width,height:i[0].contentRect.height})});return o.observe(e.current),()=>{o.disconnect()}},[]),[e,t]}});var Cc=y((wje,bj)=>{bj.exports=JBrowseExports["react-dom"]});var _j=y((Sje,yj)=>{yj.exports=JBrowseExports["react-dom/client"]});var Mw=y(Vs=>{Object.defineProperty(Vs,"__esModule",{value:!0});var WQ={grad:.9,turn:360,rad:360/(2*Math.PI)},ji=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},or=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},Hn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},Rj=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},xj=function(e){return{r:Hn(e.r,0,255),g:Hn(e.g,0,255),b:Hn(e.b,0,255),a:Hn(e.a)}},kw=function(e){return{r:or(e.r),g:or(e.g),b:or(e.b),a:or(e.a,3)}},$Q=/^#([0-9a-f]{3,8})$/i,Yh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Mj=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,i=Math.max(t,r,n),a=i-Math.min(t,r,n),s=a?i===t?(r-n)/a:i===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:o}},Oj=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var i=Math.floor(t),a=n*(1-r),s=n*(1-(t-i)*r),c=n*(1-(1-t+i)*r),u=i%6;return{r:255*[n,s,a,a,c,n][u],g:255*[c,n,n,s,a,a][u],b:255*[a,a,c,n,n,s][u],a:o}},wj=function(e){return{h:Rj(e.h),s:Hn(e.s,0,100),l:Hn(e.l,0,100),a:Hn(e.a)}},Sj=function(e){return{h:or(e.h),s:or(e.s),l:or(e.l),a:or(e.a,3)}},Cj=function(e){return Oj((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},Ed=function(e){return{h:(t=Mj(e)).h,s:(o=(200-(r=t.s))*(n=t.v)/100)>0&&o<200?r*n/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,r,n,o},UQ=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,VQ=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,GQ=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,YQ=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rw={string:[[function(e){var t=$Q.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?or(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?or(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=GQ.exec(e)||YQ.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:xj({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=UQ.exec(e)||VQ.exec(e);if(!t)return null;var r,n,o=wj({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(WQ[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Cj(o)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,o=e.a,i=o===void 0?1:o;return ji(t)&&ji(r)&&ji(n)?xj({r:Number(t),g:Number(r),b:Number(n),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,o=e.a,i=o===void 0?1:o;if(!ji(t)||!ji(r)||!ji(n))return null;var a=wj({h:Number(t),s:Number(r),l:Number(n),a:Number(i)});return Cj(a)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,o=e.a,i=o===void 0?1:o;if(!ji(t)||!ji(r)||!ji(n))return null;var a=(function(s){return{h:Rj(s.h),s:Hn(s.s,0,100),v:Hn(s.v,0,100),a:Hn(s.a)}})({h:Number(t),s:Number(r),v:Number(n),a:Number(i)});return Oj(a)},"hsv"]]},kj=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},Pj=function(e){return typeof e=="string"?kj(e.trim(),Rw.string):typeof e=="object"&&e!==null?kj(e,Rw.object):[null,void 0]},Tw=function(e,t){var r=Ed(e);return{h:r.h,s:Hn(r.s+100*t,0,100),l:r.l,a:r.a}},Ew=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Tj=function(e,t){var r=Ed(e);return{h:r.h,s:r.s,l:Hn(r.l+100*t,0,100),a:r.a}},Rd=(function(){function e(t){this.parsed=Pj(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return or(Ew(this.rgba),2)},e.prototype.isDark=function(){return Ew(this.rgba)<.5},e.prototype.isLight=function(){return Ew(this.rgba)>=.5},e.prototype.toHex=function(){return t=kw(this.rgba),r=t.r,n=t.g,o=t.b,a=(i=t.a)<1?Yh(or(255*i)):"","#"+Yh(r)+Yh(n)+Yh(o)+a;var t,r,n,o,i,a},e.prototype.toRgb=function(){return kw(this.rgba)},e.prototype.toRgbString=function(){return t=kw(this.rgba),r=t.r,n=t.g,o=t.b,(i=t.a)<1?"rgba("+r+", "+n+", "+o+", "+i+")":"rgb("+r+", "+n+", "+o+")";var t,r,n,o,i},e.prototype.toHsl=function(){return Sj(Ed(this.rgba))},e.prototype.toHslString=function(){return t=Sj(Ed(this.rgba)),r=t.h,n=t.s,o=t.l,(i=t.a)<1?"hsla("+r+", "+n+"%, "+o+"%, "+i+")":"hsl("+r+", "+n+"%, "+o+"%)";var t,r,n,o,i},e.prototype.toHsv=function(){return t=Mj(this.rgba),{h:or(t.h),s:or(t.s),v:or(t.v),a:or(t.a,3)};var t},e.prototype.invert=function(){return Qo({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Qo(Tw(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Qo(Tw(this.rgba,-t))},e.prototype.grayscale=function(){return Qo(Tw(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Qo(Tj(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Qo(Tj(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Qo({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):or(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=Ed(this.rgba);return typeof t=="number"?Qo({h:t,s:r.s,l:r.l,a:r.a}):or(r.h)},e.prototype.isEqual=function(t){return this.toHex()===Qo(t).toHex()},e})(),Qo=function(e){return e instanceof Rd?e:new Rd(e)},Ej=[];Vs.Colord=Rd,Vs.colord=Qo,Vs.extend=function(e){e.forEach(function(t){Ej.indexOf(t)<0&&(t(Rd,Rw),Ej.push(t))})},Vs.getFormat=function(e){return Pj(e)[1]},Vs.random=function(){return new Rd({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}});var Ij=y((kje,jj)=>{var ei=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},Ow=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Pw=function(e){return 255*(e>.0031308?1.055*Math.pow(e,.4166666666666667)-.055:12.92*e)},Aw=96.422,jw=100,Iw=82.521,XQ=function(e){var t,r,n={x:.9555766*(t=e).x+-.0230393*t.y+.0631636*t.z,y:-.0282895*t.x+1.0099416*t.y+.0210077*t.z,z:.0122982*t.x+-.020483*t.y+1.3299098*t.z};return r={r:Pw(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:Pw(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:Pw(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:e.a},{r:ei(r.r,0,255),g:ei(r.g,0,255),b:ei(r.b,0,255),a:ei(r.a)}},ZQ=function(e){var t=Ow(e.r),r=Ow(e.g),n=Ow(e.b);return(function(o){return{x:ei(o.x,0,Aw),y:ei(o.y,0,jw),z:ei(o.z,0,Iw),a:ei(o.a)}})((function(o){return{x:1.0478112*o.x+.0228866*o.y+-.050127*o.z,y:.0295424*o.x+.9904844*o.y+-.0170491*o.z,z:-.0092345*o.x+.0150436*o.y+.7521316*o.z,a:o.a}})({x:100*(.4124564*t+.3575761*r+.1804375*n),y:100*(.2126729*t+.7151522*r+.072175*n),z:100*(.0193339*t+.119192*r+.9503041*n),a:e.a}))},Md=216/24389,kc=24389/27,Aj=function(e){var t=ZQ(e),r=t.x/Aw,n=t.y/jw,o=t.z/Iw;return r=r>Md?Math.cbrt(r):(kc*r+16)/116,{l:116*(n=n>Md?Math.cbrt(n):(kc*n+16)/116)-16,a:500*(r-n),b:200*(n-(o=o>Md?Math.cbrt(o):(kc*o+16)/116)),alpha:t.a}},KQ=function(e,t,r){var n,o=Aj(e),i=Aj(t);return(function(a){var s=(a.l+16)/116,c=a.a/500+s,u=s-a.b/200;return XQ({x:(Math.pow(c,3)>Md?Math.pow(c,3):(116*c-16)/kc)*Aw,y:(a.l>8?Math.pow((a.l+16)/116,3):a.l/kc)*jw,z:(Math.pow(u,3)>Md?Math.pow(u,3):(116*u-16)/kc)*Iw,a:a.alpha})})({l:ei((n={l:o.l*(1-r)+i.l*r,a:o.a*(1-r)+i.a*r,b:o.b*(1-r)+i.b*r,alpha:o.alpha*(1-r)+i.alpha*r}).l,0,400),a:n.a,b:n.b,alpha:ei(n.alpha)})};jj.exports=function(e){function t(r,n,o){o===void 0&&(o=5);for(var i=[],a=1/(o-1),s=0;s<=o-1;s++)i.push(r.mix(n,a*s));return i}e.prototype.mix=function(r,n){n===void 0&&(n=.5);var o=r instanceof e?r:new e(r),i=KQ(this.toRgb(),o.toRgb(),n);return new e(i)},e.prototype.tints=function(r){return t(this,"#fff",r)},e.prototype.shades=function(r){return t(this,"#000",r)},e.prototype.tones=function(r){return t(this,"#808080",r)}}});var Nj=y((Tje,Lj)=>{Lj.exports=function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var o in r)n[r[o]]=o;var i={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,c,u=n[this.toHex()];if(u)return u;if(a?.closest){var l=this.toRgb(),f=1/0,d="black";if(!i.length)for(var p in r)i[p]=new e(r[p]).toRgb();for(var m in r){var h=(s=l,c=i[m],Math.pow(s.r-c.r,2)+Math.pow(s.g-c.g,2)+Math.pow(s.b-c.b,2));h<f&&(f=h,d=m)}return d}},t.string.push([function(a){var s=a.toLowerCase(),c=s==="transparent"?"#0000":r[s];return c?new e(c).toRgb():null},"name"])}});var Od=y(ba=>{"use strict";var Dj=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ba,"__esModule",{value:!0});ba.colord=ba.Colord=void 0;var JQ=Mw(),QQ=Dj(Ij()),eee=Dj(Nj());(0,JQ.extend)([QQ.default,eee.default]);var Fj=Mw();Object.defineProperty(ba,"Colord",{enumerable:!0,get:function(){return Fj.Colord}});Object.defineProperty(ba,"colord",{enumerable:!0,get:function(){return Fj.colord}})});var ya=y(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.createStopToken=ree;Pd.stopStopToken=nee;Pd.checkStopToken=oee;function tee(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ree(){var e;return((e=URL.createObjectURL)===null||e===void 0?void 0:e.call(URL,new Blob))||`${Math.random()}`}function nee(e){var t;(t=URL.revokeObjectURL)===null||t===void 0||t.call(URL,e)}function oee(e){if(typeof jest>"u"&&e!==void 0&&tee()){let t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch{throw new Error("aborted")}}}});var Bj=y(qj=>{"use strict";Object.defineProperty(qj,"__esModule",{value:!0})});var Gj=y((Oje,Vj)=>{"use strict";var $j=(e,t)=>e>t?1:e<t?-1:0,Lw=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),zj="eexxaacctt",iee=/\p{P}/gu,aee=["en",{numeric:!0,sensitivity:"base"}],Tc=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),Hj={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:1/0,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,1/0],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,r,n=$j)=>{let{idx:o,chars:i,terms:a,interLft2:s,interLft1:c,start:u,intraIns:l,interIns:f,cases:d}=e;return o.map((p,m)=>m).sort((p,m)=>i[m]-i[p]||l[p]-l[m]||a[m]+s[m]+.5*c[m]-(a[p]+s[p]+.5*c[p])||f[p]-f[m]||u[p]-u[m]||d[m]-d[p]||n(t[o[p]],t[o[m]]))}},Nw=(e,t)=>t==0?"":t==1?e+"??":t==1/0?e+"*?":e+`{0,${t}}?`,Wj="(?:\\b|_)";function Xh(e){e=Object.assign({},Hj,e);let{unicode:t,interLft:r,interRgt:n,intraMode:o,intraSlice:i,intraIns:a,intraSub:s,intraTrn:c,intraDel:u,intraContr:l,intraSplit:f,interSplit:d,intraBound:p,interBound:m,intraChars:h,toUpper:v,toLower:b,compare:_}=e;a??=o,s??=o,c??=o,u??=o,_??=typeof Intl>"u"?$j:new Intl.Collator(...aee).compare;let S=e.letters??e.alpha;if(S!=null){let W=v(S),ae=b(S);d=Tc(d,W,ae),f=Tc(f,W,ae),m=Tc(m,W,ae),p=Tc(p,W,ae),h=Tc(h,W,ae),l=Tc(l,W,ae)}let x=t?"u":"",C='".+?"',O=new RegExp(C,"gi"+x),k=new RegExp(`(?:\\s+|^)-(?:${h}+|${C})`,"gi"+x),{intraRules:P}=e;P==null&&(P=W=>{let ae=Hj.intraSlice,we=0,be=0,ne=0,de=0;if(/[^\d]/.test(W)){let Pe=W.length;Pe<=4?Pe>=3&&(ne=Math.min(c,1),Pe==4&&(we=Math.min(a,1))):(ae=i,we=a,be=s,ne=c,de=u)}return{intraSlice:ae,intraIns:we,intraSub:be,intraTrn:ne,intraDel:de}});let E=!!f,R=new RegExp(f,"g"+x),I=new RegExp(d,"g"+x),q=new RegExp("^"+d+"|"+d+"$","g"+x),N=new RegExp(l,"gi"+x),M=(W,ae=!1)=>{let we=[];W=W.replace(O,ne=>(we.push(ne),zj)),W=W.replace(q,""),ae||(W=b(W)),E&&(W=W.replace(R,ne=>ne[0]+" "+ne[1]));let be=0;return W.split(I).filter(ne=>ne!="").map(ne=>ne===zj?we[be++]:ne)},D=/[^\d]+|\d+/g,U=(W,ae=0,we=!1)=>{let be=M(W);if(be.length==0)return[];let ne=Array(be.length).fill("");be=be.map((ce,ke)=>ce.replace(N,Ae=>(ne[ke]=Ae,"")));let de;if(o==1)de=be.map((ce,ke)=>{if(ce[0]==='"')return Lw(ce.slice(1,-1));let Ae="";for(let pe of ce.matchAll(D)){let ee=pe[0],{intraSlice:_e,intraIns:Re,intraSub:Te,intraTrn:G,intraDel:K}=P(ee);if(Re+Te+G+K==0)Ae+=ee+ne[ke];else{let[X,Se]=_e,Me=ee.slice(0,X),Be=ee.slice(Se),at=ee.slice(X,Se);Re==1&&Me.length==1&&Me!=at[0]&&(Me+="(?!"+Me+")");let Ir=at.length,dr=[ee];if(Te)for(let Ie=0;Ie<Ir;Ie++)dr.push(Me+at.slice(0,Ie)+h+at.slice(Ie+1)+Be);if(G)for(let Ie=0;Ie<Ir-1;Ie++)at[Ie]!=at[Ie+1]&&dr.push(Me+at.slice(0,Ie)+at[Ie+1]+at[Ie]+at.slice(Ie+2)+Be);if(K)for(let Ie=0;Ie<Ir;Ie++)dr.push(Me+at.slice(0,Ie+1)+"?"+at.slice(Ie+1)+Be);if(Re){let Ie=Nw(h,1);for(let tr=0;tr<Ir;tr++)dr.push(Me+at.slice(0,tr)+Ie+at.slice(tr)+Be)}Ae+="(?:"+dr.join("|")+")"+ne[ke]}}return Ae});else{let ce=Nw(h,a);ae==2&&a>0&&(ce=")("+ce+")("),de=be.map((ke,Ae)=>ke[0]==='"'?Lw(ke.slice(1,-1)):ke.split("").map((pe,ee,_e)=>(a==1&&ee==0&&_e.length>1&&pe!=_e[ee+1]&&(pe+="(?!"+pe+")"),pe)).join(ce)+ne[Ae])}let Pe=r==2?Wj:"",ie=n==2?Wj:"",ye=ie+Nw(e.interChars,e.interIns)+Pe;return ae>0?we?de=Pe+"("+de.join(")"+ie+"|"+Pe+"(")+")"+ie:(de="("+de.join(")("+ye+")(")+")",de="(.??"+Pe+")"+de+"("+ie+".*)"):(de=de.join(ye),de=Pe+de+ie),[new RegExp(de,"i"+x),be,ne]},B=(W,ae,we)=>{let[be]=U(ae);if(be==null)return null;let ne=[];if(we!=null)for(let de=0;de<we.length;de++){let Pe=we[de];be.test(W[Pe])&&ne.push(Pe)}else for(let de=0;de<W.length;de++)be.test(W[de])&&ne.push(de);return ne},L=!!p,H=new RegExp(m,x),te=new RegExp(p,x),Ce=(W,ae,we)=>{let[be,ne,de]=U(we,1),Pe=M(we,!0),[ie]=U(we,2),ye=ne.length,ce=Array(ye),ke=Array(ye);for(let Te=0;Te<ye;Te++){let G=ne[Te],K=Pe[Te],X=G[0]=='"'?G.slice(1,-1):G+de[Te],Se=K[0]=='"'?K.slice(1,-1):K+de[Te];ce[Te]=X,ke[Te]=Se}let Ae=W.length,pe=Array(Ae).fill(0),ee={idx:Array(Ae),start:pe.slice(),chars:pe.slice(),cases:pe.slice(),terms:pe.slice(),interIns:pe.slice(),intraIns:pe.slice(),interLft2:pe.slice(),interRgt2:pe.slice(),interLft1:pe.slice(),interRgt1:pe.slice(),ranges:Array(Ae)},_e=r==1||n==1,Re=0;for(let Te=0;Te<W.length;Te++){let G=ae[W[Te]],K=G.match(be),X=K.index+K[1].length,Se=X,Me=!1,Be=0,at=0,Ir=0,dr=0,Ie=0,tr=0,Pn=0,Do=0,Lr=0,Ht=[];for(let $e=0,Ke=2;$e<ye;$e++,Ke+=2){let An=b(K[Ke]),Ct=ce[$e],oo=ke[$e],Tr=Ct.length,Lt=An.length,pr=An==Ct;if(K[Ke]==oo&&Pn++,!pr&&K[Ke+1].length>=Tr){let _t=b(K[Ke+1]).indexOf(Ct);_t>-1&&(Ht.push(Se,Lt,_t,Tr),Se+=ge(K,Ke,_t,Tr),An=Ct,Lt=Tr,pr=!0,$e==0&&(X=Se))}if(_e||pr){let _t=Se-1,tt=Se+Lt,Qr=!1,Ms=!1;if(_t==-1||H.test(G[_t]))pr&&Be++,Qr=!0;else{if(r==2){Me=!0;break}if(L&&te.test(G[_t]+G[_t+1]))pr&&at++,Qr=!0;else if(r==1){let Os=K[Ke+1],Fo=Se+Lt;if(Os.length>=Tr){let qo=0,Si=!1,ex=new RegExp(Ct,"ig"+x),bn;for(;bn=ex.exec(Os);){qo=bn.index;let Bo=Fo+qo,Wu=Bo-1;if(Wu==-1||H.test(G[Wu])){Be++,Si=!0;break}else if(te.test(G[Wu]+G[Bo])){at++,Si=!0;break}}Si&&(Qr=!0,Ht.push(Se,Lt,qo,Tr),Se+=ge(K,Ke,qo,Tr),An=Ct,Lt=Tr,pr=!0,$e==0&&(X=Se))}if(!Qr){Me=!0;break}}}if(tt==G.length||H.test(G[tt]))pr&&Ir++,Ms=!0;else{if(n==2){Me=!0;break}if(L&&te.test(G[tt-1]+G[tt]))pr&&dr++,Ms=!0;else if(n==1){Me=!0;break}}pr&&(Ie+=Tr,Qr&&Ms&&tr++)}if(Lt>Tr&&(Lr+=Lt-Tr),$e>0&&(Do+=K[Ke-1].length),!e.intraFilt(Ct,An,Se)){Me=!0;break}$e<ye-1&&(Se+=Lt+K[Ke+1].length)}if(!Me){ee.idx[Re]=W[Te],ee.interLft2[Re]=Be,ee.interLft1[Re]=at,ee.interRgt2[Re]=Ir,ee.interRgt1[Re]=dr,ee.chars[Re]=Ie,ee.terms[Re]=tr,ee.cases[Re]=Pn,ee.interIns[Re]=Do,ee.intraIns[Re]=Lr,ee.start[Re]=X;let $e=G.match(ie),Ke=$e.index+$e[1].length,An=Ht.length,Ct=An>0?0:1/0,oo=An-4;for(let _t=2;_t<$e.length;){let tt=$e[_t].length;if(Ct<=oo&&Ht[Ct]==Ke){let Qr=Ht[Ct+1],Ms=Ht[Ct+2],Os=Ht[Ct+3],Fo=_t,qo="";for(let Si=0;Si<Qr;Fo++)qo+=$e[Fo],Si+=$e[Fo].length;$e.splice(_t,Fo-_t,qo),Ke+=ge($e,_t,Ms,Os),Ct+=4}else Ke+=tt,_t++}Ke=$e.index+$e[1].length;let Tr=ee.ranges[Re]=[],Lt=Ke,pr=Ke;for(let _t=2;_t<$e.length;_t++){let tt=$e[_t].length;Ke+=tt,_t%2==0?pr=Ke:tt>0&&(Tr.push(Lt,pr),Lt=pr=Ke)}pr>Lt&&Tr.push(Lt,pr),Re++}}if(Re<W.length)for(let Te in ee)ee[Te]=ee[Te].slice(0,Re);return ee},ge=(W,ae,we,be)=>{let ne=W[ae]+W[ae+1].slice(0,we);return W[ae-1]+=ne,W[ae]=W[ae+1].slice(we,we+be),W[ae+1]=W[ae+1].slice(we+be),ne.length},Y=5,ze=(W,ae,we,be=1e3,ne)=>{we=we?we===!0?Y:we:0;let de=null,Pe=null,ie=[];ae=ae.replace(k,ee=>{let _e=ee.trim().slice(1);return _e=_e[0]==='"'?Lw(_e.slice(1,-1)):_e.replace(iee,""),_e!=""&&ie.push(_e),""});let ye=M(ae),ce;if(ie.length>0){if(ce=new RegExp(ie.join("|"),"i"+x),ye.length==0){let ee=[];for(let _e=0;_e<W.length;_e++)ce.test(W[_e])||ee.push(_e);return[ee,null,null]}}else if(ye.length==0)return[null,null,null];if(we>0){let ee=M(ae);if(ee.length>1){let _e=ee.slice().sort((Te,G)=>G.length-Te.length);for(let Te=0;Te<_e.length;Te++){if(ne?.length==0)return[[],null,null];ne=B(W,_e[Te],ne)}if(ee.length>we)return[ne,null,null];de=Uj(ee).map(Te=>Te.join(" ")),Pe=[];let Re=new Set;for(let Te=0;Te<de.length;Te++)if(Re.size<ne.length){let G=ne.filter(X=>!Re.has(X)),K=B(W,de[Te],G);for(let X=0;X<K.length;X++)Re.add(K[X]);Pe.push(K)}else Pe.push([])}}de==null&&(de=[ae],Pe=[ne?.length>0?ne:B(W,ae)]);let ke=null,Ae=null;if(ie.length>0&&(Pe=Pe.map(ee=>ee.filter(_e=>!ce.test(W[_e])))),Pe.reduce((ee,_e)=>ee+_e.length,0)<=be){ke={},Ae=[];for(let ee=0;ee<Pe.length;ee++){let _e=Pe[ee];if(_e==null||_e.length==0)continue;let Re=de[ee],Te=Ce(_e,W,Re),G=e.sort(Te,W,Re,_);if(ee>0)for(let K=0;K<G.length;K++)G[K]+=Ae.length;for(let K in Te)ke[K]=(ke[K]??[]).concat(Te[K]);Ae=Ae.concat(G)}}return[[].concat(...Pe),ke,Ae]};return{search:(...W)=>ze(...W),split:M,filter:B,info:Ce,sort:e.sort}}var see=(()=>{let e={A:"\xC1\xC0\xC3\xC2\xC4\u0104\u0102\xC5",a:"\xE1\xE0\xE3\xE2\xE4\u0105\u0103\xE5",E:"\xC9\xC8\xCA\xCB\u0116\u011A",e:"\xE9\xE8\xEA\xEB\u0119\u011B",I:"\xCD\xCC\xCE\xCF\u012E\u0130",i:"\xED\xEC\xEE\xEF\u012F\u0131",O:"\xD3\xD2\xD4\xD5\xD6",o:"\xF3\xF2\xF4\xF5\xF6",U:"\xDA\xD9\xDB\xDC\u016A\u0172\u016E\u0170",u:"\xFA\xF9\xFB\xFC\u016B\u0173\u016F\u0171",C:"\xC7\u010C\u0106",c:"\xE7\u010D\u0107",D:"\u010E",d:"\u010F",G:"\u011E",g:"\u011F",L:"\u0141",l:"\u0142",N:"\xD1\u0143\u0147",n:"\xF1\u0144\u0148",S:"\u0160\u015A\u0218\u015E",s:"\u0161\u015B\u0219\u015F",T:"\u0162\u021A\u0164",t:"\u0163\u021B\u0165",Y:"\xDD",y:"\xFD",Z:"\u017B\u0179\u017D",z:"\u017C\u017A\u017E"},t={},r="";for(let i in e)e[i].split("").forEach(a=>{r+=a,t[a]=i});let n=new RegExp(`[${r}]`,"g"),o=i=>t[i];return i=>{if(typeof i=="string")return i.replace(n,o);let a=Array(i.length);for(let s=0;s<i.length;s++)a[s]=i[s].replace(n,o);return a}})();function Uj(e){e=e.slice();let t=e.length,r=[e.slice()],n=new Array(t).fill(0),o=1,i,a;for(;o<t;)n[o]<o?(i=o%2&&n[o],a=e[o],e[o]=e[i],e[i]=a,++n[o],o=1,r.push(e.slice())):(n[o]=0,++o);return r}var uee=(e,t)=>t?`<mark>${e}</mark>`:e,cee=(e,t)=>e+t;function lee(e,t,r=uee,n="",o=cee){n=o(n,r(e.substring(0,t[0]),!1))??n;for(let i=0;i<t.length;i+=2){let a=t[i],s=t[i+1];n=o(n,r(e.substring(a,s),!0))??n,i<t.length-3&&(n=o(n,r(e.substring(t[i+1],t[i+2]),!1))??n)}return n=o(n,r(e.substring(t[t.length-1]),!1))??n,n}Xh.latinize=see;Xh.permute=e=>Uj([...Array(e.length).keys()]).sort((r,n)=>{for(let o=0;o<r.length;o++)if(r[o]!=n[o])return r[o]-n[o];return 0}).map(r=>r.map(n=>e[n]));Xh.highlight=lee;Vj.exports=Xh});var Yj=y(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.nanoid=on.customAlphabet=on.customRandom=on.random=on.urlAlphabet=void 0;on.urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var fee=e=>crypto.getRandomValues(new Uint8Array(e));on.random=fee;var dee=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(i=t)=>{let a="";for(;;){let s=r(o),c=o;for(;c--;)if(a+=e[s[c]&n]||"",a.length===i)return a}}};on.customRandom=dee;var pee=(e,t=21)=>(0,on.customRandom)(e,t,on.random);on.customAlphabet=pee;var mee=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");on.nanoid=mee});var Dw=y(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.FileLocation=xt.UriLocation=xt.UriLocationRaw=xt.BlobLocation=xt.LocalPathLocation=xt.Region=xt.NoAssemblyRegion=xt.ElementId=void 0;var Ye=Oe(),hee=Yj();xt.ElementId=Ye.types.optional(Ye.types.identifier,()=>(0,hee.nanoid)());xt.NoAssemblyRegion=Ye.types.model("NoAssemblyRegion",{refName:Ye.types.string,start:Ye.types.number,end:Ye.types.number,reversed:Ye.types.optional(Ye.types.boolean,!1)}).actions(e=>({setRefName(t){e.refName=t}}));xt.Region=Ye.types.compose("Region",xt.NoAssemblyRegion,Ye.types.model({assemblyName:Ye.types.string}));xt.LocalPathLocation=Ye.types.model("LocalPathLocation",{locationType:Ye.types.literal("LocalPathLocation"),localPath:Ye.types.string});xt.BlobLocation=Ye.types.model("BlobLocation",{locationType:Ye.types.literal("BlobLocation"),name:Ye.types.string,blobId:Ye.types.string});xt.UriLocationRaw=Ye.types.model("UriLocation",{locationType:Ye.types.literal("UriLocation"),uri:Ye.types.string,baseUri:Ye.types.maybe(Ye.types.string),internetAccountId:Ye.types.maybe(Ye.types.string),internetAccountPreAuthorization:Ye.types.maybe(Ye.types.model("InternetAccountPreAuthorization",{internetAccountType:Ye.types.string,authInfo:Ye.types.frozen()}))});xt.UriLocation=Ye.types.snapshotProcessor(xt.UriLocationRaw,{postProcessor:e=>{let{baseUri:t,...r}=e;return t?e:r}});xt.FileLocation=Ye.types.snapshotProcessor(Ye.types.union(xt.LocalPathLocation,xt.UriLocation,xt.BlobLocation),{preProcessor(e){if(!e)return;let{locationType:t,...r}=e;if(!t){let{uri:n,localPath:o,blob:i}=r,a="";return n!==void 0?a="UriLocation":o!==void 0?a="LocalPathLocation":i!==void 0&&(a="BlobLocation"),{...r,locationType:a}}return e}})});var Jj=y(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.default=See;var mt=Oe(),gee=fo(),vee=Uf(),bee=Dw();function yee(){return!0}var _ee={stringArray:mt.types.array(mt.types.string),stringArrayMap:mt.types.map(mt.types.array(mt.types.string)),numberMap:mt.types.map(mt.types.number),boolean:mt.types.boolean,color:mt.types.refinement("Color",mt.types.string,yee),integer:mt.types.integer,number:mt.types.number,string:mt.types.string,text:mt.types.string,fileLocation:bee.FileLocation,frozen:mt.types.frozen()},Xj={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},Fw=e=>({views:{get valueJSON(){return e.value}}}),Zj=e=>({views:{get valueJSON(){return JSON.stringify(e.value)}}}),Kj={fileLocation:Zj,number:Fw,integer:Fw,boolean:Fw,frozen:Zj,stringArray:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t){e.value.push(t)},removeAtIndex(t){e.value.splice(t,1)},setAtIndex(t,r){e.value[t]=r}}}),stringArrayMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)},addToKey(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.push(r)},removeAtKeyIndex(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.splice(r,1)},setAtKeyIndex(t,r,n){let o=e.value.get(t);if(!o)throw new Error(`${t} not found`);o[r]=n}}}),numberMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)}}})},xee=mt.types.refinement("JexlString",mt.types.string,e=>e.startsWith("jexl:"));function wee(e){return e?.toJSON?e.toJSON():`"${e}"`}function See(e,{description:t="",model:r,type:n,defaultValue:o,contextVariable:i=[]}){if(!n)throw new Error("type name required");if(r||(r=_ee[n]),!r)throw new Error(`no builtin config slot type "${n}", and no 'model' param provided`);if(o===void 0)throw new Error("no 'defaultValue' provided");let a=`${e.charAt(0).toUpperCase()}${e.slice(1)}ConfigSlot`,s=mt.types.model(a,{name:mt.types.literal(e),description:mt.types.literal(t),type:mt.types.literal(n),value:mt.types.optional(mt.types.union(xee,r),o)}).volatile(()=>({contextVariable:i})).views(l=>({get isCallback(){return String(l.value).startsWith("jexl:")}})).views(l=>({get expr(){if(l.isCallback){let{pluginManager:f}=(0,gee.getEnv)(l);return!f&&typeof jest>"u"&&console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,vee.stringToJexlExpression)(String(l.value),f?.jexl)}return{evalSync:()=>l.value}},get valueJSON(){if(!l.isCallback)return wee(l.value)}})).preProcessSnapshot(l=>typeof l=="object"&&l.name===e?l:{name:e,description:t,type:n,value:l}).postProcessSnapshot(l=>typeof l.value=="object"?JSON.stringify(l.value)!==JSON.stringify(o)?l.value:void 0:l.value!==o?l.value:void 0).actions(l=>({set(f){l.value=f},reset(){l.value=o},convertToCallback(){l.isCallback||(l.value=`jexl:${l.valueJSON||"''"}`)},convertToValue(){if(l.isCallback){try{let f=l.expr.evalSync();if(f!==void 0){l.value=f;return}}catch{}if(l.value=o,!(n in Xj))throw new Error(`no fallbackDefault defined for type ${n}`);l.value=Xj[n]}}}));Kj[n]&&(s=s.extend(Kj[n]));let u=mt.types.optional(s,{name:e,type:n,description:t,value:o});return Object.defineProperty(u,"isJBrowseConfigurationSlot",{value:!0}),u}});var eI=y(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.getSubType=Bw;xa.getUnionSubTypes=Qj;xa.getPropertyType=Cee;xa.getDefaultValue=kee;xa.getEnumerationValues=Tee;xa.resolveLateType=Eee;var _a=Oe();function Bw(e){let t;if((0,_a.isOptionalType)(e))t=e._subtype||e.type;else if((0,_a.isArrayType)(e)||(0,_a.isMapType)(e))t=e._subtype||e._subType||e.subType;else{if(typeof e.getSubType=="function")return e.getSubType();throw new TypeError("unsupported mst type")}if(!t)throw new Error("failed to get subtype");return t}function Qj(e){if(!(0,_a.isUnionType)(e))throw new TypeError("not an MST union type");let t=e._types||e.types||Bw(e)._types||Bw(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}function Cee(e,t){return e.properties[t]}function kee(e){if(!(0,_a.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue}function Tee(e){return Qj(e).map(r=>r.value)}function Eee(e){return!(0,_a.isUnionType)(e)&&!(0,_a.isArrayType)(e)&&(0,_a.isLateType)(e)?e.getSubType():e}});var zw=y(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.readConfObject=Zh;Ii.getConf=Ree;Ii.getTypeNamesFromExplicitlyTypedUnion=tI;Ii.isBareConfigurationSchemaType=rI;Ii.isConfigurationSchemaType=Ec;Ii.isConfigurationModel=nI;Ii.isConfigurationSlotType=Mee;var At=Oe(),wa=eI();function Zh(e,t,r={}){if(t){if(typeof t=="string"){let n=e[t];if(!n&&(0,At.isStateTreeNode)(e)&&(0,At.isMapType)((0,At.getType)(e))&&(n=e.get(t)),n){let o=n.expr?n.expr.evalSync(r):n;return(0,At.isStateTreeNode)(o)?JSON.parse(JSON.stringify((0,At.getSnapshot)(o))):o}else return}else if(Array.isArray(t)){let n=t[0];if(t.length>1){let o=t.slice(1),i=e[n];return!i&&(0,At.isStateTreeNode)(e)&&(0,At.isMapType)((0,At.getType)(e))&&(i=e.get(n)),i?Zh(i,o,r):void 0}return Zh(e,n,r)}}else return structuredClone((0,At.getSnapshot)(e));throw new TypeError("slotPath must be a string or array")}function Ree(e,t,r){let{configuration:n}=e;if(nI(n))return Zh(n,t,r);throw new TypeError("cannot getConf on this model, it has no configuration")}function tI(e){if((0,At.isType)(e)&&(e=(0,wa.resolveLateType)(e),(0,At.isUnionType)(e))){let t=[];for(let r of(0,wa.getUnionSubTypes)(e)){r=(0,wa.resolveLateType)(r);let n=tI(r);if(n.length||(n=[(0,wa.getDefaultValue)(r).type]),!n[0])throw new Error(`invalid config schema type ${r}`);t.push(...n)}return t}return[]}function rI(e){return!!((0,At.isType)(e)&&((0,At.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema"))||(0,At.isLateType)(e)))}function Ec(e){return(0,At.isType)(e)?rI(e)?!0:(0,At.isUnionType)(e)?(0,wa.getUnionSubTypes)(e).every(t=>Ec(t)||t.name==="undefined"):(0,At.isOptionalType)(e)&&Ec((0,wa.getSubType)(e))||(0,At.isArrayType)(e)&&Ec((0,wa.getSubType)(e))?!0:!!((0,At.isMapType)(e)&&Ec((0,wa.getSubType)(e))):!1}function nI(e){return(0,At.isStateTreeNode)(e)&&Ec((0,At.getType)(e))}function Mee(e){return typeof e=="object"&&e!==null&&"isJBrowseConfigurationSlot"in e}});var aI=y(Rc=>{"use strict";var Oee=Rc&&Rc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.ConfigurationSchema=Nee;Rc.ConfigurationReference=Dee;var Wn=Oe(),Pee=Oee(Jj()),oI=zw(),iI=Dw();function Aee(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).length===0}function jee(e){return Array.isArray(e)&&e.length===0}function Iee(e,t,r={}){var n;if(typeof e!="string")throw new Error("first arg must be string name of the model that this config schema goes with");let o=t,i=r;return!((n=r.baseConfiguration)===null||n===void 0)&&n.jbrowseSchemaDefinition&&(o={...r.baseConfiguration.jbrowseSchemaDefinition,...o},i={...r.baseConfiguration.jbrowseSchemaOptions,...r,baseConfiguration:void 0}),{schemaDefinition:o,options:i}}function Lee(e,t,r){let n={},o;if(r.explicitlyTyped&&(n.type=Wn.types.optional(Wn.types.literal(e),e)),r.explicitIdentifier&&r.implicitIdentifier)throw new Error(`Cannot have both explicit and implicit identifiers in ${e}`);r.explicitIdentifier?typeof r.explicitIdentifier=="string"?(n[r.explicitIdentifier]=Wn.types.identifier,o=r.explicitIdentifier):(n.id=Wn.types.identifier,o="id"):r.implicitIdentifier&&(typeof r.implicitIdentifier=="string"?(n[r.implicitIdentifier]=iI.ElementId,o=r.implicitIdentifier):(n.id=iI.ElementId,o="id"));let i={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:r}};for(let[l,f]of Object.entries(t))if((0,Wn.isType)(f)&&(0,Wn.isLateType)(f)||(0,oI.isConfigurationSchemaType)(f))n[l]=f;else if(typeof f=="string"||typeof f=="number")i[l]=f;else if(typeof f=="object"){if(!f.type)throw new Error(`no type set for config slot ${e}.${l}`);try{n[l]=(0,Pee.default)(l,f)}catch(d){throw new Error(`invalid config slot definition for ${e}.${l}: ${d}`)}}else throw new Error(`invalid configuration schema definition, "${l}" must be either a valid configuration slot definition, a constant, or a nested configuration schema`);let a=Wn.types.model(`${e}ConfigurationSchema`,n).actions(l=>({setSubschema(f,d){if(!(0,oI.isConfigurationSchemaType)(n[f]))throw new Error(`${f} is not a subschema, cannot replace`);let p=(0,Wn.isStateTreeNode)(d)?d:n[f].create(d);return l[f]=p,p}}));Object.keys(i).length&&(a=a.volatile(()=>i)),r.actions&&(a=a.actions(r.actions)),r.views&&(a=a.views(r.views)),r.extend&&(a=a.extend(r.extend));let s=o?{[o]:"placeholderId"}:{},c=r.explicitlyTyped?{type:e,...s}:s,u=(0,Wn.getSnapshot)(a.create(c));return a=a.postProcessSnapshot(l=>{let f={},d=!0;for(let[p,m]of Object.entries(l))d&&(typeof u[p]=="object"&&typeof m=="object"?JSON.stringify(u[p])!==JSON.stringify(m)&&(d=!1):u[p]!==m&&(d=!1)),m!==void 0&&i[p]===void 0&&!Aee(m)&&!jee(m)&&(f[p]=m);return d?{}:f}),r.preProcessSnapshot&&(a=a.preProcessSnapshot(r.preProcessSnapshot)),Wn.types.optional(a,c)}function Nee(e,t,r){let{schemaDefinition:n,options:o}=Iee(e,t,r),i=Lee(e,n,o);return i.isJBrowseConfigurationSchema=!0,i.jbrowseSchemaDefinition=n,i.jbrowseSchemaOptions=o,i}function Dee(e){return Wn.types.union(Wn.types.reference(e),e)}});var Hw=y(po=>{"use strict";var Fee=po&&po.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),qee=po&&po.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fee(t,e,r)};Object.defineProperty(po,"__esModule",{value:!0});po.ConfigurationSchema=po.ConfigurationReference=void 0;var sI=aI();Object.defineProperty(po,"ConfigurationReference",{enumerable:!0,get:function(){return sI.ConfigurationReference}});Object.defineProperty(po,"ConfigurationSchema",{enumerable:!0,get:function(){return sI.ConfigurationSchema}});qee(zw(),po)});var uI=y($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});var Ww=class extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(let[r,n]of t)this.onEviction(r,n.value)}_deleteIfExpired(t,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,r.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,r){if(!this._deleteIfExpired(t,r))return r.value}_getItemValue(t,r){return r.expiry?this._getOrDeleteIfExpired(t,r):r.value}_peek(t,r){let n=r.get(t);return this._getItemValue(t,n)}_set(t,r){this.cache.set(t,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,r){this.oldCache.delete(t),this._set(t,r)}*_entriesAscending(){for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield t)}for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield t)}}get(t){if(this.cache.has(t)){let r=this.cache.get(t);return this._getItemValue(t,r)}if(this.oldCache.has(t)){let r=this.oldCache.get(t);if(!this._deleteIfExpired(t,r))return this._moveToRecent(t,r),r.value}}set(t,r,{maxAge:n=this.maxAge}={}){let o=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(t)?this.cache.set(t,{value:r,expiry:o}):this._set(t,{value:r,expiry:o})}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-t;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield[r,n.value])}for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield[r,n.value])}}*entriesDescending(){let t=[...this.cache];for(let r=t.length-1;r>=0;--r){let n=t[r],[o,i]=n;this._deleteIfExpired(o,i)||(yield[o,i.value])}t=[...this.oldCache];for(let r=t.length-1;r>=0;--r){let n=t[r],[o,i]=n;this.cache.has(o)||this._deleteIfExpired(o,i)||(yield[o,i.value])}}*entriesAscending(){for(let[t,r]of this._entriesAscending())yield[t,r.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,r=this){for(let[n,o]of this.entriesAscending())t.call(r,o,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};$w.default=Ww});var lI=y(Ad=>{"use strict";var cI=Ad&&Ad.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});var Bee=cI(Gj()),Uw=Hw(),zee=cI(uI()),Vw=class{constructor(t){this.pluginManager=t,this.adapterCache=new zee.default({maxSize:15})}loadTextSearchAdapters(t){return Promise.all(this.relevantAdapters(t).map(async r=>{let n=(0,Uw.readConfObject)(r,"textSearchAdapterId"),o=this.adapterCache.get(n);if(o)return o;{let a=await this.pluginManager.getTextSearchAdapterType(r.type).getAdapterClass(),s=new a(r,void 0,this.pluginManager);return this.adapterCache.set(n,s),s}}))}relevantAdapters(t){let r=this.pluginManager.rootModel,{aggregateTextSearchAdapters:n}=r?.jbrowse,{tracks:o}=r?.session,{assemblyName:i}=t;return[...this.getAdaptersWithAssembly(i,n),...this.getTrackAdaptersWithAssembly(i,o)]}getAdaptersWithAssembly(t,r){return r.filter(n=>{var o;return(o=(0,Uw.readConfObject)(n,"assemblyNames"))===null||o===void 0?void 0:o.includes(t)})}getTrackAdaptersWithAssembly(t,r){return r.filter(n=>{var o;return(o=(0,Uw.readConfObject)(n,["textSearching","textSearchAdapter","assemblyNames"]))===null||o===void 0?void 0:o.includes(t)}).map(n=>n.textSearching.textSearchAdapter)}async search(t,r,n){return this.search2({args:t,searchScope:r,rankFn:n})}async search2({args:t,searchScope:r,rankFn:n}){let o=await this.loadTextSearchAdapters(r),i=await Promise.all(o.map(a=>a.searchIndex(t)));return this.sortResults2({args:t,results:i.flat(),rankFn:n})}sortResults2({results:t,rankFn:r,args:n}){let o=new Bee.default({}),i=t.map(u=>u.getDisplayString()),a=n.queryString,s=o.filter(i,a),c=[];if(s!=null&&s.length>0){let u=o.info(s,i,a),l=o.sort(u,i,a);for(let f of l)c.push(t[u.idx[f]])}return r(c)}};Ad.default=Vw});var jd=y(qe=>{"use strict";var Hee=qe&&qe.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Wee=qe&&qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Hee(t,e,r)},$ee=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.TextSearchManager=qe.RetryError=qe.AuthNeededError=void 0;qe.isViewContainer=Vee;qe.isSessionModel=Sa;qe.isSessionModelWithConfigEditing=Gee;qe.isSessionWithAddTracks=Yee;qe.isSessionWithShareURL=Xee;qe.isSessionModelWithWidgets=Zee;qe.isSessionModelWithConnections=Kee;qe.isSessionModelWithConnectionEditing=Jee;qe.isSessionWithSessionPlugins=Qee;qe.isSelectionContainer=ete;qe.isViewModel=tte;qe.isTrackModel=rte;qe.isDisplayModel=nte;qe.isTrackViewModel=ote;qe.isAppRootModel=ite;qe.isRootModelWithInternetAccounts=ate;qe.isAbstractMenuManager=ste;qe.isUriLocation=ute;qe.isLocalPathLocation=cte;qe.isBlobLocation=lte;qe.isAuthNeededException=fte;qe.isRetryException=dte;var Uee=Oe();Wee(Bj(),qe);function Vee(e){return(0,Uee.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e}function Sa(e){return typeof e=="object"&&e!==null&&"rpcManager"in e&&"configuration"in e}function Gee(e){return Sa(e)&&"editConfiguration"in e}function Yee(e){return Sa(e)&&"addTrackConf"in e&&!e.disableAddTracks}function Xee(e){return Sa(e)&&"shareURL"in e&&!!e.shareURL}function Zee(e){return Sa(e)&&"widgets"in e}function Kee(e){return Sa(e)&&"makeConnection"in e}function Jee(e){return Sa(e)&&"addConnectionConf"in e}function Qee(e){return Sa(e)&&"sessionPlugins"in e}function ete(e){return typeof e=="object"&&e!==null&&"selection"in e&&"setSelection"in e}function tte(e){return typeof e=="object"&&e!==null&&"width"in e&&"setWidth"in e}function rte(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.trackId}function nte(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.displayId}function ote(e){return typeof e=="object"&&e!==null&&"showTrack"in e&&"hideTrack"in e}function ite(e){return typeof e=="object"&&e!==null&&"findAppropriateInternetAccount"in e}function ate(e){return typeof e=="object"&&e!==null&&"internetAccounts"in e&&"findAppropriateInternetAccount"in e}function ste(e){return typeof e=="object"&&e!==null&&"appendMenu"in e&&"appendToSubMenu"in e}function ute(e){return typeof e=="object"&&e!==null&&"uri"in e&&!!e.uri}function cte(e){return typeof e=="object"&&e!==null&&"localPath"in e&&!!e.localPath}function lte(e){return typeof e=="object"&&e!==null&&"blobId"in e&&!!e.blobId}var Gw=class e extends Error{constructor(t,r){super(t),this.message=t,this.url=r,this.name="AuthNeededError",Object.setPrototypeOf(this,e.prototype)}};qe.AuthNeededError=Gw;var Yw=class extends Error{constructor(t,r){super(t),this.message=t,this.internetAccountId=r,this.name="RetryError"}};qe.RetryError=Yw;function fte(e){return e instanceof Error&&(e.name==="AuthNeededError"||e.url!==void 0)}function dte(e){return e.name==="RetryError"||e.internetAccountId!==void 0}var pte=lI();Object.defineProperty(qe,"TextSearchManager",{enumerable:!0,get:function(){return $ee(pte).default}})});var Gs=y((zje,fI)=>{fI.exports=JBrowseExports.mobx});var dI=y(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.when=void 0;var mte=Gs();Object.defineProperty(Kh,"when",{enumerable:!0,get:function(){return mte.when}})});var Xw=y(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.intersection2=hte;Id.doesIntersect2=gte;Id.isContainedWithin=vte;function hte(e,t,r,n){return t>r&&e<n&&n-r&&t-e?e>r?t<n?[e,t]:[e,n]:t<n?[r,t]:[r,n]:[]}function gte(e,t,r,n){return t>r&&e<n}function vte(e,t,r,n){return r<=e&&n>=t}});var pI=y(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});Zw.dedupe=bte;function bte(e,t=JSON.stringify){let r=[],n=new Set;for(let o of e){let i=t(o);n.has(i)||(r.push(o),n.add(i))}return r}});var eS=y((Uje,vI)=>{"use strict";var Jh={},tg={},Ld={METHOD:"method",PROPERTY:"property"},Qh=class{constructor(t,r){this.inst=t,this.args=r}},Kw=class extends Qh{constructor(t,r){super(t,r),this.type=Ld.METHOD}execute(t){t[this.inst](...this.args)}},Jw=class extends Qh{constructor(t,r){super(t,r),this.type=Ld.PROPERTY}execute(t){t[this.inst]=this.args[0]}},yte={[Ld.METHOD]:Kw,[Ld.PROPERTY]:Jw},eg=class{constructor(t,r,n){return new yte[t](r,n)}};Object.entries(Ld).forEach(([e,t])=>{Object.defineProperty(eg,e,{value:t,configurable:!1,enumerable:!0,writable:!1})});tg=eg;var hI=Object.freeze({METHODS:["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearHitRegions","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","removeHitRegion","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["direction","fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),ti=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")}),Nd=class{constructor(t=null){this[ti.sequence]=[],t&&this[ti.fromJSON](t)}[ti.fromJSON](t={sequence:[]}){t.sequence.forEach(({type:r,inst:n,args:o})=>{this[ti.push](r,n,o)})}[ti.push](t,r,n){this[ti.sequence].push(new tg(t,r,n))}execute(t){t.save(),this[ti.sequence].forEach(r=>r.execute(t)),t.restore()}toJSON(){return{sequence:this[ti.sequence]}}};hI.METHODS.forEach(e=>{Object.defineProperty(Nd.prototype,e,{value:function(...r){this[ti.push](tg.METHOD,e,r)},writable:!1,enumerable:!0,configurable:!1})});hI.PROPERTIES.forEach(e=>{Object.defineProperty(Nd.prototype,e,{get(){throw`Invalid canvas sequencer interaction, cannot get ${e}.`},set(t){this[ti.push](tg.PROPERTY,e,[t])},enumerable:!0,configurable:!1})});Jh=Nd;var gI={},mI=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});function _te(e,t){let r=e.replace(/^\{|\}$/gu,"");return r!==e?t.hasOwnProperty(r)?t[r]:r:e}var Qw=class extends Jh{build(t={}){let r=new Jh;return this[mI.sequence].forEach(({type:n,inst:o,args:i})=>{let a=i.map(s=>typeof s=="string"?_te(s,t):s);r[mI.push](n,o,a)}),r}execute(){throw new TypeError("Cannot execute a blueprint.")}};gI=Qw;vI.exports={CanvasSequence:Jh,CanvasBlueprint:gI}});var yI=y((Vje,bI)=>{bI.exports=!1});var tS=y(Rr=>{"use strict";var xte=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.ImageBitmapType=Rr.createImageBitmap=Rr.createCanvas=void 0;Rr.drawImageOntoCanvasContext=Ste;var xI=eS(),wte=xte(yI());function Ste(e,t){e.serializedCommands?new xI.CanvasSequence(e.serializedCommands).execute(t):t.drawImage(e,0,0)}var _I={realOffscreenCanvas:typeof OffscreenCanvas=="function",node:wte.default};_I.realOffscreenCanvas?(Rr.createCanvas=(e,t)=>new OffscreenCanvas(e,t),Rr.createImageBitmap=window.createImageBitmap||self.createImageBitmap,Rr.ImageBitmapType=window.ImageBitmap||self.ImageBitmap):_I.node?(Rr.createCanvas=(...e)=>nodeCreateCanvas(...e),Rr.createImageBitmap=async e=>{let t=e.toDataURL(),r=new nodeImage;return new Promise((n,o)=>{r.onload=()=>{n(r)},r.onerror=o,r.src=t})}):(Rr.createCanvas=(e,t)=>{let r=new xI.CanvasSequence;return{width:e,height:t,getContext(){return r}}},Rr.createImageBitmap=async e=>{let t=e.getContext("2d");return{height:e.height,width:e.width,serializedCommands:t.toJSON(),containsNoTransferables:!0}},Rr.ImageBitmapType=String)});var nS=y(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.blobToDataURL=Cte;function Cte(e){let t=new FileReader;return new Promise((r,n)=>{t.onload=o=>{o.target?r(o.target.result):n(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)})}});var wI=y((Xje,rg)=>{(function(){"use strict";var e,t,r,n,o;function i(f,d){var p=Object.keys(d),m;for(m=0;m<p.length;m++)f=f.replace(new RegExp("\\{"+p[m]+"\\}","gi"),d[p[m]]);return f}function a(f){var d,p,m;if(!f)throw new Error("cannot create a random attribute name for an undefined object");d="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="";do for(p="",m=0;m<12;m++)p+=d[Math.floor(Math.random()*d.length)];while(f[p]);return p}function s(f,d){var p,m,h={},v,b;for(f=f.split(","),d=d||10,p=0;p<f.length;p+=2)m="&"+f[p+1]+";",v=parseInt(f[p],d),h[m]="&#"+v+";";return h["\\xa0"]="&#160;",h}function c(f){var d={left:"start",right:"end",center:"middle",start:"start",end:"end"};return d[f]||d.start}function u(f){var d={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return d[f]||d.alphabetic}o=s("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},r=function(f,d){this.__root=f,this.__ctx=d},r.prototype.addColorStop=function(f,d){var p=this.__ctx.__createElement("stop"),m,h;p.setAttribute("offset",f),d.indexOf("rgba")!==-1?(m=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,h=m.exec(d),p.setAttribute("stop-color",i("rgb({r},{g},{b})",{r:h[1],g:h[2],b:h[3]})),p.setAttribute("stop-opacity",h[4])):p.setAttribute("stop-color",d),this.__root.appendChild(p)},n=function(f,d){this.__root=f,this.__ctx=d},t=function(f){var d={width:500,height:500,enableMirroring:!1},p;if(arguments.length>1?(p=d,p.width=arguments[0],p.height=arguments[1]):f?p=f:p=d,!(this instanceof t))return new t(p);this.width=p.width||d.width,this.height=p.height||d.height,this.enableMirroring=p.enableMirroring!==void 0?p.enableMirroring:d.enableMirroring,this.canvas=this,this.__document=p.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},t.prototype.__createElement=function(f,d,p){typeof d>"u"&&(d={});var m=this.__document.createElementNS("http://www.w3.org/2000/svg",f),h=Object.keys(d),v,b;for(p&&(m.setAttribute("fill","none"),m.setAttribute("stroke","none")),v=0;v<h.length;v++)b=h[v],m.setAttribute(b,d[b]);return m},t.prototype.__setDefaultStyles=function(){var f=Object.keys(e),d,p;for(d=0;d<f.length;d++)p=f[d],this[p]=e[p].canvas},t.prototype.__applyStyleState=function(f){var d=Object.keys(f),p,m;for(p=0;p<d.length;p++)m=d[p],this[m]=f[m]},t.prototype.__getStyleState=function(){var f,d={},p=Object.keys(e),m;for(f=0;f<p.length;f++)m=p[f],d[m]=this[m];return d},t.prototype.__applyStyleToCurrentElement=function(f){var d=Object.keys(e),p,m,h,v,b,_;for(p=0;p<d.length;p++)if(m=e[d[p]],h=this[d[p]],m.apply)if(m.apply.indexOf("fill")!==-1&&h instanceof n){if(h.__ctx)for(;h.__ctx.__defs.childNodes.length;)v=h.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[v]=v,this.__defs.appendChild(h.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",i("url(#{id})",{id:h.__root.getAttribute("id")}))}else m.apply.indexOf("fill")!==-1&&h instanceof r?this.__currentElement.setAttribute("fill",i("url(#{id})",{id:h.__root.getAttribute("id")})):m.apply.indexOf(f)!==-1&&m.svg!==h&&((m.svgAttr==="stroke"||m.svgAttr==="fill")&&h.indexOf("rgba")!==-1?(b=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,_=b.exec(h),this.__currentElement.setAttribute(m.svgAttr,i("rgb({r},{g},{b})",{r:_[1],g:_[2],b:_[3]})),this.__currentElement.setAttribute(m.svgAttr+"-opacity",_[4])):this.__currentElement.setAttribute(m.svgAttr,h))},t.prototype.__closestGroupOrSvg=function(f){return f=f||this.__currentElement,f.nodeName==="g"||f.nodeName==="svg"?f:this.__closestGroupOrSvg(f.parentNode)},t.prototype.getSerializedSvg=function(f){var d=new XMLSerializer().serializeToString(this.__root),p,m,h,v,b,_;if(_=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,_.test(d)&&(d=d.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),f)for(p=Object.keys(o),m=0;m<p.length;m++)h=p[m],v=o[h],b=new RegExp(h,"gi"),b.test(d)&&(d=d.replace(b,v));return d},t.prototype.getSvg=function(){return this.__root},t.prototype.save=function(){var f=this.__createElement("g"),d=this.__closestGroupOrSvg();this.__groupStack.push(d),d.appendChild(f),this.__currentElement=f,this.__stack.push(this.__getStyleState())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var f=this.__stack.pop();this.__applyStyleState(f)},t.prototype.__addTransform=function(f){var d=this.__closestGroupOrSvg();if(d.childNodes.length>0){var p=this.__createElement("g");d.appendChild(p),this.__currentElement=p}var m=this.__currentElement.getAttribute("transform");m?m+=" ":m="",m+=f,this.__currentElement.setAttribute("transform",m)},t.prototype.scale=function(f,d){d===void 0&&(d=f),this.__addTransform(i("scale({x},{y})",{x:f,y:d}))},t.prototype.rotate=function(f){var d=f*180/Math.PI;this.__addTransform(i("rotate({angle},{cx},{cy})",{angle:d,cx:0,cy:0}))},t.prototype.translate=function(f,d){this.__addTransform(i("translate({x},{y})",{x:f,y:d}))},t.prototype.transform=function(f,d,p,m,h,v){this.__addTransform(i("matrix({a},{b},{c},{d},{e},{f})",{a:f,b:d,c:p,d:m,e:h,f:v}))},t.prototype.beginPath=function(){var f,d;this.__currentDefaultPath="",this.__currentPosition={},f=this.__createElement("path",{},!0),d=this.__closestGroupOrSvg(),d.appendChild(f),this.__currentElement=f},t.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var f=this.__currentDefaultPath;this.__currentElement.setAttribute("d",f)}else throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)},t.prototype.__addPathCommand=function(f){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=f},t.prototype.moveTo=function(f,d){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:f,y:d},this.__addPathCommand(i("M {x} {y}",{x:f,y:d}))},t.prototype.closePath=function(){this.__addPathCommand("Z")},t.prototype.lineTo=function(f,d){this.__currentPosition={x:f,y:d},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(i("L {x} {y}",{x:f,y:d})):this.__addPathCommand(i("M {x} {y}",{x:f,y:d}))},t.prototype.bezierCurveTo=function(f,d,p,m,h,v){this.__currentPosition={x:h,y:v},this.__addPathCommand(i("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:f,cp1y:d,cp2x:p,cp2y:m,x:h,y:v}))},t.prototype.quadraticCurveTo=function(f,d,p,m){this.__currentPosition={x:p,y:m},this.__addPathCommand(i("Q {cpx} {cpy} {x} {y}",{cpx:f,cpy:d,x:p,y:m}))};var l=function(f){var d=Math.sqrt(f[0]*f[0]+f[1]*f[1]);return[f[0]/d,f[1]/d]};t.prototype.arcTo=function(f,d,p,m,h){var v=this.__currentPosition&&this.__currentPosition.x,b=this.__currentPosition&&this.__currentPosition.y;if(!(typeof v>"u"||typeof b>"u")){if(h<0)throw new Error("IndexSizeError: The radius provided ("+h+") is negative.");if(v===f&&b===d||f===p&&d===m||h===0){this.lineTo(f,d);return}var _=l([v-f,b-d]),S=l([p-f,m-d]);if(_[0]*S[1]===_[1]*S[0]){this.lineTo(f,d);return}var x=_[0]*S[0]+_[1]*S[1],C=Math.acos(Math.abs(x)),O=l([_[0]+S[0],_[1]+S[1]]),k=h/Math.sin(C/2),P=f+k*O[0],E=d+k*O[1],R=[-_[1],_[0]],I=[S[1],-S[0]],q=function(D){var U=D[0],B=D[1];return B>=0?Math.acos(U):-Math.acos(U)},N=q(R),M=q(I);this.lineTo(P+R[0]*h,E+R[1]*h),this.arc(P,E,h,N,M)}},t.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(f,d,p,m){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(f,d),this.lineTo(f+p,d),this.lineTo(f+p,d+m),this.lineTo(f,d+m),this.lineTo(f,d),this.closePath()},t.prototype.fillRect=function(f,d,p,m){var h,v;h=this.__createElement("rect",{x:f,y:d,width:p,height:m},!0),v=this.__closestGroupOrSvg(),v.appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(f,d,p,m){var h,v;h=this.__createElement("rect",{x:f,y:d,width:p,height:m},!0),v=this.__closestGroupOrSvg(),v.appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement("stroke")},t.prototype.clearRect=function(f,d,p,m){var h,v=this.__closestGroupOrSvg();h=this.__createElement("rect",{x:f,y:d,width:p,height:m,fill:"#FFFFFF"},!0),v.appendChild(h)},t.prototype.createLinearGradient=function(f,d,p,m){var h=this.__createElement("linearGradient",{id:a(this.__ids),x1:f+"px",x2:p+"px",y1:d+"px",y2:m+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(h),new r(h,this)},t.prototype.createRadialGradient=function(f,d,p,m,h,v){var b=this.__createElement("radialGradient",{id:a(this.__ids),cx:m+"px",cy:h+"px",r:v+"px",fx:f+"px",fy:d+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(b),new r(b,this)},t.prototype.__parseFont=function(){var f=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i,d=f.exec(this.font),p={style:d[1]||"normal",size:d[4]||"10px",family:d[6]||"sans-serif",weight:d[3]||"normal",decoration:d[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(p.decoration="underline"),this.__fontHref&&(p.href=this.__fontHref),p},t.prototype.__wrapTextLink=function(f,d){if(f.href){var p=this.__createElement("a");return p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.href),p.appendChild(d),p}return d},t.prototype.__applyText=function(f,d,p,m){var h=this.__parseFont(),v=this.__closestGroupOrSvg(),b=this.__createElement("text",{"font-family":h.family,"font-size":h.size,"font-style":h.style,"font-weight":h.weight,"text-decoration":h.decoration,x:d,y:p,"text-anchor":c(this.textAlign),"dominant-baseline":u(this.textBaseline)},!0);b.appendChild(this.__document.createTextNode(f)),this.__currentElement=b,this.__applyStyleToCurrentElement(m),v.appendChild(this.__wrapTextLink(h,b))},t.prototype.fillText=function(f,d,p){this.__applyText(f,d,p,"fill")},t.prototype.strokeText=function(f,d,p){this.__applyText(f,d,p,"stroke")},t.prototype.measureText=function(f){return this.__ctx.font=this.font,this.__ctx.measureText(f)},t.prototype.arc=function(f,d,p,m,h,v){if(m!==h){m=m%(2*Math.PI),h=h%(2*Math.PI),m===h&&(h=(h+2*Math.PI-.001*(v?-1:1))%(2*Math.PI));var b=f+p*Math.cos(h),_=d+p*Math.sin(h),S=f+p*Math.cos(m),x=d+p*Math.sin(m),C=v?0:1,O=0,k=h-m;k<0&&(k+=2*Math.PI),v?O=k>Math.PI?0:1:O=k>Math.PI?1:0,this.lineTo(S,x),this.__addPathCommand(i("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:p,xAxisRotation:0,largeArcFlag:O,sweepFlag:C,endX:b,endY:_})),this.__currentPosition={x:b,y:_}}},t.prototype.clip=function(){var f=this.__closestGroupOrSvg(),d=this.__createElement("clipPath"),p=a(this.__ids),m=this.__createElement("g");f.removeChild(this.__currentElement),d.setAttribute("id",p),d.appendChild(this.__currentElement),this.__defs.appendChild(d),f.setAttribute("clip-path",i("url(#{id})",{id:p})),f.appendChild(m),this.__currentElement=m},t.prototype.drawImage=function(){var f=Array.prototype.slice.call(arguments),d=f[0],p,m,h,v,b=0,_=0,S,x,C,O,k,P,E,R,I,q,N;if(f.length===3)p=f[1],m=f[2],S=d.width,x=d.height,h=S,v=x;else if(f.length===5)p=f[1],m=f[2],h=f[3],v=f[4],S=d.width,x=d.height;else if(f.length===9)b=f[1],_=f[2],S=f[3],x=f[4],p=f[5],m=f[6],h=f[7],v=f[8];else throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);if(C=this.__closestGroupOrSvg(),E=this.__currentElement,d instanceof t){for(O=d.getSvg(),k=O.childNodes[0];k.childNodes.length;)N=k.childNodes[0].getAttribute("id"),this.__ids[N]=N,this.__defs.appendChild(k.childNodes[0]);P=O.childNodes[1],C.appendChild(P),this.__currentElement=P,this.translate(p,m),this.__currentElement=E}else(d.nodeName==="CANVAS"||d.nodeName==="IMG")&&(R=this.__createElement("image"),R.setAttribute("width",h),R.setAttribute("height",v),R.setAttribute("preserveAspectRatio","none"),(b||_||S!==d.width||x!==d.height)&&(I=this.__document.createElement("canvas"),I.width=h,I.height=v,q=I.getContext("2d"),q.drawImage(d,b,_,S,x,0,0,h,v),d=I),R.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.nodeName==="CANVAS"?d.toDataURL():d.getAttribute("src")),C.appendChild(R),this.__currentElement=R,this.translate(p,m),this.__currentElement=E)},t.prototype.createPattern=function(f,d){var p=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),m=a(this.__ids),h;return p.setAttribute("id",m),p.setAttribute("width",f.width),p.setAttribute("height",f.height),f.nodeName==="CANVAS"||f.nodeName==="IMG"?(h=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),h.setAttribute("width",f.width),h.setAttribute("height",f.height),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.nodeName==="CANVAS"?f.toDataURL():f.getAttribute("src")),p.appendChild(h),this.__defs.appendChild(p)):f instanceof t&&(p.appendChild(f.__root.childNodes[1]),this.__defs.appendChild(p)),new n(p,this)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.getImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=t),typeof rg=="object"&&typeof rg.exports=="object"&&(rg.exports=t)})()});var kI=y(mo=>{"use strict";var kte=mo&&mo.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Tte=mo&&mo.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Ete=mo&&mo.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&kte(r,t,n[o]);return Tte(r,t),r}})();Object.defineProperty(mo,"__esModule",{value:!0});mo.renderToAbstractCanvas=Ote;mo.getSerializedSvg=Pte;mo.ReactRendering=Ate;var SI=F(),Rte=$(),CI=eS(),Mte=nS(),oS=tS();async function Ote(e,t,r,n){let{exportSVG:o,highResolutionScaling:i=1}=r;if(o)if(o.rasterizeLayers){let a=o.scale||i,s=(0,oS.createCanvas)(Math.ceil(e*a),t*a),c=s.getContext("2d");if(!c)throw new Error("2d canvas rendering not supported on this platform");return c.scale(a,a),{...await n(c),reactElement:(0,SI.jsx)("image",{width:e,height:t,xlinkHref:"convertToBlob"in s?await(0,Mte.blobToDataURL)(await s.convertToBlob({type:"image/png"})):s.toDataURL("image/png")})}}else{let a=new CI.CanvasSequence;return{...await n(a),canvasRecordedData:a.toJSON()}}else{let a=i,s=(0,oS.createCanvas)(Math.ceil(e*a),t*a),c=s.getContext("2d");if(!c)throw new Error("2d canvas rendering not supported on this platform");return c.scale(a,a),{...await n(c),imageData:await(0,oS.createImageBitmap)(s)}}}async function Pte(e){let{width:t,height:r,canvasRecordedData:n}=e,o=await Promise.resolve().then(()=>Ete(wI())),i=new o.default(t,r);return new CI.CanvasSequence(n).execute(i),i.getSvg().innerHTML}function Ate({rendering:e}){return(0,Rte.isValidElement)(e.reactElement)?e.reactElement:(0,SI.jsx)("g",{dangerouslySetInnerHTML:{__html:e.html||""}})}});var EI=y(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.isFeature=jte;function jte(e){return typeof e=="object"&&e!==null&&typeof e.get=="function"&&typeof e.id=="function"}function TI(e){return"uniqueId"in e&&typeof e.data!="object"}var iS=class e{constructor(t){var r;TI(t)?this.data=t:(this.data=t.data,this.parentHandle=t.parent);let n=TI(t)?t.uniqueId:t.id;if(n==null)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(n),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error(`invalid feature data, end less than start. end: ${this.data.end} start: ${this.data.start}`);this.data.subfeatures&&(this.subfeatures=(r=this.data.subfeatures)===null||r===void 0?void 0:r.map((o,i)=>typeof o.get!="function"?new e({id:o.uniqueId||`${n}-${i}`,data:{strand:this.data.strand,...o},parent:this}):o))}get(t){return t==="subfeatures"?this.subfeatures:t==="parent"?this.parent():this.data[t]}set(t,r){this.data[t]=r}tags(){return Object.keys(this.data)}id(){return this.uniqueId}parent(){return this.parentHandle}children(){return this.get("subfeatures")}toJSON(){let t={...this.data,uniqueId:this.id()},r=this.parent();r&&(t.parentId=r.id());let n=this.children();return n&&(t.subfeatures=n.map(o=>o.toJSON())),t}static fromJSON(t){return new e({...t})}};ng.default=iS});var Qe=y(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.isFunction=void 0;function Ite(e){return typeof e=="function"}og.isFunction=Ite});var Ca=y(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.createErrorClass=void 0;function Lte(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}ig.createErrorClass=Lte});var aS=y(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.UnsubscriptionError=void 0;var Nte=Ca();ag.UnsubscriptionError=Nte.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});var Li=y(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.arrRemove=void 0;function Dte(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}sg.arrRemove=Dte});var Cn=y(an=>{"use strict";var RI=an&&an.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MI=an&&an.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},OI=an&&an.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(an,"__esModule",{value:!0});an.isSubscription=an.EMPTY_SUBSCRIPTION=an.Subscription=void 0;var Dd=Qe(),sS=aS(),PI=Li(),uS=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=RI(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(Dd.isFunction(l))try{l()}catch(h){i=h instanceof sS.UnsubscriptionError?h.errors:[h]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=RI(f),p=d.next();!p.done;p=d.next()){var m=p.value;try{AI(m)}catch(h){i=i??[],h instanceof sS.UnsubscriptionError?i=OI(OI([],MI(i)),MI(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}if(i)throw new sS.UnsubscriptionError(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)AI(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&PI.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&PI.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})();an.Subscription=uS;an.EMPTY_SUBSCRIPTION=uS.EMPTY;function Fte(e){return e instanceof uS||e&&"closed"in e&&Dd.isFunction(e.remove)&&Dd.isFunction(e.add)&&Dd.isFunction(e.unsubscribe)}an.isSubscription=Fte;function AI(e){Dd.isFunction(e)?e():e.unsubscribe()}});var Mc=y(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.config=void 0;ug.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var cS=y(ri=>{"use strict";var jI=ri&&ri.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},II=ri&&ri.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ri,"__esModule",{value:!0});ri.timeoutProvider=void 0;ri.timeoutProvider={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ri.timeoutProvider.delegate;return o?.setTimeout?o.setTimeout.apply(o,II([e,t],jI(r))):setTimeout.apply(void 0,II([e,t],jI(r)))},clearTimeout:function(e){var t=ri.timeoutProvider.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});var lS=y(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.reportUnhandledError=void 0;var qte=Mc(),Bte=cS();function zte(e){Bte.timeoutProvider.setTimeout(function(){var t=qte.config.onUnhandledError;if(t)t(e);else throw e})}cg.reportUnhandledError=zte});var yr=y(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.noop=void 0;function Hte(){}lg.noop=Hte});var LI=y(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.createNotification=ni.nextNotification=ni.errorNotification=ni.COMPLETE_NOTIFICATION=void 0;ni.COMPLETE_NOTIFICATION=(function(){return fg("C",void 0,void 0)})();function Wte(e){return fg("E",void 0,e)}ni.errorNotification=Wte;function $te(e){return fg("N",e,void 0)}ni.nextNotification=$te;function fg(e,t,r){return{kind:e,value:t,error:r}}ni.createNotification=fg});var dg=y(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.captureError=Oc.errorContext=void 0;var NI=Mc(),Ys=null;function Ute(e){if(NI.config.useDeprecatedSynchronousErrorHandling){var t=!Ys;if(t&&(Ys={errorThrown:!1,error:null}),e(),t){var r=Ys,n=r.errorThrown,o=r.error;if(Ys=null,n)throw o}}else e()}Oc.errorContext=Ute;function Vte(e){NI.config.useDeprecatedSynchronousErrorHandling&&Ys&&(Ys.errorThrown=!0,Ys.error=e)}Oc.captureError=Vte});var Pc=y(ho=>{"use strict";var qI=ho&&ho.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(ho,"__esModule",{value:!0});ho.EMPTY_OBSERVER=ho.SafeSubscriber=ho.Subscriber=void 0;var Gte=Qe(),DI=Cn(),mS=Mc(),Yte=lS(),FI=yr(),fS=LI(),Xte=cS(),Zte=dg(),BI=(function(e){qI(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,DI.isSubscription(r)&&r.add(n)):n.destination=ho.EMPTY_OBSERVER,n}return t.create=function(r,n,o){return new zI(r,n,o)},t.prototype.next=function(r){this.isStopped?pS(fS.nextNotification(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?pS(fS.errorNotification(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?pS(fS.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(DI.Subscription);ho.Subscriber=BI;var Kte=Function.prototype.bind;function dS(e,t){return Kte.call(e,t)}var Jte=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){pg(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){pg(n)}else pg(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){pg(r)}},e})(),zI=(function(e){qI(t,e);function t(r,n,o){var i=e.call(this)||this,a;if(Gte.isFunction(r)||!r)a={next:r??void 0,error:n??void 0,complete:o??void 0};else{var s;i&&mS.config.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&dS(r.next,s),error:r.error&&dS(r.error,s),complete:r.complete&&dS(r.complete,s)}):a=r}return i.destination=new Jte(a),i}return t})(BI);ho.SafeSubscriber=zI;function pg(e){mS.config.useDeprecatedSynchronousErrorHandling?Zte.captureError(e):Yte.reportUnhandledError(e)}function Qte(e){throw e}function pS(e,t){var r=mS.config.onStoppedNotification;r&&Xte.timeoutProvider.setTimeout(function(){return r(e,t)})}ho.EMPTY_OBSERVER={closed:!0,next:FI.noop,error:Qte,complete:FI.noop}});var Fd=y(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.observable=void 0;mg.observable=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})()});var _r=y(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.identity=void 0;function ere(e){return e}hg.identity=ere});var qd=y(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.pipeFromArray=Ac.pipe=void 0;var tre=_r();function rre(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return HI(e)}Ac.pipe=rre;function HI(e){return e.length===0?tre.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}Ac.pipeFromArray=HI});var nt=y(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.Observable=void 0;var gS=Pc(),nre=Cn(),ore=Fd(),ire=qd(),are=Mc(),hS=Qe(),sre=dg(),ure=(function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=lre(t)?t:new gS.SafeSubscriber(t,r,n);return sre.errorContext(function(){var a=o,s=a.operator,c=a.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=WI(r),new r(function(o,i){var a=new gS.SafeSubscriber({next:function(s){try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ore.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ire.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=WI(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e})();gg.Observable=ure;function WI(e){var t;return(t=e??are.config.Promise)!==null&&t!==void 0?t:Promise}function cre(e){return e&&hS.isFunction(e.next)&&hS.isFunction(e.error)&&hS.isFunction(e.complete)}function lre(e){return e&&e instanceof gS.Subscriber||cre(e)&&nre.isSubscription(e)}});var J=y(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.operate=jc.hasLift=void 0;var fre=Qe();function $I(e){return fre.isFunction(e?.lift)}jc.hasLift=$I;function dre(e){return function(t){if($I(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}jc.operate=dre});var le=y(ka=>{"use strict";var pre=ka&&ka.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(ka,"__esModule",{value:!0});ka.OperatorSubscriber=ka.createOperatorSubscriber=void 0;var mre=Pc();function hre(e,t,r,n,o){return new UI(e,t,r,n,o)}ka.createOperatorSubscriber=hre;var UI=(function(e){pre(t,e);function t(r,n,o,i,a,s){var c=e.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t})(mre.Subscriber);ka.OperatorSubscriber=UI});var vS=y(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.refCount=void 0;var gre=J(),vre=le();function bre(){return gre.operate(function(e,t){var r=null;e._refCount++;var n=vre.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}vg.refCount=bre});var Bd=y(Ic=>{"use strict";var yre=Ic&&Ic.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ConnectableObservable=void 0;var _re=nt(),VI=Cn(),xre=vS(),wre=le(),Sre=J(),Cre=(function(e){yre(t,e);function t(r,n){var o=e.call(this)||this;return o.source=r,o.subjectFactory=n,o._subject=null,o._refCount=0,o._connection=null,Sre.hasLift(r)&&(o.lift=r.lift),o}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new VI.Subscription;var o=this.getSubject();n.add(this.source.subscribe(wre.createOperatorSubscriber(o,void 0,function(){r._teardown(),o.complete()},function(i){r._teardown(),o.error(i)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=VI.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return xre.refCount()(this)},t})(_re.Observable);Ic.ConnectableObservable=Cre});var GI=y(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.performanceTimestampProvider=void 0;zd.performanceTimestampProvider={now:function(){return(zd.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var bS=y(go=>{"use strict";var YI=go&&go.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},XI=go&&go.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(go,"__esModule",{value:!0});go.animationFrameProvider=void 0;var kre=Cn();go.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=go.animationFrameProvider.delegate;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);var o=t(function(i){r=void 0,e(i)});return new kre.Subscription(function(){return r?.(o)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=go.animationFrameProvider.delegate;return(r?.requestAnimationFrame||requestAnimationFrame).apply(void 0,XI([],YI(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=go.animationFrameProvider.delegate;return(r?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,XI([],YI(e)))},delegate:void 0}});var JI=y(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.animationFrames=void 0;var Tre=nt(),Ere=GI(),ZI=bS();function Rre(e){return e?KI(e):Mre}bg.animationFrames=Rre;function KI(e){return new Tre.Observable(function(t){var r=e||Ere.performanceTimestampProvider,n=r.now(),o=0,i=function(){t.closed||(o=ZI.animationFrameProvider.requestAnimationFrame(function(a){o=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),i()}))};return i(),function(){o&&ZI.animationFrameProvider.cancelAnimationFrame(o)}})}var Mre=KI()});var yS=y(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.ObjectUnsubscribedError=void 0;var Ore=Ca();yg.ObjectUnsubscribedError=Ore.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var xr=y(oi=>{"use strict";var eL=oi&&oi.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pre=oi&&oi.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(oi,"__esModule",{value:!0});oi.AnonymousSubject=oi.Subject=void 0;var QI=nt(),xS=Cn(),Are=yS(),jre=Li(),_S=dg(),tL=(function(e){eL(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new wS(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Are.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;_S.errorContext(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=Pre(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(r)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;_S.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;_S.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?xS.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new xS.Subscription(function(){n.currentObservers=null,jre.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?r.error(i):a&&r.complete()},t.prototype.asObservable=function(){var r=new QI.Observable;return r.source=this,r},t.create=function(r,n){return new wS(r,n)},t})(QI.Observable);oi.Subject=tL;var wS=(function(e){eL(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:xS.EMPTY_SUBSCRIPTION},t})(tL);oi.AnonymousSubject=wS});var SS=y(Lc=>{"use strict";var Ire=Lc&&Lc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.BehaviorSubject=void 0;var Lre=xr(),Nre=(function(e){Ire(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,i=r._value;if(n)throw o;return this._throwIfClosed(),i},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t})(Lre.Subject);Lc.BehaviorSubject=Nre});var _g=y(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.dateTimestampProvider=void 0;Hd.dateTimestampProvider={now:function(){return(Hd.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var xg=y(Nc=>{"use strict";var Dre=Nc&&Nc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.ReplaySubject=void 0;var Fre=xr(),qre=_g(),Bre=(function(e){Dre(t,e);function t(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=qre.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return t.prototype.next=function(r){var n=this,o=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,c=n._windowTime;o||(i.push(r),!a&&i.push(s.now()+c)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),c=0;c<s.length&&!r.closed;c+=i?1:2)r.next(s[c]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,i=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var c=o.now(),u=0,l=1;l<i.length&&i[l]<=c;l+=2)u=l;u&&i.splice(0,u+1)}},t})(Fre.Subject);Nc.ReplaySubject=Bre});var wg=y(Dc=>{"use strict";var zre=Dc&&Dc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.AsyncSubject=void 0;var Hre=xr(),Wre=(function(e){zre(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n._hasValue,a=n._value,s=n.thrownError,c=n.isStopped,u=n._isComplete;o?r.error(s):(c||u)&&(i&&r.next(a),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,o=r._value,i=r._isComplete;i||(this._isComplete=!0,n&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t})(Hre.Subject);Dc.AsyncSubject=Wre});var rL=y(Fc=>{"use strict";var $re=Fc&&Fc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Action=void 0;var Ure=Cn(),Vre=(function(e){$re(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},t})(Ure.Subscription);Fc.Action=Vre});var iL=y(ii=>{"use strict";var nL=ii&&ii.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},oL=ii&&ii.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ii,"__esModule",{value:!0});ii.intervalProvider=void 0;ii.intervalProvider={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ii.intervalProvider.delegate;return o?.setInterval?o.setInterval.apply(o,oL([e,t],nL(r))):setInterval.apply(void 0,oL([e,t],nL(r)))},clearInterval:function(e){var t=ii.intervalProvider.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0}});var Bc=y(qc=>{"use strict";var Gre=qc&&qc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(qc,"__esModule",{value:!0});qc.AsyncAction=void 0;var Yre=rL(),aL=iL(),Xre=Li(),Zre=(function(e){Gre(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),aL.intervalProvider.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&aL.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Xre.arrRemove(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t})(Yre.Action);qc.AsyncAction=Zre});var uL=y(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.TestTools=zc.Immediate=void 0;var Kre=1,CS,Sg={};function sL(e){return e in Sg?(delete Sg[e],!0):!1}zc.Immediate={setImmediate:function(e){var t=Kre++;return Sg[t]=!0,CS||(CS=Promise.resolve()),CS.then(function(){return sL(t)&&e()}),t},clearImmediate:function(e){sL(e)}};zc.TestTools={pending:function(){return Object.keys(Sg).length}}});var lL=y(ai=>{"use strict";var Jre=ai&&ai.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Qre=ai&&ai.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ai,"__esModule",{value:!0});ai.immediateProvider=void 0;var cL=uL(),ene=cL.Immediate.setImmediate,tne=cL.Immediate.clearImmediate;ai.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ai.immediateProvider.delegate;return(r?.setImmediate||ene).apply(void 0,Qre([],Jre(e)))},clearImmediate:function(e){var t=ai.immediateProvider.delegate;return(t?.clearImmediate||tne)(e)},delegate:void 0}});var dL=y(Hc=>{"use strict";var rne=Hc&&Hc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.AsapAction=void 0;var nne=Bc(),fL=lL(),one=(function(e){rne(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=fL.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var a=r.actions;n!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==n&&(fL.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},t})(nne.AsyncAction);Hc.AsapAction=one});var kS=y(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.Scheduler=void 0;var ine=_g(),ane=(function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=ine.dateTimestampProvider.now,e})();Cg.Scheduler=ane});var $c=y(Wc=>{"use strict";var sne=Wc&&Wc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.AsyncScheduler=void 0;var pL=kS(),une=(function(e){sne(t,e);function t(r,n){n===void 0&&(n=pL.Scheduler.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t})(pL.Scheduler);Wc.AsyncScheduler=une});var mL=y(Uc=>{"use strict";var cne=Uc&&Uc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.AsapScheduler=void 0;var lne=$c(),fne=(function(e){cne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var o=this.actions,i;r=r||o.shift();do if(i=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,i){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw i}},t})(lne.AsyncScheduler);Uc.AsapScheduler=fne});var hL=y(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.asap=Xs.asapScheduler=void 0;var dne=dL(),pne=mL();Xs.asapScheduler=new pne.AsapScheduler(dne.AsapAction);Xs.asap=Xs.asapScheduler});var sn=y(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.async=Zs.asyncScheduler=void 0;var mne=Bc(),hne=$c();Zs.asyncScheduler=new hne.AsyncScheduler(mne.AsyncAction);Zs.async=Zs.asyncScheduler});var gL=y(Vc=>{"use strict";var gne=Vc&&Vc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.QueueAction=void 0;var vne=Bc(),bne=(function(e){gne(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.flush(this),0)},t})(vne.AsyncAction);Vc.QueueAction=bne});var vL=y(Gc=>{"use strict";var yne=Gc&&Gc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.QueueScheduler=void 0;var _ne=$c(),xne=(function(e){yne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(_ne.AsyncScheduler);Gc.QueueScheduler=xne});var bL=y(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.queue=Ks.queueScheduler=void 0;var wne=gL(),Sne=vL();Ks.queueScheduler=new Sne.QueueScheduler(wne.QueueAction);Ks.queue=Ks.queueScheduler});var _L=y(Yc=>{"use strict";var Cne=Yc&&Yc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AnimationFrameAction=void 0;var kne=Bc(),yL=bS(),Tne=(function(e){Cne(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=yL.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var a=r.actions;n!=null&&n===r._scheduled&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==n&&(yL.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t})(kne.AsyncAction);Yc.AnimationFrameAction=Tne});var xL=y(Xc=>{"use strict";var Ene=Xc&&Xc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.AnimationFrameScheduler=void 0;var Rne=$c(),Mne=(function(e){Ene(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n;r?n=r.id:(n=this._scheduled,this._scheduled=void 0);var o=this.actions,i;r=r||o.shift();do if(i=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,i){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw i}},t})(Rne.AsyncScheduler);Xc.AnimationFrameScheduler=Mne});var wL=y(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.animationFrame=Js.animationFrameScheduler=void 0;var One=_L(),Pne=xL();Js.animationFrameScheduler=new Pne.AnimationFrameScheduler(One.AnimationFrameAction);Js.animationFrame=Js.animationFrameScheduler});var kL=y(Ta=>{"use strict";var SL=Ta&&Ta.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.VirtualAction=Ta.VirtualTimeScheduler=void 0;var Ane=Bc(),jne=Cn(),Ine=$c(),Lne=(function(e){SL(t,e);function t(r,n){r===void 0&&(r=CL),n===void 0&&(n=1/0);var o=e.call(this,r,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var r=this,n=r.actions,o=r.maxFrames,i,a;(a=n[0])&&a.delay<=o&&(n.shift(),this.frame=a.delay,!(i=a.execute(a.state,a.delay))););if(i){for(;a=n.shift();)a.unsubscribe();throw i}},t.frameTimeFactor=10,t})(Ine.AsyncScheduler);Ta.VirtualTimeScheduler=Lne;var CL=(function(e){SL(t,e);function t(r,n,o){o===void 0&&(o=r.index+=1);var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.index=o,i.active=!0,i.index=r.index=o,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)}else return jne.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,o){o===void 0&&(o=0),this.delay=r.frame+o;var i=r.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,o){o===void 0&&(o=0)},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t})(Ane.AsyncAction);Ta.VirtualAction=CL});var vo=y(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.empty=Qs.EMPTY=void 0;var TL=nt();Qs.EMPTY=new TL.Observable(function(e){return e.complete()});function Nne(e){return e?Dne(e):Qs.EMPTY}Qs.empty=Nne;function Dne(e){return new TL.Observable(function(t){return e.schedule(function(){return t.complete()})})}});var Wd=y(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.isScheduler=void 0;var Fne=Qe();function qne(e){return e&&Fne.isFunction(e.schedule)}kg.isScheduler=qne});var un=y(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.popNumber=Ea.popScheduler=Ea.popResultSelector=void 0;var Bne=Qe(),zne=Wd();function TS(e){return e[e.length-1]}function Hne(e){return Bne.isFunction(TS(e))?e.pop():void 0}Ea.popResultSelector=Hne;function Wne(e){return zne.isScheduler(TS(e))?e.pop():void 0}Ea.popScheduler=Wne;function $ne(e,t){return typeof TS(e)=="number"?e.pop():t}Ea.popNumber=$ne});var Eg=y(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.isArrayLike=void 0;Tg.isArrayLike=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"})});var ES=y(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.isPromise=void 0;var Une=Qe();function Vne(e){return Une.isFunction(e?.then)}Rg.isPromise=Vne});var RS=y(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.isInteropObservable=void 0;var Gne=Fd(),Yne=Qe();function Xne(e){return Yne.isFunction(e[Gne.observable])}Mg.isInteropObservable=Xne});var MS=y(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.isAsyncIterable=void 0;var Zne=Qe();function Kne(e){return Symbol.asyncIterator&&Zne.isFunction(e?.[Symbol.asyncIterator])}Og.isAsyncIterable=Kne});var OS=y(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.createInvalidObservableTypeError=void 0;function Jne(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Pg.createInvalidObservableTypeError=Jne});var PS=y(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.iterator=Zc.getSymbolIterator=void 0;function EL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Zc.getSymbolIterator=EL;Zc.iterator=EL()});var AS=y(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.isIterable=void 0;var Qne=PS(),eoe=Qe();function toe(e){return eoe.isFunction(e?.[Qne.iterator])}Ag.isIterable=toe});var jg=y($n=>{"use strict";var roe=$n&&$n.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Kc=$n&&$n.__await||function(e){return this instanceof Kc?(this.v=e,this):new Kc(e)},noe=$n&&$n.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){n[d]&&(o[d]=function(p){return new Promise(function(m,h){i.push([d,p,m,h])>1||s(d,p)})})}function s(d,p){try{c(n[d](p))}catch(m){f(i[0][3],m)}}function c(d){d.value instanceof Kc?Promise.resolve(d.value.v).then(u,l):f(i[0][2],d)}function u(d){s("next",d)}function l(d){s("throw",d)}function f(d,p){d(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty($n,"__esModule",{value:!0});$n.isReadableStreamLike=$n.readableStreamLikeToAsyncGenerator=void 0;var ooe=Qe();function ioe(e){return noe(this,arguments,function(){var r,n,o,i;return roe(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Kc(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,Kc(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Kc(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}$n.readableStreamLikeToAsyncGenerator=ioe;function aoe(e){return ooe.isFunction(e?.getReader)}$n.isReadableStreamLike=aoe});var je=y(ht=>{"use strict";var soe=ht&&ht.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},uoe=ht&&ht.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},coe=ht&&ht.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jS=="function"?jS(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},a)}},jS=ht&&ht.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ht,"__esModule",{value:!0});ht.fromReadableStreamLike=ht.fromAsyncIterable=ht.fromIterable=ht.fromPromise=ht.fromArrayLike=ht.fromInteropObservable=ht.innerFrom=void 0;var loe=Eg(),foe=ES(),Jc=nt(),doe=RS(),poe=MS(),moe=OS(),hoe=AS(),RL=jg(),goe=Qe(),voe=lS(),boe=Fd();function yoe(e){if(e instanceof Jc.Observable)return e;if(e!=null){if(doe.isInteropObservable(e))return ML(e);if(loe.isArrayLike(e))return OL(e);if(foe.isPromise(e))return PL(e);if(poe.isAsyncIterable(e))return IS(e);if(hoe.isIterable(e))return AL(e);if(RL.isReadableStreamLike(e))return jL(e)}throw moe.createInvalidObservableTypeError(e)}ht.innerFrom=yoe;function ML(e){return new Jc.Observable(function(t){var r=e[boe.observable]();if(goe.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}ht.fromInteropObservable=ML;function OL(e){return new Jc.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}ht.fromArrayLike=OL;function PL(e){return new Jc.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,voe.reportUnhandledError)})}ht.fromPromise=PL;function AL(e){return new Jc.Observable(function(t){var r,n;try{for(var o=jS(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}ht.fromIterable=AL;function IS(e){return new Jc.Observable(function(t){_oe(e,t).catch(function(r){return t.error(r)})})}ht.fromAsyncIterable=IS;function jL(e){return IS(RL.readableStreamLikeToAsyncGenerator(e))}ht.fromReadableStreamLike=jL;function _oe(e,t){var r,n,o,i;return soe(this,void 0,void 0,function(){var a,s;return uoe(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=coe(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}});var Ni=y(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.executeSchedule=void 0;function xoe(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}Ig.executeSchedule=xoe});var $d=y(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.observeOn=void 0;var LS=Ni(),woe=J(),Soe=le();function Coe(e,t){return t===void 0&&(t=0),woe.operate(function(r,n){r.subscribe(Soe.createOperatorSubscriber(n,function(o){return LS.executeSchedule(n,e,function(){return n.next(o)},t)},function(){return LS.executeSchedule(n,e,function(){return n.complete()},t)},function(o){return LS.executeSchedule(n,e,function(){return n.error(o)},t)}))})}Lg.observeOn=Coe});var Ud=y(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.subscribeOn=void 0;var koe=J();function Toe(e,t){return t===void 0&&(t=0),koe.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}Ng.subscribeOn=Toe});var IL=y(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.scheduleObservable=void 0;var Eoe=je(),Roe=$d(),Moe=Ud();function Ooe(e,t){return Eoe.innerFrom(e).pipe(Moe.subscribeOn(t),Roe.observeOn(t))}Dg.scheduleObservable=Ooe});var LL=y(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.schedulePromise=void 0;var Poe=je(),Aoe=$d(),joe=Ud();function Ioe(e,t){return Poe.innerFrom(e).pipe(joe.subscribeOn(t),Aoe.observeOn(t))}Fg.schedulePromise=Ioe});var NL=y(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.scheduleArray=void 0;var Loe=nt();function Noe(e,t){return new Loe.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}qg.scheduleArray=Noe});var NS=y(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.scheduleIterable=void 0;var Doe=nt(),Foe=PS(),qoe=Qe(),DL=Ni();function Boe(e,t){return new Doe.Observable(function(r){var n;return DL.executeSchedule(r,t,function(){n=e[Foe.iterator](),DL.executeSchedule(r,t,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(s){r.error(s);return}a?r.complete():r.next(i)},0,!0)}),function(){return qoe.isFunction(n?.return)&&n.return()}})}Bg.scheduleIterable=Boe});var DS=y(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.scheduleAsyncIterable=void 0;var zoe=nt(),FL=Ni();function Hoe(e,t){if(!e)throw new Error("Iterable cannot be null");return new zoe.Observable(function(r){FL.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();FL.executeSchedule(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}zg.scheduleAsyncIterable=Hoe});var qL=y(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.scheduleReadableStreamLike=void 0;var Woe=DS(),$oe=jg();function Uoe(e,t){return Woe.scheduleAsyncIterable($oe.readableStreamLikeToAsyncGenerator(e),t)}Hg.scheduleReadableStreamLike=Uoe});var FS=y(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.scheduled=void 0;var Voe=IL(),Goe=LL(),Yoe=NL(),Xoe=NS(),Zoe=DS(),Koe=RS(),Joe=ES(),Qoe=Eg(),eie=AS(),tie=MS(),rie=OS(),nie=jg(),oie=qL();function iie(e,t){if(e!=null){if(Koe.isInteropObservable(e))return Voe.scheduleObservable(e,t);if(Qoe.isArrayLike(e))return Yoe.scheduleArray(e,t);if(Joe.isPromise(e))return Goe.schedulePromise(e,t);if(tie.isAsyncIterable(e))return Zoe.scheduleAsyncIterable(e,t);if(eie.isIterable(e))return Xoe.scheduleIterable(e,t);if(nie.isReadableStreamLike(e))return oie.scheduleReadableStreamLike(e,t)}throw rie.createInvalidObservableTypeError(e)}Wg.scheduled=iie});var Di=y($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.from=void 0;var aie=FS(),sie=je();function uie(e,t){return t?aie.scheduled(e,t):sie.innerFrom(e)}$g.from=uie});var Vg=y(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.of=void 0;var cie=un(),lie=Di();function fie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cie.popScheduler(e);return lie.from(e,r)}Ug.of=fie});var qS=y(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.throwError=void 0;var die=nt(),pie=Qe();function mie(e,t){var r=pie.isFunction(e)?e:function(){return e},n=function(o){return o.error(r())};return new die.Observable(t?function(o){return t.schedule(n,0,o)}:n)}Gg.throwError=mie});var Yg=y(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.observeNotification=Fi.Notification=Fi.NotificationKind=void 0;var hie=vo(),gie=Vg(),vie=qS(),bie=Qe(),yie;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(yie=Fi.NotificationKind||(Fi.NotificationKind={}));var _ie=(function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){return BL(this,t)},e.prototype.do=function(t,r,n){var o=this,i=o.kind,a=o.value,s=o.error;return i==="N"?t?.(a):i==="E"?r?.(s):n?.()},e.prototype.accept=function(t,r,n){var o;return bie.isFunction((o=t)===null||o===void 0?void 0:o.next)?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this,r=t.kind,n=t.value,o=t.error,i=r==="N"?gie.of(n):r==="E"?vie.throwError(function(){return o}):r==="C"?hie.EMPTY:0;if(!i)throw new TypeError("Unexpected notification kind "+r);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();Fi.Notification=_ie;function BL(e,t){var r,n,o,i=e,a=i.kind,s=i.value,c=i.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=t.next)===null||r===void 0||r.call(t,s):a==="E"?(n=t.error)===null||n===void 0||n.call(t,c):(o=t.complete)===null||o===void 0||o.call(t)}Fi.observeNotification=BL});var HL=y(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.isObservable=void 0;var xie=nt(),zL=Qe();function wie(e){return!!e&&(e instanceof xie.Observable||zL.isFunction(e.lift)&&zL.isFunction(e.subscribe))}Xg.isObservable=wie});var Ra=y(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.EmptyError=void 0;var Sie=Ca();Zg.EmptyError=Sie.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});var WL=y(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.lastValueFrom=void 0;var Cie=Ra();function kie(e,t){var r=typeof t=="object";return new Promise(function(n,o){var i=!1,a;e.subscribe({next:function(s){a=s,i=!0},error:o,complete:function(){i?n(a):r?n(t.defaultValue):o(new Cie.EmptyError)}})})}Kg.lastValueFrom=kie});var $L=y(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.firstValueFrom=void 0;var Tie=Ra(),Eie=Pc();function Rie(e,t){var r=typeof t=="object";return new Promise(function(n,o){var i=new Eie.SafeSubscriber({next:function(a){n(a),i.unsubscribe()},error:o,complete:function(){r?n(t.defaultValue):o(new Tie.EmptyError)}});e.subscribe(i)})}Jg.firstValueFrom=Rie});var BS=y(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.ArgumentOutOfRangeError=void 0;var Mie=Ca();Qg.ArgumentOutOfRangeError=Mie.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var zS=y(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.NotFoundError=void 0;var Oie=Ca();ev.NotFoundError=Oie.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}})});var HS=y(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.SequenceError=void 0;var Pie=Ca();tv.SequenceError=Pie.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}})});var nv=y(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.isValidDate=void 0;function Aie(e){return e instanceof Date&&!isNaN(e)}rv.isValidDate=Aie});var ov=y(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.timeout=eu.TimeoutError=void 0;var jie=sn(),Iie=nv(),Lie=J(),Nie=je(),Die=Ca(),Fie=le(),qie=Ni();eu.TimeoutError=Die.createErrorClass(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Bie(e,t){var r=Iie.isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,o=r.each,i=r.with,a=i===void 0?zie:i,s=r.scheduler,c=s===void 0?t??jie.asyncScheduler:s,u=r.meta,l=u===void 0?null:u;if(n==null&&o==null)throw new TypeError("No timeout provided.");return Lie.operate(function(f,d){var p,m,h=null,v=0,b=function(_){m=qie.executeSchedule(d,c,function(){try{p.unsubscribe(),Nie.innerFrom(a({meta:l,lastValue:h,seen:v})).subscribe(d)}catch(S){d.error(S)}},_)};p=f.subscribe(Fie.createOperatorSubscriber(d,function(_){m?.unsubscribe(),v++,d.next(h=_),o>0&&b(o)},void 0,void 0,function(){m?.closed||m?.unsubscribe(),h=null})),!v&&b(n!=null?typeof n=="number"?n:+n-c.now():o)})}eu.timeout=Bie;function zie(e){throw new eu.TimeoutError(e)}});var Ma=y(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.map=void 0;var Hie=J(),Wie=le();function $ie(e,t){return Hie.operate(function(r,n){var o=0;r.subscribe(Wie.createOperatorSubscriber(n,function(i){n.next(e.call(t,i,o++))}))})}iv.map=$ie});var Pa=y(Oa=>{"use strict";var Uie=Oa&&Oa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Vie=Oa&&Oa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.mapOneOrManyArgs=void 0;var Gie=Ma(),Yie=Array.isArray;function Xie(e,t){return Yie(t)?e.apply(void 0,Vie([],Uie(t))):e(t)}function Zie(e){return Gie.map(function(t){return Xie(e,t)})}Oa.mapOneOrManyArgs=Zie});var $S=y(Aa=>{"use strict";var Kie=Aa&&Aa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},UL=Aa&&Aa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.bindCallbackInternals=void 0;var Jie=Wd(),Qie=nt(),eae=Ud(),tae=Pa(),rae=$d(),nae=wg();function WS(e,t,r,n){if(r)if(Jie.isScheduler(r))n=r;else return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return WS(e,t,n).apply(this,o).pipe(tae.mapOneOrManyArgs(r))};return n?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return WS(e,t).apply(this,o).pipe(eae.subscribeOn(n),rae.observeOn(n))}:function(){for(var o=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=new nae.AsyncSubject,c=!0;return new Qie.Observable(function(u){var l=s.subscribe(u);if(c){c=!1;var f=!1,d=!1;t.apply(o,UL(UL([],Kie(i)),[function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(e){var h=p.shift();if(h!=null){s.error(h);return}}s.next(1<p.length?p:p[0]),d=!0,f&&s.complete()}])),d&&s.complete(),f=!0}return l})}}Aa.bindCallbackInternals=WS});var VL=y(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.bindCallback=void 0;var oae=$S();function iae(e,t,r){return oae.bindCallbackInternals(!1,e,t,r)}av.bindCallback=iae});var GL=y(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.bindNodeCallback=void 0;var aae=$S();function sae(e,t,r){return aae.bindCallbackInternals(!0,e,t,r)}sv.bindNodeCallback=sae});var US=y(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.argsArgArrayOrObject=void 0;var uae=Array.isArray,cae=Object.getPrototypeOf,lae=Object.prototype,fae=Object.keys;function dae(e){if(e.length===1){var t=e[0];if(uae(t))return{args:t,keys:null};if(pae(t)){var r=fae(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}uv.argsArgArrayOrObject=dae;function pae(e){return e&&typeof e=="object"&&cae(e)===lae}});var VS=y(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.createObject=void 0;function mae(e,t){return e.reduce(function(r,n,o){return r[n]=t[o],r},{})}cv.createObject=mae});var lv=y(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.combineLatestInit=Qc.combineLatest=void 0;var hae=nt(),gae=US(),ZL=Di(),KL=_r(),vae=Pa(),YL=un(),bae=VS(),yae=le(),_ae=Ni();function xae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=YL.popScheduler(e),n=YL.popResultSelector(e),o=gae.argsArgArrayOrObject(e),i=o.args,a=o.keys;if(i.length===0)return ZL.from([],r);var s=new hae.Observable(JL(i,r,a?function(c){return bae.createObject(a,c)}:KL.identity));return n?s.pipe(vae.mapOneOrManyArgs(n)):s}Qc.combineLatest=xae;function JL(e,t,r){return r===void 0&&(r=KL.identity),function(n){XL(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,c=function(l){XL(t,function(){var f=ZL.from(e[l],t),d=!1;f.subscribe(yae.createOperatorSubscriber(n,function(p){i[l]=p,d||(d=!0,s--),s||n.next(r(i.slice()))},function(){--a||n.complete()}))},n)},u=0;u<o;u++)c(u)},n)}}Qc.combineLatestInit=JL;function XL(e,t,r){e?_ae.executeSchedule(r,e,t):t()}});var dv=y(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.mergeInternals=void 0;var wae=je(),Sae=Ni(),QL=le();function Cae(e,t,r,n,o,i,a,s){var c=[],u=0,l=0,f=!1,d=function(){f&&!c.length&&!u&&t.complete()},p=function(h){return u<n?m(h):c.push(h)},m=function(h){i&&t.next(h),u++;var v=!1;wae.innerFrom(r(h,l++)).subscribe(QL.createOperatorSubscriber(t,function(b){o?.(b),i?p(b):t.next(b)},function(){v=!0},void 0,function(){if(v)try{u--;for(var b=function(){var _=c.shift();a?Sae.executeSchedule(t,a,function(){return m(_)}):m(_)};c.length&&u<n;)b();d()}catch(_){t.error(_)}}))};return e.subscribe(QL.createOperatorSubscriber(t,p,function(){f=!0,d()})),function(){s?.()}}fv.mergeInternals=Cae});var qi=y(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.mergeMap=void 0;var kae=Ma(),Tae=je(),Eae=J(),Rae=dv(),Mae=Qe();function eN(e,t,r){return r===void 0&&(r=1/0),Mae.isFunction(t)?eN(function(n,o){return kae.map(function(i,a){return t(n,i,o,a)})(Tae.innerFrom(e(n,o)))},r):(typeof t=="number"&&(r=t),Eae.operate(function(n,o){return Rae.mergeInternals(n,o,e,r)}))}pv.mergeMap=eN});var Vd=y(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.mergeAll=void 0;var Oae=qi(),Pae=_r();function Aae(e){return e===void 0&&(e=1/0),Oae.mergeMap(Pae.identity,e)}mv.mergeAll=Aae});var gv=y(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.concatAll=void 0;var jae=Vd();function Iae(){return jae.mergeAll(1)}hv.concatAll=Iae});var Gd=y(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.concat=void 0;var Lae=gv(),Nae=un(),Dae=Di();function Fae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lae.concatAll()(Dae.from(e,Nae.popScheduler(e)))}vv.concat=Fae});var Yd=y(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.defer=void 0;var qae=nt(),Bae=je();function zae(e){return new qae.Observable(function(t){Bae.innerFrom(e()).subscribe(t)})}bv.defer=zae});var tN=y(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.connectable=void 0;var Hae=xr(),Wae=nt(),$ae=Yd(),Uae={connector:function(){return new Hae.Subject},resetOnDisconnect:!0};function Vae(e,t){t===void 0&&(t=Uae);var r=null,n=t.connector,o=t.resetOnDisconnect,i=o===void 0?!0:o,a=n(),s=new Wae.Observable(function(c){return a.subscribe(c)});return s.connect=function(){return(!r||r.closed)&&(r=$ae.defer(function(){return e}).subscribe(a),i&&r.add(function(){return a=n()})),r},s}yv.connectable=Vae});var rN=y(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.forkJoin=void 0;var Gae=nt(),Yae=US(),Xae=je(),Zae=un(),Kae=le(),Jae=Pa(),Qae=VS();function ese(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Zae.popResultSelector(e),n=Yae.argsArgArrayOrObject(e),o=n.args,i=n.keys,a=new Gae.Observable(function(s){var c=o.length;if(!c){s.complete();return}for(var u=new Array(c),l=c,f=c,d=function(m){var h=!1;Xae.innerFrom(o[m]).subscribe(Kae.createOperatorSubscriber(s,function(v){h||(h=!0,f--),u[m]=v},function(){return l--},void 0,function(){(!l||!h)&&(f||s.next(i?Qae.createObject(i,u):u),s.complete())}))},p=0;p<c;p++)d(p)});return r?a.pipe(Jae.mapOneOrManyArgs(r)):a}_v.forkJoin=ese});var oN=y(el=>{"use strict";var tse=el&&el.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i};Object.defineProperty(el,"__esModule",{value:!0});el.fromEvent=void 0;var rse=je(),nse=nt(),ose=qi(),ise=Eg(),tu=Qe(),ase=Pa(),sse=["addListener","removeListener"],use=["addEventListener","removeEventListener"],cse=["on","off"];function GS(e,t,r,n){if(tu.isFunction(r)&&(n=r,r=void 0),n)return GS(e,t,r).pipe(ase.mapOneOrManyArgs(n));var o=tse(dse(e)?use.map(function(s){return function(c){return e[s](t,c,r)}}):lse(e)?sse.map(nN(e,t)):fse(e)?cse.map(nN(e,t)):[],2),i=o[0],a=o[1];if(!i&&ise.isArrayLike(e))return ose.mergeMap(function(s){return GS(s,t,r)})(rse.innerFrom(e));if(!i)throw new TypeError("Invalid event target");return new nse.Observable(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return i(c),function(){return a(c)}})}el.fromEvent=GS;function nN(e,t){return function(r){return function(n){return e[r](t,n)}}}function lse(e){return tu.isFunction(e.addListener)&&tu.isFunction(e.removeListener)}function fse(e){return tu.isFunction(e.on)&&tu.isFunction(e.off)}function dse(e){return tu.isFunction(e.addEventListener)&&tu.isFunction(e.removeEventListener)}});var aN=y(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.fromEventPattern=void 0;var pse=nt(),mse=Qe(),hse=Pa();function iN(e,t,r){return r?iN(e,t).pipe(hse.mapOneOrManyArgs(r)):new pse.Observable(function(n){var o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},i=e(o);return mse.isFunction(t)?function(){return t(o,i)}:void 0})}xv.fromEventPattern=iN});var uN=y(tl=>{"use strict";var gse=tl&&tl.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(tl,"__esModule",{value:!0});tl.generate=void 0;var sN=_r(),vse=Wd(),bse=Yd(),yse=NS();function _se(e,t,r,n,o){var i,a,s,c;arguments.length===1?(i=e,c=i.initialState,t=i.condition,r=i.iterate,a=i.resultSelector,s=a===void 0?sN.identity:a,o=i.scheduler):(c=e,!n||vse.isScheduler(n)?(s=sN.identity,o=n):s=n);function u(){var l;return gse(this,function(f){switch(f.label){case 0:l=c,f.label=1;case 1:return!t||t(l)?[4,s(l)]:[3,4];case 2:f.sent(),f.label=3;case 3:return l=r(l),[3,1];case 4:return[2]}})}return bse.defer(o?function(){return yse.scheduleIterable(u(),o)}:u)}tl.generate=_se});var cN=y(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.iif=void 0;var xse=Yd();function wse(e,t,r){return xse.defer(function(){return e()?t:r})}wv.iif=wse});var ja=y(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.timer=void 0;var Sse=nt(),Cse=sn(),kse=Wd(),Tse=nv();function Ese(e,t,r){e===void 0&&(e=0),r===void 0&&(r=Cse.async);var n=-1;return t!=null&&(kse.isScheduler(t)?r=t:n=t),new Sse.Observable(function(o){var i=Tse.isValidDate(e)?+e-r.now():e;i<0&&(i=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}Sv.timer=Ese});var YS=y(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.interval=void 0;var Rse=sn(),Mse=ja();function Ose(e,t){return e===void 0&&(e=0),t===void 0&&(t=Rse.asyncScheduler),e<0&&(e=0),Mse.timer(e,e,t)}Cv.interval=Ose});var fN=y(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.merge=void 0;var Pse=Vd(),Ase=je(),jse=vo(),lN=un(),Ise=Di();function Lse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=lN.popScheduler(e),n=lN.popNumber(e,1/0),o=e;return o.length?o.length===1?Ase.innerFrom(o[0]):Pse.mergeAll(n)(Ise.from(o,r)):jse.EMPTY}kv.merge=Lse});var XS=y(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.never=ru.NEVER=void 0;var Nse=nt(),Dse=yr();ru.NEVER=new Nse.Observable(Dse.noop);function Fse(){return ru.NEVER}ru.never=Fse});var rl=y(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.argsOrArgArray=void 0;var qse=Array.isArray;function Bse(e){return e.length===1&&qse(e[0])?e[0]:e}Tv.argsOrArgArray=Bse});var ZS=y(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.onErrorResumeNext=void 0;var zse=nt(),Hse=rl(),Wse=le(),dN=yr(),$se=je();function Use(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Hse.argsOrArgArray(e);return new zse.Observable(function(n){var o=0,i=function(){if(o<r.length){var a=void 0;try{a=$se.innerFrom(r[o++])}catch{i();return}var s=new Wse.OperatorSubscriber(n,void 0,dN.noop,dN.noop);a.subscribe(s),s.add(i)}else n.complete()};i()})}Ev.onErrorResumeNext=Use});var pN=y(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.pairs=void 0;var Vse=Di();function Gse(e,t){return Vse.from(Object.entries(e),t)}Rv.pairs=Gse});var mN=y(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.not=void 0;function Yse(e,t){return function(r,n){return!e.call(t,r,n)}}Mv.not=Yse});var nu=y(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.filter=void 0;var Xse=J(),Zse=le();function Kse(e,t){return Xse.operate(function(r,n){var o=0;r.subscribe(Zse.createOperatorSubscriber(n,function(i){return e.call(t,i,o++)&&n.next(i)}))})}Ov.filter=Kse});var vN=y(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.partition=void 0;var Jse=mN(),hN=nu(),gN=je();function Qse(e,t,r){return[hN.filter(t,r)(gN.innerFrom(e)),hN.filter(Jse.not(t,r))(gN.innerFrom(e))]}Pv.partition=Qse});var KS=y(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.raceInit=nl.race=void 0;var eue=nt(),bN=je(),tue=rl(),rue=le();function nue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=tue.argsOrArgArray(e),e.length===1?bN.innerFrom(e[0]):new eue.Observable(yN(e))}nl.race=nue;function yN(e){return function(t){for(var r=[],n=function(i){r.push(bN.innerFrom(e[i]).subscribe(rue.createOperatorSubscriber(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==i&&r[s].unsubscribe();r=null}t.next(a)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}nl.raceInit=yN});var _N=y(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.range=void 0;var oue=nt(),iue=vo();function aue(e,t,r){if(t==null&&(t=e,e=0),t<=0)return iue.EMPTY;var n=t+e;return new oue.Observable(r?function(o){var i=e;return r.schedule(function(){i<n?(o.next(i++),this.schedule()):o.complete()})}:function(o){for(var i=e;i<n&&!o.closed;)o.next(i++);o.complete()})}Av.range=aue});var xN=y(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.using=void 0;var sue=nt(),uue=je(),cue=vo();function lue(e,t){return new sue.Observable(function(r){var n=e(),o=t(n),i=o?uue.innerFrom(o):cue.EMPTY;return i.subscribe(r),function(){n&&n.unsubscribe()}})}jv.using=lue});var Iv=y(Ia=>{"use strict";var fue=Ia&&Ia.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},due=Ia&&Ia.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.zip=void 0;var pue=nt(),mue=je(),hue=rl(),gue=vo(),vue=le(),bue=un();function yue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=bue.popResultSelector(e),n=hue.argsOrArgArray(e);return n.length?new pue.Observable(function(o){var i=n.map(function(){return[]}),a=n.map(function(){return!1});o.add(function(){i=a=null});for(var s=function(u){mue.innerFrom(n[u]).subscribe(vue.createOperatorSubscriber(o,function(l){if(i[u].push(l),i.every(function(d){return d.length})){var f=i.map(function(d){return d.shift()});o.next(r?r.apply(void 0,due([],fue(f))):f),i.some(function(d,p){return!d.length&&a[p]})&&o.complete()}},function(){a[u]=!0,!i[u].length&&o.complete()}))},c=0;!o.closed&&c<n.length;c++)s(c);return function(){i=a=null}}):gue.EMPTY}Ia.zip=yue});var SN=y(wN=>{"use strict";Object.defineProperty(wN,"__esModule",{value:!0})});var JS=y(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.audit=void 0;var _ue=J(),xue=je(),CN=le();function wue(e){return _ue.operate(function(t,r){var n=!1,o=null,i=null,a=!1,s=function(){if(i?.unsubscribe(),i=null,n){n=!1;var u=o;o=null,r.next(u)}a&&r.complete()},c=function(){i=null,a&&r.complete()};t.subscribe(CN.createOperatorSubscriber(r,function(u){n=!0,o=u,i||xue.innerFrom(e(u)).subscribe(i=CN.createOperatorSubscriber(r,s,c))},function(){a=!0,(!n||!i||i.closed)&&r.complete()}))})}Lv.audit=wue});var kN=y(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.auditTime=void 0;var Sue=sn(),Cue=JS(),kue=ja();function Tue(e,t){return t===void 0&&(t=Sue.asyncScheduler),Cue.audit(function(){return kue.timer(e,t)})}Nv.auditTime=Tue});var EN=y(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.buffer=void 0;var Eue=J(),Rue=yr(),TN=le(),Mue=je();function Oue(e){return Eue.operate(function(t,r){var n=[];return t.subscribe(TN.createOperatorSubscriber(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),Mue.innerFrom(e).subscribe(TN.createOperatorSubscriber(r,function(){var o=n;n=[],r.next(o)},Rue.noop)),function(){n=null}})}Dv.buffer=Oue});var RN=y(ol=>{"use strict";var QS=ol&&ol.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ol,"__esModule",{value:!0});ol.bufferCount=void 0;var Pue=J(),Aue=le(),jue=Li();function Iue(e,t){return t===void 0&&(t=null),t=t??e,Pue.operate(function(r,n){var o=[],i=0;r.subscribe(Aue.createOperatorSubscriber(n,function(a){var s,c,u,l,f=null;i++%t===0&&o.push([]);try{for(var d=QS(o),p=d.next();!p.done;p=d.next()){var m=p.value;m.push(a),e<=m.length&&(f=f??[],f.push(m))}}catch(b){s={error:b}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}if(f)try{for(var h=QS(f),v=h.next();!v.done;v=h.next()){var m=v.value;jue.arrRemove(o,m),n.next(m)}}catch(b){u={error:b}}finally{try{v&&!v.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var c=QS(o),u=c.next();!u.done;u=c.next()){var l=u.value;n.next(l)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}n.complete()},void 0,function(){o=null}))})}ol.bufferCount=Iue});var ON=y(il=>{"use strict";var Lue=il&&il.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(il,"__esModule",{value:!0});il.bufferTime=void 0;var Nue=Cn(),Due=J(),Fue=le(),que=Li(),Bue=sn(),zue=un(),MN=Ni();function Hue(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=(t=zue.popScheduler(n))!==null&&t!==void 0?t:Bue.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return Due.operate(function(c,u){var l=[],f=!1,d=function(h){var v=h.buffer,b=h.subs;b.unsubscribe(),que.arrRemove(l,h),u.next(v),f&&p()},p=function(){if(l){var h=new Nue.Subscription;u.add(h);var v=[],b={buffer:v,subs:h};l.push(b),MN.executeSchedule(h,i,function(){return d(b)},e)}};a!==null&&a>=0?MN.executeSchedule(u,i,p,a,!0):f=!0,p();var m=Fue.createOperatorSubscriber(u,function(h){var v,b,_=l.slice();try{for(var S=Lue(_),x=S.next();!x.done;x=S.next()){var C=x.value,O=C.buffer;O.push(h),s<=O.length&&d(C)}}catch(k){v={error:k}}finally{try{x&&!x.done&&(b=S.return)&&b.call(S)}finally{if(v)throw v.error}}},function(){for(;l?.length;)u.next(l.shift().buffer);m?.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return l=null});c.subscribe(m)})}il.bufferTime=Hue});var jN=y(al=>{"use strict";var Wue=al&&al.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(al,"__esModule",{value:!0});al.bufferToggle=void 0;var $ue=Cn(),Uue=J(),PN=je(),eC=le(),AN=yr(),Vue=Li();function Gue(e,t){return Uue.operate(function(r,n){var o=[];PN.innerFrom(e).subscribe(eC.createOperatorSubscriber(n,function(i){var a=[];o.push(a);var s=new $ue.Subscription,c=function(){Vue.arrRemove(o,a),n.next(a),s.unsubscribe()};s.add(PN.innerFrom(t(i)).subscribe(eC.createOperatorSubscriber(n,c,AN.noop)))},AN.noop)),r.subscribe(eC.createOperatorSubscriber(n,function(i){var a,s;try{for(var c=Wue(o),u=c.next();!u.done;u=c.next()){var l=u.value;l.push(i)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}},function(){for(;o.length>0;)n.next(o.shift());n.complete()}))})}al.bufferToggle=Gue});var LN=y(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.bufferWhen=void 0;var Yue=J(),Xue=yr(),IN=le(),Zue=je();function Kue(e){return Yue.operate(function(t,r){var n=null,o=null,i=function(){o?.unsubscribe();var a=n;n=[],a&&r.next(a),Zue.innerFrom(e()).subscribe(o=IN.createOperatorSubscriber(r,i,Xue.noop))};i(),t.subscribe(IN.createOperatorSubscriber(r,function(a){return n?.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=o=null}))})}Fv.bufferWhen=Kue});var DN=y(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.catchError=void 0;var Jue=je(),Que=le(),ece=J();function NN(e){return ece.operate(function(t,r){var n=null,o=!1,i;n=t.subscribe(Que.createOperatorSubscriber(r,void 0,void 0,function(a){i=Jue.innerFrom(e(a,NN(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}qv.catchError=NN});var tC=y(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.scanInternals=void 0;var tce=le();function rce(e,t,r,n,o){return function(i,a){var s=r,c=t,u=0;i.subscribe(tce.createOperatorSubscriber(a,function(l){var f=u++;c=s?e(c,l,f):(s=!0,l),n&&a.next(c)},o&&(function(){s&&a.next(c),a.complete()})))}}Bv.scanInternals=rce});var sl=y(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.reduce=void 0;var nce=tC(),oce=J();function ice(e,t){return oce.operate(nce.scanInternals(e,t,arguments.length>=2,!1,!0))}zv.reduce=ice});var rC=y(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.toArray=void 0;var ace=sl(),sce=J(),uce=function(e,t){return e.push(t),e};function cce(){return sce.operate(function(e,t){ace.reduce(uce,[])(e).subscribe(t)})}Hv.toArray=cce});var nC=y(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.joinAllInternals=void 0;var lce=_r(),fce=Pa(),dce=qd(),pce=qi(),mce=rC();function hce(e,t){return dce.pipe(mce.toArray(),pce.mergeMap(function(r){return e(r)}),t?fce.mapOneOrManyArgs(t):lce.identity)}Wv.joinAllInternals=hce});var oC=y($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.combineLatestAll=void 0;var gce=lv(),vce=nC();function bce(e){return vce.joinAllInternals(gce.combineLatest,e)}$v.combineLatestAll=bce});var FN=y(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.combineAll=void 0;var yce=oC();Uv.combineAll=yce.combineLatestAll});var HN=y(La=>{"use strict";var qN=La&&La.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},BN=La&&La.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(La,"__esModule",{value:!0});La.combineLatest=void 0;var _ce=lv(),xce=J(),wce=rl(),Sce=Pa(),Cce=qd(),kce=un();function zN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=kce.popResultSelector(e);return r?Cce.pipe(zN.apply(void 0,BN([],qN(e))),Sce.mapOneOrManyArgs(r)):xce.operate(function(n,o){_ce.combineLatestInit(BN([n],qN(wce.argsOrArgArray(e))))(o)})}La.combineLatest=zN});var WN=y(Na=>{"use strict";var Tce=Na&&Na.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Ece=Na&&Na.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Na,"__esModule",{value:!0});Na.combineLatestWith=void 0;var Rce=HN();function Mce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rce.combineLatest.apply(void 0,Ece([],Tce(e)))}Na.combineLatestWith=Mce});var iC=y(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.concatMap=void 0;var $N=qi(),Oce=Qe();function Pce(e,t){return Oce.isFunction(t)?$N.mergeMap(e,t,1):$N.mergeMap(e,1)}Vv.concatMap=Pce});var VN=y(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.concatMapTo=void 0;var UN=iC(),Ace=Qe();function jce(e,t){return Ace.isFunction(t)?UN.concatMap(function(){return e},t):UN.concatMap(function(){return e})}Gv.concatMapTo=jce});var GN=y(Da=>{"use strict";var Ice=Da&&Da.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Lce=Da&&Da.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Da,"__esModule",{value:!0});Da.concat=void 0;var Nce=J(),Dce=gv(),Fce=un(),qce=Di();function Bce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Fce.popScheduler(e);return Nce.operate(function(n,o){Dce.concatAll()(qce.from(Lce([n],Ice(e)),r)).subscribe(o)})}Da.concat=Bce});var YN=y(Fa=>{"use strict";var zce=Fa&&Fa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Hce=Fa&&Fa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.concatWith=void 0;var Wce=GN();function $ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wce.concat.apply(void 0,Hce([],zce(e)))}Fa.concatWith=$ce});var XN=y(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.fromSubscribable=void 0;var Uce=nt();function Vce(e){return new Uce.Observable(function(t){return e.subscribe(t)})}Yv.fromSubscribable=Vce});var Zv=y(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.connect=void 0;var Gce=xr(),Yce=je(),Xce=J(),Zce=XN(),Kce={connector:function(){return new Gce.Subject}};function Jce(e,t){t===void 0&&(t=Kce);var r=t.connector;return Xce.operate(function(n,o){var i=r();Yce.innerFrom(e(Zce.fromSubscribable(i))).subscribe(o),o.add(n.subscribe(i))})}Xv.connect=Jce});var ZN=y(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.count=void 0;var Qce=sl();function ele(e){return Qce.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}Kv.count=ele});var JN=y(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.debounce=void 0;var tle=J(),rle=yr(),KN=le(),nle=je();function ole(e){return tle.operate(function(t,r){var n=!1,o=null,i=null,a=function(){if(i?.unsubscribe(),i=null,n){n=!1;var s=o;o=null,r.next(s)}};t.subscribe(KN.createOperatorSubscriber(r,function(s){i?.unsubscribe(),n=!0,o=s,i=KN.createOperatorSubscriber(r,a,rle.noop),nle.innerFrom(e(s)).subscribe(i)},function(){a(),r.complete()},void 0,function(){o=i=null}))})}Jv.debounce=ole});var QN=y(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.debounceTime=void 0;var ile=sn(),ale=J(),sle=le();function ule(e,t){return t===void 0&&(t=ile.asyncScheduler),ale.operate(function(r,n){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,n.next(u)}};function c(){var u=a+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),n.add(o);return}s()}r.subscribe(sle.createOperatorSubscriber(n,function(u){i=u,a=t.now(),o||(o=t.schedule(c,e),n.add(o))},function(){s(),n.complete()},void 0,function(){i=o=null}))})}Qv.debounceTime=ule});var Xd=y(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.defaultIfEmpty=void 0;var cle=J(),lle=le();function fle(e){return cle.operate(function(t,r){var n=!1;t.subscribe(lle.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){n||r.next(e),r.complete()}))})}eb.defaultIfEmpty=fle});var Zd=y(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.take=void 0;var dle=vo(),ple=J(),mle=le();function hle(e){return e<=0?function(){return dle.EMPTY}:ple.operate(function(t,r){var n=0;t.subscribe(mle.createOperatorSubscriber(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}tb.take=hle});var aC=y(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.ignoreElements=void 0;var gle=J(),vle=le(),ble=yr();function yle(){return gle.operate(function(e,t){e.subscribe(vle.createOperatorSubscriber(t,ble.noop))})}rb.ignoreElements=yle});var sC=y(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.mapTo=void 0;var _le=Ma();function xle(e){return _le.map(function(){return e})}nb.mapTo=xle});var uC=y(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.delayWhen=void 0;var wle=Gd(),eD=Zd(),Sle=aC(),Cle=sC(),kle=qi(),Tle=je();function tD(e,t){return t?function(r){return wle.concat(t.pipe(eD.take(1),Sle.ignoreElements()),r.pipe(tD(e)))}:kle.mergeMap(function(r,n){return Tle.innerFrom(e(r,n)).pipe(eD.take(1),Cle.mapTo(r))})}ob.delayWhen=tD});var rD=y(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.delay=void 0;var Ele=sn(),Rle=uC(),Mle=ja();function Ole(e,t){t===void 0&&(t=Ele.asyncScheduler);var r=Mle.timer(e,t);return Rle.delayWhen(function(){return r})}ib.delay=Ole});var nD=y(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.dematerialize=void 0;var Ple=Yg(),Ale=J(),jle=le();function Ile(){return Ale.operate(function(e,t){e.subscribe(jle.createOperatorSubscriber(t,function(r){return Ple.observeNotification(r,t)}))})}ab.dematerialize=Ile});var iD=y(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.distinct=void 0;var Lle=J(),oD=le(),Nle=yr(),Dle=je();function Fle(e,t){return Lle.operate(function(r,n){var o=new Set;r.subscribe(oD.createOperatorSubscriber(n,function(i){var a=e?e(i):i;o.has(a)||(o.add(a),n.next(i))})),t&&Dle.innerFrom(t).subscribe(oD.createOperatorSubscriber(n,function(){return o.clear()},Nle.noop))})}sb.distinct=Fle});var cC=y(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.distinctUntilChanged=void 0;var qle=_r(),Ble=J(),zle=le();function Hle(e,t){return t===void 0&&(t=qle.identity),e=e??Wle,Ble.operate(function(r,n){var o,i=!0;r.subscribe(zle.createOperatorSubscriber(n,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,n.next(a))}))})}ub.distinctUntilChanged=Hle;function Wle(e,t){return e===t}});var aD=y(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.distinctUntilKeyChanged=void 0;var $le=cC();function Ule(e,t){return $le.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}cb.distinctUntilKeyChanged=Ule});var Kd=y(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.throwIfEmpty=void 0;var Vle=Ra(),Gle=J(),Yle=le();function Xle(e){return e===void 0&&(e=Zle),Gle.operate(function(t,r){var n=!1;t.subscribe(Yle.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){return n?r.complete():r.error(e())}))})}lb.throwIfEmpty=Xle;function Zle(){return new Vle.EmptyError}});var uD=y(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.elementAt=void 0;var sD=BS(),Kle=nu(),Jle=Kd(),Qle=Xd(),efe=Zd();function tfe(e,t){if(e<0)throw new sD.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(Kle.filter(function(o,i){return i===e}),efe.take(1),r?Qle.defaultIfEmpty(t):Jle.throwIfEmpty(function(){return new sD.ArgumentOutOfRangeError}))}}fb.elementAt=tfe});var cD=y(qa=>{"use strict";var rfe=qa&&qa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},nfe=qa&&qa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(qa,"__esModule",{value:!0});qa.endWith=void 0;var ofe=Gd(),ife=Vg();function afe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return ofe.concat(r,ife.of.apply(void 0,nfe([],rfe(e))))}}qa.endWith=afe});var lD=y(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.every=void 0;var sfe=J(),ufe=le();function cfe(e,t){return sfe.operate(function(r,n){var o=0;r.subscribe(ufe.createOperatorSubscriber(n,function(i){e.call(t,i,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}db.every=cfe});var lC=y(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.exhaustMap=void 0;var lfe=Ma(),fD=je(),ffe=J(),dD=le();function pD(e,t){return t?function(r){return r.pipe(pD(function(n,o){return fD.innerFrom(e(n,o)).pipe(lfe.map(function(i,a){return t(n,i,o,a)}))}))}:ffe.operate(function(r,n){var o=0,i=null,a=!1;r.subscribe(dD.createOperatorSubscriber(n,function(s){i||(i=dD.createOperatorSubscriber(n,void 0,function(){i=null,a&&n.complete()}),fD.innerFrom(e(s,o++)).subscribe(i))},function(){a=!0,!i&&n.complete()}))})}pb.exhaustMap=pD});var fC=y(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.exhaustAll=void 0;var dfe=lC(),pfe=_r();function mfe(){return dfe.exhaustMap(pfe.identity)}mb.exhaustAll=mfe});var mD=y(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.exhaust=void 0;var hfe=fC();hb.exhaust=hfe.exhaustAll});var hD=y(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.expand=void 0;var gfe=J(),vfe=dv();function bfe(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,gfe.operate(function(n,o){return vfe.mergeInternals(n,o,e,t,void 0,!0,r)})}gb.expand=bfe});var gD=y(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.finalize=void 0;var yfe=J();function _fe(e){return yfe.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}vb.finalize=_fe});var dC=y(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.createFind=ul.find=void 0;var xfe=J(),wfe=le();function Sfe(e,t){return xfe.operate(vD(e,t,"value"))}ul.find=Sfe;function vD(e,t,r){var n=r==="index";return function(o,i){var a=0;o.subscribe(wfe.createOperatorSubscriber(i,function(s){var c=a++;e.call(t,s,c,o)&&(i.next(n?c:s),i.complete())},function(){i.next(n?-1:void 0),i.complete()}))}}ul.createFind=vD});var bD=y(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.findIndex=void 0;var Cfe=J(),kfe=dC();function Tfe(e,t){return Cfe.operate(kfe.createFind(e,t,"index"))}bb.findIndex=Tfe});var yD=y(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.first=void 0;var Efe=Ra(),Rfe=nu(),Mfe=Zd(),Ofe=Xd(),Pfe=Kd(),Afe=_r();function jfe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Rfe.filter(function(o,i){return e(o,i,n)}):Afe.identity,Mfe.take(1),r?Ofe.defaultIfEmpty(t):Pfe.throwIfEmpty(function(){return new Efe.EmptyError}))}}yb.first=jfe});var xD=y(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.groupBy=void 0;var Ife=nt(),Lfe=je(),Nfe=xr(),Dfe=J(),_D=le();function Ffe(e,t,r,n){return Dfe.operate(function(o,i){var a;!t||typeof t=="function"?a=t:(r=t.duration,a=t.element,n=t.connector);var s=new Map,c=function(m){s.forEach(m),m(i)},u=function(m){return c(function(h){return h.error(m)})},l=0,f=!1,d=new _D.OperatorSubscriber(i,function(m){try{var h=e(m),v=s.get(h);if(!v){s.set(h,v=n?n():new Nfe.Subject);var b=p(h,v);if(i.next(b),r){var _=_D.createOperatorSubscriber(v,function(){v.complete(),_?.unsubscribe()},void 0,void 0,function(){return s.delete(h)});d.add(Lfe.innerFrom(r(b)).subscribe(_))}}v.next(a?a(m):m)}catch(S){u(S)}},function(){return c(function(m){return m.complete()})},u,function(){return s.clear()},function(){return f=!0,l===0});o.subscribe(d);function p(m,h){var v=new Ife.Observable(function(b){l++;var _=h.subscribe(b);return function(){_.unsubscribe(),--l===0&&f&&d.unsubscribe()}});return v.key=m,v}})}_b.groupBy=Ffe});var wD=y(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.isEmpty=void 0;var qfe=J(),Bfe=le();function zfe(){return qfe.operate(function(e,t){e.subscribe(Bfe.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}xb.isEmpty=zfe});var pC=y(cl=>{"use strict";var Hfe=cl&&cl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cl,"__esModule",{value:!0});cl.takeLast=void 0;var Wfe=vo(),$fe=J(),Ufe=le();function Vfe(e){return e<=0?function(){return Wfe.EMPTY}:$fe.operate(function(t,r){var n=[];t.subscribe(Ufe.createOperatorSubscriber(r,function(o){n.push(o),e<n.length&&n.shift()},function(){var o,i;try{for(var a=Hfe(n),s=a.next();!s.done;s=a.next()){var c=s.value;r.next(c)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}r.complete()},void 0,function(){n=null}))})}cl.takeLast=Vfe});var SD=y(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.last=void 0;var Gfe=Ra(),Yfe=nu(),Xfe=pC(),Zfe=Kd(),Kfe=Xd(),Jfe=_r();function Qfe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Yfe.filter(function(o,i){return e(o,i,n)}):Jfe.identity,Xfe.takeLast(1),r?Kfe.defaultIfEmpty(t):Zfe.throwIfEmpty(function(){return new Gfe.EmptyError}))}}wb.last=Qfe});var CD=y(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.materialize=void 0;var mC=Yg(),ede=J(),tde=le();function rde(){return ede.operate(function(e,t){e.subscribe(tde.createOperatorSubscriber(t,function(r){t.next(mC.Notification.createNext(r))},function(){t.next(mC.Notification.createComplete()),t.complete()},function(r){t.next(mC.Notification.createError(r)),t.complete()}))})}Sb.materialize=rde});var kD=y(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.max=void 0;var nde=sl(),ode=Qe();function ide(e){return nde.reduce(ode.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}Cb.max=ide});var TD=y(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.flatMap=void 0;var ade=qi();kb.flatMap=ade.mergeMap});var RD=y(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.mergeMapTo=void 0;var ED=qi(),sde=Qe();function ude(e,t,r){return r===void 0&&(r=1/0),sde.isFunction(t)?ED.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),ED.mergeMap(function(){return e},r))}Tb.mergeMapTo=ude});var MD=y(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.mergeScan=void 0;var cde=J(),lde=dv();function fde(e,t,r){return r===void 0&&(r=1/0),cde.operate(function(n,o){var i=t;return lde.mergeInternals(n,o,function(a,s){return e(i,a,s)},r,function(a){i=a},!1,void 0,function(){return i=null})})}Eb.mergeScan=fde});var PD=y(Ba=>{"use strict";var dde=Ba&&Ba.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},pde=Ba&&Ba.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.merge=void 0;var mde=J(),hde=Vd(),OD=un(),gde=Di();function vde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=OD.popScheduler(e),n=OD.popNumber(e,1/0);return mde.operate(function(o,i){hde.mergeAll(n)(gde.from(pde([o],dde(e)),r)).subscribe(i)})}Ba.merge=vde});var AD=y(za=>{"use strict";var bde=za&&za.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},yde=za&&za.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(za,"__esModule",{value:!0});za.mergeWith=void 0;var _de=PD();function xde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _de.merge.apply(void 0,yde([],bde(e)))}za.mergeWith=xde});var jD=y(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.min=void 0;var wde=sl(),Sde=Qe();function Cde(e){return wde.reduce(Sde.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}Rb.min=Cde});var Ob=y(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.multicast=void 0;var kde=Bd(),ID=Qe(),Tde=Zv();function Ede(e,t){var r=ID.isFunction(e)?e:function(){return e};return ID.isFunction(t)?Tde.connect(t,{connector:r}):function(n){return new kde.ConnectableObservable(n,r)}}Mb.multicast=Ede});var ND=y(si=>{"use strict";var Rde=si&&si.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Mde=si&&si.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(si,"__esModule",{value:!0});si.onErrorResumeNext=si.onErrorResumeNextWith=void 0;var Ode=rl(),Pde=ZS();function LD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ode.argsOrArgArray(e);return function(n){return Pde.onErrorResumeNext.apply(void 0,Mde([n],Rde(r)))}}si.onErrorResumeNextWith=LD;si.onErrorResumeNext=LD});var DD=y(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.pairwise=void 0;var Ade=J(),jde=le();function Ide(){return Ade.operate(function(e,t){var r,n=!1;e.subscribe(jde.createOperatorSubscriber(t,function(o){var i=r;r=o,n&&t.next([i,o]),n=!0}))})}Pb.pairwise=Ide});var FD=y(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.pluck=void 0;var Lde=Ma();function Nde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return Lde.map(function(n){for(var o=n,i=0;i<r;i++){var a=o?.[e[i]];if(typeof a<"u")o=a;else return}return o})}Ab.pluck=Nde});var qD=y(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.publish=void 0;var Dde=xr(),Fde=Ob(),qde=Zv();function Bde(e){return e?function(t){return qde.connect(e)(t)}:function(t){return Fde.multicast(new Dde.Subject)(t)}}jb.publish=Bde});var BD=y(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.publishBehavior=void 0;var zde=SS(),Hde=Bd();function Wde(e){return function(t){var r=new zde.BehaviorSubject(e);return new Hde.ConnectableObservable(t,function(){return r})}}Ib.publishBehavior=Wde});var zD=y(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.publishLast=void 0;var $de=wg(),Ude=Bd();function Vde(){return function(e){var t=new $de.AsyncSubject;return new Ude.ConnectableObservable(e,function(){return t})}}Lb.publishLast=Vde});var WD=y(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.publishReplay=void 0;var Gde=xg(),Yde=Ob(),HD=Qe();function Xde(e,t,r,n){r&&!HD.isFunction(r)&&(n=r);var o=HD.isFunction(r)?r:void 0;return function(i){return Yde.multicast(new Gde.ReplaySubject(e,t,n),o)(i)}}Nb.publishReplay=Xde});var $D=y(Ha=>{"use strict";var Zde=Ha&&Ha.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Kde=Ha&&Ha.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.raceWith=void 0;var Jde=KS(),Qde=J(),epe=_r();function tpe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Qde.operate(function(r,n){Jde.raceInit(Kde([r],Zde(e)))(n)}):epe.identity}Ha.raceWith=tpe});var VD=y(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.repeat=void 0;var rpe=vo(),npe=J(),UD=le(),ope=je(),ipe=ja();function ape(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return rpe.EMPTY}:npe.operate(function(o,i){var a=0,s,c=function(){if(s?.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?ipe.timer(n):ope.innerFrom(n(a)),f=UD.createOperatorSubscriber(i,function(){f.unsubscribe(),u()});l.subscribe(f)}else u()},u=function(){var l=!1;s=o.subscribe(UD.createOperatorSubscriber(i,void 0,function(){++a<r?s?c():l=!0:i.complete()})),l&&c()};u()})}Db.repeat=ape});var YD=y(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.repeatWhen=void 0;var spe=je(),upe=xr(),cpe=J(),GD=le();function lpe(e){return cpe.operate(function(t,r){var n,o=!1,i,a=!1,s=!1,c=function(){return s&&a&&(r.complete(),!0)},u=function(){return i||(i=new upe.Subject,spe.innerFrom(e(i)).subscribe(GD.createOperatorSubscriber(r,function(){n?l():o=!0},function(){a=!0,c()}))),i},l=function(){s=!1,n=t.subscribe(GD.createOperatorSubscriber(r,void 0,function(){s=!0,!c()&&u().next()})),o&&(n.unsubscribe(),n=null,o=!1,l())};l()})}Fb.repeatWhen=lpe});var ZD=y(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.retry=void 0;var fpe=J(),XD=le(),dpe=_r(),ppe=ja(),mpe=je();function hpe(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,o=t.delay,i=t.resetOnSuccess,a=i===void 0?!1:i;return n<=0?dpe.identity:fpe.operate(function(s,c){var u=0,l,f=function(){var d=!1;l=s.subscribe(XD.createOperatorSubscriber(c,function(p){a&&(u=0),c.next(p)},void 0,function(p){if(u++<n){var m=function(){l?(l.unsubscribe(),l=null,f()):d=!0};if(o!=null){var h=typeof o=="number"?ppe.timer(o):mpe.innerFrom(o(p,u)),v=XD.createOperatorSubscriber(c,function(){v.unsubscribe(),m()},function(){c.complete()});h.subscribe(v)}else m()}else c.error(p)})),d&&(l.unsubscribe(),l=null,f())};f()})}qb.retry=hpe});var JD=y(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.retryWhen=void 0;var gpe=je(),vpe=xr(),bpe=J(),KD=le();function ype(e){return bpe.operate(function(t,r){var n,o=!1,i,a=function(){n=t.subscribe(KD.createOperatorSubscriber(r,void 0,void 0,function(s){i||(i=new vpe.Subject,gpe.innerFrom(e(i)).subscribe(KD.createOperatorSubscriber(r,function(){return n?a():o=!0}))),i&&i.next(s)})),o&&(n.unsubscribe(),n=null,o=!1,a())};a()})}Bb.retryWhen=ype});var hC=y(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.sample=void 0;var _pe=je(),xpe=J(),wpe=yr(),QD=le();function Spe(e){return xpe.operate(function(t,r){var n=!1,o=null;t.subscribe(QD.createOperatorSubscriber(r,function(i){n=!0,o=i})),_pe.innerFrom(e).subscribe(QD.createOperatorSubscriber(r,function(){if(n){n=!1;var i=o;o=null,r.next(i)}},wpe.noop))})}zb.sample=Spe});var eF=y(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.sampleTime=void 0;var Cpe=sn(),kpe=hC(),Tpe=YS();function Epe(e,t){return t===void 0&&(t=Cpe.asyncScheduler),kpe.sample(Tpe.interval(e,t))}Hb.sampleTime=Epe});var tF=y(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.scan=void 0;var Rpe=J(),Mpe=tC();function Ope(e,t){return Rpe.operate(Mpe.scanInternals(e,t,arguments.length>=2,!0))}Wb.scan=Ope});var nF=y($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.sequenceEqual=void 0;var Ppe=J(),Ape=le(),jpe=je();function Ipe(e,t){return t===void 0&&(t=function(r,n){return r===n}),Ppe.operate(function(r,n){var o=rF(),i=rF(),a=function(c){n.next(c),n.complete()},s=function(c,u){var l=Ape.createOperatorSubscriber(n,function(f){var d=u.buffer,p=u.complete;d.length===0?p?a(!1):c.buffer.push(f):!t(f,d.shift())&&a(!1)},function(){c.complete=!0;var f=u.complete,d=u.buffer;f&&a(d.length===0),l?.unsubscribe()});return l};r.subscribe(s(o,i)),jpe.innerFrom(e).subscribe(s(i,o))})}$b.sequenceEqual=Ipe;function rF(){return{buffer:[],complete:!1}}});var vC=y(Wa=>{"use strict";var Lpe=Wa&&Wa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Npe=Wa&&Wa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.share=void 0;var oF=je(),Dpe=xr(),iF=Pc(),Fpe=J();function qpe(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Dpe.Subject}:t,n=e.resetOnError,o=n===void 0?!0:n,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,c=s===void 0?!0:s;return function(u){var l,f,d,p=0,m=!1,h=!1,v=function(){f?.unsubscribe(),f=void 0},b=function(){v(),l=d=void 0,m=h=!1},_=function(){var S=l;b(),S?.unsubscribe()};return Fpe.operate(function(S,x){p++,!h&&!m&&v();var C=d=d??r();x.add(function(){p--,p===0&&!h&&!m&&(f=gC(_,c))}),C.subscribe(x),!l&&p>0&&(l=new iF.SafeSubscriber({next:function(O){return C.next(O)},error:function(O){h=!0,v(),f=gC(b,o,O),C.error(O)},complete:function(){m=!0,v(),f=gC(b,a),C.complete()}}),oF.innerFrom(S).subscribe(l))})(u)}}Wa.share=qpe;function gC(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var o=new iF.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return oF.innerFrom(t.apply(void 0,Npe([],Lpe(r)))).subscribe(o)}}});var aF=y(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.shareReplay=void 0;var Bpe=xg(),zpe=vC();function Hpe(e,t,r){var n,o,i,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,s=i===void 0?!1:i,r=e.scheduler):a=e??1/0,zpe.share({connector:function(){return new Bpe.ReplaySubject(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}Ub.shareReplay=Hpe});var sF=y(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.single=void 0;var Wpe=Ra(),$pe=HS(),Upe=zS(),Vpe=J(),Gpe=le();function Ype(e){return Vpe.operate(function(t,r){var n=!1,o,i=!1,a=0;t.subscribe(Gpe.createOperatorSubscriber(r,function(s){i=!0,(!e||e(s,a++,t))&&(n&&r.error(new $pe.SequenceError("Too many matching values")),n=!0,o=s)},function(){n?(r.next(o),r.complete()):r.error(i?new Upe.NotFoundError("No matching values"):new Wpe.EmptyError)}))})}Vb.single=Ype});var uF=y(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.skip=void 0;var Xpe=nu();function Zpe(e){return Xpe.filter(function(t,r){return e<=r})}Gb.skip=Zpe});var cF=y(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.skipLast=void 0;var Kpe=_r(),Jpe=J(),Qpe=le();function eme(e){return e<=0?Kpe.identity:Jpe.operate(function(t,r){var n=new Array(e),o=0;return t.subscribe(Qpe.createOperatorSubscriber(r,function(i){var a=o++;if(a<e)n[a]=i;else{var s=a%e,c=n[s];n[s]=i,r.next(c)}})),function(){n=null}})}Yb.skipLast=eme});var fF=y(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.skipUntil=void 0;var tme=J(),lF=le(),rme=je(),nme=yr();function ome(e){return tme.operate(function(t,r){var n=!1,o=lF.createOperatorSubscriber(r,function(){o?.unsubscribe(),n=!0},nme.noop);rme.innerFrom(e).subscribe(o),t.subscribe(lF.createOperatorSubscriber(r,function(i){return n&&r.next(i)}))})}Xb.skipUntil=ome});var dF=y(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.skipWhile=void 0;var ime=J(),ame=le();function sme(e){return ime.operate(function(t,r){var n=!1,o=0;t.subscribe(ame.createOperatorSubscriber(r,function(i){return(n||(n=!e(i,o++)))&&r.next(i)}))})}Zb.skipWhile=sme});var mF=y(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.startWith=void 0;var pF=Gd(),ume=un(),cme=J();function lme(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ume.popScheduler(e);return cme.operate(function(n,o){(r?pF.concat(e,n,r):pF.concat(e,n)).subscribe(o)})}Kb.startWith=lme});var Jd=y(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.switchMap=void 0;var fme=je(),dme=J(),hF=le();function pme(e,t){return dme.operate(function(r,n){var o=null,i=0,a=!1,s=function(){return a&&!o&&n.complete()};r.subscribe(hF.createOperatorSubscriber(n,function(c){o?.unsubscribe();var u=0,l=i++;fme.innerFrom(e(c,l)).subscribe(o=hF.createOperatorSubscriber(n,function(f){return n.next(t?t(c,f,l,u++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}Jb.switchMap=pme});var gF=y(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.switchAll=void 0;var mme=Jd(),hme=_r();function gme(){return mme.switchMap(hme.identity)}Qb.switchAll=gme});var bF=y(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0});e0.switchMapTo=void 0;var vF=Jd(),vme=Qe();function bme(e,t){return vme.isFunction(t)?vF.switchMap(function(){return e},t):vF.switchMap(function(){return e})}e0.switchMapTo=bme});var yF=y(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.switchScan=void 0;var yme=Jd(),_me=J();function xme(e,t){return _me.operate(function(r,n){var o=t;return yme.switchMap(function(i,a){return e(o,i,a)},function(i,a){return o=a,a})(r).subscribe(n),function(){o=null}})}t0.switchScan=xme});var _F=y(r0=>{"use strict";Object.defineProperty(r0,"__esModule",{value:!0});r0.takeUntil=void 0;var wme=J(),Sme=le(),Cme=je(),kme=yr();function Tme(e){return wme.operate(function(t,r){Cme.innerFrom(e).subscribe(Sme.createOperatorSubscriber(r,function(){return r.complete()},kme.noop)),!r.closed&&t.subscribe(r)})}r0.takeUntil=Tme});var xF=y(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.takeWhile=void 0;var Eme=J(),Rme=le();function Mme(e,t){return t===void 0&&(t=!1),Eme.operate(function(r,n){var o=0;r.subscribe(Rme.createOperatorSubscriber(n,function(i){var a=e(i,o++);(a||t)&&n.next(i),!a&&n.complete()}))})}n0.takeWhile=Mme});var wF=y(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.tap=void 0;var Ome=Qe(),Pme=J(),Ame=le(),jme=_r();function Ime(e,t,r){var n=Ome.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?Pme.operate(function(o,i){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;o.subscribe(Ame.createOperatorSubscriber(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):jme.identity}o0.tap=Ime});var bC=y(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.throttle=void 0;var Lme=J(),SF=le(),Nme=je();function Dme(e,t){return Lme.operate(function(r,n){var o=t??{},i=o.leading,a=i===void 0?!0:i,s=o.trailing,c=s===void 0?!1:s,u=!1,l=null,f=null,d=!1,p=function(){f?.unsubscribe(),f=null,c&&(v(),d&&n.complete())},m=function(){f=null,d&&n.complete()},h=function(b){return f=Nme.innerFrom(e(b)).subscribe(SF.createOperatorSubscriber(n,p,m))},v=function(){if(u){u=!1;var b=l;l=null,n.next(b),!d&&h(b)}};r.subscribe(SF.createOperatorSubscriber(n,function(b){u=!0,l=b,!(f&&!f.closed)&&(a?v():h(b))},function(){d=!0,!(c&&u&&f&&!f.closed)&&n.complete()}))})}i0.throttle=Dme});var CF=y(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.throttleTime=void 0;var Fme=sn(),qme=bC(),Bme=ja();function zme(e,t,r){t===void 0&&(t=Fme.asyncScheduler);var n=Bme.timer(e,t);return qme.throttle(function(){return n},r)}a0.throttleTime=zme});var TF=y(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.TimeInterval=ll.timeInterval=void 0;var Hme=sn(),Wme=J(),$me=le();function Ume(e){return e===void 0&&(e=Hme.asyncScheduler),Wme.operate(function(t,r){var n=e.now();t.subscribe($me.createOperatorSubscriber(r,function(o){var i=e.now(),a=i-n;n=i,r.next(new kF(o,a))}))})}ll.timeInterval=Ume;var kF=(function(){function e(t,r){this.value=t,this.interval=r}return e})();ll.TimeInterval=kF});var EF=y(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.timeoutWith=void 0;var Vme=sn(),Gme=nv(),Yme=ov();function Xme(e,t,r){var n,o,i;if(r=r??Vme.async,Gme.isValidDate(e)?n=e:typeof e=="number"&&(o=e),t)i=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&o==null)throw new TypeError("No timeout provided.");return Yme.timeout({first:n,each:o,scheduler:r,with:i})}s0.timeoutWith=Xme});var RF=y(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.timestamp=void 0;var Zme=_g(),Kme=Ma();function Jme(e){return e===void 0&&(e=Zme.dateTimestampProvider),Kme.map(function(t){return{value:t,timestamp:e.now()}})}u0.timestamp=Jme});var PF=y(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0});c0.window=void 0;var MF=xr(),Qme=J(),OF=le(),ehe=yr(),the=je();function rhe(e){return Qme.operate(function(t,r){var n=new MF.Subject;r.next(n.asObservable());var o=function(i){n.error(i),r.error(i)};return t.subscribe(OF.createOperatorSubscriber(r,function(i){return n?.next(i)},function(){n.complete(),r.complete()},o)),the.innerFrom(e).subscribe(OF.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new MF.Subject)},ehe.noop,o)),function(){n?.unsubscribe(),n=null}})}c0.window=rhe});var jF=y(fl=>{"use strict";var nhe=fl&&fl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fl,"__esModule",{value:!0});fl.windowCount=void 0;var AF=xr(),ohe=J(),ihe=le();function ahe(e,t){t===void 0&&(t=0);var r=t>0?t:e;return ohe.operate(function(n,o){var i=[new AF.Subject],a=[],s=0;o.next(i[0].asObservable()),n.subscribe(ihe.createOperatorSubscriber(o,function(c){var u,l;try{for(var f=nhe(i),d=f.next();!d.done;d=f.next()){var p=d.value;p.next(c)}}catch(v){u={error:v}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}var m=s-e+1;if(m>=0&&m%r===0&&i.shift().complete(),++s%r===0){var h=new AF.Subject;i.push(h),o.next(h.asObservable())}},function(){for(;i.length>0;)i.shift().complete();o.complete()},function(c){for(;i.length>0;)i.shift().error(c);o.error(c)},function(){a=null,i=null}))})}fl.windowCount=ahe});var LF=y(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.windowTime=void 0;var she=xr(),uhe=sn(),che=Cn(),lhe=J(),fhe=le(),dhe=Li(),phe=un(),IF=Ni();function mhe(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=(t=phe.popScheduler(n))!==null&&t!==void 0?t:uhe.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return lhe.operate(function(c,u){var l=[],f=!1,d=function(v){var b=v.window,_=v.subs;b.complete(),_.unsubscribe(),dhe.arrRemove(l,v),f&&p()},p=function(){if(l){var v=new che.Subscription;u.add(v);var b=new she.Subject,_={window:b,subs:v,seen:0};l.push(_),u.next(b.asObservable()),IF.executeSchedule(v,i,function(){return d(_)},e)}};a!==null&&a>=0?IF.executeSchedule(u,i,p,a,!0):f=!0,p();var m=function(v){return l.slice().forEach(v)},h=function(v){m(function(b){var _=b.window;return v(_)}),v(u),u.unsubscribe()};return c.subscribe(fhe.createOperatorSubscriber(u,function(v){m(function(b){b.window.next(v),s<=++b.seen&&d(b)})},function(){return h(function(v){return v.complete()})},function(v){return h(function(b){return b.error(v)})})),function(){l=null}})}l0.windowTime=mhe});var FF=y(dl=>{"use strict";var hhe=dl&&dl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(dl,"__esModule",{value:!0});dl.windowToggle=void 0;var ghe=xr(),vhe=Cn(),bhe=J(),NF=je(),yC=le(),DF=yr(),yhe=Li();function _he(e,t){return bhe.operate(function(r,n){var o=[],i=function(a){for(;0<o.length;)o.shift().error(a);n.error(a)};NF.innerFrom(e).subscribe(yC.createOperatorSubscriber(n,function(a){var s=new ghe.Subject;o.push(s);var c=new vhe.Subscription,u=function(){yhe.arrRemove(o,s),s.complete(),c.unsubscribe()},l;try{l=NF.innerFrom(t(a))}catch(f){i(f);return}n.next(s.asObservable()),c.add(l.subscribe(yC.createOperatorSubscriber(n,u,DF.noop,i)))},DF.noop)),r.subscribe(yC.createOperatorSubscriber(n,function(a){var s,c,u=o.slice();try{for(var l=hhe(u),f=l.next();!f.done;f=l.next()){var d=f.value;d.next(a)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();n.complete()},i,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}dl.windowToggle=_he});var BF=y(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.windowWhen=void 0;var xhe=xr(),whe=J(),qF=le(),She=je();function Che(e){return whe.operate(function(t,r){var n,o,i=function(s){n.error(s),r.error(s)},a=function(){o?.unsubscribe(),n?.complete(),n=new xhe.Subject,r.next(n.asObservable());var s;try{s=She.innerFrom(e())}catch(c){i(c);return}s.subscribe(o=qF.createOperatorSubscriber(r,a,a,i))};a(),t.subscribe(qF.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},i,function(){o?.unsubscribe(),n=null}))})}f0.windowWhen=Che});var $F=y($a=>{"use strict";var zF=$a&&$a.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},HF=$a&&$a.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty($a,"__esModule",{value:!0});$a.withLatestFrom=void 0;var khe=J(),WF=le(),The=je(),Ehe=_r(),Rhe=yr(),Mhe=un();function Ohe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Mhe.popResultSelector(e);return khe.operate(function(n,o){for(var i=e.length,a=new Array(i),s=e.map(function(){return!1}),c=!1,u=function(f){The.innerFrom(e[f]).subscribe(WF.createOperatorSubscriber(o,function(d){a[f]=d,!c&&!s[f]&&(s[f]=!0,(c=s.every(Ehe.identity))&&(s=null))},Rhe.noop))},l=0;l<i;l++)u(l);n.subscribe(WF.createOperatorSubscriber(o,function(f){if(c){var d=HF([f],zF(a));o.next(r?r.apply(void 0,HF([],zF(d))):d)}}))})}$a.withLatestFrom=Ohe});var UF=y(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.zipAll=void 0;var Phe=Iv(),Ahe=nC();function jhe(e){return Ahe.joinAllInternals(Phe.zip,e)}d0.zipAll=jhe});var VF=y(Ua=>{"use strict";var Ihe=Ua&&Ua.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Lhe=Ua&&Ua.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.zip=void 0;var Nhe=Iv(),Dhe=J();function Fhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dhe.operate(function(r,n){Nhe.zip.apply(void 0,Lhe([r],Ihe(e))).subscribe(n)})}Ua.zip=Fhe});var GF=y(Va=>{"use strict";var qhe=Va&&Va.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Bhe=Va&&Va.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Va,"__esModule",{value:!0});Va.zipWith=void 0;var zhe=VF();function Hhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zhe.zip.apply(void 0,Bhe([],qhe(e)))}Va.zipWith=Hhe});var eq=y(w=>{"use strict";var Whe=w&&w.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),$he=w&&w.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Whe(t,e,r)};Object.defineProperty(w,"__esModule",{value:!0});w.interval=w.iif=w.generate=w.fromEventPattern=w.fromEvent=w.from=w.forkJoin=w.empty=w.defer=w.connectable=w.concat=w.combineLatest=w.bindNodeCallback=w.bindCallback=w.UnsubscriptionError=w.TimeoutError=w.SequenceError=w.ObjectUnsubscribedError=w.NotFoundError=w.EmptyError=w.ArgumentOutOfRangeError=w.firstValueFrom=w.lastValueFrom=w.isObservable=w.identity=w.noop=w.pipe=w.NotificationKind=w.Notification=w.Subscriber=w.Subscription=w.Scheduler=w.VirtualAction=w.VirtualTimeScheduler=w.animationFrameScheduler=w.animationFrame=w.queueScheduler=w.queue=w.asyncScheduler=w.async=w.asapScheduler=w.asap=w.AsyncSubject=w.ReplaySubject=w.BehaviorSubject=w.Subject=w.animationFrames=w.observable=w.ConnectableObservable=w.Observable=void 0;w.filter=w.expand=w.exhaustMap=w.exhaustAll=w.exhaust=w.every=w.endWith=w.elementAt=w.distinctUntilKeyChanged=w.distinctUntilChanged=w.distinct=w.dematerialize=w.delayWhen=w.delay=w.defaultIfEmpty=w.debounceTime=w.debounce=w.count=w.connect=w.concatWith=w.concatMapTo=w.concatMap=w.concatAll=w.combineLatestWith=w.combineLatestAll=w.combineAll=w.catchError=w.bufferWhen=w.bufferToggle=w.bufferTime=w.bufferCount=w.buffer=w.auditTime=w.audit=w.config=w.NEVER=w.EMPTY=w.scheduled=w.zip=w.using=w.timer=w.throwError=w.range=w.race=w.partition=w.pairs=w.onErrorResumeNext=w.of=w.never=w.merge=void 0;w.switchMap=w.switchAll=w.subscribeOn=w.startWith=w.skipWhile=w.skipUntil=w.skipLast=w.skip=w.single=w.shareReplay=w.share=w.sequenceEqual=w.scan=w.sampleTime=w.sample=w.refCount=w.retryWhen=w.retry=w.repeatWhen=w.repeat=w.reduce=w.raceWith=w.publishReplay=w.publishLast=w.publishBehavior=w.publish=w.pluck=w.pairwise=w.onErrorResumeNextWith=w.observeOn=w.multicast=w.min=w.mergeWith=w.mergeScan=w.mergeMapTo=w.mergeMap=w.flatMap=w.mergeAll=w.max=w.materialize=w.mapTo=w.map=w.last=w.isEmpty=w.ignoreElements=w.groupBy=w.first=w.findIndex=w.find=w.finalize=void 0;w.zipWith=w.zipAll=w.withLatestFrom=w.windowWhen=w.windowToggle=w.windowTime=w.windowCount=w.window=w.toArray=w.timestamp=w.timeoutWith=w.timeout=w.timeInterval=w.throwIfEmpty=w.throttleTime=w.throttle=w.tap=w.takeWhile=w.takeUntil=w.takeLast=w.take=w.switchScan=w.switchMapTo=void 0;var Uhe=nt();Object.defineProperty(w,"Observable",{enumerable:!0,get:function(){return Uhe.Observable}});var Vhe=Bd();Object.defineProperty(w,"ConnectableObservable",{enumerable:!0,get:function(){return Vhe.ConnectableObservable}});var Ghe=Fd();Object.defineProperty(w,"observable",{enumerable:!0,get:function(){return Ghe.observable}});var Yhe=JI();Object.defineProperty(w,"animationFrames",{enumerable:!0,get:function(){return Yhe.animationFrames}});var Xhe=xr();Object.defineProperty(w,"Subject",{enumerable:!0,get:function(){return Xhe.Subject}});var Zhe=SS();Object.defineProperty(w,"BehaviorSubject",{enumerable:!0,get:function(){return Zhe.BehaviorSubject}});var Khe=xg();Object.defineProperty(w,"ReplaySubject",{enumerable:!0,get:function(){return Khe.ReplaySubject}});var Jhe=wg();Object.defineProperty(w,"AsyncSubject",{enumerable:!0,get:function(){return Jhe.AsyncSubject}});var YF=hL();Object.defineProperty(w,"asap",{enumerable:!0,get:function(){return YF.asap}});Object.defineProperty(w,"asapScheduler",{enumerable:!0,get:function(){return YF.asapScheduler}});var XF=sn();Object.defineProperty(w,"async",{enumerable:!0,get:function(){return XF.async}});Object.defineProperty(w,"asyncScheduler",{enumerable:!0,get:function(){return XF.asyncScheduler}});var ZF=bL();Object.defineProperty(w,"queue",{enumerable:!0,get:function(){return ZF.queue}});Object.defineProperty(w,"queueScheduler",{enumerable:!0,get:function(){return ZF.queueScheduler}});var KF=wL();Object.defineProperty(w,"animationFrame",{enumerable:!0,get:function(){return KF.animationFrame}});Object.defineProperty(w,"animationFrameScheduler",{enumerable:!0,get:function(){return KF.animationFrameScheduler}});var JF=kL();Object.defineProperty(w,"VirtualTimeScheduler",{enumerable:!0,get:function(){return JF.VirtualTimeScheduler}});Object.defineProperty(w,"VirtualAction",{enumerable:!0,get:function(){return JF.VirtualAction}});var Qhe=kS();Object.defineProperty(w,"Scheduler",{enumerable:!0,get:function(){return Qhe.Scheduler}});var ege=Cn();Object.defineProperty(w,"Subscription",{enumerable:!0,get:function(){return ege.Subscription}});var tge=Pc();Object.defineProperty(w,"Subscriber",{enumerable:!0,get:function(){return tge.Subscriber}});var QF=Yg();Object.defineProperty(w,"Notification",{enumerable:!0,get:function(){return QF.Notification}});Object.defineProperty(w,"NotificationKind",{enumerable:!0,get:function(){return QF.NotificationKind}});var rge=qd();Object.defineProperty(w,"pipe",{enumerable:!0,get:function(){return rge.pipe}});var nge=yr();Object.defineProperty(w,"noop",{enumerable:!0,get:function(){return nge.noop}});var oge=_r();Object.defineProperty(w,"identity",{enumerable:!0,get:function(){return oge.identity}});var ige=HL();Object.defineProperty(w,"isObservable",{enumerable:!0,get:function(){return ige.isObservable}});var age=WL();Object.defineProperty(w,"lastValueFrom",{enumerable:!0,get:function(){return age.lastValueFrom}});var sge=$L();Object.defineProperty(w,"firstValueFrom",{enumerable:!0,get:function(){return sge.firstValueFrom}});var uge=BS();Object.defineProperty(w,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return uge.ArgumentOutOfRangeError}});var cge=Ra();Object.defineProperty(w,"EmptyError",{enumerable:!0,get:function(){return cge.EmptyError}});var lge=zS();Object.defineProperty(w,"NotFoundError",{enumerable:!0,get:function(){return lge.NotFoundError}});var fge=yS();Object.defineProperty(w,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return fge.ObjectUnsubscribedError}});var dge=HS();Object.defineProperty(w,"SequenceError",{enumerable:!0,get:function(){return dge.SequenceError}});var pge=ov();Object.defineProperty(w,"TimeoutError",{enumerable:!0,get:function(){return pge.TimeoutError}});var mge=aS();Object.defineProperty(w,"UnsubscriptionError",{enumerable:!0,get:function(){return mge.UnsubscriptionError}});var hge=VL();Object.defineProperty(w,"bindCallback",{enumerable:!0,get:function(){return hge.bindCallback}});var gge=GL();Object.defineProperty(w,"bindNodeCallback",{enumerable:!0,get:function(){return gge.bindNodeCallback}});var vge=lv();Object.defineProperty(w,"combineLatest",{enumerable:!0,get:function(){return vge.combineLatest}});var bge=Gd();Object.defineProperty(w,"concat",{enumerable:!0,get:function(){return bge.concat}});var yge=tN();Object.defineProperty(w,"connectable",{enumerable:!0,get:function(){return yge.connectable}});var _ge=Yd();Object.defineProperty(w,"defer",{enumerable:!0,get:function(){return _ge.defer}});var xge=vo();Object.defineProperty(w,"empty",{enumerable:!0,get:function(){return xge.empty}});var wge=rN();Object.defineProperty(w,"forkJoin",{enumerable:!0,get:function(){return wge.forkJoin}});var Sge=Di();Object.defineProperty(w,"from",{enumerable:!0,get:function(){return Sge.from}});var Cge=oN();Object.defineProperty(w,"fromEvent",{enumerable:!0,get:function(){return Cge.fromEvent}});var kge=aN();Object.defineProperty(w,"fromEventPattern",{enumerable:!0,get:function(){return kge.fromEventPattern}});var Tge=uN();Object.defineProperty(w,"generate",{enumerable:!0,get:function(){return Tge.generate}});var Ege=cN();Object.defineProperty(w,"iif",{enumerable:!0,get:function(){return Ege.iif}});var Rge=YS();Object.defineProperty(w,"interval",{enumerable:!0,get:function(){return Rge.interval}});var Mge=fN();Object.defineProperty(w,"merge",{enumerable:!0,get:function(){return Mge.merge}});var Oge=XS();Object.defineProperty(w,"never",{enumerable:!0,get:function(){return Oge.never}});var Pge=Vg();Object.defineProperty(w,"of",{enumerable:!0,get:function(){return Pge.of}});var Age=ZS();Object.defineProperty(w,"onErrorResumeNext",{enumerable:!0,get:function(){return Age.onErrorResumeNext}});var jge=pN();Object.defineProperty(w,"pairs",{enumerable:!0,get:function(){return jge.pairs}});var Ige=vN();Object.defineProperty(w,"partition",{enumerable:!0,get:function(){return Ige.partition}});var Lge=KS();Object.defineProperty(w,"race",{enumerable:!0,get:function(){return Lge.race}});var Nge=_N();Object.defineProperty(w,"range",{enumerable:!0,get:function(){return Nge.range}});var Dge=qS();Object.defineProperty(w,"throwError",{enumerable:!0,get:function(){return Dge.throwError}});var Fge=ja();Object.defineProperty(w,"timer",{enumerable:!0,get:function(){return Fge.timer}});var qge=xN();Object.defineProperty(w,"using",{enumerable:!0,get:function(){return qge.using}});var Bge=Iv();Object.defineProperty(w,"zip",{enumerable:!0,get:function(){return Bge.zip}});var zge=FS();Object.defineProperty(w,"scheduled",{enumerable:!0,get:function(){return zge.scheduled}});var Hge=vo();Object.defineProperty(w,"EMPTY",{enumerable:!0,get:function(){return Hge.EMPTY}});var Wge=XS();Object.defineProperty(w,"NEVER",{enumerable:!0,get:function(){return Wge.NEVER}});$he(SN(),w);var $ge=Mc();Object.defineProperty(w,"config",{enumerable:!0,get:function(){return $ge.config}});var Uge=JS();Object.defineProperty(w,"audit",{enumerable:!0,get:function(){return Uge.audit}});var Vge=kN();Object.defineProperty(w,"auditTime",{enumerable:!0,get:function(){return Vge.auditTime}});var Gge=EN();Object.defineProperty(w,"buffer",{enumerable:!0,get:function(){return Gge.buffer}});var Yge=RN();Object.defineProperty(w,"bufferCount",{enumerable:!0,get:function(){return Yge.bufferCount}});var Xge=ON();Object.defineProperty(w,"bufferTime",{enumerable:!0,get:function(){return Xge.bufferTime}});var Zge=jN();Object.defineProperty(w,"bufferToggle",{enumerable:!0,get:function(){return Zge.bufferToggle}});var Kge=LN();Object.defineProperty(w,"bufferWhen",{enumerable:!0,get:function(){return Kge.bufferWhen}});var Jge=DN();Object.defineProperty(w,"catchError",{enumerable:!0,get:function(){return Jge.catchError}});var Qge=FN();Object.defineProperty(w,"combineAll",{enumerable:!0,get:function(){return Qge.combineAll}});var eve=oC();Object.defineProperty(w,"combineLatestAll",{enumerable:!0,get:function(){return eve.combineLatestAll}});var tve=WN();Object.defineProperty(w,"combineLatestWith",{enumerable:!0,get:function(){return tve.combineLatestWith}});var rve=gv();Object.defineProperty(w,"concatAll",{enumerable:!0,get:function(){return rve.concatAll}});var nve=iC();Object.defineProperty(w,"concatMap",{enumerable:!0,get:function(){return nve.concatMap}});var ove=VN();Object.defineProperty(w,"concatMapTo",{enumerable:!0,get:function(){return ove.concatMapTo}});var ive=YN();Object.defineProperty(w,"concatWith",{enumerable:!0,get:function(){return ive.concatWith}});var ave=Zv();Object.defineProperty(w,"connect",{enumerable:!0,get:function(){return ave.connect}});var sve=ZN();Object.defineProperty(w,"count",{enumerable:!0,get:function(){return sve.count}});var uve=JN();Object.defineProperty(w,"debounce",{enumerable:!0,get:function(){return uve.debounce}});var cve=QN();Object.defineProperty(w,"debounceTime",{enumerable:!0,get:function(){return cve.debounceTime}});var lve=Xd();Object.defineProperty(w,"defaultIfEmpty",{enumerable:!0,get:function(){return lve.defaultIfEmpty}});var fve=rD();Object.defineProperty(w,"delay",{enumerable:!0,get:function(){return fve.delay}});var dve=uC();Object.defineProperty(w,"delayWhen",{enumerable:!0,get:function(){return dve.delayWhen}});var pve=nD();Object.defineProperty(w,"dematerialize",{enumerable:!0,get:function(){return pve.dematerialize}});var mve=iD();Object.defineProperty(w,"distinct",{enumerable:!0,get:function(){return mve.distinct}});var hve=cC();Object.defineProperty(w,"distinctUntilChanged",{enumerable:!0,get:function(){return hve.distinctUntilChanged}});var gve=aD();Object.defineProperty(w,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return gve.distinctUntilKeyChanged}});var vve=uD();Object.defineProperty(w,"elementAt",{enumerable:!0,get:function(){return vve.elementAt}});var bve=cD();Object.defineProperty(w,"endWith",{enumerable:!0,get:function(){return bve.endWith}});var yve=lD();Object.defineProperty(w,"every",{enumerable:!0,get:function(){return yve.every}});var _ve=mD();Object.defineProperty(w,"exhaust",{enumerable:!0,get:function(){return _ve.exhaust}});var xve=fC();Object.defineProperty(w,"exhaustAll",{enumerable:!0,get:function(){return xve.exhaustAll}});var wve=lC();Object.defineProperty(w,"exhaustMap",{enumerable:!0,get:function(){return wve.exhaustMap}});var Sve=hD();Object.defineProperty(w,"expand",{enumerable:!0,get:function(){return Sve.expand}});var Cve=nu();Object.defineProperty(w,"filter",{enumerable:!0,get:function(){return Cve.filter}});var kve=gD();Object.defineProperty(w,"finalize",{enumerable:!0,get:function(){return kve.finalize}});var Tve=dC();Object.defineProperty(w,"find",{enumerable:!0,get:function(){return Tve.find}});var Eve=bD();Object.defineProperty(w,"findIndex",{enumerable:!0,get:function(){return Eve.findIndex}});var Rve=yD();Object.defineProperty(w,"first",{enumerable:!0,get:function(){return Rve.first}});var Mve=xD();Object.defineProperty(w,"groupBy",{enumerable:!0,get:function(){return Mve.groupBy}});var Ove=aC();Object.defineProperty(w,"ignoreElements",{enumerable:!0,get:function(){return Ove.ignoreElements}});var Pve=wD();Object.defineProperty(w,"isEmpty",{enumerable:!0,get:function(){return Pve.isEmpty}});var Ave=SD();Object.defineProperty(w,"last",{enumerable:!0,get:function(){return Ave.last}});var jve=Ma();Object.defineProperty(w,"map",{enumerable:!0,get:function(){return jve.map}});var Ive=sC();Object.defineProperty(w,"mapTo",{enumerable:!0,get:function(){return Ive.mapTo}});var Lve=CD();Object.defineProperty(w,"materialize",{enumerable:!0,get:function(){return Lve.materialize}});var Nve=kD();Object.defineProperty(w,"max",{enumerable:!0,get:function(){return Nve.max}});var Dve=Vd();Object.defineProperty(w,"mergeAll",{enumerable:!0,get:function(){return Dve.mergeAll}});var Fve=TD();Object.defineProperty(w,"flatMap",{enumerable:!0,get:function(){return Fve.flatMap}});var qve=qi();Object.defineProperty(w,"mergeMap",{enumerable:!0,get:function(){return qve.mergeMap}});var Bve=RD();Object.defineProperty(w,"mergeMapTo",{enumerable:!0,get:function(){return Bve.mergeMapTo}});var zve=MD();Object.defineProperty(w,"mergeScan",{enumerable:!0,get:function(){return zve.mergeScan}});var Hve=AD();Object.defineProperty(w,"mergeWith",{enumerable:!0,get:function(){return Hve.mergeWith}});var Wve=jD();Object.defineProperty(w,"min",{enumerable:!0,get:function(){return Wve.min}});var $ve=Ob();Object.defineProperty(w,"multicast",{enumerable:!0,get:function(){return $ve.multicast}});var Uve=$d();Object.defineProperty(w,"observeOn",{enumerable:!0,get:function(){return Uve.observeOn}});var Vve=ND();Object.defineProperty(w,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Vve.onErrorResumeNextWith}});var Gve=DD();Object.defineProperty(w,"pairwise",{enumerable:!0,get:function(){return Gve.pairwise}});var Yve=FD();Object.defineProperty(w,"pluck",{enumerable:!0,get:function(){return Yve.pluck}});var Xve=qD();Object.defineProperty(w,"publish",{enumerable:!0,get:function(){return Xve.publish}});var Zve=BD();Object.defineProperty(w,"publishBehavior",{enumerable:!0,get:function(){return Zve.publishBehavior}});var Kve=zD();Object.defineProperty(w,"publishLast",{enumerable:!0,get:function(){return Kve.publishLast}});var Jve=WD();Object.defineProperty(w,"publishReplay",{enumerable:!0,get:function(){return Jve.publishReplay}});var Qve=$D();Object.defineProperty(w,"raceWith",{enumerable:!0,get:function(){return Qve.raceWith}});var ebe=sl();Object.defineProperty(w,"reduce",{enumerable:!0,get:function(){return ebe.reduce}});var tbe=VD();Object.defineProperty(w,"repeat",{enumerable:!0,get:function(){return tbe.repeat}});var rbe=YD();Object.defineProperty(w,"repeatWhen",{enumerable:!0,get:function(){return rbe.repeatWhen}});var nbe=ZD();Object.defineProperty(w,"retry",{enumerable:!0,get:function(){return nbe.retry}});var obe=JD();Object.defineProperty(w,"retryWhen",{enumerable:!0,get:function(){return obe.retryWhen}});var ibe=vS();Object.defineProperty(w,"refCount",{enumerable:!0,get:function(){return ibe.refCount}});var abe=hC();Object.defineProperty(w,"sample",{enumerable:!0,get:function(){return abe.sample}});var sbe=eF();Object.defineProperty(w,"sampleTime",{enumerable:!0,get:function(){return sbe.sampleTime}});var ube=tF();Object.defineProperty(w,"scan",{enumerable:!0,get:function(){return ube.scan}});var cbe=nF();Object.defineProperty(w,"sequenceEqual",{enumerable:!0,get:function(){return cbe.sequenceEqual}});var lbe=vC();Object.defineProperty(w,"share",{enumerable:!0,get:function(){return lbe.share}});var fbe=aF();Object.defineProperty(w,"shareReplay",{enumerable:!0,get:function(){return fbe.shareReplay}});var dbe=sF();Object.defineProperty(w,"single",{enumerable:!0,get:function(){return dbe.single}});var pbe=uF();Object.defineProperty(w,"skip",{enumerable:!0,get:function(){return pbe.skip}});var mbe=cF();Object.defineProperty(w,"skipLast",{enumerable:!0,get:function(){return mbe.skipLast}});var hbe=fF();Object.defineProperty(w,"skipUntil",{enumerable:!0,get:function(){return hbe.skipUntil}});var gbe=dF();Object.defineProperty(w,"skipWhile",{enumerable:!0,get:function(){return gbe.skipWhile}});var vbe=mF();Object.defineProperty(w,"startWith",{enumerable:!0,get:function(){return vbe.startWith}});var bbe=Ud();Object.defineProperty(w,"subscribeOn",{enumerable:!0,get:function(){return bbe.subscribeOn}});var ybe=gF();Object.defineProperty(w,"switchAll",{enumerable:!0,get:function(){return ybe.switchAll}});var _be=Jd();Object.defineProperty(w,"switchMap",{enumerable:!0,get:function(){return _be.switchMap}});var xbe=bF();Object.defineProperty(w,"switchMapTo",{enumerable:!0,get:function(){return xbe.switchMapTo}});var wbe=yF();Object.defineProperty(w,"switchScan",{enumerable:!0,get:function(){return wbe.switchScan}});var Sbe=Zd();Object.defineProperty(w,"take",{enumerable:!0,get:function(){return Sbe.take}});var Cbe=pC();Object.defineProperty(w,"takeLast",{enumerable:!0,get:function(){return Cbe.takeLast}});var kbe=_F();Object.defineProperty(w,"takeUntil",{enumerable:!0,get:function(){return kbe.takeUntil}});var Tbe=xF();Object.defineProperty(w,"takeWhile",{enumerable:!0,get:function(){return Tbe.takeWhile}});var Ebe=wF();Object.defineProperty(w,"tap",{enumerable:!0,get:function(){return Ebe.tap}});var Rbe=bC();Object.defineProperty(w,"throttle",{enumerable:!0,get:function(){return Rbe.throttle}});var Mbe=CF();Object.defineProperty(w,"throttleTime",{enumerable:!0,get:function(){return Mbe.throttleTime}});var Obe=Kd();Object.defineProperty(w,"throwIfEmpty",{enumerable:!0,get:function(){return Obe.throwIfEmpty}});var Pbe=TF();Object.defineProperty(w,"timeInterval",{enumerable:!0,get:function(){return Pbe.timeInterval}});var Abe=ov();Object.defineProperty(w,"timeout",{enumerable:!0,get:function(){return Abe.timeout}});var jbe=EF();Object.defineProperty(w,"timeoutWith",{enumerable:!0,get:function(){return jbe.timeoutWith}});var Ibe=RF();Object.defineProperty(w,"timestamp",{enumerable:!0,get:function(){return Ibe.timestamp}});var Lbe=rC();Object.defineProperty(w,"toArray",{enumerable:!0,get:function(){return Lbe.toArray}});var Nbe=PF();Object.defineProperty(w,"window",{enumerable:!0,get:function(){return Nbe.window}});var Dbe=jF();Object.defineProperty(w,"windowCount",{enumerable:!0,get:function(){return Dbe.windowCount}});var Fbe=LF();Object.defineProperty(w,"windowTime",{enumerable:!0,get:function(){return Fbe.windowTime}});var qbe=FF();Object.defineProperty(w,"windowToggle",{enumerable:!0,get:function(){return qbe.windowToggle}});var Bbe=BF();Object.defineProperty(w,"windowWhen",{enumerable:!0,get:function(){return Bbe.windowWhen}});var zbe=$F();Object.defineProperty(w,"withLatestFrom",{enumerable:!0,get:function(){return zbe.withLatestFrom}});var Hbe=UF();Object.defineProperty(w,"zipAll",{enumerable:!0,get:function(){return Hbe.zipAll}});var Wbe=GF();Object.defineProperty(w,"zipWith",{enumerable:!0,get:function(){return Wbe.zipWith}})});var xC=y(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.checkAbortSignal=rq;ou.abortBreakPoint=Ube;ou.makeAbortError=nq;ou.observeAbortSignal=Vbe;ou.isAbortException=Gbe;var tq=eq(),_C=class extends Error{};function rq(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw nq()}}function $be(e){return new Promise(t=>setTimeout(t,e))}async function Ube(e){await $be(1),rq(e)}function nq(){if(typeof DOMException<"u")return new DOMException("aborted","AbortError");let e=new _C("aborted");return e.code="ERR_ABORTED",e}function Vbe(e){return e?(0,tq.fromEvent)(e,"abort"):new tq.Observable}function Gbe(e){return e instanceof Error&&(e.name==="AbortError"||e.code==="ERR_ABORTED"||/\b(aborted|aborterror)\b/i.test(e.message))}});var oq=y(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.makeAbortableReaction=Zbe;var Ybe=Gs(),Qd=Oe(),Xbe=xC(),wC=ya();function Zbe(e,t,r,n,o,i,a){let s;function c(u){(0,Xbe.isAbortException)(u)||(console.error(u),(0,Qd.isAlive)(e)&&a(u))}(0,Qd.addDisposer)(e,(0,Ybe.reaction)(()=>{try{return t(e)}catch(u){c(u);return}},async(u,l)=>{if(s&&(0,wC.stopStopToken)(s),!!(0,Qd.isAlive)(e)){s=(0,wC.createStopToken)(),o(s);try{let f=await r(u,s,e,l);(0,Qd.isAlive)(e)&&i(f)}catch(f){c(f)}}},n)),(0,Qd.addDisposer)(e,()=>{s&&(0,wC.stopStopToken)(s)})}});var fo=y(z=>{"use strict";var Kbe=z&&z.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),au=z&&z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kbe(t,e,r)},iq=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});z.makeAbortableReaction=z.blobToDataURL=z.isFeature=z.SimpleFeature=z.defaultCodonTable=z.defaultStops=z.defaultStarts=z.rIC=z.complementTable=z.isElectron=void 0;z.useDebounce=r0e;z.useWidthSetter=n0e;z.useDebouncedCallback=o0e;z.findParentThat=sq;z.springAnimate=i0e;z.findParentThatIs=tp;z.getSession=a0e;z.getContainingView=uq;z.getContainingTrack=s0e;z.getContainingDisplay=u0e;z.assembleLocString=c0e;z.assembleLocStringFast=cq;z.parseLocStringOneBased=lq;z.parseLocString=CC;z.compareLocs=fq;z.compareLocStrings=l0e;z.clamp=f0e;z.bpToPx=kC;z.radToDeg=h0e;z.degToRad=g0e;z.polarToCartesian=v0e;z.cartesianToPolar=b0e;z.featureSpanPx=y0e;z.bpSpanPx=dq;z.iterMap=_0e;z.findLastIndex=x0e;z.findLast=w0e;z.renameRegionIfNeeded=pq;z.renameRegionsIfNeeded=S0e;z.minmax=C0e;z.shorten=mq;z.shorten2=k0e;z.stringify=T0e;z.revcom=E0e;z.reverse=R0e;z.complement=M0e;z.measureText=hq;z.getFrame=P0e;z.generateCodonTable=A0e;z.updateStatus=TC;z.updateStatus2=j0e;z.hashCode=gq;z.objectHash=I0e;z.bytesForRegions=L0e;z.isSupportedIndexingAdapter=N0e;z.getBpDisplayStr=D0e;z.getProgressDisplayStr=F0e;z.toLocale=pl;z.getTickDisplayStr=q0e;z.getViewParams=B0e;z.getLayoutId=z0e;z.useLocalStorage=H0e;z.getUriLink=vq;z.getStr=bq;z.coarseStripHTML=yq;z.linkify=W0e;z.measureGridWidth=$0e;z.getEnv=U0e;z.localStorageGetItem=RC;z.localStorageSetItem=_q;z.max=xq;z.min=V0e;z.sum=wq;z.avg=G0e;z.groupBy=Y0e;z.notEmpty=X0e;z.mergeIntervals=Sq;z.gatherOverlaps=Z0e;z.stripAlpha=K0e;z.getStrokeProps=J0e;z.getFillProps=Q0e;z.renderToStaticMarkup=eye;z.isGzip=Cq;z.fetchAndMaybeUnzip=kq;z.fetchAndMaybeUnzipText=tye;z.isObject=Tq;z.localStorageGetNumber=rye;z.localStorageGetBoolean=nye;z.localStorageSetBoolean=oye;z.forEachWithStopTokenCheck=iye;z.testAdapter=aye;var iu=$(),Jbe=gj(),Qbe=iq(vj()),bo=Oe(),e0e=Cc(),t0e=_j(),EC=Od(),aq=ya(),ep=jd();au(jd(),z);au(dI(),z);au(Xw(),z);au(pI(),z);au(tS(),z);au(kI(),z);function r0e(e,t){let[r,n]=(0,iu.useState)(e);return(0,iu.useEffect)(()=>{let o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}function n0e(e,t){let[r,{width:n}]=(0,Qbe.default)();return(0,iu.useEffect)(()=>{let o;return n&&(0,bo.isAlive)(e)&&(o=requestAnimationFrame(()=>{e.setWidth(n)})),()=>{o&&cancelAnimationFrame(o)}},[t,e,n]),r}function o0e(e,t=400){let r=(0,iu.useRef)(null),n=(0,iu.useRef)(null);return(0,iu.useEffect)(()=>{n.current&&clearTimeout(n.current)},[]),function(...i){r.current=i,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current&&e(...r.current)},t)}}function sq(e,t){if(!(0,bo.hasParent)(e))throw new Error("node does not have parent");let r=(0,bo.getParent)(e);for(;r&&(0,bo.isAlive)(r);){if(t(r))return r;if((0,bo.hasParent)(r))r=(0,bo.getParent)(r);else break}throw new Error("no matching node found")}function i0e(e,t,r,n=()=>{},o=0,i=400,a=20,s=!0){o||(o=Math.abs(t-e)/1e3);let u;function l(f){let d=Date.now(),p=f.lastPosition,m=f.lastTime||d,h=f.lastVelocity||0;d>m+64&&(m=d);let v=Math.floor(d-m);for(let C=0;C<v;++C){let O=-i*(p-t),k=-a*h,P=(O+k)/1;h+=P*1/1e3,p+=h*1/1e3}let b=Math.abs(h)<=o,_=i!==0?Math.abs(t-p)<=o:!0;(s&&i!==0?e<t?p>t:p<t:!1)||b&&_?(r(t),n()):(r(p),u=requestAnimationFrame(()=>{l({lastPosition:p,lastTime:d,lastVelocity:h})}))}return[()=>{l({lastPosition:e})},()=>{cancelAnimationFrame(u)}]}function tp(e,t){return sq(e,t)}function a0e(e){try{return tp(e,ep.isSessionModel)}catch{throw new Error("no session model found!")}}function uq(e){try{return tp(e,ep.isViewModel)}catch{throw new Error("no containing view found")}}function s0e(e){try{return tp(e,ep.isTrackModel)}catch{throw new Error("no containing track found")}}function u0e(e){try{return tp(e,ep.isDisplayModel)}catch{throw new Error("no containing display found")}}function c0e(e){return cq(e,pl)}function cq(e,t=r=>r){let{assemblyName:r,refName:n,start:o,end:i,reversed:a}=e,s=r?`{${r}}`:"",c;o!==void 0?c=`:${t(o+1)}`:i!==void 0?c=":1":c="";let u;i!==void 0?u=o!==void 0&&o+1===i?"":`..${t(i)}`:u=o!==void 0?"..":"";let l="";return a&&(l="[rev]"),`${s}${n}${c}${u}${l}`}function lq(e,t){if(!e)throw new Error("no location string provided, could not parse");let r=!1;e.endsWith("[rev]")&&(r=!0,e=e.replace(/\[rev]$/,"")),e=e.replace(/\s/,"");let n=/({(.+)})?(.+)/.exec(e);if(!n)throw new Error(`invalid location string: "${e}"`);let[,,o,i]=n,a=o,s=i;if(!a&&s.startsWith("{}"))throw new Error(`no assembly name was provided in location "${s}"`);let c=s.lastIndexOf(":");if(c===-1){if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`Unknown reference sequence "${s}"`)}let u=s.slice(0,c),l=s.slice(c+1);if(t(u,a)&&t(s,a))throw new Error(`ambiguous location string: "${e}"`);if(t(u,a))if(l){let f=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/.exec(l),d=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/.exec(l);if(f){let[,p,,,,m]=f;if(p!==void 0&&m!==void 0)return{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+m.replaceAll(",",""),reversed:r}}else if(d){let[,p,,,m]=d;if(p!==void 0)return m?{assemblyName:a,refName:u,start:+p.replaceAll(",",""),reversed:r}:{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+p.replaceAll(",",""),reversed:r}}else throw new Error(`could not parse range "${l}" on location "${e}"`)}else return{assemblyName:a,refName:u,reversed:r};else if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`unknown reference sequence name in location "${e}"`)}function CC(e,t){let r=lq(e,t);return typeof r.start=="number"&&(r.start-=1),r}function fq(e,t){let r=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(r)return r;let n=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(n)return n;if(e.start!==void 0&&t.start!==void 0){let o=e.start-t.start;if(o)return o}if(e.end!==void 0&&t.end!==void 0){let o=e.end-t.end;if(o)return o}return 0}function l0e(e,t,r){let n=CC(e,r),o=CC(t,r);return fq(n,o)}function f0e(e,t,r){return e<t?t:e>r?r:e}function d0e(e){return Math.round(e*10)/10}function kC(e,{reversed:t,end:r=0,start:n=0},o){return d0e((t?r-e:e-n)/o)}var p0e=180/Math.PI,m0e=Math.PI/180;function h0e(e){return e*p0e%360}function g0e(e){return e*m0e%(2*Math.PI)}function v0e(e,t){return[e*Math.cos(t),e*Math.sin(t)]}function b0e(e,t){let r=Math.sqrt(e*e+t*t),n=Math.atan(t/e);return[r,n]}function y0e(e,t,r){return dq(e.get("start"),e.get("end"),t,r)}function dq(e,t,r,n){let o=kC(e,r,n),i=kC(t,r,n);return r.reversed?[i,o]:[o,i]}function _0e(e,t,r){let n=Array.from({length:r||0}),o=0;for(let i of e)n[o]=t(i),o+=1;return n}function x0e(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return r;return-1}function w0e(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return e[r]}function pq(e,t){if((0,bo.isStateTreeNode)(t)&&!(0,bo.isAlive)(t))return t;if(e?.[t.refName]){t=(0,bo.isStateTreeNode)(t)?{...(0,bo.getSnapshot)(t)}:{...t};let r=e[t.refName];if(r)return{...t,refName:r,originalRefName:t.refName}}return t}async function S0e(e,t){let{regions:r=[],adapterConfig:n}=t;if(!t.sessionId)throw new Error("sessionId is required");let o=r.map(a=>a.assemblyName),i=Object.fromEntries(await Promise.all([...new Set(o)].map(async a=>[a,await e.getRefNameMapForAdapter(n,a,t)])));return{...t,regions:r.map((a,s)=>pq(i[o[s]],a))}}function C0e(e,t){return[Math.min(e,t),Math.max(e,t)]}function mq(e,t=70,r=30){return e.length>t?`${e.slice(0,r)}...${e.slice(-r)}`:e}function k0e(e,t=70){return e.length>t?`${e.slice(0,t)}...`:e}function T0e({refName:e,coord:t,assemblyName:r,oob:n},o){return[r&&o?`{${r}}`:"",e?`${mq(e)}:${pl(t)}${n?" (out of bounds)":""}`:""].join("")}z.isElectron=/electron/i.test(typeof navigator<"u"?navigator.userAgent:"");z.complementTable={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"};function E0e(e){var t;let r=[];for(let n=e.length-1;n>=0;n--)r.push((t=z.complementTable[e[n]])!==null&&t!==void 0?t:e[n]);return r.join("")}function R0e(e){let t=[];for(let r=e.length-1;r>=0;r--)t.push(e[r]);return t.join("")}function M0e(e){var t;let r=[];for(let n=0,o=e.length;n<o;n++)r.push((t=z.complementTable[e[n]])!==null&&t!==void 0?t:e[n]);return r.join("")}z.rIC=typeof jest>"u"?typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout(()=>{e()},1):e=>{e()};var O0e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];function hq(e,t=10){var r;let n=.5279276315789471,o=String(e),i=0;for(let a=0;a<o.length;a++){let s=o.charCodeAt(a);i+=(r=O0e[s])!==null&&r!==void 0?r:n}return i*t}function P0e(e,t,r,n){return r===1?(e+n)%3+1:-1*((t-n)%3)-1}z.defaultStarts=["ATG"];z.defaultStops=["TAA","TAG","TGA"];z.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"};function A0e(e){let t={};for(let r of Object.keys(e)){let n=e[r],o=[];for(let i=0;i<3;i++){let a=r.charAt(i);o[i]=[],o[i][0]=a.toUpperCase(),o[i][1]=a.toLowerCase()}for(let i=0;i<2;i++){let a=o[0][i];for(let s=0;s<2;s++){let c=o[1][s];for(let u=0;u<2;u++){let l=o[2][u],f=a+c+l;t[f]=n}}}}return t}async function TC(e,t,r){t(e);let n=await r();return t(""),n}async function j0e(e,t,r,n){t(e);let o=await n();return(0,aq.checkStopToken)(r),t(""),o}function gq(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}function I0e(e){return`${gq(JSON.stringify(e))}`}async function L0e(e,t){return(await Promise.all(e.map(n=>t.blocksForRange(n.refName,n.start,n.end)))).flat().map(n=>({start:n.minv.blockPosition,end:n.maxv.blockPosition+65535})).reduce((n,o)=>n+o.end-o.start,0)}function N0e(e=""){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(e)}function D0e(e){return Math.floor(e/1e6)>0?`${Ga(e/1e6)}Mbp`:Math.floor(e/1e3)>0?`${Ga(e/1e3)}Kbp`:`${Math.floor(e)}bp`}function Ga(e){return pl(Number.parseFloat(e.toPrecision(3)))}function F0e(e,t){return Math.floor(t/1e6)>0?`${Ga(e/1e6)}/${Ga(t/1e6)}Mb`:Math.floor(t/1e3)>0?`${Ga(e/1e3)}/${Ga(t/1e3)}Kb`:`${Ga(e)}/${Ga(t)}}bytes`}function pl(e){return e.toLocaleString("en-US")}function q0e(e,t){return Math.floor(t/1e3)>0?`${pl(Number.parseFloat((e/1e6).toFixed(2)))}M`:pl(Math.floor(e))}function B0e(e,t){let{dynamicBlocks:r,staticBlocks:n,offsetPx:o}=uq(e),i=r?.contentBlocks[0]||{},a=n?.contentBlocks[0]||{},s=n?.contentBlocks[1]||{};return{offsetPx:t?0:o-a.offsetPx,offsetPx1:t?0:o-s.offsetPx,start:i.start,end:i.end}}function z0e({sessionId:e,layoutId:t}){return`${e}-${t}`}function H0e(e,t){let[r,n]=(0,iu.useState)(()=>{if(typeof window>"u")return t;try{let i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.error(i),t}});return[r,i=>{try{let a=i instanceof Function?i(r):i;n(a),typeof window<"u"&&window.localStorage.setItem(e,JSON.stringify(a))}catch(a){console.error(a)}}]}function vq(e){let{uri:t,baseUri:r=""}=e,n;try{n=new URL(t,r).href}catch{n=t}return n}function bq(e){return Tq(e)?(0,ep.isUriLocation)(e)?vq(e):JSON.stringify(e):String(e)}function yq(e){return e.replaceAll(/(<([^>]+)>)/gi,"")}function W0e(e){let t=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[-A-Z0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\u0026@#/%=~()_|])/gi;return e.replaceAll(t,`$1<a href='$2' target="_blank">$2</a>`)}function $0e(e,t){let{padding:r=30,minWidth:n=80,fontSize:o=12,maxWidth:i=1e3,stripHTML:a=!1}=t||{};return xq(e.map(s=>bq(s)).map(s=>a?yq(s):s).map(s=>hq(s,o)).map(s=>Math.min(Math.max(s+r,n),i)))}function U0e(e){return(0,bo.getEnv)(e)}function RC(e){return typeof localStorage<"u"?localStorage.getItem(e):void 0}function _q(e,t){typeof localStorage<"u"&&localStorage.setItem(e,t)}function xq(e,t=Number.NEGATIVE_INFINITY){let r=t;for(let n of e)r=Math.max(n,r);return r}function V0e(e,t=Number.POSITIVE_INFINITY){let r=t;for(let n of e)r=Math.min(n,r);return r}function wq(e){let t=0;for(let r of e)t+=r;return t}function G0e(e){return wq(e)/e.length}function Y0e(e,t){let r={};for(let n of e){let o=t(n);r[o]||(r[o]=[]),r[o].push(n)}return r}function X0e(e){return e!=null}function Sq(e,t=5e3){if(e.length<=1)return e;let r=[],n=null;e=e.sort((o,i)=>o.start-i.start),r.push(e[0]);for(let o=1;o<e.length;o++)n=r.at(-1),n.end+t<e[o].start-t?r.push(e[o]):n.end<e[o].end&&(n.end=Math.max(n.end,e[o].end),r.pop(),r.push(n));return r}function Z0e(e,t=5e3){let r={};for(let n of e)r[n.refName]||(r[n.refName]=[]),r[n.refName].push(n);return Object.values(r).flatMap(n=>Sq(n.sort((o,i)=>o.start-i.start),t))}function K0e(e){return(0,EC.colord)(e).alpha(1).toHex()}function J0e(e){if(e){let t=(0,EC.colord)(e);return{strokeOpacity:t.alpha(),stroke:t.alpha(1).toHex()}}else return{}}function Q0e(e){if(e){let t=(0,EC.colord)(e);return{fillOpacity:t.alpha(),fill:t.alpha(1).toHex()}}else return{}}function eye(e){let t=document.createElement("div");return(0,e0e.flushSync)(()=>{(0,t0e.createRoot)(t).render(e)}),t.innerHTML.replaceAll(/\brgba\((.+?),[^,]+?\)/g,"rgb($1)")}function Cq(e){return e[0]===31&&e[1]===139&&e[2]===8}async function kq(e,t={}){let{statusCallback:r=()=>{}}=t,n=await TC("Downloading file",r,()=>e.readFile(t));return Cq(n)?await TC("Unzipping",r,()=>(0,Jbe.unzip)(n)):n}async function tye(e,t){let r=await kq(e,t);if(r.length>536870888)throw new Error("Data exceeds maximum string length (512MB)");return new TextDecoder("utf8",{fatal:!0}).decode(r)}function Tq(e){return typeof e=="object"&&e!==null}function rye(e,t){var r;return+((r=RC(e))!==null&&r!==void 0?r:t)}function nye(e,t){return!!JSON.parse(RC(e)||JSON.stringify(t))}function oye(e,t){_q(e,JSON.stringify(t))}function iye(e,t,r,n=400){let o=performance.now(),i=0;for(let a of e)performance.now()-o>n&&((0,aq.checkStopToken)(t),o=performance.now()),r(a,i++)}function aye(e,t,r,n){return t.test(e)&&!r||r===n}var Eq=EI();Object.defineProperty(z,"SimpleFeature",{enumerable:!0,get:function(){return iq(Eq).default}});Object.defineProperty(z,"isFeature",{enumerable:!0,get:function(){return Eq.isFeature}});var sye=nS();Object.defineProperty(z,"blobToDataURL",{enumerable:!0,get:function(){return sye.blobToDataURL}});var uye=oq();Object.defineProperty(z,"makeAbortableReaction",{enumerable:!0,get:function(){return uye.makeAbortableReaction}});au(xC(),z)});var Pq=y(rp=>{"use strict";var Oq=rp&&rp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rp,"__esModule",{value:!0});rp.default=gye;var cye=F(),lye=$(),Rq=Oq(IA()),fye=Oq(NA()),dye=fo(),pye=["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","sup","sub","td","tfoot","th","thead","tr","u","ul"],Mq=!1,mye=new RegExp(pye.map(e=>String.raw`<${e}\b[^>]*>`).join("|"),"i");function hye(e){return mye.test(e)}function gye({html:e,className:t}){let r=(0,dye.linkify)(`${e}`),n=hye(r)?r:(0,fye.default)(r);return(0,lye.useEffect)(()=>{Mq||(Mq=!0,Rq.default.addHook("afterSanitizeAttributes",o=>{o.tagName==="A"&&(o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"))}))},[]),(0,cye.jsx)("span",{className:t,dangerouslySetInnerHTML:{__html:Rq.default.sanitize(n)}})}});var ud=y(np=>{"use strict";var MC=np&&np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(np,"__esModule",{value:!0});var yo=F(),vye=$(),bye=wx(),yye=MC(kx()),Ya=Q(),_ye=re(),xye=me(),wye=MC(_A()),Sye=MC(Pq()),Aq=(0,xye.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},errorBox:{width:800,margin:40}}));function Cye({error:e}){let{classes:t}=Aq();return(0,yo.jsx)("div",{className:t.errorBox,children:(0,yo.jsx)(wye.default,{error:e})})}var kye=(0,_ye.observer)(function(e){let{classes:t}=Aq(),{titleNode:r,...n}=e,{title:o,header:i,children:a,onClose:s}=n,c=(0,Ya.useTheme)();return(0,yo.jsx)(Ya.Dialog,{...n,children:(0,yo.jsxs)(Ya.ScopedCssBaseline,{children:[(0,vye.isValidElement)(i)?i:(0,yo.jsxs)(Ya.DialogTitle,{children:[r||(0,yo.jsx)(Sye.default,{html:o||""}),s?(0,yo.jsx)(Ya.IconButton,{className:t.closeButton,onClick:()=>{s()},children:(0,yo.jsx)(yye.default,{})}):null]}),(0,yo.jsx)(Ya.Divider,{}),(0,yo.jsx)(bye.ErrorBoundary,{FallbackComponent:Cye,children:(0,yo.jsx)(Ya.ThemeProvider,{theme:(0,Ya.createTheme)(c,{components:{MuiInputBase:{styleOverrides:{input:{boxSizing:"content-box!important"}}}}}),children:a})})]})})});np.default=kye});var Nq={};rt(Nq,{default:()=>Eye});var Un,jq,Iq,Lq,Vn,Tye,Eye,Dq=T(()=>{Un=g(F()),jq=g($()),Iq=g(xe()),Lq=g(ud()),Vn=g(Q()),Tye=({tracks:e,onClose:t})=>{let[r,n]=(0,jq.useState)(()=>`MultiWiggle ${Date.now()}`),o=e.every(i=>i.type==="QuantitativeTrack");return(0,Un.jsxs)(Lq.default,{open:!0,onClose:()=>{t(!1)},title:"Confirm multi-wiggle track create",children:[(0,Un.jsxs)(Vn.DialogContent,{children:[(0,Un.jsxs)(Vn.Typography,{children:[o?null:"Not every track looks like a QuantitativeTrack. This could have unexpected behavior, confirm if it looks ok.","Listing:"]}),(0,Un.jsx)("ul",{children:e.map(i=>(0,Un.jsxs)("li",{children:[(0,Iq.readConfObject)(i,"name")," - ",i.type]},i.trackId))}),(0,Un.jsx)(Vn.TextField,{value:r,onChange:i=>{n(i.target.value)},helperText:"Track name"}),(0,Un.jsx)(Vn.Typography,{children:"Confirm creation of track?"})]}),(0,Un.jsxs)(Vn.DialogActions,{children:[(0,Un.jsx)(Vn.Button,{onClick:()=>{t(!1)},color:"primary",children:"Cancel"}),(0,Un.jsx)(Vn.Button,{onClick:()=>{t(!0,{name:r})},color:"primary",variant:"contained",autoFocus:!0,children:"Submit"})]})]})},Eye=Tye});var OC=y((dFe,Bq)=>{Bq.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType"]});function su(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var AC=T(()=>{});function jC(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var Xq=T(()=>{});function p0(e){let t,r,n;e.length!==2?(t=su,r=(s,c)=>su(e(s),c),n=(s,c)=>e(s)-c):(t=e===su||e===jC?e:jye,r=e,n=e);function o(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{let f=u+l>>>1;r(s[f],c)<0?u=f+1:l=f}while(u<l)}return u}function i(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{let f=u+l>>>1;r(s[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function a(s,c,u=0,l=s.length){let f=o(s,c,u,l-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:o,center:a,right:i}}function jye(){return 0}var Zq=T(()=>{AC();Xq()});function IC(e){return e===null?NaN:+e}var Kq=T(()=>{});var Jq,Qq,Iye,Lye,ip,e5=T(()=>{AC();Zq();Kq();Jq=p0(su),Qq=Jq.right,Iye=Jq.left,Lye=p0(IC).center,ip=Qq});function m0(e,t,r){let n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),a=i>=Nye?10:i>=Dye?5:i>=Fye?2:1,s,c,u;return o<0?(u=Math.pow(10,-o)/a,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,o)*a,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?m0(e,t,r*2):[s,c,u]}function uu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[o,i,a]=n?m0(t,e,r):m0(e,t,r);if(!(i>=o))return[];let s=i-o+1,c=new Array(s);if(n)if(a<0)for(let u=0;u<s;++u)c[u]=(i-u)/-a;else for(let u=0;u<s;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(o+u)/-a;else for(let u=0;u<s;++u)c[u]=(o+u)*a;return c}function ap(e,t,r){return t=+t,e=+e,r=+r,m0(e,t,r)[2]}function LC(e,t,r){t=+t,e=+e,r=+r;let n=t<e,o=n?ap(t,e,r):ap(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}var Nye,Dye,Fye,t5=T(()=>{Nye=Math.sqrt(50),Dye=Math.sqrt(10),Fye=Math.sqrt(2)});var ml=T(()=>{e5();t5()});function hl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var h0=T(()=>{});function g0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var r5=T(()=>{});function cp(){}function o5(){return this.rgb().formatHex()}function Vye(){return this.rgb().formatHex8()}function Gye(){return f5(this).formatHsl()}function i5(){return this.rgb().formatRgb()}function Xa(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qye.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a5(t):r===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?v0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?v0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bye.exec(e))?new cn(t[1],t[2],t[3],1):(t=zye.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hye.exec(e))?v0(t[1],t[2],t[3],t[4]):(t=Wye.exec(e))?v0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$ye.exec(e))?c5(t[1],t[2]/100,t[3]/100,1):(t=Uye.exec(e))?c5(t[1],t[2]/100,t[3]/100,t[4]):n5.hasOwnProperty(e)?a5(n5[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function a5(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function v0(e,t,r,n){return n<=0&&(e=t=r=NaN),new cn(e,t,r,n)}function Yye(e){return e instanceof cp||(e=Xa(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function vl(e,t,r,n){return arguments.length===1?Yye(e):new cn(e,t,r,n??1)}function cn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function s5(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function Xye(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function u5(){let e=_0(this.opacity);return`${e===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${e===1?")":`, ${e})`}`}function _0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=lu(e),(e<16?"0":"")+e.toString(16)}function c5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _o(e,t,r,n)}function f5(e){if(e instanceof _o)return new _o(e.h,e.s,e.l,e.opacity);if(e instanceof cp||(e=Xa(e)),!e)return new _o;if(e instanceof _o)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,s=i-o,c=(i+o)/2;return s?(t===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-t)/s+2:a=(t-r)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new _o(a,s,c,e.opacity)}function d5(e,t,r,n){return arguments.length===1?f5(e):new _o(e,t,r,n??1)}function _o(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function l5(e){return e=(e||0)%360,e<0?e+360:e}function b0(e){return Math.max(0,Math.min(1,e||0))}function DC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var sp,y0,gl,up,ui,qye,Bye,zye,Hye,Wye,$ye,Uye,n5,p5=T(()=>{r5();sp=.7,y0=1/sp,gl="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qye=/^#([0-9a-f]{3,8})$/,Bye=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),zye=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),Hye=new RegExp(`^rgba\\(${gl},${gl},${gl},${up}\\)$`),Wye=new RegExp(`^rgba\\(${ui},${ui},${ui},${up}\\)$`),$ye=new RegExp(`^hsl\\(${up},${ui},${ui}\\)$`),Uye=new RegExp(`^hsla\\(${up},${ui},${ui},${up}\\)$`),n5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g0(cp,Xa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o5,formatHex:o5,formatHex8:Vye,formatHsl:Gye,formatRgb:i5,toString:i5});g0(cn,vl,NC(cp,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(lu(this.r),lu(this.g),lu(this.b),_0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s5,formatHex:s5,formatHex8:Xye,formatRgb:u5,toString:u5}));g0(_o,d5,NC(cp,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new _o(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new _o(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new cn(DC(e>=240?e-240:e+120,o,n),DC(e,o,n),DC(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new _o(l5(this.h),b0(this.s),b0(this.l),_0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=_0(this.opacity);return`${e===1?"hsl(":"hsla("}${l5(this.h)}, ${b0(this.s)*100}%, ${b0(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var FC=T(()=>{p5()});function qC(e,t,r,n,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*o)/6}function m5(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],a=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return qC((r-n/t)*t,a,o,i,s)}}var BC=T(()=>{});function h5(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return qC((r-n/t)*t,o,i,a,s)}}var g5=T(()=>{BC()});var lp,zC=T(()=>{lp=e=>()=>e});function Zye(e,t){return function(r){return e+r*t}}function Kye(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function v5(e){return(e=+e)==1?x0:function(t,r){return r-t?Kye(t,r,e):lp(isNaN(t)?r:t)}}function x0(e,t){var r=t-e;return r?Zye(e,r):lp(isNaN(e)?t:e)}var b5=T(()=>{zC()});function y5(e){return function(t){var r=t.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=vl(t[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=e(n),o=e(o),i=e(i),s.opacity=1,function(c){return s.r=n(c),s.g=o(c),s.b=i(c),s+""}}}var HC,uqe,cqe,_5=T(()=>{FC();BC();g5();b5();HC=(function e(t){var r=v5(t);function n(o,i){var a=r((o=vl(o)).r,(i=vl(i)).r),s=r(o.g,i.g),c=r(o.b,i.b),u=x0(o.opacity,i.opacity);return function(l){return o.r=a(l),o.g=s(l),o.b=c(l),o.opacity=u(l),o+""}}return n.gamma=e,n})(1);uqe=y5(m5),cqe=y5(h5)});function x5(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=e[o]*(1-i)+t[o]*i;return n}}function w5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var S5=T(()=>{});function C5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)o[a]=fu(e[a],t[a]);for(;a<r;++a)i[a]=t[a];return function(s){for(a=0;a<n;++a)i[a]=o[a](s);return i}}var k5=T(()=>{w0()});function T5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var E5=T(()=>{});function Za(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var S0=T(()=>{});function R5(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=fu(e[o],t[o]):n[o]=t[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var M5=T(()=>{w0()});function Jye(e){return function(){return e}}function Qye(e){return function(t){return e(t)+""}}function O5(e,t){var r=$C.lastIndex=WC.lastIndex=0,n,o,i,a=-1,s=[],c=[];for(e=e+"",t=t+"";(n=$C.exec(e))&&(o=WC.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,c.push({i:a,x:Za(n,o)})),r=WC.lastIndex;return r<t.length&&(i=t.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?Qye(c[0].x):Jye(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)s[(f=c[l]).i]=f.x(u);return s.join("")})}var $C,WC,P5=T(()=>{S0();$C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WC=new RegExp($C.source,"g")});function fu(e,t){var r=typeof t,n;return t==null||r==="boolean"?lp(t):(r==="number"?Za:r==="string"?(n=Xa(t))?(t=n,HC):O5:t instanceof Xa?HC:t instanceof Date?T5:w5(t)?x5:Array.isArray(t)?C5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R5:Za)(e,t)}var w0=T(()=>{FC();_5();k5();E5();S0();M5();P5();zC();S5()});function UC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var A5=T(()=>{});var j5=T(()=>{w0();S0();A5()});function VC(e){return function(){return e}}var I5=T(()=>{});function GC(e){return+e}var L5=T(()=>{});function bl(e){return e}function YC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VC(isNaN(t)?NaN:.5)}function e_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function t_e(e,t,r){var n=e[0],o=e[1],i=t[0],a=t[1];return o<n?(n=YC(o,n),i=r(a,i)):(n=YC(n,o),i=r(i,a)),function(s){return i(n(s))}}function r_e(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),i=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)o[a]=YC(e[a],e[a+1]),i[a]=r(t[a],t[a+1]);return function(s){var c=ip(e,s,1,n)-1;return i[c](o[c](s))}}function C0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function XC(){var e=N5,t=N5,r=fu,n,o,i,a=bl,s,c,u;function l(){var d=Math.min(e.length,t.length);return a!==bl&&(a=e_e(e[0],e[d-1])),s=d>2?r_e:t_e,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?i:(c||(c=s(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(o((u||(u=s(t,e.map(n),Za)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,GC),l()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=UC,l()},f.clamp=function(d){return arguments.length?(a=d?!0:bl,l()):a!==bl},f.interpolate=function(d){return arguments.length?(r=d,l()):r},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,p){return n=d,o=p,l()}}function ZC(){return XC()(bl,bl)}var N5,KC=T(()=>{ml();j5();I5();L5();N5=[0,1]});function D5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function du(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var fp=T(()=>{});function ci(e){return e=du(Math.abs(e)),e?e[1]:NaN}var dp=T(()=>{fp()});function F5(e,t){return function(r,n){for(var o=r.length,i=[],a=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(o-=s,o+s)),!((c+=s+1)>n));)s=e[a=(a+1)%e.length];return i.reverse().join(t)}}var q5=T(()=>{});function B5(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var z5=T(()=>{});function li(e){if(!(t=n_e.exec(e)))throw new Error("invalid format: "+e);var t;return new k0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function k0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var n_e,JC=T(()=>{n_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;li.prototype=k0.prototype;k0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function H5(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var W5=T(()=>{});function $5(e,t){var r=du(e,t);if(!r)return e+"";var n=r[0],o=r[1],i=o-(QC=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+du(e,Math.max(0,t+i-1))[0]}var QC,ek=T(()=>{fp()});function tk(e,t){var r=du(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var U5=T(()=>{fp()});var rk,V5=T(()=>{fp();ek();U5();rk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:D5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tk(e*100,t),r:tk,s:$5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function nk(e){return e}var G5=T(()=>{});function Z5(e){var t=e.grouping===void 0||e.thousands===void 0?nk:F5(Y5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nk:B5(Y5.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=li(f);var d=f.fill,p=f.align,m=f.sign,h=f.symbol,v=f.zero,b=f.width,_=f.comma,S=f.precision,x=f.trim,C=f.type;C==="n"?(_=!0,C="g"):rk[C]||(S===void 0&&(S=12),x=!0,C="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var O=h==="$"?r:h==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=h==="$"?n:/[%p]/.test(C)?a:"",P=rk[C],E=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(I){var q=O,N=k,M,D,U;if(C==="c")N=P(I)+N,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?c:P(Math.abs(I),S),x&&(I=H5(I)),B&&+I==0&&m!=="+"&&(B=!1),q=(B?m==="("?m:s:m==="-"||m==="("?"":m)+q,N=(C==="s"?X5[8+QC/3]:"")+N+(B&&m==="("?")":""),E){for(M=-1,D=I.length;++M<D;)if(U=I.charCodeAt(M),48>U||U>57){N=(U===46?o+I.slice(M+1):I.slice(M))+N,I=I.slice(0,M);break}}}_&&!v&&(I=t(I,1/0));var L=q.length+I.length+N.length,H=L<b?new Array(b-L+1).join(d):"";switch(_&&v&&(I=t(H+I,H.length?b-N.length:1/0),H=""),p){case"<":I=q+I+N+H;break;case"=":I=q+H+I+N;break;case"^":I=H.slice(0,L=H.length>>1)+q+I+N+H.slice(L);break;default:I=H+q+I+N;break}return i(I)}return R.toString=function(){return f+""},R}function l(f,d){var p=u((f=li(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ci(d)/3)))*3,h=Math.pow(10,-m),v=X5[8+m/3];return function(b){return p(h*b)+v}}return{format:u,formatPrefix:l}}var Y5,X5,K5=T(()=>{dp();q5();z5();JC();W5();V5();ek();G5();Y5=Array.prototype.map,X5=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function ok(e){return T0=Z5(e),yl=T0.format,E0=T0.formatPrefix,T0}var T0,yl,E0,J5=T(()=>{K5();ok({thousands:",",grouping:[3],currency:["$",""]})});function ik(e){return Math.max(0,-ci(Math.abs(e)))}var Q5=T(()=>{dp()});function ak(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ci(t)/3)))*3-ci(Math.abs(e)))}var eB=T(()=>{dp()});function sk(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ci(t)-ci(e))+1}var tB=T(()=>{dp()});var uk=T(()=>{J5();JC();Q5();eB();tB()});function ck(e,t,r,n){var o=LC(e,t,r),i;switch(n=li(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ak(o,a))&&(n.precision=i),E0(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=sk(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ik(o))&&(n.precision=i-(n.type==="%")*2);break}}return yl(n)}var rB=T(()=>{ml();uk()});function lk(e){var t=e.domain;return e.ticks=function(r){var n=t();return uu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return ck(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,i=n.length-1,a=n[o],s=n[i],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=o,o=i,i=u);l-- >0;){if(u=ap(a,s,r),u===c)return n[o]=a,n[i]=s,t(n);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function pp(){var e=ZC();return e.copy=function(){return C0(e,pp())},hl.apply(e,arguments),lk(e)}var fk=T(()=>{ml();KC();h0();rB()});function dk(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],i=e[n],a;return i<o&&(a=r,r=n,n=a,a=o,o=i,i=a),e[r]=t.floor(o),e[n]=t.ceil(i),e}var nB=T(()=>{});function oB(e){return Math.log(e)}function iB(e){return Math.exp(e)}function o_e(e){return-Math.log(-e)}function i_e(e){return-Math.exp(-e)}function a_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function s_e(e){return e===10?a_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function u_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aB(e){return(t,r)=>-e(-t,r)}function c_e(e){let t=e(oB,iB),r=t.domain,n=10,o,i;function a(){return o=u_e(n),i=s_e(n),r()[0]<0?(o=aB(o),i=aB(i),e(o_e,i_e)):e(oB,iB),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{let c=r(),u=c[0],l=c[c.length-1],f=l<u;f&&([u,l]=[l,u]);let d=o(u),p=o(l),m,h,v=s==null?10:+s,b=[];if(!(n%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<n;++m)if(h=d<0?m/i(-d):m*i(d),!(h<u)){if(h>l)break;b.push(h)}}else for(;d<=p;++d)for(m=n-1;m>=1;--m)if(h=d>0?m/i(-d):m*i(d),!(h<u)){if(h>l)break;b.push(h)}b.length*2<v&&(b=uu(u,l,v))}else b=uu(d,p,Math.min(p-d,v)).map(i);return f?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=li(c)).precision==null&&(c.trim=!0),c=yl(c)),s===1/0)return c;let u=Math.max(1,n*s/t.ticks().length);return l=>{let f=l/i(Math.round(o(l)));return f*n<n-.5&&(f*=n),f<=u?c(l):""}},t.nice=()=>r(dk(r(),{floor:s=>i(Math.floor(o(s))),ceil:s=>i(Math.ceil(o(s)))})),t}function mp(){let e=c_e(XC()).domain([1,10]);return e.copy=()=>C0(e,mp()).base(e.base()),hl.apply(e,arguments),e}var sB=T(()=>{ml();uk();nB();KC();h0()});function hp(){var e=0,t=1,r=1,n=[.5],o=[0,1],i;function a(c){return c!=null&&c<=c?o[ip(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},a.range=function(c){return arguments.length?(r=(o=Array.from(c)).length-1,s()):o.slice()},a.invertExtent=function(c){var u=o.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return hp().domain([e,t]).range(o).unknown(i)},hl.apply(lk(a),arguments)}var uB=T(()=>{ml();fk();h0()});var cB=T(()=>{fk();sB();uB()});var lB=T(()=>{cB()});function R0({domain:e=[],range:t=[],scaleType:r,pivotValue:n,inverted:o}){let i,[a,s]=e;if(a===void 0||s===void 0)throw new Error("invalid domain");if(r==="linear")i=pp();else if(r==="log")i=mp().base(2);else if(r==="quantize")i=hp();else throw new Error("undefined scaleType");i.domain(n!==void 0?[a,n,s]:[a,s]),i.nice();let[c,u]=t;if(c===void 0||u===void 0)throw new Error("invalid range");return i.range(o?t.slice().reverse():t),i}function xo(e=0){return+e.toPrecision(6)}var Ka,Gn=T(()=>{lB();Ka=5});var pk=y((uBe,fB)=>{fB.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/DisplayType"]});var Ee,ct=T(()=>{"use client";Ee=g(Sx(),1)});var dB,d_e,Ja,mk=T(()=>{dB=g(xe()),d_e=(0,dB.ConfigurationSchema)("BaseLinearDisplay",{maxFeatureScreenDensity:{type:"number",description:"maximum features per pixel that is displayed in the view, used if byte size estimates not available",defaultValue:.3},fetchSizeLimit:{type:"number",defaultValue:1e6,description:"maximum data to attempt to download for a given track, used if adapter doesn't specify one"},height:{type:"number",defaultValue:100,description:"default height for the track"},mouseover:{type:"string",description:"text to display when the cursor hovers over a feature",defaultValue:"jexl:join('<br/>',get(feature,'_mouseOver')||get(feature,'name')||get(feature,'id'),mouseoverExtraInformation||'')",contextVariable:["feature","mouseoverExtraInformation"]},jexlFilters:{type:"stringArray",description:"default set of jexl filters to apply to a track. note: these do not use the jexl prefix because they have a deferred evaluation system",defaultValue:[]}},{explicitIdentifier:"displayId"}),Ja=d_e});var pu=y((fBe,pB)=>{pB.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/models"]});var mB=y(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});var hk=class{constructor(t){this.submaps=t}has(t){for(let r of this.submaps.values())if(r.has(t))return!0;return!1}get(t){for(let r of this.submaps.values())if(r.has(t))return r.get(t)}*values(){for(let t of this.keys())yield this.get(t)}*keys(){let t=new Set;for(let r of this.submaps.values())for(let n of r.keys())t.add(n);for(let r of t)yield r}find(t){for(let r of this.submaps.values())for(let n of r.values())if(t(n))return n}*[Symbol.iterator](){for(let t of this.keys())yield[t,this.get(t)]}*entries(){for(let t of this.keys())yield[t,this.get(t)]}};gk.default=hk});var hB,gB,vB=T(()=>{"use client";ct();hB=g(F(),1),gB=(0,Ee.createSvgIcon)((0,hB.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m-7 7H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2z"}),"CenterFocusStrong")});var bB,M0,vk=T(()=>{"use client";ct();bB=g(F(),1),M0=(0,Ee.createSvgIcon)((0,bB.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")});var yB,_B,xB=T(()=>{"use client";ct();yB=g(F(),1),_B=(0,Ee.createSvgIcon)((0,yB.jsx)("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen")});async function yk(e){var t;try{let r=(0,O0.getContainingView)(e);if(!r.initialized||!r.staticBlocks.contentBlocks.length||r.bpPerPx===e.currStatsBpPerPx||e.error)return;if(((t=e.featureDensityStats)===null||t===void 0?void 0:t.featureDensity)!==void 0){e.setCurrStatsBpPerPx(r.bpPerPx);return}e.clearFeatureDensityStats(),e.setCurrStatsBpPerPx(r.bpPerPx);let n=await e.getFeatureDensityStats();(0,bk.isAlive)(e)&&e.setFeatureDensityStats(n)}catch(r){console.error(r),(0,bk.isAlive)(e)&&!(0,O0.isAbortException)(r)&&e.setError(r)}}var O0,bk,wB=T(()=>{O0=g(Z()),bk=g(Oe())});function kB(e){return Math.floor(e/1e6)>0?`${Number.parseFloat((e/1e6).toPrecision(3))} Mb`:Math.floor(e/1e3)>0?`${Number.parseFloat((e/1e3).toPrecision(3))} Kb`:`${Math.floor(e)} bytes`}function TB(e,t){let r=typeof jest>"u";return["clip",r?e:"jest",t,r?Math.random():""].filter(n=>!!n).join("-")}async function EB(e){let r=(0,P0.getContainingView)(e).staticBlocks.contentBlocks,{rpcManager:n}=(0,P0.getSession)(e),{adapterConfig:o}=e;if(!o)return{};let i=(0,SB.getRpcSessionId)(e);return n.call(i,"CoreGetFeatureDensityStats",{sessionId:i,regions:r,adapterConfig:o,statusCallback:a=>{(0,CB.isAlive)(e)&&e.setMessage(a)}})}var P0,SB,CB,_k=T(()=>{P0=g(Z()),SB=g(yn()),CB=g(Oe())});function fi({message:e,severity:t,action:r}){let{classes:n}=p_e();return(0,A0.jsx)(j0.Alert,{severity:t,action:r,classes:{message:n.ellipses},onMouseDown:o=>{o.stopPropagation()},onClick:o=>{o.stopPropagation()},children:(0,A0.jsx)(j0.Tooltip,{title:e,children:(0,A0.jsx)("div",{children:e})})})}var A0,j0,RB,p_e,gp=T(()=>{A0=g(F()),j0=g(Q()),RB=g(me()),p_e=(0,RB.makeStyles)()({ellipses:{textOverflow:"ellipsis",overflow:"hidden"}})});var xk,MB,OB,PB,m_e,I0,wk=T(()=>{xk=g(F()),MB=g(Q()),OB=g(re()),PB=g(Oe());gp();m_e=(0,OB.observer)(function({model:e}){let{regionTooLargeReason:t}=e;return(0,xk.jsx)(fi,{severity:"warning",action:(0,xk.jsx)(MB.Button,{onClick:()=>{(0,PB.isAlive)(e)&&(e.setFeatureDensityStatsLimit(e.featureDensityStats),e.reload())},children:"Force load"}),message:[t,"Zoom in to see features or force load (may be slow)"].filter(r=>!!r).join(". ")})}),I0=m_e});function bp(){return di.types.model({userBpPerPxLimit:di.types.maybe(di.types.number),userByteSizeLimit:di.types.maybe(di.types.number)}).volatile(()=>({featureDensityStatsP:void 0,featureDensityStats:void 0,currStatsBpPerPx:0})).views(e=>({get currentBytesRequested(){var t;return((t=e.featureDensityStats)===null||t===void 0?void 0:t.bytes)||0},get currentFeatureScreenDensity(){var t;let r=(0,vp.getContainingView)(e);return(((t=e.featureDensityStats)===null||t===void 0?void 0:t.featureDensity)||0)*r.bpPerPx},get maxFeatureScreenDensity(){return(0,Sk.getConf)(e,"maxFeatureScreenDensity")},get featureDensityStatsReady(){let t=(0,vp.getContainingView)(e);return e.currStatsBpPerPx===t.bpPerPx&&(!!e.featureDensityStats||!!e.userBpPerPxLimit)},get maxAllowableBytes(){var t;return e.userByteSizeLimit||((t=e.featureDensityStats)===null||t===void 0?void 0:t.fetchSizeLimit)||(0,Sk.getConf)(e,"fetchSizeLimit")}})).actions(e=>({afterAttach(){(0,di.addDisposer)(e,(0,jB.autorun)(()=>yk(e)))}})).actions(e=>({setCurrStatsBpPerPx(t){e.currStatsBpPerPx=t},setFeatureDensityStatsLimit(t){let r=(0,vp.getContainingView)(e);t?.bytes?e.userByteSizeLimit=t.bytes:e.userBpPerPxLimit=r.bpPerPx},getFeatureDensityStats(){return e.featureDensityStatsP||(e.featureDensityStatsP=EB(e).catch(t=>{throw(0,di.isAlive)(e)&&this.setFeatureDensityStatsP(void 0),t})),e.featureDensityStatsP},setFeatureDensityStatsP(t){e.featureDensityStatsP=t},setFeatureDensityStats(t){e.featureDensityStats=t},clearFeatureDensityStats(){e.featureDensityStatsP=void 0,e.featureDensityStats=void 0}})).views(e=>({get regionTooLarge(){let t=(0,vp.getContainingView)(e);return!e.featureDensityStatsReady||t.dynamicBlocks.totalBp<2e4?!1:e.currentBytesRequested>e.maxAllowableBytes||(e.userBpPerPxLimit?t.bpPerPx>e.userBpPerPxLimit:e.currentFeatureScreenDensity>e.maxFeatureScreenDensity)},get regionTooLargeReason(){let t=e.currentBytesRequested,r=e.maxAllowableBytes;return t&&t>r?`Requested too much data (${kB(t)})`:""}})).views(e=>({get statsReadyAndRegionNotTooLarge(){return e.featureDensityStatsReady&&!e.regionTooLarge},regionCannotBeRenderedText(t){return e.regionTooLarge?"Force load to see features":""},regionCannotBeRendered(t){return e.regionTooLarge?(0,AB.jsx)(I0,{model:e}):null}}))}var AB,Sk,vp,jB,di,Ck=T(()=>{AB=g(F()),Sk=g(xe()),vp=g(Z()),jB=g(Gs()),di=g(Oe());wB();_k();wk()});function _p(){return yp.types.model({heightPreConfig:yp.types.maybe(yp.types.refinement("displayHeight",yp.types.number,e=>e>=IB))}).volatile(()=>({scrollTop:0})).views(e=>({get height(){var t;return(t=e.heightPreConfig)!==null&&t!==void 0?t:(0,LB.getConf)(e,"height")}})).actions(e=>({setScrollTop(t){e.scrollTop=t},setHeight(t){return e.heightPreConfig=Math.max(t,IB),e.height},resizeHeight(t){let r=e.height;return this.setHeight(e.height+t)-r}}))}var LB,yp,IB,kk=T(()=>{LB=g(xe()),yp=g(Oe()),IB=20});var Tk,NB,DB,FB,qB,h_e,g_e,BB,zB=T(()=>{Tk=g(F()),NB=g(He()),DB=g(re()),FB=g(Oe()),qB=g(me()),h_e=(0,qB.makeStyles)()(e=>{let t=e.palette.action.disabledBackground;return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${t} 5px, ${t} 10px)`,textAlign:"center"}}}),g_e=(0,DB.observer)(function({model:e}){let{classes:t}=h_e(),{status:r}=e,{message:n}=(0,FB.getParent)(e,2),o=n||r;return(0,Tk.jsx)("div",{className:t.loading,children:(0,Tk.jsx)(NB.LoadingEllipses,{message:o})})}),BB=g_e});var HB,WB,$B=T(()=>{"use client";ct();HB=g(F(),1),WB=(0,Ee.createSvgIcon)((0,HB.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")});var UB,VB,GB=T(()=>{"use client";ct();UB=g(F(),1),VB=(0,Ee.createSvgIcon)((0,UB.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")});var KB={};rt(KB,{default:()=>b_e});var Yn,YB,XB,_l,ZB,v_e,b_e,JB=T(()=>{Yn=g(F()),YB=g(h1()),XB=g(Z());$B();GB();_l=g(Q()),ZB=g(re());gp();v_e=(0,ZB.observer)(function({model:e}){return(0,Yn.jsx)(fi,{message:`${e.error}`,severity:"error",action:(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)(_l.Tooltip,{title:"Reload track",children:(0,Yn.jsx)(_l.IconButton,{"data-testid":"reload_button",onClick:()=>{e.reload()},children:(0,Yn.jsx)(WB,{})})}),(0,Yn.jsx)(_l.Tooltip,{title:"Show stack trace",children:(0,Yn.jsx)(_l.IconButton,{onClick:()=>{(0,XB.getSession)(e).queueDialog(t=>[YB.default,{onClose:t,error:e.error}])},children:(0,Yn.jsx)(VB,{})})})]})})}),b_e=v_e});var xp,xl,QB,y_e,__e,Ek,e8=T(()=>{xp=g(F()),xl=g($()),QB=g(re());zB();gp();y_e=(0,xl.lazy)(()=>Promise.resolve().then(()=>(JB(),KB))),__e=(0,QB.observer)(function({model:e}){return e.error?(0,xp.jsx)(xl.Suspense,{fallback:null,children:(0,xp.jsx)(y_e,{model:e})}):e.message?(0,xl.isValidElement)(e.message)?e.message:(0,xp.jsx)(fi,{message:`${e.message}`,severity:"info"}):e.filled?e.reactElement:(0,xp.jsx)(BB,{model:e})}),Ek=__e});function L0(e,t){try{let r=t||(0,$r.getContainingDisplay)(e),{assemblyManager:n,rpcManager:o}=(0,$r.getSession)(r),{adapterConfig:i,rendererType:a,error:s,parentTrack:c}=r,u=(0,N0.getTrackAssemblyNames)(c),l=e.region.assemblyName;if(!u.includes(l)&&!u.some(v=>{var b;return(b=n.get(v))===null||b===void 0?void 0:b.hasName(l)}))throw new Error(`region assembly (${l}) does not match track assemblies (${u})`);let f=r.renderProps(),{config:d}=f;(0,t8.readConfObject)(d);let p=(0,N0.getRpcSessionId)(r),m=(0,$r.getContainingTrack)(r).id,h=r.regionCannotBeRendered(e.region);return{rendererType:a,rpcManager:o,renderProps:f,cannotBeRenderedReason:h,displayError:s,renderArgs:{statusCallback:v=>{(0,Xn.isAlive)(e)&&e.setStatus(v)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:i,rendererType:a.name,sessionId:p,layoutId:m,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(r){return{displayError:r}}}async function w_e(e,t,r){if(!e)return;let{rendererType:n,renderProps:o,rpcManager:i,renderArgs:a,cannotBeRenderedReason:s,displayError:c}=e;if((0,Xn.isAlive)(r))if(c){r.setError(c);return}else if(s){r.setMessage(s);return}else{if(o.notReady)return;{let{reactElement:u,features:l,layout:f,maxHeightReached:d}=await n.renderInClient(i,{...a,...o,viewParams:(0,$r.getViewParams)(r),stopToken:t});return{reactElement:u,features:l,layout:f,maxHeightReached:d,renderProps:o}}}else return}var t8,$r,wp,N0,r8,Xn,x_e,Sp,Rk=T(()=>{t8=g(xe()),$r=g(Z()),wp=g(ya()),N0=g(yn()),r8=g(jd()),Xn=g(Oe());e8();x_e=Xn.types.model("BlockState",{key:Xn.types.string,region:Xn.types.frozen(),reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile(()=>({stopToken:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:Ek,renderProps:void 0})).actions(e=>({doReload(){e.reloadFlag=e.reloadFlag+1},afterAttach(){let t=(0,$r.getContainingDisplay)(e);setTimeout(()=>{(0,Xn.isAlive)(e)&&(0,$r.makeAbortableReaction)(e,L0,w_e,{name:`${t.id}/${(0,$r.assembleLocString)(e.region)} rendering`,delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)},t.renderDelay)},setStatus(t){e.status=t},setLoading(t){e.stopToken!==void 0&&(0,wp.stopStopToken)(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=t},setMessage(t){e.stopToken!==void 0&&(0,wp.stopStopToken)(e.stopToken),e.filled=!1,e.message=t,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=void 0},setRendered(t){if(!t)return;let{reactElement:r,features:n,layout:o,maxHeightReached:i,renderProps:a}=t;e.filled=!0,e.message=void 0,e.reactElement=r,e.features=n,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=a,e.stopToken=void 0},setError(t){console.error(t),e.stopToken!==void 0&&(0,wp.stopStopToken)(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=t,e.renderProps=void 0,e.stopToken=void 0,(0,r8.isRetryException)(t)&&this.reload()},reload(){e.stopToken=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=Ek,e.renderProps=void 0,(0,Xn.getParent)(e,2).reload()},beforeDestroy(){(async()=>{try{e.stopToken!==void 0&&(0,wp.stopStopToken)(e.stopToken);let t=(0,$r.getContainingDisplay)(e),{rpcManager:r}=(0,$r.getSession)(e),{rendererType:n}=t,{renderArgs:o}=L0((0,Xn.cast)(e));o&&await n.freeResourcesInClient(r,JSON.parse(JSON.stringify(o)))}catch(t){console.error("Error while destroying block",t)}})()}})),Sp=x_e});function D0(){return typeof window<"u"}function pi(e){return F0(e)?(e.nodeName||"").toLowerCase():"#document"}function wr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function So(e){var t;return(t=(F0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F0(e){return D0()?e instanceof Node||e instanceof wr(e).Node:!1}function ot(e){return D0()?e instanceof Element||e instanceof wr(e).Element:!1}function gt(e){return D0()?e instanceof HTMLElement||e instanceof wr(e).HTMLElement:!1}function wl(e){return!D0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wr(e).ShadowRoot}function Sl(e){let{overflow:t,overflowX:r,overflowY:n,display:o}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!S_e.has(o)}function n8(e){return C_e.has(pi(e))}function Cp(e){return k_e.some(t=>{try{return e.matches(t)}catch{return!1}})}function q0(e){let t=Cl(),r=ot(e)?Ur(e):e;return T_e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||E_e.some(n=>(r.willChange||"").includes(n))||R_e.some(n=>(r.contain||"").includes(n))}function o8(e){let t=wo(e);for(;gt(t)&&!Co(t);){if(q0(t))return t;if(Cp(t))return null;t=wo(t)}return null}function Cl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Co(e){return M_e.has(pi(e))}function Ur(e){return wr(e).getComputedStyle(e)}function kp(e){return ot(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wo(e){if(pi(e)==="html")return e;let t=e.assignedSlot||e.parentNode||wl(e)&&e.host||So(e);return wl(t)?t.host:t}function i8(e){let t=wo(e);return Co(t)?e.ownerDocument?e.ownerDocument.body:e.body:gt(t)&&Sl(t)?t:i8(t)}function ln(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);let o=i8(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=wr(o);if(i){let s=B0(a);return t.concat(a,a.visualViewport||[],Sl(o)?o:[],s&&r?ln(s):[])}return t.concat(o,ln(o,[],r))}function B0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var S_e,C_e,k_e,T_e,E_e,R_e,M_e,Tp=T(()=>{S_e=new Set(["inline","contents"]);C_e=new Set(["table","td","th"]);k_e=[":popover-open",":modal"];T_e=["transform","translate","scale","rotate","perspective"],E_e=["transform","translate","scale","rotate","perspective","filter"],R_e=["paint","layout","strict","content"];M_e=new Set(["html","body","#document"])});function z0(e,t,r){return kt(e,Vr(t,r))}function fn(e,t){return typeof e=="function"?e(t):e}function dn(e){return e.split("-")[0]}function Zn(e){return e.split("-")[1]}function H0(e){return e==="x"?"y":"x"}function W0(e){return e==="y"?"height":"width"}function Kn(e){return A_e.has(dn(e))?"y":"x"}function $0(e){return H0(Kn(e))}function Pk(e,t,r){r===void 0&&(r=!1);let n=Zn(e),o=$0(e),i=W0(o),a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Rp(a)),[a,Rp(a)]}function c8(e){let t=Rp(e);return[Ep(e),t,Ep(t)]}function Ep(e){return e.replace(/start|end/g,t=>P_e[t])}function L_e(e,t,r){switch(e){case"top":case"bottom":return r?t?u8:s8:t?s8:u8;case"left":case"right":return t?j_e:I_e;default:return[]}}function l8(e,t,r,n){let o=Zn(e),i=L_e(dn(e),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Ep)))),i}function Rp(e){return e.replace(/left|right|bottom|top/g,t=>O_e[t])}function N_e(e){return{top:0,right:0,bottom:0,left:0,...e}}function U0(e){return typeof e!="number"?N_e(e):{top:e,right:e,bottom:e,left:e}}function zi(e){let{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}var Mk,a8,Ok,Vr,kt,mu,Qa,ko,O_e,P_e,A_e,s8,u8,j_e,I_e,kl=T(()=>{Mk=["top","right","bottom","left"],a8=["start","end"],Ok=Mk.reduce((e,t)=>e.concat(t,t+"-"+a8[0],t+"-"+a8[1]),[]),Vr=Math.min,kt=Math.max,mu=Math.round,Qa=Math.floor,ko=e=>({x:e,y:e}),O_e={left:"right",right:"left",bottom:"top",top:"bottom"},P_e={start:"end",end:"start"};A_e=new Set(["top","bottom"]);s8=["left","right"],u8=["right","left"],j_e=["top","bottom"],I_e=["bottom","top"]});var D_e,V0,d8,Tl,G0,Mp,F_e,p8,Y0,m8,h8,q_e,B_e,g8,z_e,H_e,W_e,$_e,U_e,V_e,G_e,f8,Y_e,X_e,Ak,jk,Z_e,v8,El,b8,Ik,Lk=T(()=>{D_e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],V0=D_e.join(","),d8=typeof Element>"u",Tl=d8?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,G0=!d8&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Mp=function(t,r){var n;r===void 0&&(r=!0);var o=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),i=o===""||o==="true",a=i||r&&t&&Mp(t.parentNode);return a},F_e=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},p8=function(t,r,n){if(Mp(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(V0));return r&&Tl.call(t,V0)&&o.unshift(t),o=o.filter(n),o},Y0=function(t,r,n){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!Mp(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),c=s.length?s:a.children,u=Y0(c,!0,n);n.flatten?o.push.apply(o,u):o.push({scopeParent:a,candidates:u})}else{var l=Tl.call(a,V0);l&&n.filter(a)&&(r||!t.includes(a))&&o.push(a);var f=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),d=!Mp(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(f&&d){var p=Y0(f===!0?a.children:f.children,!0,n);n.flatten?o.push.apply(o,p):o.push({scopeParent:a,candidates:p})}else i.unshift.apply(i,a.children)}}return o},m8=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},h8=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||F_e(t))&&!m8(t)?0:t.tabIndex},q_e=function(t,r){var n=h8(t);return n<0&&r&&!m8(t)?0:n},B_e=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},g8=function(t){return t.tagName==="INPUT"},z_e=function(t){return g8(t)&&t.type==="hidden"},H_e=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},W_e=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},$_e=function(t){if(!t.name)return!0;var r=t.form||G0(t),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(t.name));else try{o=n(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=W_e(o,t.form);return!i||i===t},U_e=function(t){return g8(t)&&t.type==="radio"},V_e=function(t){return U_e(t)&&!$_e(t)},G_e=function(t){var r,n=t&&G0(t),o=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==t){var a,s,c;for(i=!!((a=o)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var u,l,f;n=G0(o),o=(u=n)===null||u===void 0?void 0:u.host,i=!!((l=o)!==null&&l!==void 0&&(f=l.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},f8=function(t){var r=t.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},Y_e=function(t,r){var n=r.displayCheck,o=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in t){var i=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(t).visibility==="hidden")return!0;var a=Tl.call(t,"details>summary:first-of-type"),s=a?t.parentElement:t;if(Tl.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,l=G0(t);if(u&&!u.shadowRoot&&o(u)===!0)return f8(t);t.assignedSlot?t=t.assignedSlot:!u&&l!==t.ownerDocument?t=l.host:t=u}t=c}if(G_e(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return f8(t);return!1},X_e=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return Tl.call(r,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}r=r.parentElement}return!1},Ak=function(t,r){return!(r.disabled||Mp(r)||z_e(r)||Y_e(r,t)||H_e(r)||X_e(r))},jk=function(t,r){return!(V_e(r)||h8(r)<0||!Ak(t,r))},Z_e=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},v8=function(t){var r=[],n=[];return t.forEach(function(o,i){var a=!!o.scopeParent,s=a?o.scopeParent:o,c=q_e(s,a),u=a?v8(o.candidates):s;c===0?a?r.push.apply(r,u):r.push(s):n.push({documentOrder:i,tabIndex:c,item:o,isScope:a,content:u})}),n.sort(B_e).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(r)},El=function(t,r){r=r||{};var n;return r.getShadowRoot?n=Y0([t],r.includeContainer,{filter:jk.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Z_e}):n=p8(t,r.includeContainer,jk.bind(null,r)),v8(n)},b8=function(t,r){r=r||{};var n;return r.getShadowRoot?n=Y0([t],r.includeContainer,{filter:Ak.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=p8(t,r.includeContainer,Ak.bind(null,r)),n},Ik=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Tl.call(t,V0)===!1?!1:jk(r,t)}});function Z0(){let e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function K0(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function qk(){return/apple/i.test(navigator.vendor)}function Fk(){let e=/android/i;return e.test(Z0())||e.test(K0())}function x8(){return Z0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function w8(){return K0().includes("jsdom/")}function To(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Vt(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&wl(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Eo(e){return"composedPath"in e?e.composedPath()[0]:e.target}function J0(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);let r=e;return r.target!=null&&t.contains(r.target)}function S8(e){return e.matches("html,body")}function sr(e){return e?.ownerDocument||document}function Q0(e){return gt(e)&&e.matches(K_e)}function ey(e){return e?e.getAttribute("role")==="combobox"&&Q0(e):!1}function C8(e){if(!e||w8())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Op(e){return e?e.hasAttribute(y8)?e:e.querySelector("["+y8+"]")||e:null}function es(e,t,r){return r===void 0&&(r=!0),e.filter(o=>{var i;return o.parentId===t&&(!r||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...es(e,o.id,r)])}function k8(e,t){let r,n=-1;function o(i,a){a>n&&(r=i,n=a),es(e,i).forEach(c=>{o(c.id,a+1)})}return o(t,0),e.find(i=>i.id===r)}function Bk(e,t){var r;let n=[],o=(r=e.find(i=>i.id===t))==null?void 0:r.parentId;for(;o;){let i=e.find(a=>a.id===o);o=i?.parentId,i&&(n=n.concat(i))}return n}function ar(e){e.preventDefault(),e.stopPropagation()}function T8(e){return"nativeEvent"in e}function zk(e){return e.mozInputSource===0&&e.isTrusted?!0:Fk()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Hk(e){return w8()?!1:!Fk()&&e.width===0&&e.height===0||Fk()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function gu(e,t){let r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}function Gt(e){let t=Rl.useRef(e);return Ne(()=>{t.current=e}),t}function st(e){let t=Rl.useRef(()=>{});return oxe(()=>{t.current=e}),Rl.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function X0(e,t,r){return Math.floor(e/t)!==r}function hu(e,t){return t<0||t>=e.current.length}function Pp(e,t){return ir(e,{disabledIndices:t})}function ty(e,t){return ir(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ir(e,t){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t,a=r;do a+=n?-i:i;while(a>=0&&a<=e.current.length-1&&ts(e,a,o));return a}function Wk(e,t){let{event:r,orientation:n,loop:o,rtl:i,cols:a,disabledIndices:s,minIndex:c,maxIndex:u,prevIndex:l,stopEvent:f=!1}=t,d=l;if(r.key===J_e){if(f&&ar(r),l===-1)d=u;else if(d=ir(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),o&&(l-a<c||d<0)){let p=l%a,m=u%a,h=u-(m-p);m===p?d=u:d=m>p?h:h-a}hu(e,d)&&(d=l)}if(r.key===Q_e&&(f&&ar(r),l===-1?d=c:(d=ir(e,{startingIndex:l,amount:a,disabledIndices:s}),o&&l+a>u&&(d=ir(e,{startingIndex:l%a-a,amount:a,disabledIndices:s}))),hu(e,d)&&(d=l)),n==="both"){let p=Qa(l/a);r.key===(i?Nk:Dk)&&(f&&ar(r),l%a!==a-1?(d=ir(e,{startingIndex:l,disabledIndices:s}),o&&X0(d,a,p)&&(d=ir(e,{startingIndex:l-l%a-1,disabledIndices:s}))):o&&(d=ir(e,{startingIndex:l-l%a-1,disabledIndices:s})),X0(d,a,p)&&(d=l)),r.key===(i?Dk:Nk)&&(f&&ar(r),l%a!==0?(d=ir(e,{startingIndex:l,decrement:!0,disabledIndices:s}),o&&X0(d,a,p)&&(d=ir(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s}))):o&&(d=ir(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s})),X0(d,a,p)&&(d=l));let m=Qa(u/a)===p;hu(e,d)&&(o&&m?d=r.key===(i?Dk:Nk)?u:ir(e,{startingIndex:l-l%a-1,disabledIndices:s}):d=l)}return d}function $k(e,t,r){let n=[],o=0;return e.forEach((i,a)=>{let{width:s,height:c}=i;s>t;let u=!1;for(r&&(o=0);!u;){let l=[];for(let f=0;f<s;f++)for(let d=0;d<c;d++)l.push(o+f+d*t);o%t+s<=t&&l.every(f=>n[f]==null)?(l.forEach(f=>{n[f]=a}),u=!0):o++}}),[...n]}function Uk(e,t,r,n,o){if(e===-1)return-1;let i=r.indexOf(e),a=t[e];switch(o){case"tl":return i;case"tr":return a?i+a.width-1:i;case"bl":return a?i+(a.height-1)*n:i;case"br":return r.lastIndexOf(e)}}function Vk(e,t){return t.flatMap((r,n)=>e.includes(r)?[n]:[])}function ts(e,t,r){if(typeof r=="function")return r(t);if(r)return r.includes(t);let n=e.current[t];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}function E8(e,t){let r=El(e,Ml()),n=r.length;if(n===0)return;let o=To(sr(e)),i=r.indexOf(o),a=i===-1?t===1?0:n-1:i+t;return r[a]}function Gk(e){return E8(sr(e).body,1)||e}function Yk(e){return E8(sr(e).body,-1)||e}function Ol(e,t){let r=t||e.currentTarget,n=e.relatedTarget;return!n||!Vt(r,n)}function R8(e){El(e,Ml()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function Xk(e){e.querySelectorAll("[data-tabindex]").forEach(r=>{let n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}var Rl,_8,y8,K_e,Nk,Dk,J_e,Q_e,exe,txe,Ne,rxe,nxe,oxe,Ml,M8=T(()=>{Tp();Rl=g($(),1),_8=g($(),1);kl();Lk();y8="data-floating-ui-focusable",K_e="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Nk="ArrowLeft",Dk="ArrowRight",J_e="ArrowUp",Q_e="ArrowDown";exe=typeof document<"u",txe=function(){},Ne=exe?_8.useLayoutEffect:txe,rxe={...Rl};nxe=rxe.useInsertionEffect,oxe=nxe||(e=>e());Ml=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"})});function O8(e,t,r){let{reference:n,floating:o}=e,i=Kn(t),a=$0(t),s=W0(a),c=dn(t),u=i==="y",l=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,d=n[s]/2-o[s]/2,p;switch(c){case"top":p={x:l,y:n.y-o.height};break;case"bottom":p={x:l,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Zn(t)){case"start":p[a]-=d*(r&&u?-1:1);break;case"end":p[a]+=d*(r&&u?-1:1);break}return p}async function rs(e,t){var r;t===void 0&&(t={});let{x:n,y:o,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=fn(t,e),m=U0(p),v=s[d?f==="floating"?"reference":"floating":f],b=zi(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:l,strategy:c})),_=f==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=zi(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:S,strategy:c}):_);return{top:(b.top-C.top+m.top)/x.y,bottom:(C.bottom-b.bottom+m.bottom)/x.y,left:(b.left-C.left+m.left)/x.x,right:(C.right-b.right+m.right)/x.x}}function ixe(e,t,r){return(e?[...r.filter(o=>Zn(o)===e),...r.filter(o=>Zn(o)!==e)]:r.filter(o=>dn(o)===o)).filter(o=>e?Zn(o)===e||(t?Ep(o)!==o:!1):!0)}function P8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function A8(e){return Mk.some(t=>e[t]>=0)}function F8(e){let t=Vr(...e.map(i=>i.left)),r=Vr(...e.map(i=>i.top)),n=kt(...e.map(i=>i.right)),o=kt(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:o-r}}function axe(e){let t=e.slice().sort((o,i)=>o.y-i.y),r=[],n=null;for(let o=0;o<t.length;o++){let i=t[o];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(o=>zi(F8(o)))}async function sxe(e,t){let{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=dn(r),s=Zn(r),c=Kn(r)==="y",u=B8.has(a)?-1:1,l=i&&c?-1:1,f=fn(t,e),{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),c?{x:p*l,y:d*u}:{x:d*u,y:p*l}}var j8,I8,L8,N8,D8,q8,B8,z8,H8,W8,$8,U8=T(()=>{kl();kl();j8=async(e,t,r)=>{let{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:f}=O8(u,n,c),d=n,p={},m=0;for(let h=0;h<s.length;h++){let{name:v,fn:b}=s[h],{x:_,y:S,data:x,reset:C}=await b({x:l,y:f,initialPlacement:n,placement:d,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});l=_??l,f=S??f,p={...p,[v]:{...p[v],...x}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:l,y:f}=O8(u,d,c)),h=-1)}return{x:l,y:f,placement:d,strategy:o,middlewareData:p}};I8=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:c}=t,{element:u,padding:l=0}=fn(e,t)||{};if(u==null)return{};let f=U0(l),d={x:r,y:n},p=$0(o),m=W0(p),h=await a.getDimensions(u),v=p==="y",b=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[p]-d[p]-i.floating[m],C=d[p]-i.reference[p],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u)),k=O?O[S]:0;(!k||!await(a.isElement==null?void 0:a.isElement(O)))&&(k=s.floating[S]||i.floating[m]);let P=x/2-C/2,E=k/2-h[m]/2-1,R=Vr(f[b],E),I=Vr(f[_],E),q=R,N=k-h[m]-I,M=k/2-h[m]/2+P,D=z0(q,M,N),U=!c.arrow&&Zn(o)!=null&&M!==D&&i.reference[m]/2-(M<q?R:I)-h[m]/2<0,B=U?M<q?M-q:M-N:0;return{[p]:d[p]+B,data:{[p]:D,centerOffset:M-D-B,...U&&{alignmentOffset:B}},reset:U}}});L8=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,n,o;let{rects:i,middlewareData:a,placement:s,platform:c,elements:u}=t,{crossAxis:l=!1,alignment:f,allowedPlacements:d=Ok,autoAlignment:p=!0,...m}=fn(e,t),h=f!==void 0||d===Ok?ixe(f||null,p,d):d,v=await rs(t,m),b=((r=a.autoPlacement)==null?void 0:r.index)||0,_=h[b];if(_==null)return{};let S=Pk(_,i,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(s!==_)return{reset:{placement:h[0]}};let x=[v[dn(_)],v[S[0]],v[S[1]]],C=[...((n=a.autoPlacement)==null?void 0:n.overflows)||[],{placement:_,overflows:x}],O=h[b+1];if(O)return{data:{index:b+1,overflows:C},reset:{placement:O}};let k=C.map(R=>{let I=Zn(R.placement);return[R.placement,I&&l?R.overflows.slice(0,2).reduce((q,N)=>q+N,0):R.overflows[0],R.overflows]}).sort((R,I)=>R[1]-I[1]),E=((o=k.filter(R=>R[2].slice(0,Zn(R[0])?2:3).every(I=>I<=0))[0])==null?void 0:o[0])||k[0][0];return E!==s?{data:{index:b+1,overflows:C},reset:{placement:E}}:{}}}},N8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;let{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=fn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};let b=dn(o),_=Kn(s),S=dn(s)===s,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=d||(S||!h?[Rp(s)]:c8(s)),O=m!=="none";!d&&O&&C.push(...l8(s,h,m,x));let k=[s,...C],P=await rs(t,v),E=[],R=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&E.push(P[b]),f){let M=Pk(o,a,x);E.push(P[M[0]],P[M[1]])}if(R=[...R,{placement:o,overflows:E}],!E.every(M=>M<=0)){var I,q;let M=(((I=i.flip)==null?void 0:I.index)||0)+1,D=k[M];if(D&&(!(f==="alignment"?_!==Kn(D):!1)||R.every(L=>Kn(L.placement)===_?L.overflows[0]>0:!0)))return{data:{index:M,overflows:R},reset:{placement:D}};let U=(q=R.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:q.placement;if(!U)switch(p){case"bestFit":{var N;let B=(N=R.filter(L=>{if(O){let H=Kn(L.placement);return H===_||H==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(H=>H>0).reduce((H,te)=>H+te,0)]).sort((L,H)=>L[1]-H[1])[0])==null?void 0:N[0];B&&(U=B);break}case"initialPlacement":U=s;break}if(o!==U)return{reset:{placement:U}}}return{}}}};D8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...o}=fn(e,t);switch(n){case"referenceHidden":{let i=await rs(t,{...o,elementContext:"reference"}),a=P8(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:A8(a)}}}case"escaped":{let i=await rs(t,{...o,altBoundary:!0}),a=P8(i,r.floating);return{data:{escapedOffsets:a,escaped:A8(a)}}}default:return{}}}}};q8=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){let{placement:r,elements:n,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:c,y:u}=fn(e,t),l=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),f=axe(l),d=zi(F8(l)),p=U0(s);function m(){if(f.length===2&&f[0].left>f[1].right&&c!=null&&u!=null)return f.find(v=>c>v.left-p.left&&c<v.right+p.right&&u>v.top-p.top&&u<v.bottom+p.bottom)||d;if(f.length>=2){if(Kn(r)==="y"){let R=f[0],I=f[f.length-1],q=dn(r)==="top",N=R.top,M=I.bottom,D=q?R.left:I.left,U=q?R.right:I.right,B=U-D,L=M-N;return{top:N,bottom:M,left:D,right:U,width:B,height:L,x:D,y:N}}let v=dn(r)==="left",b=kt(...f.map(R=>R.right)),_=Vr(...f.map(R=>R.left)),S=f.filter(R=>v?R.left===_:R.right===b),x=S[0].top,C=S[S.length-1].bottom,O=_,k=b,P=k-O,E=C-x;return{top:x,bottom:C,left:O,right:k,width:P,height:E,x:O,y:x}}return d}let h=await i.getElementRects({reference:{getBoundingClientRect:m},floating:n.floating,strategy:a});return o.reference.x!==h.reference.x||o.reference.y!==h.reference.y||o.reference.width!==h.reference.width||o.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},B8=new Set(["left","top"]);z8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:o,y:i,placement:a,middlewareData:s}=t,c=await sxe(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},H8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...c}=fn(e,t),u={x:r,y:n},l=await rs(t,c),f=Kn(dn(o)),d=H0(f),p=u[d],m=u[f];if(i){let v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",_=p+l[v],S=p-l[b];p=z0(_,p,S)}if(a){let v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=m+l[v],S=m-l[b];m=z0(_,m,S)}let h=s.fn({...t,[d]:p,[f]:m});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[d]:i,[f]:a}}}}}},W8=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=fn(e,t),l={x:r,y:n},f=Kn(o),d=H0(f),p=l[d],m=l[f],h=fn(s,t),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let S=d==="y"?"height":"width",x=i.reference[d]-i.floating[S]+v.mainAxis,C=i.reference[d]+i.reference[S]-v.mainAxis;p<x?p=x:p>C&&(p=C)}if(u){var b,_;let S=d==="y"?"width":"height",x=B8.has(dn(o)),C=i.reference[f]-i.floating[S]+(x&&((b=a.offset)==null?void 0:b[f])||0)+(x?0:v.crossAxis),O=i.reference[f]+i.reference[S]+(x?0:((_=a.offset)==null?void 0:_[f])||0)-(x?v.crossAxis:0);m<C?m=C:m>O&&(m=O)}return{[d]:p,[f]:m}}}},$8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;let{placement:o,rects:i,platform:a,elements:s}=t,{apply:c=()=>{},...u}=fn(e,t),l=await rs(t,u),f=dn(o),d=Zn(o),p=Kn(o)==="y",{width:m,height:h}=i.floating,v,b;f==="top"||f==="bottom"?(v=f,b=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=d==="end"?"top":"bottom");let _=h-l.top-l.bottom,S=m-l.left-l.right,x=Vr(h-l[v],_),C=Vr(m-l[b],S),O=!t.middlewareData.shift,k=x,P=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=_),O&&!d){let R=kt(l.left,0),I=kt(l.right,0),q=kt(l.top,0),N=kt(l.bottom,0);p?P=m-2*(R!==0||I!==0?R+I:kt(l.left,l.right)):k=h-2*(q!==0||N!==0?q+N:kt(l.top,l.bottom))}await c({...t,availableWidth:P,availableHeight:k});let E=await a.getDimensions(s.floating);return m!==E.width||h!==E.height?{reset:{rects:!0}}:{}}}}});function X8(e){let t=Ur(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,o=gt(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=mu(r)!==i||mu(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function Kk(e){return ot(e)?e:e.contextElement}function Pl(e){let t=Kk(e);if(!gt(t))return ko(1);let r=t.getBoundingClientRect(),{width:n,height:o,$:i}=X8(t),a=(i?mu(r.width):r.width)/n,s=(i?mu(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}function Z8(e){let t=wr(e);return!Cl()||!t.visualViewport?uxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cxe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wr(e)?!1:t}function vu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);let o=e.getBoundingClientRect(),i=Kk(e),a=ko(1);t&&(n?ot(n)&&(a=Pl(n)):a=Pl(e));let s=cxe(i,r,n)?Z8(i):ko(0),c=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,l=o.width/a.x,f=o.height/a.y;if(i){let d=wr(i),p=n&&ot(n)?wr(n):n,m=d,h=B0(m);for(;h&&n&&p!==m;){let v=Pl(h),b=h.getBoundingClientRect(),_=Ur(h),S=b.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,x=b.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,u*=v.y,l*=v.x,f*=v.y,c+=S,u+=x,m=wr(h),h=B0(m)}}return zi({width:l,height:f,x:c,y:u})}function ry(e,t){let r=kp(e).scrollLeft;return t?t.left+r:vu(So(e)).left+r}function K8(e,t){let r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ry(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function lxe(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e,i=o==="fixed",a=So(n),s=t?Cp(t.floating):!1;if(n===a||s&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ko(1),l=ko(0),f=gt(n);if((f||!f&&!i)&&((pi(n)!=="body"||Sl(a))&&(c=kp(n)),gt(n))){let p=vu(n);u=Pl(n),l.x=p.x+n.clientLeft,l.y=p.y+n.clientTop}let d=a&&!f&&!i?K8(a,c):ko(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+l.x+d.x,y:r.y*u.y-c.scrollTop*u.y+l.y+d.y}}function fxe(e){return Array.from(e.getClientRects())}function dxe(e){let t=So(e),r=kp(e),n=e.ownerDocument.body,o=kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+ry(e),s=-r.scrollTop;return Ur(n).direction==="rtl"&&(a+=kt(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function pxe(e,t){let r=wr(e),n=So(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=Cl();(!l||l&&t==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}let u=ry(n);if(u<=0){let l=n.ownerDocument,f=l.body,d=getComputedStyle(f),p=l.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,m=Math.abs(n.clientWidth-f.clientWidth-p);m<=V8&&(i-=m)}else u<=V8&&(i+=u);return{width:i,height:a,x:s,y:c}}function hxe(e,t){let r=vu(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=gt(e)?Pl(e):ko(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,c=o*i.x,u=n*i.y;return{width:a,height:s,x:c,y:u}}function G8(e,t,r){let n;if(t==="viewport")n=pxe(e,r);else if(t==="document")n=dxe(So(e));else if(ot(t))n=hxe(t,r);else{let o=Z8(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return zi(n)}function J8(e,t){let r=wo(e);return r===t||!ot(r)||Co(r)?!1:Ur(r).position==="fixed"||J8(r,t)}function gxe(e,t){let r=t.get(e);if(r)return r;let n=ln(e,[],!1).filter(s=>ot(s)&&pi(s)!=="body"),o=null,i=Ur(e).position==="fixed",a=i?wo(e):e;for(;ot(a)&&!Co(a);){let s=Ur(a),c=q0(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&mxe.has(o.position)||Sl(a)&&!c&&J8(e,a))?n=n.filter(l=>l!==a):o=s,a=wo(a)}return t.set(e,n),n}function vxe(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[...r==="clippingAncestors"?Cp(t)?[]:gxe(t,this._c):[].concat(r),n],s=a[0],c=a.reduce((u,l)=>{let f=G8(t,l,o);return u.top=kt(f.top,u.top),u.right=Vr(f.right,u.right),u.bottom=Vr(f.bottom,u.bottom),u.left=kt(f.left,u.left),u},G8(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bxe(e){let{width:t,height:r}=X8(e);return{width:t,height:r}}function yxe(e,t,r){let n=gt(t),o=So(t),i=r==="fixed",a=vu(e,!0,i,t),s={scrollLeft:0,scrollTop:0},c=ko(0);function u(){c.x=ry(o)}if(n||!n&&!i)if((pi(t)!=="body"||Sl(o))&&(s=kp(t)),n){let p=vu(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&u();i&&!n&&o&&u();let l=o&&!n&&!i?K8(o,s):ko(0),f=a.left+s.scrollLeft-c.x-l.x,d=a.top+s.scrollTop-c.y-l.y;return{x:f,y:d,width:a.width,height:a.height}}function Zk(e){return Ur(e).position==="static"}function Y8(e,t){if(!gt(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return So(e)===r&&(r=r.ownerDocument.body),r}function Q8(e,t){let r=wr(e);if(Cp(e))return r;if(!gt(e)){let o=wo(e);for(;o&&!Co(o);){if(ot(o)&&!Zk(o))return o;o=wo(o)}return r}let n=Y8(e,t);for(;n&&n8(n)&&Zk(n);)n=Y8(n,t);return n&&Co(n)&&Zk(n)&&!q0(n)?r:n||o8(e)||r}function xxe(e){return Ur(e).direction==="rtl"}function e6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wxe(e,t){let r=null,n,o=So(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let u=e.getBoundingClientRect(),{left:l,top:f,width:d,height:p}=u;if(s||t(),!d||!p)return;let m=Qa(f),h=Qa(o.clientWidth-(l+d)),v=Qa(o.clientHeight-(f+p)),b=Qa(l),S={rootMargin:-m+"px "+-h+"px "+-v+"px "+-b+"px",threshold:kt(0,Vr(1,c))||1},x=!0;function C(O){let k=O[0].intersectionRatio;if(k!==c){if(!x)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!e6(u,e.getBoundingClientRect())&&a(),x=!1}try{r=new IntersectionObserver(C,{...S,root:o.ownerDocument})}catch{r=new IntersectionObserver(C,S)}r.observe(e)}return a(!0),i}function Jk(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Kk(e),l=o||i?[...u?ln(u):[],...ln(t)]:[];l.forEach(b=>{o&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});let f=u&&s?wxe(u,r):null,d=-1,p=null;a&&(p=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,h=c?vu(e):null;c&&v();function v(){let b=vu(e);h&&!e6(h,b)&&r(),h=b,m=requestAnimationFrame(v)}return r(),()=>{var b;l.forEach(_=>{o&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),f?.(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var uxe,V8,mxe,_xe,ny,bu,t6,r6,n6,o6,i6,a6,Qk,s6,u6,Ap,eT=T(()=>{U8();kl();Tp();Tp();uxe=ko(0);V8=25;mxe=new Set(["absolute","fixed"]);_xe=async function(e){let t=this.getOffsetParent||Q8,r=this.getDimensions,n=await r(e.floating);return{reference:yxe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};ny={convertOffsetParentRelativeRectToViewportRelativeRect:lxe,getDocumentElement:So,getClippingRect:vxe,getOffsetParent:Q8,getElementRects:_xe,getClientRects:fxe,getDimensions:bxe,getScale:Pl,isElement:ot,isRTL:xxe};bu=rs,t6=z8,r6=L8,n6=H8,o6=N8,i6=$8,a6=D8,Qk=I8,s6=q8,u6=W8,Ap=(e,t,r)=>{let n=new Map,o={platform:ny,...r},i={...o.platform,_c:n};return j8(e,t,{...o,platform:i})}});function iy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!iy(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){let i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!iy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function d6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c6(e,t){let r=d6(e);return Math.round(t*r)/r}function tT(e){let t=Ft.useRef(e);return oy(()=>{t.current=e}),t}function p6(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[l,f]=Ft.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=Ft.useState(n);iy(d,n)||p(n);let[m,h]=Ft.useState(null),[v,b]=Ft.useState(null),_=Ft.useCallback(L=>{L!==O.current&&(O.current=L,h(L))},[]),S=Ft.useCallback(L=>{L!==k.current&&(k.current=L,b(L))},[]),x=i||m,C=a||v,O=Ft.useRef(null),k=Ft.useRef(null),P=Ft.useRef(l),E=c!=null,R=tT(c),I=tT(o),q=tT(u),N=Ft.useCallback(()=>{if(!O.current||!k.current)return;let L={placement:t,strategy:r,middleware:d};I.current&&(L.platform=I.current),Ap(O.current,k.current,L).then(H=>{let te={...H,isPositioned:q.current!==!1};M.current&&!iy(P.current,te)&&(P.current=te,f6.flushSync(()=>{f(te)}))})},[d,t,r,I,q]);oy(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);let M=Ft.useRef(!1);oy(()=>(M.current=!0,()=>{M.current=!1}),[]),oy(()=>{if(x&&(O.current=x),C&&(k.current=C),x&&C){if(R.current)return R.current(x,C,N);N()}},[x,C,N,R,E]);let D=Ft.useMemo(()=>({reference:O,floating:k,setReference:_,setFloating:S}),[_,S]),U=Ft.useMemo(()=>({reference:x,floating:C}),[x,C]),B=Ft.useMemo(()=>{let L={position:r,left:0,top:0};if(!U.floating)return L;let H=c6(U.floating,l.x),te=c6(U.floating,l.y);return s?{...L,transform:"translate("+H+"px, "+te+"px)",...d6(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:te}},[r,s,U.floating,l.x,l.y]);return Ft.useMemo(()=>({...l,update:N,refs:D,elements:U,floatingStyles:B}),[l,N,D,U,B])}var Ft,l6,f6,Sxe,Cxe,oy,kxe,ay,m6,h6,g6,v6,b6,y6,_6,x6,rT=T(()=>{eT();eT();Ft=g($(),1),l6=g($(),1),f6=g(Cc(),1),Sxe=typeof document<"u",Cxe=function(){},oy=Sxe?l6.useLayoutEffect:Cxe;kxe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Qk({element:n.current,padding:o}).fn(r):{}:n?Qk({element:n,padding:o}).fn(r):{}}}},ay=(e,t)=>({...t6(e),options:[e,t]}),m6=(e,t)=>({...n6(e),options:[e,t]}),h6=(e,t)=>({...u6(e),options:[e,t]}),g6=(e,t)=>({...o6(e),options:[e,t]}),v6=(e,t)=>({...i6(e),options:[e,t]}),b6=(e,t)=>({...r6(e),options:[e,t]}),y6=(e,t)=>({...a6(e),options:[e,t]}),_6=(e,t)=>({...s6(e),options:[e,t]}),x6=(e,t)=>({...kxe(e),options:[e,t]})});var d3={};rt(d3,{Composite:()=>Rxe,CompositeItem:()=>Mxe,FloatingArrow:()=>Ixe,FloatingDelayGroup:()=>qxe,FloatingFocusManager:()=>Qxe,FloatingList:()=>G6,FloatingNode:()=>Nxe,FloatingOverlay:()=>t1e,FloatingPortal:()=>Yxe,FloatingTree:()=>Dxe,NextFloatingDelayGroup:()=>zxe,arrow:()=>x6,autoPlacement:()=>b6,autoUpdate:()=>Jk,computePosition:()=>Ap,detectOverflow:()=>bu,flip:()=>g6,getOverflowAncestors:()=>ln,hide:()=>y6,inline:()=>_6,inner:()=>y1e,limitShift:()=>h6,offset:()=>ay,platform:()=>ny,safePolygon:()=>w1e,shift:()=>m6,size:()=>v6,useClick:()=>n1e,useClientPoint:()=>i1e,useDelayGroup:()=>Bxe,useDelayGroupContext:()=>n3,useDismiss:()=>u1e,useFloating:()=>c1e,useFloatingNodeId:()=>Lxe,useFloatingParentNodeId:()=>wu,useFloatingPortalNode:()=>s3,useFloatingRootContext:()=>c3,useFloatingTree:()=>Su,useFocus:()=>l1e,useHover:()=>Fxe,useId:()=>Il,useInnerOffset:()=>_1e,useInteractions:()=>f1e,useListItem:()=>Y6,useListNavigation:()=>p1e,useMergeRefs:()=>U6,useNextDelayGroup:()=>Hxe,useRole:()=>h1e,useTransitionStatus:()=>l3,useTransitionStyles:()=>v1e,useTypeahead:()=>b1e});function U6(e){let t=j.useRef(void 0),r=j.useCallback(n=>{let o=e.map(i=>{if(i!=null){if(typeof i=="function"){let a=i,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return i.current=n,()=>{i.current=null}}});return()=>{o.forEach(i=>i?.())}},e);return j.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function Txe(e,t){let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function G6(e){let{children:t,elementsRef:r,labelsRef:n}=e,[o,i]=j.useState(()=>new Set),a=j.useCallback(u=>{i(l=>new Set(l).add(u))},[]),s=j.useCallback(u=>{i(l=>{let f=new Set(l);return f.delete(u),f})},[]),c=j.useMemo(()=>{let u=new Map;return Array.from(o.keys()).sort(Txe).forEach((f,d)=>{u.set(f,d)}),u},[o]);return(0,it.jsx)(V6.Provider,{value:j.useMemo(()=>({register:a,unregister:s,map:c,elementsRef:r,labelsRef:n}),[a,s,c,r,n]),children:t})}function Y6(e){e===void 0&&(e={});let{label:t}=e,{register:r,unregister:n,map:o,elementsRef:i,labelsRef:a}=j.useContext(V6),[s,c]=j.useState(null),u=j.useRef(null),l=j.useCallback(f=>{if(u.current=f,s!==null&&(i.current[s]=f,a)){var d;let p=t!==void 0;a.current[s]=p?t:(d=f?.textContent)!=null?d:null}},[s,i,a,t]);return Ne(()=>{let f=u.current;if(f)return r(f),()=>{n(f)}},[r,n]),Ne(()=>{let f=u.current?o.get(u.current):null;f!=null&&c(f)},[o]),j.useMemo(()=>({ref:l,index:s??-1}),[s,l])}function X6(e,t){return typeof e=="function"?e(t):e?j.cloneElement(e,t):(0,it.jsx)("div",{...t})}function Axe(){let[e,t]=j.useState(()=>C6?k6():void 0);return Ne(()=>{e==null&&t(k6())},[]),j.useEffect(()=>{C6=!0},[]),e}function Q6(){let e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(o=>o(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}function Lxe(e){let t=Il(),r=Su(),n=wu(),o=e||n;return Ne(()=>{if(!t)return;let i={id:t,parentId:o};return r?.addNode(i),()=>{r?.removeNode(i)}},[r,t,o]),t}function Nxe(e){let{children:t,id:r}=e,n=wu();return(0,it.jsx)(e3.Provider,{value:j.useMemo(()=>({id:r,parentId:n}),[r,n]),children:t})}function Dxe(e){let{children:t}=e,r=j.useRef([]),n=j.useCallback(a=>{r.current=[...r.current,a]},[]),o=j.useCallback(a=>{r.current=r.current.filter(s=>s!==a)},[]),[i]=j.useState(()=>Q6());return(0,it.jsx)(t3.Provider,{value:j.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:i}),[n,o,i]),children:t})}function xu(e){return"data-floating-ui-"+e}function ur(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}function jp(e,t,r){if(r&&!gu(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){let n=e();return typeof n=="number"?n:n?.[t]}return e?.[t]}function oT(e){return typeof e=="function"?e():e}function Fxe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:o,events:i,elements:a}=e,{enabled:s=!0,delay:c=0,handleClose:u=null,mouseOnly:l=!1,restMs:f=0,move:d=!0}=t,p=Su(),m=wu(),h=Gt(u),v=Gt(c),b=Gt(r),_=Gt(f),S=j.useRef(),x=j.useRef(-1),C=j.useRef(),O=j.useRef(-1),k=j.useRef(!0),P=j.useRef(!1),E=j.useRef(()=>{}),R=j.useRef(!1),I=st(()=>{var B;let L=(B=o.current.openEvent)==null?void 0:B.type;return L?.includes("mouse")&&L!=="mousedown"});j.useEffect(()=>{if(!s)return;function B(L){let{open:H}=L;H||(ur(x),ur(O),k.current=!0,R.current=!1)}return i.on("openchange",B),()=>{i.off("openchange",B)}},[s,i]),j.useEffect(()=>{if(!s||!h.current||!r)return;function B(H){I()&&n(!1,H,"hover")}let L=sr(a.floating).documentElement;return L.addEventListener("mouseleave",B),()=>{L.removeEventListener("mouseleave",B)}},[a.floating,r,n,s,h,I]);let q=j.useCallback(function(B,L,H){L===void 0&&(L=!0),H===void 0&&(H="hover");let te=jp(v.current,"close",S.current);te&&!C.current?(ur(x),x.current=window.setTimeout(()=>n(!1,B,H),te)):L&&(ur(x),n(!1,B,H))},[v,n]),N=st(()=>{E.current(),C.current=void 0}),M=st(()=>{if(P.current){let B=sr(a.floating).body;B.style.pointerEvents="",B.removeAttribute(T6),P.current=!1}}),D=st(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);j.useEffect(()=>{if(!s)return;function B(ge){if(ur(x),k.current=!1,l&&!gu(S.current)||oT(_.current)>0&&!jp(v.current,"open"))return;let Y=jp(v.current,"open",S.current);Y?x.current=window.setTimeout(()=>{b.current||n(!0,ge,"hover")},Y):r||n(!0,ge,"hover")}function L(ge){if(D()){M();return}E.current();let Y=sr(a.floating);if(ur(O),R.current=!1,h.current&&o.current.floatingContext){r||ur(x),C.current=h.current({...o.current.floatingContext,tree:p,x:ge.clientX,y:ge.clientY,onClose(){M(),N(),D()||q(ge,!0,"safe-polygon")}});let W=C.current;Y.addEventListener("mousemove",W),E.current=()=>{Y.removeEventListener("mousemove",W)};return}(S.current==="touch"?!Vt(a.floating,ge.relatedTarget):!0)&&q(ge)}function H(ge){D()||o.current.floatingContext&&(h.current==null||h.current({...o.current.floatingContext,tree:p,x:ge.clientX,y:ge.clientY,onClose(){M(),N(),D()||q(ge)}})(ge))}function te(){ur(x)}function Ce(ge){D()||q(ge,!1)}if(ot(a.domReference)){let ge=a.domReference,Y=a.floating;return r&&ge.addEventListener("mouseleave",H),d&&ge.addEventListener("mousemove",B,{once:!0}),ge.addEventListener("mouseenter",B),ge.addEventListener("mouseleave",L),Y&&(Y.addEventListener("mouseleave",H),Y.addEventListener("mouseenter",te),Y.addEventListener("mouseleave",Ce)),()=>{r&&ge.removeEventListener("mouseleave",H),d&&ge.removeEventListener("mousemove",B),ge.removeEventListener("mouseenter",B),ge.removeEventListener("mouseleave",L),Y&&(Y.removeEventListener("mouseleave",H),Y.removeEventListener("mouseenter",te),Y.removeEventListener("mouseleave",Ce))}}},[a,s,e,l,d,q,N,M,n,r,b,p,v,h,o,D,_]),Ne(()=>{var B;if(s&&r&&(B=h.current)!=null&&(B=B.__options)!=null&&B.blockPointerEvents&&I()){P.current=!0;let H=a.floating;if(ot(a.domReference)&&H){var L;let te=sr(a.floating).body;te.setAttribute(T6,"");let Ce=a.domReference,ge=p==null||(L=p.nodesRef.current.find(Y=>Y.id===m))==null||(L=L.context)==null?void 0:L.elements.floating;return ge&&(ge.style.pointerEvents=""),te.style.pointerEvents="none",Ce.style.pointerEvents="auto",H.style.pointerEvents="auto",()=>{te.style.pointerEvents="",Ce.style.pointerEvents="",H.style.pointerEvents=""}}}},[s,r,m,a,p,h,I]),Ne(()=>{r||(S.current=void 0,R.current=!1,N(),M())},[r,N,M]),j.useEffect(()=>()=>{N(),ur(x),ur(O),M()},[s,a.domReference,N,M]);let U=j.useMemo(()=>{function B(L){S.current=L.pointerType}return{onPointerDown:B,onPointerEnter:B,onMouseMove(L){let{nativeEvent:H}=L;function te(){!k.current&&!b.current&&n(!0,H,"hover")}l&&!gu(S.current)||r||oT(_.current)===0||R.current&&L.movementX**2+L.movementY**2<2||(ur(O),S.current==="touch"?te():(R.current=!0,O.current=window.setTimeout(te,oT(_.current))))}}},[l,n,r,b,_]);return j.useMemo(()=>s?{reference:U}:{},[s,U])}function qxe(e){let{children:t,delay:r,timeoutMs:n=0}=e,[o,i]=j.useReducer((c,u)=>({...c,...u}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),a=j.useRef(null),s=j.useCallback(c=>{i({currentId:c})},[]);return Ne(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),(0,it.jsx)(r3.Provider,{value:j.useMemo(()=>({...o,setState:i,setCurrentId:s}),[o,s]),children:t})}function Bxe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:o}=e,{id:i,enabled:a=!0}=t,s=i??o,c=n3(),{currentId:u,setCurrentId:l,initialDelay:f,setState:d,timeoutMs:p}=c;return Ne(()=>{a&&u&&(d({delay:{open:1,close:jp(f,"close")}}),u!==s&&n(!1))},[a,s,n,d,u,f]),Ne(()=>{function m(){n(!1),d({delay:f,currentId:null})}if(a&&u&&!r&&u===s){if(p){let h=window.setTimeout(m,p);return()=>{clearTimeout(h)}}m()}},[a,r,d,u,s,n,f,p]),Ne(()=>{a&&(l===lT||!r||l(s))},[a,r,l,s]),c}function zxe(e){let{children:t,delay:r,timeoutMs:n=0}=e,o=j.useRef(r),i=j.useRef(r),a=j.useRef(null),s=j.useRef(null),c=j.useRef(-1);return(0,it.jsx)(o3.Provider,{value:j.useMemo(()=>({hasProvider:!0,delayRef:o,initialDelayRef:i,currentIdRef:a,timeoutMs:n,currentContextRef:s,timeoutIdRef:c}),[n]),children:t})}function Hxe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:o}=e,{enabled:i=!0}=t,a=j.useContext(o3),{currentIdRef:s,delayRef:c,timeoutMs:u,initialDelayRef:l,currentContextRef:f,hasProvider:d,timeoutIdRef:p}=a,[m,h]=j.useState(!1);return Ne(()=>{function v(){var b;h(!1),(b=f.current)==null||b.setIsInstantPhase(!1),s.current=null,f.current=null,c.current=l.current}if(i&&s.current&&!r&&s.current===o){if(h(!1),u)return p.current=window.setTimeout(v,u),()=>{clearTimeout(p.current)};v()}},[i,r,o,s,c,u,l,f,p]),Ne(()=>{if(!i||!r)return;let v=f.current,b=s.current;f.current={onOpenChange:n,setIsInstantPhase:h},s.current=o,c.current={open:0,close:jp(l.current,"close")},b!==null&&b!==o?(ur(p),h(!0),v?.setIsInstantPhase(!0),v?.onOpenChange(!1)):(h(!1),v?.setIsInstantPhase(!1))},[i,r,o,n,s,c,u,l,f,p]),Ne(()=>()=>{f.current=null},[f]),j.useMemo(()=>({hasProvider:d,delayRef:c,isInstantPhase:m}),[d,c,m])}function yu(e,t){t===void 0&&(t={});let{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=t;n&&cancelAnimationFrame(E6);let i=()=>e?.focus({preventScroll:r});o?i():E6=requestAnimationFrame(i)}function iT(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&wl(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Wxe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function $xe(e){return e?.ownerDocument||document}function R6(e){return e==="inert"?jl.inert:e==="aria-hidden"?jl["aria-hidden"]:jl.none}function Gxe(e,t,r,n){let o="data-floating-ui-inert",i=n?"inert":r?"aria-hidden":null,a=Vxe(t,e),s=new Set,c=new Set(a),u=[];uy[o]||(uy[o]=new WeakMap);let l=uy[o];a.forEach(f),d(t),s.clear();function f(p){!p||s.has(p)||(s.add(p),p.parentNode&&f(p.parentNode))}function d(p){!p||c.has(p)||[].forEach.call(p.children,m=>{if(pi(m)!=="script")if(s.has(m))d(m);else{let h=i?m.getAttribute(i):null,v=h!==null&&h!=="false",b=R6(i),_=(b.get(m)||0)+1,S=(l.get(m)||0)+1;b.set(m,_),l.set(m,S),u.push(m),_===1&&v&&sy.add(m),S===1&&m.setAttribute(o,""),!v&&i&&m.setAttribute(i,i==="inert"?"":"true")}})}return aT++,()=>{u.forEach(p=>{let m=R6(i),v=(m.get(p)||0)-1,b=(l.get(p)||0)-1;m.set(p,v),l.set(p,b),v||(!sy.has(p)&&i&&p.removeAttribute(i),sy.delete(p)),b||p.removeAttribute(o)}),aT--,aT||(jl.inert=new WeakMap,jl["aria-hidden"]=new WeakMap,jl.none=new WeakMap,sy=new WeakSet,uy={})}}function M6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);let n=$xe(e[0]).body;return Gxe(e.concat(Array.from(n.querySelectorAll('[aria-live],[role="status"],output'))),n,t,r)}function s3(e){e===void 0&&(e={});let{id:t,root:r}=e,n=Il(),o=u3(),[i,a]=j.useState(null),s=j.useRef(null);return Ne(()=>()=>{i?.remove(),queueMicrotask(()=>{s.current=null})},[i]),Ne(()=>{if(!n||s.current)return;let c=t?document.getElementById(t):null;if(!c)return;let u=document.createElement("div");u.id=n,u.setAttribute(O6,""),c.appendChild(u),s.current=u,a(u)},[t,n]),Ne(()=>{if(r===null||!n||s.current)return;let c=r||o?.portalNode;c&&!F0(c)&&(c=c.current),c=c||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,c.appendChild(u));let l=document.createElement("div");l.id=n,l.setAttribute(O6,""),c=u||c,c.appendChild(l),s.current=l,a(l)},[t,r,n,o]),i}function Yxe(e){let{children:t,id:r,root:n,preserveTabOrder:o=!0}=e,i=s3({id:r,root:n}),[a,s]=j.useState(null),c=j.useRef(null),u=j.useRef(null),l=j.useRef(null),f=j.useRef(null),d=a?.modal,p=a?.open,m=!!a&&!a.modal&&a.open&&o&&!!(n||i);return j.useEffect(()=>{if(!i||!o||d)return;function h(v){i&&Ol(v)&&(v.type==="focusin"?Xk:R8)(i)}return i.addEventListener("focusin",h,!0),i.addEventListener("focusout",h,!0),()=>{i.removeEventListener("focusin",h,!0),i.removeEventListener("focusout",h,!0)}},[i,o,d]),j.useEffect(()=>{i&&(p||Xk(i))},[p,i]),(0,it.jsxs)(a3.Provider,{value:j.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:l,afterInsideRef:f,portalNode:i,setFocusManagerState:s}),[o,i]),children:[m&&i&&(0,it.jsx)(fy,{"data-type":"outside",ref:c,onFocus:h=>{if(Ol(h,i)){var v;(v=l.current)==null||v.focus()}else{let b=a?a.domReference:null,_=Yk(b);_?.focus()}}}),m&&i&&(0,it.jsx)("span",{"aria-owns":i.id,style:dy}),i&&_u.createPortal(t,i),m&&i&&(0,it.jsx)(fy,{"data-type":"outside",ref:u,onFocus:h=>{if(Ol(h,i)){var v;(v=f.current)==null||v.focus()}else{let b=a?a.domReference:null,_=Gk(b);_?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,h.nativeEvent,"focus-out")}}})]})}function P6(e){return j.useMemo(()=>t=>{e.forEach(r=>{r&&(r.current=t)})},e)}function fT(){ns=ns.filter(e=>e.isConnected)}function Zxe(e){fT(),e&&pi(e)!=="body"&&(ns.push(e),ns.length>Xxe&&(ns=ns.slice(-20)))}function A6(){return fT(),ns[ns.length-1]}function Kxe(e){let t=Ml();return Ik(e,t)?e:El(e,t)[0]||e}function j6(e,t){var r;if(!t.current.includes("floating")&&!((r=e.getAttribute("role"))!=null&&r.includes("dialog")))return;let n=Ml(),i=b8(e,n).filter(s=>{let c=s.getAttribute("data-tabindex")||"";return Ik(s,n)||s.hasAttribute("data-tabindex")&&!c.startsWith("-")}),a=e.getAttribute("tabindex");t.current.includes("floating")||i.length===0?a!=="0"&&e.setAttribute("tabindex","0"):(a!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function Qxe(e){let{context:t,children:r,disabled:n=!1,order:o=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:f=!0,outsideElementsInert:d=!1,getInsideElements:p=()=>[]}=e,{open:m,onOpenChange:h,events:v,dataRef:b,elements:{domReference:_,floating:S}}=t,x=st(()=>{var ie;return(ie=b.current.floatingContext)==null?void 0:ie.nodeId}),C=st(p),O=typeof a=="number"&&a<0,k=ey(_)&&O,P=Uxe(),E=P?i:!0,R=!E||P&&d,I=Gt(o),q=Gt(a),N=Gt(s),M=Su(),D=u3(),U=j.useRef(null),B=j.useRef(null),L=j.useRef(!1),H=j.useRef(!1),te=j.useRef(-1),Ce=j.useRef(-1),ge=D!=null,Y=Op(S),ze=st(function(ie){return ie===void 0&&(ie=Y),ie?El(ie,Ml()):[]}),W=st(ie=>{let ye=ze(ie);return I.current.map(ce=>_&&ce==="reference"?_:Y&&ce==="floating"?Y:ye).filter(Boolean).flat()});j.useEffect(()=>{if(n||!u)return;function ie(ce){if(ce.key==="Tab"){Vt(Y,To(sr(Y)))&&ze().length===0&&!k&&ar(ce);let ke=W(),Ae=Eo(ce);I.current[0]==="reference"&&Ae===_&&(ar(ce),ce.shiftKey?yu(ke[ke.length-1]):yu(ke[1])),I.current[1]==="floating"&&Ae===Y&&ce.shiftKey&&(ar(ce),yu(ke[0]))}}let ye=sr(Y);return ye.addEventListener("keydown",ie),()=>{ye.removeEventListener("keydown",ie)}},[n,_,Y,u,I,k,ze,W]),j.useEffect(()=>{if(n||!S)return;function ie(ye){let ce=Eo(ye),Ae=ze().indexOf(ce);Ae!==-1&&(te.current=Ae)}return S.addEventListener("focusin",ie),()=>{S.removeEventListener("focusin",ie)}},[n,S,ze]),j.useEffect(()=>{if(n||!f)return;function ie(){H.current=!0,setTimeout(()=>{H.current=!1})}function ye(Ae){let pe=Ae.relatedTarget,ee=Ae.currentTarget,_e=Eo(Ae);queueMicrotask(()=>{let Re=x(),Te=!(Vt(_,pe)||Vt(S,pe)||Vt(pe,S)||Vt(D?.portalNode,pe)||pe!=null&&pe.hasAttribute(xu("focus-guard"))||M&&(es(M.nodesRef.current,Re).find(G=>{var K,X;return Vt((K=G.context)==null?void 0:K.elements.floating,pe)||Vt((X=G.context)==null?void 0:X.elements.domReference,pe)})||Bk(M.nodesRef.current,Re).find(G=>{var K,X,Se;return[(K=G.context)==null?void 0:K.elements.floating,Op((X=G.context)==null?void 0:X.elements.floating)].includes(pe)||((Se=G.context)==null?void 0:Se.elements.domReference)===pe})));if(ee===_&&Y&&j6(Y,I),c&&ee!==_&&!(_e!=null&&_e.isConnected)&&To(sr(Y))===sr(Y).body){gt(Y)&&Y.focus();let G=te.current,K=ze(),X=K[G]||K[K.length-1]||Y;gt(X)&&X.focus()}if(b.current.insideReactTree){b.current.insideReactTree=!1;return}(k||!u)&&pe&&Te&&!H.current&&pe!==A6()&&(L.current=!0,h(!1,Ae,"focus-out"))})}let ce=!!(!M&&D);function ke(){ur(Ce),b.current.insideReactTree=!0,Ce.current=window.setTimeout(()=>{b.current.insideReactTree=!1})}if(S&&gt(_))return _.addEventListener("focusout",ye),_.addEventListener("pointerdown",ie),S.addEventListener("focusout",ye),ce&&S.addEventListener("focusout",ke,!0),()=>{_.removeEventListener("focusout",ye),_.removeEventListener("pointerdown",ie),S.removeEventListener("focusout",ye),ce&&S.removeEventListener("focusout",ke,!0)}},[n,_,S,Y,u,M,D,h,f,c,ze,k,x,I,b]);let ae=j.useRef(null),we=j.useRef(null),be=P6([ae,D?.beforeInsideRef]),ne=P6([we,D?.afterInsideRef]);j.useEffect(()=>{var ie,ye;if(n||!S)return;let ce=Array.from((D==null||(ie=D.portalNode)==null?void 0:ie.querySelectorAll("["+xu("portal")+"]"))||[]),Ae=(ye=(M?Bk(M.nodesRef.current,x()):[]).find(_e=>{var Re;return ey(((Re=_e.context)==null?void 0:Re.elements.domReference)||null)}))==null||(ye=ye.context)==null?void 0:ye.elements.domReference,pe=[S,Ae,...ce,...C(),U.current,B.current,ae.current,we.current,D?.beforeOutsideRef.current,D?.afterOutsideRef.current,I.current.includes("reference")||k?_:null].filter(_e=>_e!=null),ee=u||k?M6(pe,!R,R):M6(pe);return()=>{ee()}},[n,_,S,u,I,D,k,E,R,M,x,C]),Ne(()=>{if(n||!gt(Y))return;let ie=sr(Y),ye=To(ie);queueMicrotask(()=>{let ce=W(Y),ke=q.current,Ae=(typeof ke=="number"?ce[ke]:ke.current)||Y,pe=Vt(Y,ye);!O&&!pe&&m&&yu(Ae,{preventScroll:Ae===Y})})},[n,m,Y,O,W,q]),Ne(()=>{if(n||!Y)return;let ie=sr(Y),ye=To(ie);Zxe(ye);function ce(pe){let{reason:ee,event:_e,nested:Re}=pe;if(["hover","safe-polygon"].includes(ee)&&_e.type==="mouseleave"&&(L.current=!0),ee==="outside-press")if(Re)L.current=!1;else if(zk(_e)||Hk(_e))L.current=!1;else{let Te=!1;document.createElement("div").focus({get preventScroll(){return Te=!0,!1}}),Te?L.current=!1:L.current=!0}}v.on("openchange",ce);let ke=ie.createElement("span");ke.setAttribute("tabindex","-1"),ke.setAttribute("aria-hidden","true"),Object.assign(ke.style,dy),ge&&_&&_.insertAdjacentElement("afterend",ke);function Ae(){if(typeof N.current=="boolean"){let pe=_||A6();return pe&&pe.isConnected?pe:ke}return N.current.current||ke}return()=>{v.off("openchange",ce);let pe=To(ie),ee=Vt(S,pe)||M&&es(M.nodesRef.current,x(),!1).some(Re=>{var Te;return Vt((Te=Re.context)==null?void 0:Te.elements.floating,pe)}),_e=Ae();queueMicrotask(()=>{let Re=Kxe(_e);N.current&&!L.current&&gt(Re)&&(!(Re!==pe&&pe!==ie.body)||ee)&&Re.focus({preventScroll:!0}),ke.remove()})}},[n,S,Y,N,b,v,M,ge,_,x]),j.useEffect(()=>(queueMicrotask(()=>{L.current=!1}),()=>{queueMicrotask(fT)}),[n]),Ne(()=>{if(!n&&D)return D.setFocusManagerState({modal:u,closeOnFocusOut:f,open:m,onOpenChange:h,domReference:_}),()=>{D.setFocusManagerState(null)}},[n,D,u,m,h,f,_]),Ne(()=>{n||Y&&j6(Y,I)},[n,Y,I]);function de(ie){return n||!l||!u?null:(0,it.jsx)(Jxe,{ref:ie==="start"?U:B,onClick:ye=>h(!1,ye.nativeEvent),children:typeof l=="string"?l:"Dismiss"})}let Pe=!n&&E&&(u?!k:!0)&&(ge||u);return(0,it.jsxs)(it.Fragment,{children:[Pe&&(0,it.jsx)(fy,{"data-type":"inside",ref:be,onFocus:ie=>{if(u){let ce=W();yu(o[0]==="reference"?ce[0]:ce[ce.length-1])}else if(D!=null&&D.preserveTabOrder&&D.portalNode)if(L.current=!1,Ol(ie,D.portalNode)){let ce=Gk(_);ce?.focus()}else{var ye;(ye=D.beforeOutsideRef.current)==null||ye.focus()}}}),!k&&de("start"),r,de("end"),Pe&&(0,it.jsx)(fy,{"data-type":"inside",ref:ne,onFocus:ie=>{if(u)yu(W()[0]);else if(D!=null&&D.preserveTabOrder&&D.portalNode)if(f&&(L.current=!0),Ol(ie,D.portalNode)){let ce=Yk(_);ce?.focus()}else{var ye;(ye=D.afterOutsideRef.current)==null||ye.focus()}}})]})}function e1e(){let e=Z0(),t=/iP(hone|ad|od)|iOS/.test(e)||e==="MacIntel"&&navigator.maxTouchPoints>1,r=document.body.style,o=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,a=r.left?parseFloat(r.left):window.scrollX,s=r.top?parseFloat(r.top):window.scrollY;if(r.overflow="hidden",r.setProperty(I6,i+"px"),i&&(r[o]=i+"px"),t){var c,u;let l=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,f=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(r,{position:"fixed",top:-(s-Math.floor(f))+"px",left:-(a-Math.floor(l))+"px",right:"0"})}return()=>{Object.assign(r,{overflow:"",[o]:""}),r.removeProperty(I6),t&&(Object.assign(r,{position:"",top:"",left:"",right:""}),window.scrollTo(a,s))}}function N6(e){return gt(e.target)&&e.target.tagName==="BUTTON"}function r1e(e){return gt(e.target)&&e.target.tagName==="A"}function D6(e){return Q0(e)}function n1e(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:o,elements:{domReference:i}}=e,{enabled:a=!0,event:s="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:l=!0,stickIfOpen:f=!0}=t,d=j.useRef(),p=j.useRef(!1),m=j.useMemo(()=>({onPointerDown(h){d.current=h.pointerType},onMouseDown(h){let v=d.current;h.button===0&&s!=="click"&&(gu(v,!0)&&u||(r&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="mousedown")?n(!1,h.nativeEvent,"click"):(h.preventDefault(),n(!0,h.nativeEvent,"click"))))},onClick(h){let v=d.current;if(s==="mousedown"&&d.current){d.current=void 0;return}gu(v,!0)&&u||(r&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="click")?n(!1,h.nativeEvent,"click"):n(!0,h.nativeEvent,"click"))},onKeyDown(h){d.current=void 0,!(h.defaultPrevented||!l||N6(h))&&(h.key===" "&&!D6(i)&&(h.preventDefault(),p.current=!0),!r1e(h)&&h.key==="Enter"&&n(!(r&&c),h.nativeEvent,"click"))},onKeyUp(h){h.defaultPrevented||!l||N6(h)||D6(i)||h.key===" "&&p.current&&(p.current=!1,n(!(r&&c),h.nativeEvent,"click"))}}),[o,i,s,u,l,n,r,f,c]);return j.useMemo(()=>a?{reference:m}:{},[a,m])}function o1e(e,t){let r=null,n=null,o=!1;return{contextElement:e||void 0,getBoundingClientRect(){var i;let a=e?.getBoundingClientRect()||{width:0,height:0,x:0,y:0},s=t.axis==="x"||t.axis==="both",c=t.axis==="y"||t.axis==="both",u=["mouseenter","mousemove"].includes(((i=t.dataRef.current.openEvent)==null?void 0:i.type)||"")&&t.pointerType!=="touch",l=a.width,f=a.height,d=a.x,p=a.y;return r==null&&t.x&&s&&(r=a.x-t.x),n==null&&t.y&&c&&(n=a.y-t.y),d-=r||0,p-=n||0,l=0,f=0,!o||u?(l=t.axis==="y"?a.width:0,f=t.axis==="x"?a.height:0,d=s&&t.x!=null?t.x:d,p=c&&t.y!=null?t.y:p):o&&!u&&(f=t.axis==="x"?a.height:f,l=t.axis==="y"?a.width:l),o=!0,{width:l,height:f,x:d,y:p,top:p,right:d+l,bottom:p+f,left:d}}}}function F6(e){return e!=null&&e.clientX!=null}function i1e(e,t){t===void 0&&(t={});let{open:r,dataRef:n,elements:{floating:o,domReference:i},refs:a}=e,{enabled:s=!0,axis:c="both",x:u=null,y:l=null}=t,f=j.useRef(!1),d=j.useRef(null),[p,m]=j.useState(),[h,v]=j.useState([]),b=st((O,k)=>{f.current||n.current.openEvent&&!F6(n.current.openEvent)||a.setPositionReference(o1e(i,{x:O,y:k,axis:c,dataRef:n,pointerType:p}))}),_=st(O=>{u!=null||l!=null||(r?d.current||v([]):b(O.clientX,O.clientY))}),S=gu(p)?o:r,x=j.useCallback(()=>{if(!S||!s||u!=null||l!=null)return;let O=wr(o);function k(P){let E=Eo(P);Vt(o,E)?(O.removeEventListener("mousemove",k),d.current=null):b(P.clientX,P.clientY)}if(!n.current.openEvent||F6(n.current.openEvent)){O.addEventListener("mousemove",k);let P=()=>{O.removeEventListener("mousemove",k),d.current=null};return d.current=P,P}a.setPositionReference(i)},[S,s,u,l,o,n,a,i,b]);j.useEffect(()=>x(),[x,h]),j.useEffect(()=>{s&&!o&&(f.current=!1)},[s,o]),j.useEffect(()=>{!s&&r&&(f.current=!0)},[s,r]),Ne(()=>{s&&(u!=null||l!=null)&&(f.current=!1,b(u,l))},[s,u,l,b]);let C=j.useMemo(()=>{function O(k){let{pointerType:P}=k;m(P)}return{onPointerDown:O,onPointerEnter:O,onMouseMove:_,onMouseEnter:_}},[_]);return j.useMemo(()=>s?{reference:C}:{},[s,C])}function u1e(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:l=!1,referencePressEvent:f="pointerdown",ancestorScroll:d=!1,bubbles:p,capture:m}=t,h=Su(),v=st(typeof c=="function"?c:()=>!1),b=typeof c=="function"?v:c,_=j.useRef(!1),{escapeKey:S,outsidePress:x}=q6(p),{escapeKey:C,outsidePress:O}=q6(m),k=j.useRef(!1),P=st(M=>{var D;if(!r||!a||!s||M.key!=="Escape"||k.current)return;let U=(D=i.current.floatingContext)==null?void 0:D.nodeId,B=h?es(h.nodesRef.current,U):[];if(!S&&(M.stopPropagation(),B.length>0)){let L=!0;if(B.forEach(H=>{var te;if((te=H.context)!=null&&te.open&&!H.context.dataRef.current.__escapeKeyBubbles){L=!1;return}}),!L)return}n(!1,T8(M)?M.nativeEvent:M,"escape-key")}),E=st(M=>{var D;let U=()=>{var B;P(M),(B=Eo(M))==null||B.removeEventListener("keydown",U)};(D=Eo(M))==null||D.addEventListener("keydown",U)}),R=st(M=>{var D;let U=i.current.insideReactTree;i.current.insideReactTree=!1;let B=_.current;if(_.current=!1,u==="click"&&B||U||typeof b=="function"&&!b(M))return;let L=Eo(M),H="["+xu("inert")+"]",te=sr(o.floating).querySelectorAll(H),Ce=ot(L)?L:null;for(;Ce&&!Co(Ce);){let W=wo(Ce);if(Co(W)||!ot(W))break;Ce=W}if(te.length&&ot(L)&&!S8(L)&&!Vt(L,o.floating)&&Array.from(te).every(W=>!Vt(Ce,W)))return;if(gt(L)&&N){let W=Co(L),ae=Ur(L),we=/auto|scroll/,be=W||we.test(ae.overflowX),ne=W||we.test(ae.overflowY),de=be&&L.clientWidth>0&&L.scrollWidth>L.clientWidth,Pe=ne&&L.clientHeight>0&&L.scrollHeight>L.clientHeight,ie=ae.direction==="rtl",ye=Pe&&(ie?M.offsetX<=L.offsetWidth-L.clientWidth:M.offsetX>L.clientWidth),ce=de&&M.offsetY>L.clientHeight;if(ye||ce)return}let ge=(D=i.current.floatingContext)==null?void 0:D.nodeId,Y=h&&es(h.nodesRef.current,ge).some(W=>{var ae;return J0(M,(ae=W.context)==null?void 0:ae.elements.floating)});if(J0(M,o.floating)||J0(M,o.domReference)||Y)return;let ze=h?es(h.nodesRef.current,ge):[];if(ze.length>0){let W=!0;if(ze.forEach(ae=>{var we;if((we=ae.context)!=null&&we.open&&!ae.context.dataRef.current.__outsidePressBubbles){W=!1;return}}),!W)return}n(!1,M,"outside-press")}),I=st(M=>{var D;let U=()=>{var B;R(M),(B=Eo(M))==null||B.removeEventListener(u,U)};(D=Eo(M))==null||D.addEventListener(u,U)});j.useEffect(()=>{if(!r||!a)return;i.current.__escapeKeyBubbles=S,i.current.__outsidePressBubbles=x;let M=-1;function D(te){n(!1,te,"ancestor-scroll")}function U(){window.clearTimeout(M),k.current=!0}function B(){M=window.setTimeout(()=>{k.current=!1},Cl()?5:0)}let L=sr(o.floating);s&&(L.addEventListener("keydown",C?E:P,C),L.addEventListener("compositionstart",U),L.addEventListener("compositionend",B)),b&&L.addEventListener(u,O?I:R,O);let H=[];return d&&(ot(o.domReference)&&(H=ln(o.domReference)),ot(o.floating)&&(H=H.concat(ln(o.floating))),!ot(o.reference)&&o.reference&&o.reference.contextElement&&(H=H.concat(ln(o.reference.contextElement)))),H=H.filter(te=>{var Ce;return te!==((Ce=L.defaultView)==null?void 0:Ce.visualViewport)}),H.forEach(te=>{te.addEventListener("scroll",D,{passive:!0})}),()=>{s&&(L.removeEventListener("keydown",C?E:P,C),L.removeEventListener("compositionstart",U),L.removeEventListener("compositionend",B)),b&&L.removeEventListener(u,O?I:R,O),H.forEach(te=>{te.removeEventListener("scroll",D)}),window.clearTimeout(M)}},[i,o,s,b,u,r,n,d,a,S,x,P,C,E,R,O,I]),j.useEffect(()=>{i.current.insideReactTree=!1},[i,b,u]);let q=j.useMemo(()=>({onKeyDown:P,...l&&{[a1e[f]]:M=>{n(!1,M.nativeEvent,"reference-press")},...f!=="click"&&{onClick(M){n(!1,M.nativeEvent,"reference-press")}}}}),[P,n,l,f]),N=j.useMemo(()=>({onKeyDown:P,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[s1e[u]]:()=>{i.current.insideReactTree=!0}}),[P,u,i]);return j.useMemo(()=>a?{reference:q,floating:N}:{},[a,q,N])}function c3(e){let{open:t=!1,onOpenChange:r,elements:n}=e,o=Il(),i=j.useRef({}),[a]=j.useState(()=>Q6()),s=wu()!=null,[c,u]=j.useState(n.reference),l=st((p,m,h)=>{i.current.openEvent=p?m:void 0,a.emit("openchange",{open:p,event:m,reason:h,nested:s}),r?.(p,m,h)}),f=j.useMemo(()=>({setPositionReference:u}),[]),d=j.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return j.useMemo(()=>({dataRef:i,open:t,onOpenChange:l,elements:d,events:a,floatingId:o,refs:f}),[t,l,d,a,o,f])}function c1e(e){e===void 0&&(e={});let{nodeId:t}=e,r=c3({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,o=n.elements,[i,a]=j.useState(null),[s,c]=j.useState(null),l=o?.domReference||i,f=j.useRef(null),d=Su();Ne(()=>{l&&(f.current=l)},[l]);let p=p6({...e,elements:{...o,...s&&{reference:s}}}),m=j.useCallback(S=>{let x=ot(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(x),p.refs.setReference(x)},[p.refs]),h=j.useCallback(S=>{(ot(S)||S===null)&&(f.current=S,a(S)),(ot(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!ot(S))&&p.refs.setReference(S)},[p.refs]),v=j.useMemo(()=>({...p.refs,setReference:h,setPositionReference:m,domReference:f}),[p.refs,h,m]),b=j.useMemo(()=>({...p.elements,domReference:l}),[p.elements,l]),_=j.useMemo(()=>({...p,...n,refs:v,elements:b,nodeId:t}),[p,v,b,t,n]);return Ne(()=>{n.dataRef.current.floatingContext=_;let S=d?.nodesRef.current.find(x=>x.id===t);S&&(S.context=_)}),j.useMemo(()=>({...p,context:_,refs:v,elements:b}),[p,v,b,_])}function sT(){return x8()&&qk()}function l1e(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,events:o,dataRef:i,elements:a}=e,{enabled:s=!0,visibleOnly:c=!0}=t,u=j.useRef(!1),l=j.useRef(-1),f=j.useRef(!0);j.useEffect(()=>{if(!s)return;let p=wr(a.domReference);function m(){!r&&gt(a.domReference)&&a.domReference===To(sr(a.domReference))&&(u.current=!0)}function h(){f.current=!0}function v(){f.current=!1}return p.addEventListener("blur",m),sT()&&(p.addEventListener("keydown",h,!0),p.addEventListener("pointerdown",v,!0)),()=>{p.removeEventListener("blur",m),sT()&&(p.removeEventListener("keydown",h,!0),p.removeEventListener("pointerdown",v,!0))}},[a.domReference,r,s]),j.useEffect(()=>{if(!s)return;function p(m){let{reason:h}=m;(h==="reference-press"||h==="escape-key")&&(u.current=!0)}return o.on("openchange",p),()=>{o.off("openchange",p)}},[o,s]),j.useEffect(()=>()=>{ur(l)},[]);let d=j.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(p){if(u.current)return;let m=Eo(p.nativeEvent);if(c&&ot(m)){if(sT()&&!p.relatedTarget){if(!f.current&&!Q0(m))return}else if(!C8(m))return}n(!0,p.nativeEvent,"focus")},onBlur(p){u.current=!1;let m=p.relatedTarget,h=p.nativeEvent,v=ot(m)&&m.hasAttribute(xu("focus-guard"))&&m.getAttribute("data-type")==="outside";l.current=window.setTimeout(()=>{var b;let _=To(a.domReference?a.domReference.ownerDocument:document);!m&&_===a.domReference||Vt((b=i.current.floatingContext)==null?void 0:b.refs.floating.current,_)||Vt(a.domReference,_)||v||n(!1,h,"focus")})}}),[i,a.domReference,n,c]);return j.useMemo(()=>s?{reference:d}:{},[s,d])}function uT(e,t,r){let n=new Map,o=r==="item",i=e;if(o&&e){let{[w6]:a,[S6]:s,...c}=e;i=c}return{...r==="floating"&&{tabIndex:-1,[Exe]:""},...i,...t.map(a=>{let s=a?a[r]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(c=>{let[u,l]=c;if(!(o&&[w6,S6].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof l=="function"){var f;(f=n.get(u))==null||f.push(l),a[u]=function(){for(var d,p=arguments.length,m=new Array(p),h=0;h<p;h++)m[h]=arguments[h];return(d=n.get(u))==null?void 0:d.map(v=>v(...m)).find(v=>v!==void 0)}}}else a[u]=l}),a),{})}}function f1e(e){e===void 0&&(e=[]);let t=e.map(s=>s?.reference),r=e.map(s=>s?.floating),n=e.map(s=>s?.item),o=j.useCallback(s=>uT(s,e,"reference"),t),i=j.useCallback(s=>uT(s,e,"floating"),r),a=j.useCallback(s=>uT(s,e,"item"),n);return j.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a}),[o,i,a])}function py(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function ly(e,t){return py(t,e===Ip||e===os,e===is||e===as)}function cT(e,t,r){return py(t,e===os,r?e===is:e===as)||e==="Enter"||e===" "||e===""}function B6(e,t,r){return py(t,r?e===is:e===as,e===os)}function z6(e,t,r,n){let o=r?e===as:e===is,i=e===Ip;return t==="both"||t==="horizontal"&&n&&n>1?e===d1e:py(t,o,i)}function p1e(e,t){let{open:r,onOpenChange:n,elements:o,floatingId:i}=e,{listRef:a,activeIndex:s,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:l=null,allowEscape:f=!1,loop:d=!1,nested:p=!1,rtl:m=!1,virtual:h=!1,focusItemOnOpen:v="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:_=!0,disabledIndices:S=void 0,orientation:x="vertical",parentOrientation:C,cols:O=1,scrollItemIntoView:k=!0,virtualItemRef:P,itemSizes:E,dense:R=!1}=t,I=Op(o.floating),q=Gt(I),N=wu(),M=Su();Ne(()=>{e.dataRef.current.orientation=x},[e,x]);let D=st(()=>{c(L.current===-1?null:L.current)}),U=ey(o.domReference),B=j.useRef(v),L=j.useRef(l??-1),H=j.useRef(null),te=j.useRef(!0),Ce=j.useRef(D),ge=j.useRef(!!o.floating),Y=j.useRef(r),ze=j.useRef(!1),W=j.useRef(!1),ae=Gt(S),we=Gt(r),be=Gt(k),ne=Gt(l),[de,Pe]=j.useState(),[ie,ye]=j.useState(),ce=st(()=>{function G(Me){if(h){var Be;(Be=Me.id)!=null&&Be.endsWith("-fui-option")&&(Me.id=i+"-"+Math.random().toString(16).slice(2,10)),Pe(Me.id),M?.events.emit("virtualfocus",Me),P&&(P.current=Me)}else yu(Me,{sync:ze.current,preventScroll:!0})}let K=a.current[L.current],X=W.current;K&&G(K),(ze.current?Me=>Me():requestAnimationFrame)(()=>{let Me=a.current[L.current]||K;if(!Me)return;K||G(Me);let Be=be.current;Be&&Ae&&(X||!te.current)&&(Me.scrollIntoView==null||Me.scrollIntoView(typeof Be=="boolean"?{block:"nearest",inline:"nearest"}:Be))})});Ne(()=>{u&&(r&&o.floating?B.current&&l!=null&&(W.current=!0,L.current=l,D()):ge.current&&(L.current=-1,Ce.current()))},[u,r,o.floating,l,D]),Ne(()=>{if(u&&r&&o.floating)if(s==null){if(ze.current=!1,ne.current!=null)return;if(ge.current&&(L.current=-1,ce()),(!Y.current||!ge.current)&&B.current&&(H.current!=null||B.current===!0&&H.current==null)){let G=0,K=()=>{a.current[0]==null?(G<2&&(G?requestAnimationFrame:queueMicrotask)(K),G++):(L.current=H.current==null||cT(H.current,x,m)||p?Pp(a,ae.current):ty(a,ae.current),H.current=null,D())};K()}}else hu(a,s)||(L.current=s,ce(),W.current=!1)},[u,r,o.floating,s,ne,p,a,x,m,D,ce,ae]),Ne(()=>{var G;if(!u||o.floating||!M||h||!ge.current)return;let K=M.nodesRef.current,X=(G=K.find(Be=>Be.id===N))==null||(G=G.context)==null?void 0:G.elements.floating,Se=To(sr(o.floating)),Me=K.some(Be=>Be.context&&Vt(Be.context.elements.floating,Se));X&&!Me&&te.current&&X.focus({preventScroll:!0})},[u,o.floating,M,N,h]),Ne(()=>{if(!u||!M||!h||N)return;function G(K){ye(K.id),P&&(P.current=K)}return M.events.on("virtualfocus",G),()=>{M.events.off("virtualfocus",G)}},[u,M,h,N,P]),Ne(()=>{Ce.current=D,Y.current=r,ge.current=!!o.floating}),Ne(()=>{r||(H.current=null,B.current=v)},[r,v]);let ke=s!=null,Ae=j.useMemo(()=>{function G(X){if(!we.current)return;let Se=a.current.indexOf(X);Se!==-1&&L.current!==Se&&(L.current=Se,D())}return{onFocus(X){let{currentTarget:Se}=X;ze.current=!0,G(Se)},onClick:X=>{let{currentTarget:Se}=X;return Se.focus({preventScroll:!0})},onMouseMove(X){let{currentTarget:Se}=X;ze.current=!0,W.current=!1,b&&G(Se)},onPointerLeave(X){let{pointerType:Se}=X;if(!(!te.current||Se==="touch")&&(ze.current=!0,!!b&&(L.current=-1,D(),!h))){var Me;(Me=q.current)==null||Me.focus({preventScroll:!0})}}}},[we,q,b,a,D,h]),pe=j.useCallback(()=>{var G;return C??(M==null||(G=M.nodesRef.current.find(K=>K.id===N))==null||(G=G.context)==null||(G=G.dataRef)==null?void 0:G.current.orientation)},[N,M,C]),ee=st(G=>{if(te.current=!1,ze.current=!0,G.which===229||!we.current&&G.currentTarget===q.current)return;if(p&&z6(G.key,x,m,O)){ly(G.key,pe())||ar(G),n(!1,G.nativeEvent,"list-navigation"),gt(o.domReference)&&(h?M?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}let K=L.current,X=Pp(a,S),Se=ty(a,S);if(U||(G.key==="Home"&&(ar(G),L.current=X,D()),G.key==="End"&&(ar(G),L.current=Se,D())),O>1){let Me=E||Array.from({length:a.current.length},()=>({width:1,height:1})),Be=$k(Me,O,R),at=Be.findIndex(Ie=>Ie!=null&&!ts(a,Ie,S)),Ir=Be.reduce((Ie,tr,Pn)=>tr!=null&&!ts(a,tr,S)?Pn:Ie,-1),dr=Be[Wk({current:Be.map(Ie=>Ie!=null?a.current[Ie]:null)},{event:G,orientation:x,loop:d,rtl:m,cols:O,disabledIndices:Vk([...(typeof S!="function"?S:null)||a.current.map((Ie,tr)=>ts(a,tr,S)?tr:void 0),void 0],Be),minIndex:at,maxIndex:Ir,prevIndex:Uk(L.current>Se?X:L.current,Me,Be,O,G.key===os?"bl":G.key===(m?is:as)?"tr":"tl"),stopEvent:!0})];if(dr!=null&&(L.current=dr,D()),x==="both")return}if(ly(G.key,x)){if(ar(G),r&&!h&&To(G.currentTarget.ownerDocument)===G.currentTarget){L.current=cT(G.key,x,m)?X:Se,D();return}cT(G.key,x,m)?d?L.current=K>=Se?f&&K!==a.current.length?-1:X:ir(a,{startingIndex:K,disabledIndices:S}):L.current=Math.min(Se,ir(a,{startingIndex:K,disabledIndices:S})):d?L.current=K<=X?f&&K!==-1?a.current.length:Se:ir(a,{startingIndex:K,decrement:!0,disabledIndices:S}):L.current=Math.max(X,ir(a,{startingIndex:K,decrement:!0,disabledIndices:S})),hu(a,L.current)&&(L.current=-1),D()}}),_e=j.useMemo(()=>h&&r&&ke&&{"aria-activedescendant":ie||de},[h,r,ke,ie,de]),Re=j.useMemo(()=>({"aria-orientation":x==="both"?void 0:x,...U?{}:_e,onKeyDown:ee,onPointerMove(){te.current=!0}}),[_e,ee,x,U]),Te=j.useMemo(()=>{function G(X){v==="auto"&&zk(X.nativeEvent)&&(B.current=!0)}function K(X){B.current=v,v==="auto"&&Hk(X.nativeEvent)&&(B.current=!0)}return{..._e,onKeyDown(X){te.current=!1;let Se=X.key.startsWith("Arrow"),Me=["Home","End"].includes(X.key),Be=Se||Me,at=B6(X.key,x,m),Ir=z6(X.key,x,m,O),dr=B6(X.key,pe(),m),Ie=ly(X.key,x),tr=(p?dr:Ie)||X.key==="Enter"||X.key.trim()==="";if(h&&r){let Ht=M?.nodesRef.current.find(Ke=>Ke.parentId==null),$e=M&&Ht?k8(M.nodesRef.current,Ht.id):null;if(Be&&$e&&P){let Ke=new KeyboardEvent("keydown",{key:X.key,bubbles:!0});if(at||Ir){var Pn,Do;let An=((Pn=$e.context)==null?void 0:Pn.elements.domReference)===X.currentTarget,Ct=Ir&&!An?(Do=$e.context)==null?void 0:Do.elements.domReference:at?a.current.find(oo=>oo?.id===de):null;Ct&&(ar(X),Ct.dispatchEvent(Ke),ye(void 0))}if((Ie||Me)&&$e.context&&$e.context.open&&$e.parentId&&X.currentTarget!==$e.context.elements.domReference){var Lr;ar(X),(Lr=$e.context.elements.domReference)==null||Lr.dispatchEvent(Ke);return}}return ee(X)}if(!(!r&&!_&&Se)){if(tr){let Ht=ly(X.key,pe());H.current=p&&Ht?null:X.key}if(p){dr&&(ar(X),r?(L.current=Pp(a,ae.current),D()):n(!0,X.nativeEvent,"list-navigation"));return}Ie&&(l!=null&&(L.current=l),ar(X),!r&&_?n(!0,X.nativeEvent,"list-navigation"):ee(X),r&&D())}},onFocus(){r&&!h&&(L.current=-1,D())},onPointerDown:K,onPointerEnter:K,onMouseDown:G,onClick:G}},[de,_e,O,ee,ae,v,a,p,D,n,r,_,x,pe,m,l,M,h,P]);return j.useMemo(()=>u?{reference:Te,floating:Re,item:Ae}:{},[u,Te,Re,Ae])}function h1e(e,t){var r,n;t===void 0&&(t={});let{open:o,elements:i,floatingId:a}=e,{enabled:s=!0,role:c="dialog"}=t,u=Il(),l=((r=i.domReference)==null?void 0:r.id)||u,f=j.useMemo(()=>{var _;return((_=Op(i.floating))==null?void 0:_.id)||a},[i.floating,a]),d=(n=m1e.get(c))!=null?n:c,m=wu()!=null,h=j.useMemo(()=>d==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:o?f:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":d==="alertdialog"?"dialog":d,"aria-controls":o?f:void 0,...d==="listbox"&&{role:"combobox"},...d==="menu"&&{id:l},...d==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[d,f,m,o,l,c]),v=j.useMemo(()=>{let _={id:f,...d&&{role:d}};return d==="tooltip"||c==="label"?_:{..._,...d==="menu"&&{"aria-labelledby":l}}},[d,f,l,c]),b=j.useCallback(_=>{let{active:S,selected:x}=_,C={role:"option",...S&&{id:f+"-fui-option"}};switch(c){case"select":case"combobox":return{...C,"aria-selected":x}}return{}},[f,c]);return j.useMemo(()=>s?{reference:h,floating:v,item:b}:{},[s,h,v,b])}function Al(e,t){return typeof e=="function"?e(t):e}function g1e(e,t){let[r,n]=j.useState(e);return e&&!r&&n(!0),j.useEffect(()=>{if(!e&&r){let o=setTimeout(()=>n(!1),t);return()=>clearTimeout(o)}},[e,r,t]),r}function l3(e,t){t===void 0&&(t={});let{open:r,elements:{floating:n}}=e,{duration:o=250}=t,a=(typeof o=="number"?o:o.close)||0,[s,c]=j.useState("unmounted"),u=g1e(r,a);return!u&&s==="close"&&c("unmounted"),Ne(()=>{if(n){if(r){c("initial");let l=requestAnimationFrame(()=>{_u.flushSync(()=>{c("open")})});return()=>{cancelAnimationFrame(l)}}c("close")}},[r,n]),{isMounted:u,status:s}}function v1e(e,t){t===void 0&&(t={});let{initial:r={opacity:0},open:n,close:o,common:i,duration:a=250}=t,s=e.placement,c=s.split("-")[0],u=j.useMemo(()=>({side:c,placement:s}),[c,s]),l=typeof a=="number",f=(l?a:a.open)||0,d=(l?a:a.close)||0,[p,m]=j.useState(()=>({...Al(i,u),...Al(r,u)})),{isMounted:h,status:v}=l3(e,{duration:a}),b=Gt(r),_=Gt(n),S=Gt(o),x=Gt(i);return Ne(()=>{let C=Al(b.current,u),O=Al(S.current,u),k=Al(x.current,u),P=Al(_.current,u)||Object.keys(C).reduce((E,R)=>(E[R]="",E),{});if(v==="initial"&&m(E=>({transitionProperty:E.transitionProperty,...k,...C})),v==="open"&&m({transitionProperty:Object.keys(P).map(H6).join(","),transitionDuration:f+"ms",...k,...P}),v==="close"){let E=O||C;m({transitionProperty:Object.keys(E).map(H6).join(","),transitionDuration:d+"ms",...k,...E})}},[d,S,b,_,x,f,v,u]),{isMounted:h,styles:p}}function b1e(e,t){var r;let{open:n,dataRef:o}=e,{listRef:i,activeIndex:a,onMatch:s,onTypingChange:c,enabled:u=!0,findMatch:l=null,resetMs:f=750,ignoreKeys:d=[],selectedIndex:p=null}=t,m=j.useRef(-1),h=j.useRef(""),v=j.useRef((r=p??a)!=null?r:-1),b=j.useRef(null),_=st(s),S=st(c),x=Gt(l),C=Gt(d);Ne(()=>{n&&(ur(m),b.current=null,h.current="")},[n]),Ne(()=>{if(n&&h.current===""){var R;v.current=(R=p??a)!=null?R:-1}},[n,p,a]);let O=st(R=>{R?o.current.typing||(o.current.typing=R,S(R)):o.current.typing&&(o.current.typing=R,S(R))}),k=st(R=>{function I(U,B,L){let H=x.current?x.current(B,L):B.find(te=>te?.toLocaleLowerCase().indexOf(L.toLocaleLowerCase())===0);return H?U.indexOf(H):-1}let q=i.current;if(h.current.length>0&&h.current[0]!==" "&&(I(q,q,h.current)===-1?O(!1):R.key===" "&&ar(R)),q==null||C.current.includes(R.key)||R.key.length!==1||R.ctrlKey||R.metaKey||R.altKey)return;n&&R.key!==" "&&(ar(R),O(!0)),q.every(U=>{var B,L;return U?((B=U[0])==null?void 0:B.toLocaleLowerCase())!==((L=U[1])==null?void 0:L.toLocaleLowerCase()):!0})&&h.current===R.key&&(h.current="",v.current=b.current),h.current+=R.key,ur(m),m.current=window.setTimeout(()=>{h.current="",v.current=b.current,O(!1)},f);let M=v.current,D=I(q,[...q.slice((M||0)+1),...q.slice(0,(M||0)+1)],h.current);D!==-1?(_(D),b.current=D):R.key!==" "&&(h.current="",O(!1))}),P=j.useMemo(()=>({onKeyDown:k}),[k]),E=j.useMemo(()=>({onKeyDown:k,onKeyUp(R){R.key===" "&&O(!1)}}),[k,O]);return j.useMemo(()=>u?{reference:P,floating:E}:{},[u,P,E])}function W6(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function _1e(e,t){let{open:r,elements:n}=e,{enabled:o=!0,overflowRef:i,scrollRef:a,onChange:s}=t,c=st(s),u=j.useRef(!1),l=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{if(!o)return;function p(h){if(h.ctrlKey||!m||i.current==null)return;let v=h.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,S=m.scrollHeight-m.clientHeight,x=v<0?-1:1,C=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&v>0||!_&&v<0?(h.preventDefault(),_u.flushSync(()=>{c(O=>O+Math[C](v,S*x))})):/firefox/i.test(K0())&&(m.scrollTop+=v))}let m=a?.current||n.floating;if(r&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{l.current=m.scrollTop,i.current!=null&&(f.current={...i.current})}),()=>{l.current=null,f.current=null,m.removeEventListener("wheel",p)}},[o,r,n.floating,i,a,c]);let d=j.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let p=a?.current||n.floating;if(!(!i.current||!p||!u.current)){if(l.current!==null){let m=p.scrollTop-l.current;(i.current.bottom<-.5&&m<-1||i.current.top<-.5&&m>1)&&_u.flushSync(()=>c(h=>h+m))}requestAnimationFrame(()=>{l.current=p.scrollTop})}}}),[n.floating,c,i,a]);return j.useMemo(()=>o?{floating:d}:{},[o,d])}function f3(e,t,r){return r===void 0&&(r=!0),e.filter(o=>{var i;return o.parentId===t&&(!r||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...f3(e,o.id,r)])}function $6(e,t){let[r,n]=e,o=!1,i=t.length;for(let a=0,s=i-1;a<i;s=a++){let[c,u]=t[a]||[0,0],[l,f]=t[s]||[0,0];u>=n!=f>=n&&r<=(l-c)*(n-u)/(f-u)+c&&(o=!o)}return o}function x1e(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function w1e(e){e===void 0&&(e={});let{buffer:t=.5,blockPointerEvents:r=!1,requireIntent:n=!0}=e,o={current:-1},i=!1,a=null,s=null,c=typeof performance<"u"?performance.now():0;function u(f,d){let p=performance.now(),m=p-c;if(a===null||s===null||m===0)return a=f,s=d,c=p,null;let h=f-a,v=d-s,_=Math.sqrt(h*h+v*v)/m;return a=f,s=d,c=p,_}let l=f=>{let{x:d,y:p,placement:m,elements:h,onClose:v,nodeId:b,tree:_}=f;return function(x){function C(){ur(o),v()}if(ur(o),!h.domReference||!h.floating||m==null||d==null||p==null)return;let{clientX:O,clientY:k}=x,P=[O,k],E=Wxe(x),R=x.type==="mouseleave",I=iT(h.floating,E),q=iT(h.domReference,E),N=h.domReference.getBoundingClientRect(),M=h.floating.getBoundingClientRect(),D=m.split("-")[0],U=d>M.right-M.width/2,B=p>M.bottom-M.height/2,L=x1e(P,N),H=M.width>N.width,te=M.height>N.height,Ce=(H?N:M).left,ge=(H?N:M).right,Y=(te?N:M).top,ze=(te?N:M).bottom;if(I&&(i=!0,!R))return;if(q&&(i=!1),q&&!R){i=!0;return}if(R&&ot(x.relatedTarget)&&iT(h.floating,x.relatedTarget)||_&&f3(_.nodesRef.current,b).length)return;if(D==="top"&&p>=N.bottom-1||D==="bottom"&&p<=N.top+1||D==="left"&&d>=N.right-1||D==="right"&&d<=N.left+1)return C();let W=[];switch(D){case"top":W=[[Ce,N.top+1],[Ce,M.bottom-1],[ge,M.bottom-1],[ge,N.top+1]];break;case"bottom":W=[[Ce,M.top+1],[Ce,N.bottom-1],[ge,N.bottom-1],[ge,M.top+1]];break;case"left":W=[[M.right-1,ze],[M.right-1,Y],[N.left+1,Y],[N.left+1,ze]];break;case"right":W=[[N.right-1,ze],[N.right-1,Y],[M.left+1,Y],[M.left+1,ze]];break}function ae(we){let[be,ne]=we;switch(D){case"top":{let de=[H?be+t/2:U?be+t*4:be-t*4,ne+t+1],Pe=[H?be-t/2:U?be+t*4:be-t*4,ne+t+1],ie=[[M.left,U||H?M.bottom-t:M.top],[M.right,U?H?M.bottom-t:M.top:M.bottom-t]];return[de,Pe,...ie]}case"bottom":{let de=[H?be+t/2:U?be+t*4:be-t*4,ne-t],Pe=[H?be-t/2:U?be+t*4:be-t*4,ne-t],ie=[[M.left,U||H?M.top+t:M.bottom],[M.right,U?H?M.top+t:M.bottom:M.top+t]];return[de,Pe,...ie]}case"left":{let de=[be+t+1,te?ne+t/2:B?ne+t*4:ne-t*4],Pe=[be+t+1,te?ne-t/2:B?ne+t*4:ne-t*4];return[...[[B||te?M.right-t:M.left,M.top],[B?te?M.right-t:M.left:M.right-t,M.bottom]],de,Pe]}case"right":{let de=[be-t,te?ne+t/2:B?ne+t*4:ne-t*4],Pe=[be-t,te?ne-t/2:B?ne+t*4:ne-t*4],ie=[[B||te?M.left+t:M.right,M.top],[B?te?M.left+t:M.right:M.left+t,M.bottom]];return[de,Pe,...ie]}}}if(!$6([O,k],W)){if(i&&!L)return C();if(!R&&n){let we=u(x.clientX,x.clientY);if(we!==null&&we<.1)return C()}$6([O,k],ae([d,p]))?!i&&n&&(o.current=window.setTimeout(C,40)):C()}}};return l.__options={blockPointerEvents:r},l}var j,it,_u,V6,Exe,w6,S6,is,as,Ip,os,Z6,K6,J6,nT,Rxe,Mxe,Oxe,C6,Pxe,k6,jxe,Il,Ixe,e3,t3,wu,Su,T6,lT,r3,n3,o3,E6,jl,sy,uy,aT,Uxe,i3,Vxe,dy,fy,a3,O6,u3,Xxe,ns,Jxe,cy,I6,L6,t1e,a1e,s1e,q6,d1e,m1e,H6,y1e,p3=T(()=>{j=g($());M8();it=g(F());Tp();Lk();_u=g(Cc());rT();rT();kl();V6=j.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});Exe="data-floating-ui-focusable",w6="active",S6="selected",is="ArrowLeft",as="ArrowRight",Ip="ArrowUp",os="ArrowDown";Z6=j.createContext({activeIndex:0,onNavigate:()=>{}}),K6=[is,as],J6=[Ip,os],nT=[...K6,...J6],Rxe=j.forwardRef(function(t,r){let{render:n,orientation:o="both",loop:i=!0,rtl:a=!1,cols:s=1,disabledIndices:c,activeIndex:u,onNavigate:l,itemSizes:f,dense:d=!1,...p}=t,[m,h]=j.useState(0),v=u??m,b=st(l??h),_=j.useRef([]),S=n&&typeof n!="function"?n.props:{},x=j.useMemo(()=>({activeIndex:v,onNavigate:b}),[v,b]),C=s>1;function O(P){if(!nT.includes(P.key))return;let E=v,R=Pp(_,c),I=ty(_,c),q=a?is:as,N=a?as:is;if(C){let L=f||Array.from({length:_.current.length},()=>({width:1,height:1})),H=$k(L,s,d),te=H.findIndex(Y=>Y!=null&&!ts(_,Y,c)),Ce=H.reduce((Y,ze,W)=>ze!=null&&!ts(_,ze,c)?W:Y,-1),ge=H[Wk({current:H.map(Y=>Y?_.current[Y]:null)},{event:P,orientation:o,loop:i,rtl:a,cols:s,disabledIndices:Vk([...(typeof c!="function"?c:null)||_.current.map((Y,ze)=>ts(_,ze,c)?ze:void 0),void 0],H),minIndex:te,maxIndex:Ce,prevIndex:Uk(v>I?R:v,L,H,s,P.key===os?"bl":P.key===q?"tr":"tl")})];ge!=null&&(E=ge)}let M={horizontal:[q],vertical:[os],both:[q,os]}[o],D={horizontal:[N],vertical:[Ip],both:[N,Ip]}[o],U=C?nT:{horizontal:K6,vertical:J6,both:nT}[o];if(E===v&&[...M,...D].includes(P.key)&&(i&&E===I&&M.includes(P.key)?E=R:i&&E===R&&D.includes(P.key)?E=I:E=ir(_,{startingIndex:E,decrement:D.includes(P.key),disabledIndices:c})),E!==v&&!hu(_,E)){var B;P.stopPropagation(),U.includes(P.key)&&P.preventDefault(),b(E),(B=_.current[E])==null||B.focus()}}let k={...p,...S,ref:r,"aria-orientation":o==="both"?void 0:o,onKeyDown(P){p.onKeyDown==null||p.onKeyDown(P),S.onKeyDown==null||S.onKeyDown(P),O(P)}};return(0,it.jsx)(Z6.Provider,{value:x,children:(0,it.jsx)(G6,{elementsRef:_,children:X6(n,k)})})}),Mxe=j.forwardRef(function(t,r){let{render:n,...o}=t,i=n&&typeof n!="function"?n.props:{},{activeIndex:a,onNavigate:s}=j.useContext(Z6),{ref:c,index:u}=Y6(),l=U6([c,r,i.ref]),f=a===u,d={...o,...i,ref:l,tabIndex:f?0:-1,"data-active":f?"":void 0,onFocus(p){o.onFocus==null||o.onFocus(p),i.onFocus==null||i.onFocus(p),s(u)}};return X6(n,d)}),Oxe={...j},C6=!1,Pxe=0,k6=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Pxe++;jxe=Oxe.useId,Il=jxe||Axe,Ixe=j.forwardRef(function(t,r){let{context:{placement:n,elements:{floating:o},middlewareData:{arrow:i,shift:a}},width:s=14,height:c=7,tipRadius:u=0,strokeWidth:l=0,staticOffset:f,stroke:d,d:p,style:{transform:m,...h}={},...v}=t,b=Il(),[_,S]=j.useState(!1);if(Ne(()=>{if(!o)return;Ur(o).direction==="rtl"&&S(!0)},[o]),!o)return null;let[x,C]=n.split("-"),O=x==="top"||x==="bottom",k=f;(O&&a!=null&&a.x||!O&&a!=null&&a.y)&&(k=null);let P=l*2,E=P/2,R=s/2*(u/-8+1),I=c/2*u/4,q=!!p,N=k&&C==="end"?"bottom":"top",M=k&&C==="end"?"right":"left";k&&_&&(M=C==="end"?"left":"right");let D=i?.x!=null?k||i.x:"",U=i?.y!=null?k||i.y:"",B=p||"M0,0"+(" H"+s)+(" L"+(s-R)+","+(c-I))+(" Q"+s/2+","+c+" "+R+","+(c-I))+" Z",L={top:q?"rotate(180deg)":"",left:q?"rotate(90deg)":"rotate(-90deg)",bottom:q?"":"rotate(180deg)",right:q?"rotate(-90deg)":"rotate(90deg)"}[x];return(0,it.jsxs)("svg",{...v,"aria-hidden":!0,ref:r,width:q?s:s+P,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[M]:D,[N]:U,[x]:O||q?"100%":"calc(100% - "+P/2+"px)",transform:[L,m].filter(H=>!!H).join(" "),...h},children:[P>0&&(0,it.jsx)("path",{clipPath:"url(#"+b+")",fill:"none",stroke:d,strokeWidth:P+(p?0:1),d:B}),(0,it.jsx)("path",{stroke:P&&!p?v.fill:"none",d:B}),(0,it.jsx)("clipPath",{id:b,children:(0,it.jsx)("rect",{x:-E,y:E*(q?-1:1),width:s+P,height:s})})]})});e3=j.createContext(null),t3=j.createContext(null),wu=()=>{var e;return((e=j.useContext(e3))==null?void 0:e.id)||null},Su=()=>j.useContext(t3);T6=xu("safe-polygon");lT=()=>{},r3=j.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:lT,setState:lT,isInstantPhase:!1}),n3=()=>j.useContext(r3);o3=j.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});E6=0;jl={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};sy=new WeakSet,uy={},aT=0,Uxe=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,i3=e=>e&&(e.host||i3(e.parentNode)),Vxe=(e,t)=>t.map(r=>{if(e.contains(r))return r;let n=i3(r);return e.contains(n)?n:null}).filter(r=>r!=null);dy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},fy=j.forwardRef(function(t,r){let[n,o]=j.useState();Ne(()=>{qk()&&o("button")},[]);let i={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[xu("focus-guard")]:"",style:dy};return(0,it.jsx)("span",{...t,...i})}),a3=j.createContext(null),O6=xu("portal");u3=()=>j.useContext(a3);Xxe=20,ns=[];Jxe=j.forwardRef(function(t,r){return(0,it.jsx)("button",{...t,type:"button",ref:r,tabIndex:-1,style:dy})});cy=0,I6="--floating-ui-scrollbar-width";L6=()=>{},t1e=j.forwardRef(function(t,r){let{lockScroll:n=!1,...o}=t;return Ne(()=>{if(n)return cy++,cy===1&&(L6=e1e()),()=>{cy--,cy===0&&L6()}},[n]),(0,it.jsx)("div",{ref:r,...o,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}})});a1e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},s1e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},q6=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};d1e="Escape";m1e=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);H6=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,r)=>(r?"-":"")+t.toLowerCase());y1e=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:o,offset:i=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:c=0,scrollRef:u,...l}=fn(e,t),{rects:f,elements:{floating:d}}=t,p=r.current[a],m=u?.current||d,h=d.clientTop||m.clientTop,v=d.clientTop!==0,b=m.clientTop!==0,_=d===m;if(!p)return{};let S={...t,...await ay(-p.offsetTop-d.clientTop-f.reference.height/2-p.offsetHeight/2-i).fn(t)},x=await bu(W6(S,m.scrollHeight+h+d.clientTop),l),C=await bu(S,{...l,elementContext:"reference"}),O=kt(0,x.top),k=S.y+O,R=(m.scrollHeight>m.clientHeight?I=>I:mu)(kt(0,m.scrollHeight+(v&&_||b?h*2:0)-O-kt(0,x.bottom)));if(m.style.maxHeight=R+"px",m.scrollTop=O,o){let I=m.offsetHeight<p.offsetHeight*Vr(s,r.current.length)-1||C.top>=-c||C.bottom>=-c;_u.flushSync(()=>o(I))}return n&&(n.current=await bu(W6({...S,y:k},m.offsetHeight+h+d.clientTop),l)),{y:k}}})});var mT=y(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0});pT.default=T1e;var m3=F(),my=(p3(),nx(d3)),dT=Q(),S1e=me();function C1e(e){return Math.round(e*1e5)/1e5}var k1e=(0,S1e.makeStyles)()(e=>({tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:(0,dT.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.fontSize,lineHeight:`${C1e(14/10)}em`,maxWidth:300,wordWrap:"break-word"}}));function T1e({clientPoint:e,children:t,placement:r="right"}){var n,o;let a=(n=(0,dT.useTheme)().components)===null||n===void 0?void 0:n.MuiPopper,{classes:s}=k1e(),{refs:c,floatingStyles:u,context:l}=(0,my.useFloating)({placement:r,strategy:"fixed",middleware:[(0,my.offset)(5)]}),f=(0,my.useClientPoint)(l,e),{getFloatingProps:d}=(0,my.useInteractions)([f]);return(0,m3.jsx)(dT.Portal,{container:(o=a?.defaultProps)===null||o===void 0?void 0:o.container,children:(0,m3.jsx)("div",{className:s.tooltip,ref:c.setFloating,style:{...u,zIndex:1e5,visibility:u.transform==="translate(0px, 0px)"?"hidden":void 0,pointerEvents:"none"},...d(),children:t})})}});var y3={};rt(y3,{default:()=>hT});var Lp,hy,h3,g3,v3,b3,E1e,R1e,hT,gT=T(()=>{Lp=g(F()),hy=g($()),h3=g(xe()),g3=g(He()),v3=g(mT()),b3=g(re()),E1e=(0,hy.forwardRef)(function({message:t},r){return(0,Lp.jsx)("div",{ref:r,children:(0,hy.isValidElement)(t)?t:t?(0,Lp.jsx)(g3.SanitizedHTML,{html:String(t)}):null})}),R1e=(0,b3.observer)(function({model:e,clientMouseCoord:t}){let{featureUnderMouse:r,mouseoverExtraInformation:n}=e,o=t[0]+15,i=t[1],a=r?(0,h3.getConf)(e,"mouseover",{feature:r,mouseoverExtraInformation:n}):void 0;return r&&a?(0,Lp.jsx)(v3.default,{clientPoint:{x:o,y:i},children:(0,Lp.jsx)(E1e,{message:a})}):null}),hT=R1e});var x3={};rt(x3,{renderBaseLinearDisplaySvg:()=>M1e});async function M1e(e,t){let{height:r,id:n}=e,{overrideHeight:o}=t,i=(0,Ll.getContainingView)(e),{offsetPx:a,roundedDynamicBlocks:s,width:c}=i,u=await Promise.all(s.map(async l=>{let f=Sp.create({key:l.key,region:l}),d=e.regionCannotBeRenderedText(l)||e.regionCannotBeRendered(l);if(d)return[l,{reactElement:(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("rect",{x:0,y:0,width:c,height:20,fill:"#aaa"}),(0,Or.jsx)("text",{x:0,y:15,children:d})]})}];let{rpcManager:p,renderArgs:m,renderProps:h,rendererType:v}=L0(f,e);return[l,await v.renderInClient(p,{...m,...h,viewParams:(0,Ll.getViewParams)(e,!0),exportSVG:t,theme:t.theme||h.theme})]}));return(0,Or.jsx)(Or.Fragment,{children:u.map(([l,f],d)=>{let{offsetPx:p,widthPx:m}=l,h=p-a,v=TB(n,d);return(0,Or.jsxs)(_3.Fragment,{children:[(0,Or.jsx)("defs",{children:(0,Or.jsx)("clipPath",{id:v,children:(0,Or.jsx)("rect",{x:0,y:0,width:m,height:o||r})})}),(0,Or.jsx)("g",{transform:`translate(${h} 0)`,children:(0,Or.jsx)("g",{clipPath:`url(#${v})`,children:(0,Or.jsx)(Ll.ReactRendering,{rendering:f})})})]},`frag-${d}`)})})}var Or,_3,Ll,w3=T(()=>{Or=g(F()),_3=g($()),Ll=g(Z());Rk();_k()});function P1e(){return ss.types.compose("BaseLinearDisplay",C3.BaseDisplay,_p(),bp(),ss.types.model({blockState:ss.types.map(Sp),configuration:(0,gy.ConfigurationReference)(Ja)})).volatile(()=>({mouseoverExtraInformation:void 0,featureIdUnderMouse:void 0,contextMenuFeature:void 0})).views(e=>({get DisplayMessageComponent(){},get blockType(){return"staticBlocks"},get blockDefinitions(){let t=(0,Yt.getContainingView)(e);if(!t.initialized)throw new Error("view not initialized yet");return t[this.blockType]}})).views(e=>({get renderDelay(){return 50},get TooltipComponent(){return O1e},get selectedFeatureId(){if((0,ss.isAlive)(e)){let{selection:t}=(0,Yt.getSession)(e);if((0,Yt.isFeature)(t))return t.id()}},copyInfoToClipboard(t){let{uniqueId:r,...n}=t.toJSON(),o=(0,Yt.getSession)(e);(0,k3.default)(JSON.stringify(n,null,4)),o.notify("Copied to clipboard","success")}})).views(e=>({get features(){let t=[];for(let r of e.blockState.values())r.features&&t.push(r.features);return new vT.default(t)},get featureUnderMouse(){let t=e.featureIdUnderMouse;return t?this.features.get(t):void 0},get layoutFeatures(){let t=[];for(let r of e.blockState.values())r.layout&&t.push(r.layout.rectangles);return new vT.default(t)},getFeatureOverlapping(t,r,n){var o,i;return(i=(o=e.blockState.get(t))===null||o===void 0?void 0:o.layout)===null||i===void 0?void 0:i.getByCoord(r,n)},getFeatureByID(t,r){var n,o;return(o=(n=e.blockState.get(t))===null||n===void 0?void 0:n.layout)===null||o===void 0?void 0:o.getByID(r)},searchFeatureByID(t){var r;let n;for(let o of e.blockState.values()){let i=(r=o.layout)===null||r===void 0?void 0:r.getByID(t);i&&(n=i)}return n}})).actions(e=>({addBlock(t,r){e.blockState.set(t,Sp.create({key:t,region:r.toRegion()}))},deleteBlock(t){e.blockState.delete(t)},selectFeature(t){let r=(0,Yt.getSession)(e);if((0,Yt.isSessionModelWithWidgets)(r)){let{rpcManager:n}=r,o=(0,vy.getRpcSessionId)(e),i=(0,Yt.getContainingTrack)(e),a=(0,Yt.getContainingView)(e),s=(0,gy.getConf)(i,"adapter");(async()=>{try{let c=await n.call(o,"CoreGetMetadata",{adapterConfig:s});r.showWidget(r.addWidget("BaseFeatureWidget","baseFeature",{featureData:t.toJSON(),view:a,track:i,descriptions:c}))}catch(c){console.error(c),(0,Yt.getSession)(c).notifyError(`${c}`,c)}})()}(0,Yt.isSelectionContainer)(r)&&r.setSelection(t)},navToFeature(t){(0,Yt.getContainingView)(e).navTo({refName:t.get("refName"),start:t.get("start"),end:t.get("end")})},clearFeatureSelection(){(0,Yt.getSession)(e).clearSelection()},setFeatureIdUnderMouse(t){e.featureIdUnderMouse=t},setContextMenuFeature(t){e.contextMenuFeature=t},setMouseoverExtraInformation(t){e.mouseoverExtraInformation=t}})).actions(e=>{let{reload:t}=e;return{async reload(){e.setError(),e.setCurrStatsBpPerPx(0),e.clearFeatureDensityStats();for(let r of e.blockState.values())r.doReload();t()}}}).views(e=>({trackMenuItems(){return[]},contextMenuItems(){let t=e.contextMenuFeature;return t?[{label:"Open feature details",icon:_B,onClick:()=>{e.selectFeature(t)}},{label:"Zoom to feature",icon:gB,onClick:()=>{e.navToFeature(t)}},{label:"Copy info to clipboard",icon:M0,onClick:()=>{e.copyInfoToClipboard(t)}}]:[]},renderProps(){return{...(0,vy.getParentRenderProps)(e),notReady:!e.featureDensityStatsReady,rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick(t,r){let n=r||e.featureIdUnderMouse;if(!n)e.clearFeatureSelection();else{let o=e.features.get(n);o&&e.selectFeature(o)}},onClick(){e.clearFeatureSelection()},onFeatureContextMenu(t,r){let n=r||e.featureIdUnderMouse;n?e.setContextMenuFeature(e.features.get(n)):e.clearFeatureSelection()},onMouseMove(t,r,n){e.setFeatureIdUnderMouse(r),e.setMouseoverExtraInformation(n)},onMouseLeave(t){e.setFeatureIdUnderMouse(void 0),e.setMouseoverExtraInformation(void 0)},onContextMenu(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}}}})).actions(e=>({async renderSvg(t){let{renderBaseLinearDisplaySvg:r}=await Promise.resolve().then(()=>(w3(),x3));return r(e,t)},afterAttach(){(0,ss.addDisposer)(e,(0,T3.autorun)(()=>{let t={};if((0,Yt.getContainingView)(e).initialized){for(let n of e.blockDefinitions.contentBlocks)t[n.key]=!0,e.blockState.has(n.key)||e.addBlock(n.key,n);for(let n of e.blockState.keys())t[n]||e.deleteBlock(n)}}))}})).preProcessSnapshot(e=>{if(!e)return e;let{height:t,...r}=e;return{heightPreConfig:t,...r}}).postProcessSnapshot(e=>{let t=e,{blockState:r,...n}=t;return n})}var S3,gy,C3,Yt,vT,vy,k3,T3,ss,O1e,Nl,E3=T(()=>{S3=g($()),gy=g(xe()),C3=g(pu()),Yt=g(Z()),vT=g(mB()),vy=g(yn());vB();vk();xB();k3=g(Vf()),T3=g(Gs()),ss=g(Oe());Ck();kk();mk();Rk();O1e=(0,S3.lazy)(()=>Promise.resolve().then(()=>(gT(),y3)));Nl=P1e()});function Fl({width:e}){let{classes:t}=bT();return(0,by.jsx)("div",{className:t.elidedBlock,style:{width:e}})}function ql({boundary:e,width:t,style:r={}}){let{classes:n}=bT();return(0,by.jsx)("div",{style:{...r,width:t},className:e?n.boundaryPaddingBlock:n.interRegionPaddingBlock})}var by,R3,M3,bT,Dl,Np=T(()=>{by=g(F()),R3=g(re()),M3=g(me()),bT=(0,M3.makeStyles)()(e=>({contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.disabled},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}})),Dl=(0,R3.observer)(function({block:e,children:t}){let{classes:r}=bT(),{widthPx:n}=e;return(0,by.jsx)("div",{style:{width:n},className:r.contentBlock,children:t})})});function yT({top:e}){let{classes:t}=A1e();return(0,O3.jsx)("div",{className:t.heightOverflowed,style:{top:e,pointerEvents:"none",height:16},children:"Max height reached"})}var O3,P3,A1e,A3=T(()=>{O3=g(F()),P3=g(me()),A1e=(0,P3.makeStyles)()({heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:999,boxSizing:"border-box"}})});var Cu,j3,j1e,I3,L3=T(()=>{Cu=g(F()),j3=g(re());Np();A3();j1e=(0,j3.observer)(function({model:e}){let{blockDefinitions:t,blockState:r}=e;return t.map(n=>{let o=`${e.id}-${n.key}`;if(n.type==="ContentBlock"){let i=r.get(n.key);return(0,Cu.jsxs)(Dl,{block:n,children:[i?.ReactComponent?(0,Cu.jsx)(i.ReactComponent,{model:i}):null,i?.maxHeightReached?(0,Cu.jsx)(yT,{top:i.layout.getTotalHeight()-16}):null]},o)}else{if(n.type==="ElidedBlock")return(0,Cu.jsx)(Fl,{width:n.widthPx},o);if(n.type==="InterRegionPaddingBlock")return(0,Cu.jsx)(ql,{width:n.widthPx,style:{background:"none"},boundary:n.variant==="boundary"},o)}throw new Error(`invalid block type ${JSON.stringify(n)}`)})}),I3=j1e});var _T,N3,D3,F3,I1e,L1e,q3,B3=T(()=>{_T=g(F()),N3=g(Z()),D3=g(re()),F3=g(me());L3();I1e=(0,F3.makeStyles)()({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"}}),L1e=(0,D3.observer)(function({model:e}){let{classes:t}=I1e(),{blockDefinitions:r}=e,n=(0,N3.getContainingView)(e);return(0,_T.jsx)("div",{className:t.linearBlocks,style:{left:r.offsetPx-n.offsetPx},children:(0,_T.jsx)(I3,{model:e})})}),q3=L1e});var z3,H3,W3,N1e,$3,U3=T(()=>{z3=g(F()),H3=g(He()),W3=g(re()),N1e=(0,W3.observer)(function({onClose:e,contextCoord:t,model:r}){let n=r.contextMenuItems();return(0,z3.jsx)(H3.Menu,{open:n.length>0,onMenuItemClick:(o,i)=>{i(),e()},onClose:()=>{e(),r.setContextMenuFeature(void 0)},slotProps:{transition:{onExit:()=>{e(),r.setContextMenuFeature(void 0)}}},anchorReference:"anchorPosition",anchorPosition:{top:t[1],left:t[0]},menuItems:n})}),$3=N1e});var us,Hi,V3,G3,Y3,D1e,F1e,ku,X3=T(()=>{us=g(F()),Hi=g($()),V3=g(xe()),G3=g(re()),Y3=g(me());B3();U3();gT();gp();D1e=(0,Y3.makeStyles)()({display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"}}),F1e=(0,G3.observer)(function(e){let{classes:t}=D1e(),r=(0,Hi.useRef)(null),[n,o]=(0,Hi.useState)(),[i,a]=(0,Hi.useState)([0,0]),[s,c]=(0,Hi.useState)([0,0]),[u,l]=(0,Hi.useState)(),{model:f,children:d}=e,{TooltipComponent:p,DisplayMessageComponent:m,height:h}=f;return(0,us.jsxs)("div",{ref:r,"data-testid":`display-${(0,V3.getConf)(f,"displayId")}`,className:t.display,onContextMenu:v=>{v.preventDefault(),u?l(void 0):r.current&&l([v.clientX,v.clientY])},onMouseMove:v=>{if(!r.current)return;let b=r.current.getBoundingClientRect(),{left:_,top:S}=b;a([v.clientX-_,v.clientY-S]),c([v.clientX,v.clientY]),o(b)},children:[m?(0,us.jsx)(m,{model:f}):(0,us.jsx)(q3,{...e}),d,(0,us.jsx)(Hi.Suspense,{fallback:null,children:(0,us.jsx)(p,{model:f,height:h,offsetMouseCoord:i,clientMouseCoord:s,clientRect:n,mouseCoord:i})}),u?(0,us.jsx)($3,{contextCoord:u,model:f,onClose:()=>{l(void 0)}}):null]})}),ku=F1e});var Wi=T(()=>{mk();E3();X3();kk();Ck();wk()});var q1e,B1e,Z3=T(()=>{q1e=g(xe()),B1e=g(jn())});var K3,J3=T(()=>{K3=g(jn());Z3()});var z1e,H1e,Q3=T(()=>{z1e=g(xe()),H1e=g(jn())});var e4,t4=T(()=>{e4=g(jn());Q3()});var Fp=y(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.RefSequenceResult=void 0;var yy=class{constructor(t){this.label=t.label,this.locString=t.locString,this.renderingComponent=t.renderingComponent,this.displayString=t.displayString,this.matchedAttribute=t.matchedAttribute,this.matchedObject=t.matchedObject,this.textSearchAdapter=t.textSearchAdapter,this.relevance=t.relevance,this.trackId=t.trackId,this.score=t.score||1,this.results=t.results||[]}getLabel(){return this.label}getDisplayString(){return this.displayString||this.label}getRenderingComponent(){return this.renderingComponent}getTrackId(){return this.trackId}getScore(){return this.score}updateScore(t){return this.score=t,this.score}getId(){return`${this.getLabel()}-${this.getLocation()}-${this.getTrackId()}`}hasLocation(){return!!this.locString}getLocation(){return this.locString}getComboResults(){return this.results}};Dp.default=yy;var xT=class extends yy{constructor(t){var r;super(t),this.refName=(r=t.refName)!==null&&r!==void 0?r:""}getLocation(){return this.refName}};Dp.RefSequenceResult=xT});async function Tu({option:e,model:t,assemblyName:r}){let n=e.getLocation(),o=e.getTrackId();n&&(await t.navToLocString(n,r,.2),o&&t.showTrack(o))}async function Bl({input:e,model:t,assembly:r}){let n=r.allRefNamesWithLowerCase||[],o=r.name;if(e.split(" ").every(i=>W1e(i,n)))await t.navToLocString(e,r.name);else{let i=t.searchScope(o),{textSearchManager:a}=(0,_y.getSession)(t),s=await $1e({queryString:e,searchType:"exact",searchScope:i,rankSearchResults:t.rankSearchResults,textSearchManager:a,assembly:r});s.length>1?t.setSearchResults(s,e.toLowerCase(),o):s.length===1?await Tu({option:s[0],model:t,assemblyName:o}):await t.navToLocString(e,o)}}function W1e(e,t){let[r,n]=U1e(e,":");return t.includes(e)||t.includes(r)&&!Number.isNaN(Number.parseInt(n,10))}async function $1e({queryString:e,searchType:t,searchScope:r,rankSearchResults:n,textSearchManager:o,assembly:i}){var a;o||console.warn("No text search manager");let s=await o?.search({queryString:e,searchType:t},r,n),c=(a=i?.allRefNames)===null||a===void 0?void 0:a.filter(u=>u.toLowerCase().startsWith(e.toLowerCase())).slice(0,10).map(u=>new r4.default({label:u}));return(0,_y.dedupe)([...c||[],...s||[]],u=>u.getId())}function U1e(e,t){let r=e.lastIndexOf(t);if(r===-1)return[e,""];let n=e.slice(0,r),o=e.slice(r+1);return[n,o]}var r4,_y,zl=T(()=>{r4=g(Fp()),_y=g(Z())});var n4,o4=T(()=>{n4=g(Z());zl()});var V1e,wT=T(()=>{V1e=g(xe());Wi()});var i4,G1e,Y1e,X1e,ST=T(()=>{i4=g(xe()),G1e=g(Z()),Y1e=g(yn()),X1e=g(Oe());Wi()});var Z1e,CT=T(()=>{Z1e=g(jn());wT();ST();Wi();wT();ST()});var K1e,kT=T(()=>{K1e=g(xe());Wi()});var d4={};rt(d4,{default:()=>ewe});var mi,u4,c4,Ro,l4,f4,J1e,Q1e,ewe,p4=T(()=>{mi=g(F()),u4=g($()),c4=g(He()),Ro=g(Q()),l4=g(re()),f4=g(me()),J1e=(0,f4.makeStyles)()({root:{width:500}}),Q1e=(0,l4.observer)(function({model:e,handleClose:t}){let{classes:r}=J1e(),{maxHeight:n=""}=e,[o,i]=(0,u4.useState)(`${n}`),a=o!==""&&!Number.isNaN(+o);return(0,mi.jsxs)(c4.Dialog,{open:!0,onClose:t,title:"Set max height",children:[(0,mi.jsxs)(Ro.DialogContent,{className:r.root,children:[(0,mi.jsx)(Ro.Typography,{children:'Set max height for the track. For example, you can increase this if the layout says "Max height reached"'}),(0,mi.jsx)(Ro.TextField,{value:o,onChange:s=>{i(s.target.value)},placeholder:"Enter max score"}),a?null:(0,mi.jsx)("div",{style:{color:"red"},children:"Invalid number"})]}),(0,mi.jsxs)(Ro.DialogActions,{children:[(0,mi.jsx)(Ro.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!a,onClick:()=>{e.setMaxHeight(+o),t()},children:"Submit"}),(0,mi.jsx)(Ro.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),ewe=Q1e});var b4={};rt(b4,{default:()=>owe});function rwe(e){(0,h4.stringToJexlExpression)(e)}var Xt,qp,m4,h4,$i,g4,v4,twe,nwe,owe,y4=T(()=>{Xt=g(F()),qp=g($()),m4=g(He()),h4=g(Uf()),$i=g(Q()),g4=g(re()),v4=g(me()),twe=(0,v4.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},error:{color:"red",fontSize:"0.8em"}});nwe=(0,g4.observer)(function({model:e,handleClose:t}){let{classes:r}=twe(),{activeFilters:n}=e,[o,i]=(0,qp.useState)(n.join(`
`)),[a,s]=(0,qp.useState)();return(0,qp.useEffect)(()=>{try{o.split(`
`).map(c=>c.trim()).filter(c=>!!c).map(c=>{rwe(c.trim())}),s(void 0)}catch(c){console.error(c),s(c)}},[o]),(0,Xt.jsxs)(m4.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Add track filters",children:[(0,Xt.jsxs)($i.DialogContent,{children:[(0,Xt.jsxs)("div",{children:["Add filters, in jexl format, one per line, starting with the string jexl:. Examples:"," ",(0,Xt.jsxs)("ul",{children:[(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'name')=='BRCA1'"})," - show only feature where the name attribute is BRCA1"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'type')=='gene'"})," - show only gene type features in a GFF that has many other feature types"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'score') > 400"})," - show only features that have a score greater than 400"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'end') - get(feature,'start') < 1000000"})," ","- show only features with length less than 1Mbp"]})]})]}),a?(0,Xt.jsx)("p",{className:r.error,children:`${a}`}):null,(0,Xt.jsx)($i.TextField,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,className:r.dialogContent,fullWidth:!0,value:o,onChange:c=>{i(c.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})]}),(0,Xt.jsxs)($i.DialogActions,{children:[(0,Xt.jsx)($i.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!!a,onClick:()=>{e.setJexlFilters(o.split(`
`)),t()},children:"Submit"}),(0,Xt.jsx)($i.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),owe=nwe});var TT,_4,iwe,awe,ET,m6e,h6e,RT=T(()=>{TT=g($()),_4=g(xe()),iwe=g(Mm()),awe=g(Z()),ET=g(Oe());Wi();m6e=(0,TT.lazy)(()=>Promise.resolve().then(()=>(p4(),d4))),h6e=(0,TT.lazy)(()=>Promise.resolve().then(()=>(y4(),b4)))});var swe,MT=T(()=>{swe=g(jn());Wi();kT();RT();RT();kT()});var C4=y((S6e,S4)=>{S4.exports=JBrowseExports["@mui/material/SvgIcon"]});var wy=y(ls=>{"use strict";var uwe=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});ls.Indexing=cwe;ls.TrackSelector=lwe;ls.DNA=fwe;ls.Cable=dwe;var cs=F(),xy=uwe(C4());function cwe(e){return(0,cs.jsx)(xy.default,{...e,children:(0,cs.jsx)("path",{d:"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z"})})}function lwe(e){return(0,cs.jsx)(xy.default,{...e,children:(0,cs.jsx)("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"})})}function fwe(e){return(0,cs.jsx)(xy.default,{...e,children:(0,cs.jsx)("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"})})}function dwe(e){return(0,cs.jsx)(xy.default,{...e,children:(0,cs.jsx)("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"})})}});var k4=y(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.moveTo=mwe;Hl.pxToBp=hwe;Hl.bpToPx=gwe;Hl.bpToPxMap=vwe;function pwe(e,t,r){let n=0,{displayedRegions:o}=e;if(t.index===r.index)n+=r.offset-t.offset;else{let i=o[t.index];if(n+=i.end-i.start-t.offset,r.index-t.index>=2)for(let a=t.index+1;a<r.index;a++){let s=o[a],c=s.end-s.start;n+=c}n+=r.offset}return n}function mwe(e,t,r){if(!t||!r)return;let{width:n,interRegionPaddingWidth:o,displayedRegions:i,bpPerPx:a,minimumBlockWidth:s}=e,c=pwe(e,t,r),u=0;for(let m=t.index;m<r.index;m++){let h=i[m];(h.end-h.start)/a>s&&u++}let l=c/(n-o*u),f=e.zoomTo(l),d=0;l<f&&(d=(f-l)*e.width/2);let p=-d;for(let m=0;m<e.displayedRegions.length;m++){let h=e.displayedRegions[m];if(t.index===m){p+=t.offset;break}else p+=h.end-h.start}e.scrollTo(Math.round(p/e.bpPerPx))}function OT(e,t){return Math.floor(e.reversed?e.end-t:e.start+t)+1}function hwe(e,t){var r;let n=0,{bpPerPx:o,offsetPx:i,displayedRegions:a,interRegionPaddingWidth:s,staticBlocks:c}=e,u=c.contentBlocks,l=(i+t)*o;if(l<0){let p=a[0];return{...p,oob:!0,coord:OT(p,l),offset:l,index:0}}let f=s*o,d=0;for(let p=0;p<a.length;p++){let m=a[p],h=m.end-m.start,v=l-n;if(h+n>l&&n<=l)return{...m,oob:!1,offset:v,coord:OT(m,v),index:p};((r=u[d])===null||r===void 0?void 0:r.regionNumber)===p?(n+=h+f,d++):n+=h}if(l>=n&&a.length>0){let p=a.at(-1),m=p.end-p.start,h=l-n+m;return{...p,oob:!0,offset:h,coord:OT(p,h),index:a.length-1}}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}}function gwe({refName:e,coord:t,regionNumber:r,self:n}){var o;let i=0,{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:c,staticBlocks:u}=n,l=u.contentBlocks,f=a*s,d=0,p=0;for(;p<c.length;p++){let h=c[p],v=h.end-h.start;if(e===h.refName&&t>=h.start&&t<=h.end&&(!r||r===p)){i+=h.reversed?h.end-t:t-h.start;break}((o=l[d])===null||o===void 0?void 0:o.regionNumber)===p?(i+=v+f,d++):i+=v}if(c[p])return{index:p,offsetPx:Math.round(i/s)}}function vwe({refName:e,coord:t,regionNumber:r,self:n}){var o;let i=0,{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:c,staticBlocks:u}=n,l=u.contentBlocks,f=a*s,d={},p=0,m=0;for(;m<c.length;m++){let v=c[m],b=v.end-v.start;if(e===v.refName&&t>=v.start&&t<=v.end&&(r===void 0||r===m)){i+=v.reversed?v.end-t:t-v.start;break}((o=l[p])===null||o===void 0?void 0:o.regionNumber)===m?(i+=b+f,p++):i+=b}return c[m]?{index:m,offsetPx:Math.round(i/s)}:d}});var Sy=y((T6e,T4)=>{T4.exports=JBrowseExports["@jbrowse/core/util/Base1DViewModel"]});var NT=y(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.InterRegionPaddingBlock=Jn.ElidedBlock=Jn.ContentBlock=Jn.BaseBlock=Jn.BlockSet=void 0;var PT=fo(),AT=class{constructor(t=[]){this.blocks=t}push(t){if(t.type==="ElidedBlock"&&this.blocks.length>0){let r=this.blocks.at(-1);if(r?.type==="ElidedBlock"){r.push(t);return}}this.blocks.push(t)}getBlocks(){return this.blocks}getRegions(){return this.blocks.map(t=>t.toRegion())}map(t,r){return this.blocks.map(t,r)}forEach(t,r){this.blocks.forEach(t,r)}get length(){return this.blocks.length}get totalWidthPx(){return this.blocks.length>0?(0,PT.sum)(this.blocks.map(t=>t.widthPx)):0}get totalWidthPxWithoutBorders(){return this.blocks.length>0?(0,PT.sum)(this.blocks.filter(t=>t.variant!=="boundary").map(t=>t.widthPx)):0}get offsetPx(){return this.blocks.length>0?this.blocks[0].offsetPx:0}get contentBlocks(){return this.blocks.filter(t=>t.type==="ContentBlock")}get totalBp(){return(0,PT.sum)(this.contentBlocks.map(t=>t.end-t.start))}};Jn.BlockSet=AT;var Wl=class{constructor(t){this.type="BaseBlock",this.widthPx=0,Object.assign(this,t),this.assemblyName=t.assemblyName,this.refName=t.refName,this.start=t.start,this.end=t.end,this.key=t.key,this.offsetPx=t.offsetPx}toRegion(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}};Jn.BaseBlock=Wl;var jT=class extends Wl{constructor(){super(...arguments),this.type="ContentBlock"}};Jn.ContentBlock=jT;var IT=class extends Wl{constructor(t){super(t),this.type="ElidedBlock",this.elidedBlockCount=0,this.widthPx=t.widthPx}push(t){this.elidedBlockCount+=1,this.refName="",this.start=0,this.end=0,this.widthPx+=t.widthPx}};Jn.ElidedBlock=IT;var LT=class extends Wl{constructor(){super(...arguments),this.type="InterRegionPaddingBlock"}};Jn.InterRegionPaddingBlock=LT});var R4=y(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});DT.default=_we;var E4=Oe(),bwe=fo(),$l=NT(),ywe=Xw();function _we(e,t=!0,r=!0){let{offsetPx:n,displayedRegions:o,bpPerPx:i,width:a,minimumBlockWidth:s,interRegionPaddingWidth:c}=e;if(!a)throw new Error("view has no width, cannot calculate displayed blocks");let u=new $l.BlockSet,l=0,f=n,d=f+a;for(let p=0;p<o.length;p++){let m=o[p],{assemblyName:h,refName:v,start:b,end:_,reversed:S}=m,x=l+(_-b)/i,C=(_-b)/i,O=(0,E4.isStateTreeNode)(m)?(0,E4.getSnapshot)(m):m,[k,P]=(0,ywe.intersection2)(f,d,l,x);if(k!==void 0&&P!==void 0){let E,R,I,q,N;S?(E=Math.max(b,_-(P-l)*i),R=_-(k-l)*i,I=R===_,q=E===b,N=l+(_-R)/i):(E=(k-l)*i+b,R=Math.min(_,(P-l)*i+b),I=E===b,q=R===_,N=l+(E-b)/i);let M=(R-E)/i,D={assemblyName:h,refName:v,start:E,end:R,reversed:S,offsetPx:N,parentRegion:O,regionNumber:p,widthPx:M,isLeftEndOfDisplayedRegion:I,isRightEndOfDisplayedRegion:q,key:""};D.key=`${(0,bwe.assembleLocStringFast)(D)}-${p}${S?"-reversed":""}`,t&&u.length===0&&I&&u.push(new $l.InterRegionPaddingBlock({key:`${D.key}-beforeFirstRegion`,widthPx:-n,offsetPx:D.offsetPx+n,variant:"boundary"})),r&&C<s?u.push(new $l.ElidedBlock(D)):u.push(new $l.ContentBlock(D)),t&&(C>=s&&D.isRightEndOfDisplayedRegion&&p<o.length-1&&(u.push(new $l.InterRegionPaddingBlock({key:`${D.key}-rightpad`,widthPx:c,offsetPx:D.offsetPx+D.widthPx})),l+=c),p===o.length-1&&D.isRightEndOfDisplayedRegion&&(N=D.offsetPx+D.widthPx,u.push(new $l.InterRegionPaddingBlock({key:`${D.key}-afterLastRegion`,widthPx:a-N+n,offsetPx:N,variant:"boundary"}))))}l+=(_-b)/i}return u}});var O4=y(FT=>{"use strict";Object.defineProperty(FT,"__esModule",{value:!0});FT.default=wwe;var M4=Oe(),xwe=fo(),Ul=NT();function wwe(e,t=!0,r=!0,n=0,o=800){let{offsetPx:i,displayedRegions:a,bpPerPx:s,minimumBlockWidth:c,interRegionPaddingWidth:u,width:l}=e,f=i*s,d=(i+l)*s,m=Math.ceil(o*s),h=0,v=new Ul.BlockSet;for(let b=0;b<a.length;b++){let _=a[b],{assemblyName:S,refName:x,start:C,end:O,reversed:k}=_,P=Math.ceil((O-C)/m),E=(0,M4.isStateTreeNode)(_)?(0,M4.getSnapshot)(_):_,R=Math.floor((d-h)/m)+n;R>=P&&(R=P-1);let I=Math.floor((f-h)/m)-n;I<0&&(I=0);let q=(O-C)/s;for(let N=I;N<=R;N+=1){let M,D,U,B;k?(M=Math.max(C,O-(N+1)*m),D=O-N*m,U=D===O,B=M===C):(M=C+N*m,D=Math.min(O,C+(N+1)*m),U=M===C,B=D===O);let L=(D-M)/s,H={assemblyName:S,refName:x,start:M,end:D,reversed:k,offsetPx:(h+N*m)/s,parentRegion:E,regionNumber:b,widthPx:L,isLeftEndOfDisplayedRegion:U,isRightEndOfDisplayedRegion:B,key:""};H.key=`${(0,xwe.assembleLocStringFast)(H)}-${b}${k?"-reversed":""}`,t&&b===0&&N===0&&v.push(new Ul.InterRegionPaddingBlock({key:`${H.key}-beforeFirstRegion`,widthPx:o,offsetPx:H.offsetPx-o,variant:"boundary"})),r&&q<c?v.push(new Ul.ElidedBlock(H)):v.push(new Ul.ContentBlock(H)),t&&(q>=c&&H.isRightEndOfDisplayedRegion&&b<a.length-1&&(h+=u*s,v.push(new Ul.InterRegionPaddingBlock({key:`${H.key}-rightpad`,widthPx:u,offsetPx:H.offsetPx+H.widthPx}))),b===a.length-1&&H.isRightEndOfDisplayedRegion&&(h+=u*s,v.push(new Ul.InterRegionPaddingBlock({key:`${H.key}-afterLastRegion`,widthPx:o,offsetPx:H.offsetPx+H.widthPx,variant:"boundary"}))))}h+=O-C}return v}});var A4=y((O6e,P4)=>{P4.exports=JBrowseExports["@jbrowse/core/util/types/mst"]});var j4,I4,L4=T(()=>{"use client";ct();j4=g(F(),1),I4=(0,Ee.createSvgIcon)((0,j4.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")});var qT,Cy,BT=T(()=>{"use client";ct();qT=g(F(),1),Cy=(0,Ee.createSvgIcon)([(0,qT.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,qT.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")});var ky=y((zT,HT)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof zT<"u"?t():(t(),e.FileSaver={})})(zT,function(){"use strict";function e(s,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function t(s,c,u){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){a(l.response,c,u)},l.onerror=function(){console.error("could not download file")},l.send()}function r(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function n(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(s,c,u){var l=o.URL||o.webkitURL,f=document.createElement("a");c=c||s.name||"download",f.download=c,f.rel="noopener",typeof s=="string"?(f.href=s,f.origin===location.origin?n(f):r(f.href)?t(s,c,u):n(f,f.target="_blank")):(f.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(f.href)},4e4),setTimeout(function(){n(f)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,u){if(c=c||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(e(s,u),c);else if(r(s))t(s,c,u);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){n(l)})}}:function(s,c,u,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return t(s,c,u);var f=s.type==="application/octet-stream",d=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||f&&d||i)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=p?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=b:location=b,l=null},m.readAsDataURL(s)}else{var h=o.URL||o.webkitURL,v=h.createObjectURL(s);l?l.location=v:location.href=v,l=null,setTimeout(function(){h.revokeObjectURL(v)},4e4)}});o.saveAs=a.saveAs=a,typeof HT<"u"&&(HT.exports=a)})});var N4,D4,F4=T(()=>{"use client";ct();N4=g(F(),1),D4=(0,Ee.createSvgIcon)((0,N4.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")});var q4,B4,z4=T(()=>{"use client";ct();q4=g(F(),1),B4=(0,Ee.createSvgIcon)((0,q4.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")});var Mo=T(()=>{});function $T({model:e}){let{classes:t}=Swe();return(0,Ui.jsxs)(Ui.Fragment,{children:[(0,Ui.jsx)(Bp.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(-.9)},children:(0,Ui.jsx)(D4,{})}),(0,Ui.jsx)(Bp.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(.9)},children:(0,Ui.jsx)(B4,{})})]})}var Ui,Bp,H4,Swe,W4=T(()=>{Ui=g(F());F4();z4();Bp=g(Q()),H4=g(me());Mo();Swe=(0,H4.makeStyles)()(e=>({panButton:{background:(0,Bp.alpha)(e.palette.background.paper,.8),color:e.palette.text.primary,margin:7}}))});var $4,U4,V4,G4,Y4,Cwe,kwe,X4,Z4=T(()=>{$4=g(F()),U4=g(Z()),V4=g(Q()),G4=g(re()),Y4=g(me()),Cwe=(0,Y4.makeStyles)()({bp:{display:"flex",alignItems:"center",marginLeft:5,cursor:"pointer"}}),kwe=(0,G4.observer)(function({model:e}){let{classes:t}=Cwe(),{coarseTotalBp:r}=e;return(0,$4.jsx)(V4.Typography,{variant:"body2",color:"textSecondary",className:t.bp,children:(0,U4.getBpDisplayStr)(r)})}),X4=kwe});var UT,K4,J4,Q4,ez,Twe,Ewe,tz,rz=T(()=>{UT=g(F()),K4=g(wy()),J4=g(Q()),Q4=g(re()),ez=g(me()),Twe=(0,ez.makeStyles)()(e=>({toggleButton:{height:44,border:"none",marginLeft:e.spacing(4)}})),Ewe=(0,Q4.observer)(function({model:e}){let{classes:t}=Twe();return(0,UT.jsx)(J4.IconButton,{onClick:e.activateTrackSelector,className:t.toggleButton,title:"Open track selector",value:"track_select",children:(0,UT.jsx)(K4.TrackSelector,{})})}),tz=Ewe});var nz=y(Ty=>{"use strict";"use client";var Rwe=Wt().default;Object.defineProperty(Ty,"__esModule",{value:!0});Ty.default=void 0;var Mwe=Rwe(In()),Owe=F(),V6e=Ty.default=(0,Mwe.default)((0,Owe.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")});var oz=y(Ey=>{"use strict";"use client";var Pwe=Wt().default;Object.defineProperty(Ey,"__esModule",{value:!0});Ey.default=void 0;var Awe=Pwe(In()),jwe=F(),Y6e=Ey.default=(0,Awe.default)((0,jwe.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline")});var iz=y(Vi=>{"use strict";var Iwe=Vi&&Vi.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Lwe=Vi&&Vi.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Nwe=Vi&&Vi.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Iwe(r,t,n[o]);return Lwe(r,t),r}})();Object.defineProperty(Vi,"__esModule",{value:!0});var Dwe=F(),Fwe=Nwe($()),qwe=Q(),Bwe=Fwe.forwardRef(function(t,r){return(0,Dwe.jsx)(qwe.Menu,{...t,ref:r,style:{pointerEvents:"none",...t.style},slotProps:{...t.slotProps,paper:{style:{pointerEvents:"auto"}}}})});Vi.default=Bwe});var az=y(Ry=>{"use strict";"use client";var zwe=Wt().default;Object.defineProperty(Ry,"__esModule",{value:!0});Ry.default=void 0;var Hwe=zwe(In()),Wwe=F(),K6e=Ry.default=(0,Hwe.default)((0,Wwe.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight")});var sz=y(My=>{"use strict";"use client";var $we=Wt().default;Object.defineProperty(My,"__esModule",{value:!0});My.default=void 0;var Uwe=$we(In()),Vwe=F(),Q6e=My.default=(0,Uwe.default)((0,Vwe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")});var uz=y(Oy=>{"use strict";"use client";var Gwe=Wt().default;Object.defineProperty(Oy,"__esModule",{value:!0});Oy.default=void 0;var Ywe=Gwe(In()),Xwe=F(),t3e=Oy.default=(0,Ywe.default)((0,Xwe.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")});var cz=y(Py=>{"use strict";"use client";var Zwe=Wt().default;Object.defineProperty(Py,"__esModule",{value:!0});Py.default=void 0;var Kwe=Zwe(In()),Jwe=F(),n3e=Py.default=(0,Kwe.default)((0,Jwe.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked")});var lz=y(Ay=>{"use strict";"use client";var Qwe=Wt().default;Object.defineProperty(Ay,"__esModule",{value:!0});Ay.default=void 0;var eSe=Qwe(In()),tSe=F(),i3e=Ay.default=(0,eSe.default)((0,tSe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked")});var mz=y(Vl=>{"use strict";var zp=Vl&&Vl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.MenuItemEndDecoration=VT;var Tt=F(),hi=$(),rSe=zp(az()),nSe=zp(sz()),oSe=zp(uz()),iSe=zp(cz()),aSe=zp(lz()),Gi=Q(),sSe=me(),uSe=fo(),fz=(0,sSe.makeStyles)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function VT(e){let{classes:t}=fz(),{type:r}=e,n,o;"checked"in e&&({checked:n,disabled:o}=e);let i;switch(r){case"subMenu":{i=(0,Tt.jsx)(rSe.default,{color:"action"});break}case"checkbox":{if(n){let a=o?"inherit":void 0;i=(0,Tt.jsx)(nSe.default,{color:a})}else i=(0,Tt.jsx)(oSe.default,{color:"action"});break}case"radio":{if(n){let a=o?"inherit":void 0;i=(0,Tt.jsx)(iSe.default,{color:a})}else i=(0,Tt.jsx)(aSe.default,{color:"action"});break}}return(0,Tt.jsx)("div",{className:t.menuItemEndDecoration,children:i})}function dz(e){return e.type!=="divider"&&e.type!=="subHeader"&&!e.disabled}function cSe(e,t){let r=e.slice(t+1).findIndex(dz);return r===-1?r:t+1+r}function lSe(e,t){return(0,uSe.findLastIndex)(e.slice(0,t),dz)}var pz=(0,hi.forwardRef)(function(t,r){let[n,o]=(0,hi.useState)(),[i,a]=(0,hi.useState)(),[s,c]=(0,hi.useState)(!1),[u,l]=(0,hi.useState)(),[f,d]=(0,hi.useState)(),p=(0,hi.useRef)(null),{classes:m}=fz(),{menuItems:h,onMenuItemClick:v,open:b,onClose:_,anchorEl:S,top:x=!1}=t;(0,hi.useEffect)(()=>{b||(o(void 0),a(void 0))},[b]),(0,hi.useEffect)(()=>{let E=b&&!!n,R;return E&&!s?R=setTimeout(()=>{c(!0)},300):!E&&s&&(R=setTimeout(()=>{c(!1)},300)),()=>{clearTimeout(R)}},[s,b,n]),(0,hi.useLayoutEffect)(()=>{if(S){let E=S.getBoundingClientRect();f?(E.top!==f.top||E.left+E.width!==f.left)&&d({top:E.top,left:E.left+E.width}):d({top:E.top,left:E.left+E.width})}else f||d({})},[f,S]);let C=h.some(E=>"icon"in E&&E.icon),O={};function k(E){return R=>{v(R,E)}}let P=(0,Tt.jsxs)(Tt.Fragment,{children:[(0,Tt.jsx)(Gi.MenuList,{autoFocusItem:b&&!s,dense:!0,children:h.sort((E,R)=>(R.priority||0)-(E.priority||0)).map((E,R)=>{if(E.type==="divider")return(0,Tt.jsx)(Gi.Divider,{component:"li"},`divider-${JSON.stringify(E)}-${R}`);if(E.type==="subHeader")return(0,Tt.jsx)(Gi.ListSubheader,{children:E.label},`subHeader-${E.label}-${R}`);let I=null,q=null;if(E.icon){let M=E.icon;I=(0,Tt.jsx)(Gi.ListItemIcon,{children:(0,Tt.jsx)(M,{})})}"subMenu"in E?q=(0,Tt.jsx)(VT,{type:"subMenu"}):(E.type==="checkbox"||E.type==="radio")&&(q=(0,Tt.jsx)(VT,{type:E.type,checked:E.checked,disabled:E.disabled}));let N="onClick"in E?k(E.onClick):void 0;return(0,Tt.jsxs)(Gi.MenuItem,{style:O,selected:R===u,onClick:N,onMouseMove:M=>{M.currentTarget!==document.activeElement&&(M.currentTarget.focus(),l(R)),"subMenu"in E?i!==R&&(o(M.currentTarget),a(R)):(o(void 0),a(void 0))},onKeyDown:M=>{switch(M.key){case"ArrowLeft":case"Escape":{_?.(M,"escapeKeyDown");break}case"ArrowUp":{l(lSe(h,R));break}case"ArrowDown":{let D=cSe(h,R);l(D);break}default:"subMenu"in E&&(M.key==="ArrowRight"||M.key==="Enter")&&(o(M.currentTarget),a(R),c(!0))}},disabled:!!E.disabled,children:[I,(0,Tt.jsx)(Gi.ListItemText,{primary:E.label,secondary:E.subLabel,inset:C&&!E.icon}),q]},E.id||String(E.label))})}),h.map((E,R)=>{let I=null;return"subMenu"in E&&(I=(0,Tt.jsx)(pz,{anchorEl:n,open:s&&i===R,onClose:()=>{c(!1),o(void 0)},onMenuItemClick:v,menuItems:E.subMenu},E.id||String(E.label))),I})]});return x?P:(0,Tt.jsx)(Gi.Grow,{in:b,style:{transformOrigin:"0 0 0"},ref:r,children:(0,Tt.jsx)(Gi.Paper,{elevation:8,ref:p,className:m.paper,style:{...f},children:P})})});function fSe(e){let{open:t,onClose:r,menuItems:n,onMenuItemClick:o,...i}=e;return(0,Tt.jsx)(Gi.Popover,{open:t,onClose:r,style:{zIndex:1e4,...i.style},anchorOrigin:{vertical:"bottom",horizontal:"right",...i.anchorOrigin},transformOrigin:{vertical:"top",horizontal:"left",...i.transformOrigin},...i,children:(0,Tt.jsx)(pz,{open:t,onClose:r,menuItems:n,onMenuItemClick:o,top:!0})})}Vl.default=fSe});var GT=y(Pr=>{"use strict";var dSe=Pr&&Pr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),pSe=Pr&&Pr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),mSe=Pr&&Pr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&dSe(r,t,n[o]);return pSe(r,t),r}})();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.usePopupState=gSe;Pr.bindTrigger=vSe;Pr.bindToggle=bSe;Pr.bindHover=ySe;Pr.bindFocus=_Se;Pr.bindPopover=xSe;Pr.bindMenu=wSe;Pr.bindPopper=SSe;var fs=$(),hSe=mSe($());function gSe(e){let{parentPopupState:t}=e||{},r=hSe.useId(),[n,o]=(0,fs.useState)(!1),[i,a]=(0,fs.useState)(!1),[s,c]=(0,fs.useState)(),[u,l]=(0,fs.useState)(!1),[f,d]=(0,fs.useState)(!1),[p,m]=(0,fs.useState)(),[h,v]=(0,fs.useState)(),b=(0,fs.useCallback)(O=>{a(!0),c(O)},[]),_=O=>{n?x(O):S(O)},S=O=>{let k=O instanceof Element?void 0:O,P=O instanceof Element?O:O?.currentTarget instanceof Element?O.currentTarget:void 0;if(k?.type!=="touchstart"){if(t){if(!t.isOpen)return;t.childHandle&&t.childHandle.close(),t.setChildHandle({popupId:r,close:x})}o(!0),l(E=>k?.type==="mouseover"||E),d(E=>k?.type==="focus"||E),m(k?.type),i||(k?.currentTarget?c(k.currentTarget):P&&c(P))}},x=O=>{let k=O instanceof Element?void 0:O;k?.type!=="touchstart"&&(h?.close(),t?.setChildHandle(void 0),o(!1),l(!1),d(!1))};return{isOpen:n,anchorEl:s,setAnchorElUsed:i,setAnchorEl:b,popupId:r,open:S,close:x,toggle:_,setOpen:(O,k)=>{O?S(k):x(k)},hovered:u,focused:f,_openEventType:p,childHandle:h,setChildHandle:v}}function vSe(e){return{onClick:e.open}}function bSe(e){return{onClick:e.toggle}}function ySe(e){let{open:t}=e;return{onMouseOver:t}}function _Se(e){let{open:t}=e;return{onFocus:t}}function xSe({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function wSe({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function SSe({isOpen:e,anchorEl:t,popupId:r}){return{id:r,anchorEl:t,open:e}}});var bz=y(Wp=>{"use strict";var jy=Wp&&Wp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wp,"__esModule",{value:!0});var Le=F(),ds=$(),CSe=jy(nz()),kSe=jy(oz()),Oo=Q(),TSe=jy(ud()),ESe=jy(iz()),hz=mz(),Hp=GT(),Gl=(0,ds.createContext)({parentPopupState:void 0,rootPopupState:void 0});function gz({helpText:e}){let[t,r]=(0,ds.useState)(!1),n=i=>{i.stopPropagation(),r(!0)},o=i=>{i.stopPropagation(),r(!1)};return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Oo.IconButton,{size:"small",onClick:n,style:{marginLeft:4,padding:4},children:(0,Le.jsx)(kSe.default,{fontSize:"small"})}),(0,Le.jsx)(TSe.default,{open:t,onClose:o,title:"Help",onClick:i=>{i.stopPropagation()},children:(0,Le.jsx)(Oo.DialogContent,{children:e})})]})}function RSe(){return(0,Le.jsx)("div",{style:{marginLeft:4,padding:4,width:28,height:28}})}function MSe({onClick:e,closeAfterItemClick:t,children:r,...n}){let{rootPopupState:o,parentPopupState:i}=(0,ds.useContext)(Gl);if(!o)throw new Error("must be used inside a CascadingMenu");return(0,Le.jsx)(Oo.MenuItem,{...n,onClick:a=>{t&&o.close(),e?.(a)},onMouseOver:()=>{i?.childHandle&&(i.childHandle.close(),i.setChildHandle(void 0))},children:r})}function OSe({title:e,Icon:t,inset:r,...n}){let{parentPopupState:o}=(0,ds.useContext)(Gl),i=(0,Hp.usePopupState)({parentPopupState:o}),{onMouseOver:a,...s}=(0,Hp.bindHover)(i);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(Oo.MenuItem,{...(0,Hp.bindFocus)(i),...s,onMouseOver:c=>{o?.childHandle&&(o.childHandle.close(),o.setChildHandle(void 0)),a(c)},children:[t?(0,Le.jsx)(Oo.ListItemIcon,{children:(0,Le.jsx)(t,{})}):null,(0,Le.jsx)(Oo.ListItemText,{primary:e,inset:r}),(0,Le.jsx)(CSe.default,{})]}),(0,Le.jsx)(PSe,{...n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:i})]})}function PSe({popupState:e,onMenuItemClick:t,menuItems:r,classes:n,...o}){let{rootPopupState:i}=(0,ds.useContext)(Gl),a=(0,ds.useMemo)(()=>({rootPopupState:i||e,parentPopupState:e}),[i,e]);return(0,Le.jsx)(Gl.Provider,{value:a,children:(0,Le.jsx)(ESe.default,{...o,...(0,Hp.bindMenu)(e)})})}function ASe({popupState:e,onMenuItemClick:t,menuItems:r,...n}){let{rootPopupState:o}=(0,ds.useContext)(Gl),i=(0,ds.useMemo)(()=>({rootPopupState:o||e,parentPopupState:e}),[o,e]);return(0,Le.jsx)(Gl.Provider,{value:i,children:(0,Le.jsx)(Oo.Menu,{...n,...(0,Hp.bindMenu)(e)})})}function jSe({item:e}){return"subMenu"in e?(0,Le.jsx)(hz.MenuItemEndDecoration,{type:"subMenu"}):e.type==="checkbox"||e.type==="radio"?(0,Le.jsx)(hz.MenuItemEndDecoration,{type:e.type,checked:e.checked,disabled:e.disabled}):null}function vz({onMenuItemClick:e,closeAfterItemClick:t,menuItems:r,...n}){let o=r.some(a=>"icon"in a&&a.icon),i=r.some(a=>(a.type==="checkbox"||a.type==="radio")&&"helpText"in a&&a.helpText);return(0,Le.jsx)(Le.Fragment,{children:r.toSorted((a,s)=>(s.priority||0)-(a.priority||0)).map((a,s)=>"subMenu"in a?(0,Le.jsx)(OSe,{title:a.label,Icon:a.icon,inset:o&&!a.icon,onMenuItemClick:e,menuItems:a.subMenu,children:(0,Le.jsx)(vz,{...n,closeAfterItemClick:t,onMenuItemClick:e,menuItems:a.subMenu})},`subMenu-${a.label}-${s}`):a.type==="divider"?(0,Le.jsx)(Oo.Divider,{component:"li"},`divider-${JSON.stringify(a)}-${s}`):a.type==="subHeader"?(0,Le.jsx)(Oo.ListSubheader,{children:a.label},`subHeader-${a.label}-${s}`):(0,Le.jsxs)(MSe,{closeAfterItemClick:t,onClick:"onClick"in a?c=>{e(c,a.onClick)}:void 0,disabled:!!a.disabled,children:[a.icon?(0,Le.jsx)(Oo.ListItemIcon,{children:(0,Le.jsx)(a.icon,{})}):null," ",(0,Le.jsx)(Oo.ListItemText,{primary:a.label,secondary:a.subLabel,inset:o&&!a.icon}),(0,Le.jsx)(ISe,{}),(0,Le.jsx)(jSe,{item:a}),a.type==="checkbox"||a.type==="radio"?"helpText"in a&&a.helpText?(0,Le.jsx)(gz,{helpText:a.helpText}):i?(0,Le.jsx)(RSe,{}):null:"helpText"in a&&a.helpText?(0,Le.jsx)(gz,{helpText:a.helpText}):null]},`${a.label}-${s}`))})}function ISe(){return(0,Le.jsx)("div",{style:{flexGrow:1,minWidth:10}})}function LSe(e){let{closeAfterItemClick:t=!0,...r}=e;return(0,Le.jsx)(ASe,{...r,children:(0,Le.jsx)(vz,{...r,closeAfterItemClick:t})})}Wp.default=LSe});var Ly=y($p=>{"use strict";var NSe=$p&&$p.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($p,"__esModule",{value:!0});var Iy=F(),DSe=$(),FSe=NSe(bz()),qSe=Q(),BSe=re(),YT=GT(),zSe=(0,BSe.observer)(function({children:t,menuItems:r,closeAfterItemClick:n=!0,stopPropagation:o,setOpen:i,onClick:a,...s}){let c=(0,YT.usePopupState)(),{onClick:u,...l}=(0,YT.bindTrigger)(c),{isOpen:f}=c;return(0,DSe.useEffect)(()=>{i?.(f)},[f,i]),(0,Iy.jsxs)(Iy.Fragment,{children:[(0,Iy.jsx)(qSe.IconButton,{onClick:d=>{o&&d.stopPropagation(),u(d),a?.()},...l,...s,disabled:r.length===0,children:t}),(0,Iy.jsx)(FSe.default,{...(0,YT.bindPopover)(c),onMenuItemClick:(d,p)=>{p()},menuItems:r,closeAfterItemClick:n,popupState:c})]})});$p.default=zSe});var yz,Ny,XT=T(()=>{"use client";ct();yz=g(F(),1),Ny=(0,Ee.createSvgIcon)((0,yz.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")});var _z,Dy,ZT=T(()=>{"use client";ct();_z=g(F(),1),Dy=(0,Ee.createSvgIcon)((0,_z.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut")});var Sz={};rt(Sz,{default:()=>$Se});var Yi,Fy,xz,KT,Po,wz,HSe,WSe,$Se,Cz=T(()=>{Yi=g(F()),Fy=g($()),xz=g(He()),KT=g(Z()),Po=g(Q()),wz=g(re()),HSe=(e=0)=>+e.toFixed(1),WSe=(0,wz.observer)(function({model:e,handleClose:t}){let{bpPerPx:r,width:n}=e,[o,i]=(0,Fy.useState)((0,KT.toLocale)(HSe(r*n)));(0,Fy.useEffect)(()=>{i((0,KT.toLocale)(r*n))},[r,n]);let a=o.replace(/,/g,"");return(0,Yi.jsxs)(xz.Dialog,{title:"Edit zoom level",open:!0,onClose:t,children:[(0,Yi.jsxs)(Po.DialogContent,{style:{display:"flex",flexDirection:"column",gap:30},children:[(0,Yi.jsx)(Po.Typography,{children:"Enter a specific number of base pairs to change the viewport to show. This is approximate and does not account for padding between regions or off-screen scrolling"}),(0,Yi.jsx)(Po.TextField,{helperText:"current zoom level (in bp)",value:o,onChange:s=>{i(s.target.value)}})]}),(0,Yi.jsxs)(Po.DialogActions,{children:[(0,Yi.jsx)(Po.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,Yi.jsx)(Po.Button,{variant:"contained",color:"primary",onClick:()=>{e.zoomTo(+a/e.width),t()},children:"Submit"})]})]})}),$Se=WSe});function GSe(e){let{children:t,open:r,value:n}=e;return(0,Gr.jsx)(Xi.Tooltip,{open:r,enterTouchDelay:0,placement:"top",title:n,arrow:!0,children:t})}var Gr,Yl,kz,qy,Xi,Tz,Ez,USe,VSe,YSe,JT,QT=T(()=>{Gr=g(F()),Yl=g($()),kz=g(Ly()),qy=g(Z());XT();BT();ZT();Xi=g(Q()),Tz=g(re()),Ez=g(me()),USe=(0,Yl.lazy)(()=>Promise.resolve().then(()=>(Cz(),Sz))),VSe=(0,Ez.makeStyles)()(e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:100,color:e.palette.text.secondary}}));YSe=(0,Tz.observer)(function({model:e}){let{classes:t}=VSe(),{width:r,maxBpPerPx:n,minBpPerPx:o,bpPerPx:i}=e,[a,s]=(0,Yl.useState)(-Math.log2(i)*100);(0,Yl.useEffect)(()=>{s(-Math.log2(i)*100)},[i]);let c=i<=o+1e-4,u=i>=n-1e-4;return(0,Gr.jsxs)("div",{className:t.container,children:[(0,Gr.jsx)(Xi.Tooltip,{title:"Zoom out 2x",children:(0,Gr.jsx)("span",{children:(0,Gr.jsx)(Xi.IconButton,{"data-testid":"zoom_out",disabled:u,onClick:()=>{e.zoom(i*2)},children:(0,Gr.jsx)(Dy,{})})})}),(0,Gr.jsx)(Xi.Slider,{size:"small",className:t.slider,value:a,min:-Math.log2(n)*100,max:-Math.log2(o)*100,onChangeCommitted:()=>e.zoomTo(2**(-a/100)),valueLabelDisplay:"auto",valueLabelFormat:l=>`Window size: ${(0,qy.getBpDisplayStr)(2**(-l/100)*r)}`,slots:{valueLabel:GSe},onChange:(l,f)=>{s(f)}}),(0,Gr.jsx)(Xi.Tooltip,{title:"Zoom in 2x",children:(0,Gr.jsx)("span",{children:(0,Gr.jsx)(Xi.IconButton,{"data-testid":"zoom_in",disabled:c,onClick:()=>{e.zoom(e.bpPerPx/2)},children:(0,Gr.jsx)(Cy,{})})})}),(0,Gr.jsx)(kz.default,{menuItems:[...[100,50,10].map(l=>({label:`Zoom in ${l}x`,onClick:()=>{e.zoom(e.bpPerPx/l)}})),...[10,50,100].map(l=>({label:`Zoom out ${l}x`,onClick:()=>{e.zoom(e.bpPerPx*l)}})),{label:"Custom zoom",onClick:()=>{(0,qy.getSession)(e).queueDialog(l=>[USe,{model:e,handleClose:l}])}}],children:(0,Gr.jsx)(Ny,{})})]})}),JT=YSe});async function By({queryString:e,searchType:t,searchScope:r,rankSearchResults:n,textSearchManager:o,assembly:i}){var a;o||console.warn("No text search manager");let s=await o?.search({queryString:e,searchType:t},r,n)||[],c=((a=i?.allRefNames)===null||a===void 0?void 0:a.filter(u=>u.toLowerCase().startsWith(e.toLowerCase())).slice(0,10).map(u=>new Rz.default({label:u})))||[];return(0,Mz.dedupe)([...c,...s],u=>u.getId())}function gi(e,t){return e.clientX-(t?.getBoundingClientRect().left||0)}function zy(e,t){var r;return((r=e?.cytobands)===null||r===void 0?void 0:r.map(n=>({refName:e.getCanonicalRefName(n.get("refName"))||n.get("refName"),start:n.get("start"),end:n.get("end"),type:n.get("gieStain"),name:n.get("name")})).filter(n=>n.refName===t))||[]}var Rz,Mz,Eu=T(()=>{Rz=g(Fp()),Mz=g(Z())});function XSe(e,t,r,n,o){return`M${e},${t}h${r-o}a${o},${o} 0 0 1 ${o},${o}v${n-2*o}a${o},${o} 0 0 1 ${-o},${o}h${o-r}z`}function ZSe(e,t,r,n,o){return`M${e+o},${t}h${r-o}v${n}h${o-r}a${o},${o} 0 0 1 ${-o},${-o}v${2*o-n}a${o},${o} 0 0 1 ${o},${-o}z`}function Oz(e,t,r,n){return[[e,0],[e+r,n/2],[e,n]].toString()}function Pz(e,t,r,n){return[[e,n/2],[e+r,0],[e+r,n]].toString()}var Ru,Xl,Az,KSe,JSe,eE,tE=T(()=>{Ru=g(F()),Xl=g(Z()),Az=g(re());Eu();Mo();KSe={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos33:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos66:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},JSe=(0,Az.observer)(function({overview:e,block:t,assembly:r}){let{offsetPx:n,reversed:o}=t,i=zy(r,t.refName),a=o?i.length-1:0,s=o?0:i.length-1,c=20,u=!1,l="",f=0;return(0,Ru.jsx)("g",{transform:`translate(-${n})`,children:i.map((d,p)=>{let m=JSON.stringify(d),{refName:h,name:v,type:b,start:_,end:S}=d,x=e.bpToPx({refName:h,coord:_})||0,C=e.bpToPx({refName:h,coord:S})||0,O=Math.min(x,C),k=Math.abs(C-x);if(b==="n/a"){let E=v?.match(/^(\d+)([A-Za-z])/),R=E[1]+E[2];R&&R!==l&&(l=R,f++)}let P=b==="n/a"?f%2?"black":"#a77":KSe[b]||"black";return b==="acen"&&!u?(u=!0,(0,Ru.jsx)("polygon",{points:o?Pz(x-k,0,k,c):Oz(x,0,k,c),...(0,Xl.getFillProps)(P)},m)):b==="acen"&&u?(0,Ru.jsx)("polygon",{points:o?Oz(x-k,0,k,c):Pz(x,0,k,c),...(0,Xl.getFillProps)(P)},m):a===p?(0,Ru.jsx)("path",{d:ZSe(O,0,k,c,8),...(0,Xl.getFillProps)(P)},m):s===p?(0,Ru.jsx)("path",{d:XSe(O,0,k,c,8),...(0,Xl.getFillProps)(P)},m):(0,Ru.jsx)("rect",{x:O,y:0,width:k,height:c,...(0,Xl.getFillProps)(P)},m)})})}),eE=JSe});var jz,Hy,Iz,Lz,Nz,QSe,eCe,Dz,Fz=T(()=>{jz=g(F()),Hy=g(Z()),Iz=g(Od()),Lz=g(re()),Nz=g(me()),QSe=(0,Nz.makeStyles)()(e=>({highlight:{height:"100%",position:"absolute",background:(0,Iz.colord)(e.palette.highlight.main).alpha(.35).toRgbString(),borderLeft:`1px solid ${e.palette.highlight.main}`,borderRight:`1px solid ${e.palette.highlight.main}`}})),eCe=(0,Lz.observer)(function({model:t,overview:r}){let{classes:n}=QSe(),{highlight:o,cytobandOffset:i}=t,a=(0,Hy.getSession)(t),{assemblyManager:s}=a;return o.map(c=>{var u;let l=s.get(c.assemblyName),f=(u=l?.getCanonicalRefName(c.refName))!==null&&u!==void 0?u:c.refName,d=r.bpToPx({...c,refName:f,coord:c.start}),p=r.bpToPx({...c,refName:f,coord:c.end});return d!==void 0&&p!==void 0?{width:Math.abs(p-d),left:d+i}:void 0}).filter(Hy.notEmpty).map(({left:c,width:u},l)=>(0,jz.jsx)("div",{className:n.highlight,style:{width:u,left:c}},`${c}_${u}_${l}`))}),Dz=eCe});var rE,Wy,qz,Bz,zz,tCe,rCe,Hz,Wz=T(()=>{rE=g(F()),Wy=g(Z()),qz=g(Q()),Bz=g(re()),zz=g(me()),tCe=(0,zz.makeStyles)()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute"}}),rCe=(0,Bz.observer)(function({model:e,open:t,guideX:r,overview:n}){var o;let{classes:i}=tCe(),{cytobandOffset:a}=e,{assemblyManager:s}=(0,Wy.getSession)(e),c=n.pxToBp(r-a),u=s.get(c.assemblyName),l=(o=u?.cytobands)===null||o===void 0?void 0:o.find(f=>c.coord>f.get("start")&&c.coord<f.get("end")&&c.refName===u.getCanonicalRefName(f.get("refName")));return(0,rE.jsx)(qz.Tooltip,{open:t,placement:"top",title:[(0,Wy.stringify)(c),l?.get("name"),l?.get("type")].join(" "),arrow:!0,children:(0,rE.jsx)("div",{className:i.guide,style:{left:r}})})}),Hz=rCe});function $y({anchorEl:e,side:t,text:r}){return(0,nE.jsx)($z.Tooltip,{title:r,open:!0,placement:t==="left"?"left-start":"right-start",slotProps:{popper:{anchorEl:e,modifiers:[{name:"offset",options:{offset:[-30,-10]}}]}},children:(0,nE.jsx)("span",{})})}var nE,$z,Uz=T(()=>{nE=g(F()),$z=g(Q())});var Yz={};rt(Yz,{default:()=>Zl});function Zl({leftBpOffset:e,rightBpOffset:t,numOfBpSelected:r,left:n,width:o,top:i=0,sticky:a=!1}){let{classes:s}=nCe(),[c,u]=(0,Vz.useState)(null);return(0,Ao.jsxs)(Ao.Fragment,{children:[c?(0,Ao.jsxs)(Ao.Fragment,{children:[(0,Ao.jsx)($y,{side:"left",anchorEl:c,text:(0,Up.stringify)(e)}),(0,Ao.jsx)($y,{side:"right",anchorEl:c,text:(0,Up.stringify)(t)})]}):null,(0,Ao.jsx)("div",{className:s.rubberband,style:{left:n,width:o},children:r?(0,Ao.jsx)(Uy.Typography,{ref:l=>{u(l)},variant:"h6",className:s.rubberbandText,style:{top:i,position:a?"sticky":void 0},children:(0,Up.getBpDisplayStr)(r)}):null})]})}var Ao,Vz,Up,Uy,Gz,nCe,Vy=T(()=>{Ao=g(F()),Vz=g($()),Up=g(Z()),Uy=g(Q()),Gz=g(me());Uz();nCe=(0,Gz.makeStyles)()(e=>{let{tertiary:t}=e.palette;return{rubberband:{height:"100%",background:(0,Uy.alpha)(t.light,.7),position:"absolute",zIndex:830,textAlign:"center",cursor:"crosshair"},rubberbandText:{color:e.palette.tertiary.contrastText}}})});var Ki,ps,Xz,Zz,Kz,oCe,iCe,Jz,Qz=T(()=>{Ki=g(F()),ps=g($()),Xz=g(Z()),Zz=g(re()),Kz=g(me());Wz();Vy();Eu();oCe=(0,Kz.makeStyles)()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8},rel:{position:"relative"}}),iCe=(0,Zz.observer)(function({model:t,overview:r,ControlComponent:n=(0,Ki.jsx)("div",{})}){let{cytobandOffset:o}=t,[i,a]=(0,ps.useState)(),[s,c]=(0,ps.useState)(),[u,l]=(0,ps.useState)(),f=(0,ps.useRef)(null),{classes:d}=oCe(),p=i!==void 0;(0,ps.useEffect)(()=>{function C(P){let E=f.current;E&&p&&c(gi(P,E))}function O(){if(i!==void 0&&s!==void 0&&Math.abs(s-i)>3){let P=Math.min(i,s),E=Math.max(i,s);t.moveTo(r.pxToBp(P-o),r.pxToBp(E-o))}if(i!==void 0&&s===void 0){let P=r.pxToBp(i-o);P.refName?t.centerAt(Math.round(P.coord),P.refName,P.index):((0,Xz.getSession)(t).notify("unknown position clicked"),console.error("unknown position clicked",P))}a(void 0),c(void 0),i!==void 0&&l(void 0)}function k(P){P.key==="Escape"&&(a(void 0),c(void 0))}return p?(window.addEventListener("mousemove",C,!0),window.addEventListener("mouseup",O,!0),window.addEventListener("keydown",k,!0),()=>{window.removeEventListener("mousemove",C,!0),window.removeEventListener("mouseup",O,!0),window.removeEventListener("keydown",k,!0)}):()=>{}},[p,s,i,t,r,o]);function m(C){C.preventDefault(),C.stopPropagation(),a(gi(C,f.current))}function h(C){l(gi(C,f.current))}function v(){l(void 0)}if(i===void 0)return(0,Ki.jsxs)("div",{className:d.rel,children:[u!==void 0?(0,Ki.jsx)(Hz,{model:t,open:!p,overview:r,guideX:u}):null,(0,Ki.jsx)("div",{className:d.rubberbandControl,ref:f,onMouseDown:m,onMouseOut:v,onMouseMove:h,children:n})]});let b=i||0,_=0;s!==void 0&&(b=Math.min(s,i),_=s-i);let S,x;return i&&(S=r.pxToBp(i-o),x=r.pxToBp(i+_-o),s!==void 0&&s<i&&([S,x]=[x,S])),(0,Ki.jsxs)("div",{className:d.rel,children:[S&&x?(0,Ki.jsx)(Zl,{leftBpOffset:S,rightBpOffset:x,width:Math.abs(_),left:b}):null,(0,Ki.jsx)("div",{"data-testid":"rubberband_controls",className:d.rubberbandControl,ref:f,onMouseDown:m,onMouseOut:v,onMouseMove:h,children:n})]})}),Jz=iCe});var e9,Gy,Vp,t9,aCe,oE,iE=T(()=>{e9=g(F()),Gy=g(Z()),Vp=g(Q()),t9=g(re());Mo();aCe=(0,t9.observer)(function({model:e,overview:t,useOffset:r=!0}){let n=(0,Vp.useTheme)(),o=Number(r),{interRegionPaddingWidth:i,offsetPx:a,dynamicBlocks:s,cytobandOffset:c}=e,{contentBlocks:u,totalWidthPxWithoutBorders:l}=s,f=n.palette.tertiary.light;if(!u.length)return null;let d=u.at(0),p=u.at(-1),m=(t.bpToPx({...d,coord:d.reversed?d.end:d.start})||0)+c*o,h=(t.bpToPx({...p,coord:p.reversed?p.start:p.end})||0)+c*o,v=Math.max(0,-a),b=v+l+u.length*i/2;return(0,e9.jsx)("polygon",{points:[[v,48],[b,48],[h,0],[m,0]].toString(),...(0,Gy.getFillProps)((0,Vp.alpha)(f,.3)),...(0,Gy.getStrokeProps)((0,Vp.alpha)(f,.8))})}),oE=aCe});function aE(e,t,r){e=Math.abs(e);let n=t*e,i=10**+n.toExponential().split(/e/i)[1];for(;i<n&&(i*=2,!(i>=n));)i*=2.5;i=Math.max(i,5);let a=i/e,s=0;return!(i%10)&&a/10>=r?s=i/10:!(i%5)&&a/5>=r?s=i/5:!(i%2)&&a/2>=r&&(s=i/2),{majorPitch:i,minorPitch:s}}function Gp(e,t,r,n=!0,o=!0){let i=aE(r,60,15),a=e,s=t;r<0&&([a,s]=[s,a]),a-=Math.abs(20*r)-1,s+=Math.abs(20*r)+1;let c=i.minorPitch||i.majorPitch,u=0,l=[];for(let f=Math.floor(a/c)*c;f<Math.ceil(s/c)*c+1;f+=c)o&&f%(i.majorPitch*2)?(l.push({type:"minor",base:f-1,index:u}),u+=1):n&&!(f%(i.majorPitch*2))&&(l.push({type:"major",base:f-1,index:u}),u+=1);return l}var r9,Kl=T(()=>{r9=g(Z())});var n9,Yy,o9,i9,a9,sCe,uCe,s9,u9=T(()=>{n9=g(F()),Yy=g(Z()),o9=g(Q()),i9=g(re()),a9=g(me());Mo();Kl();sCe=(0,a9.makeStyles)()({scalebarLabel:{height:20,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"}}),uCe=(0,i9.observer)(function({block:e,scale:t,overview:r,model:n}){let{classes:o}=sCe(),{start:i,end:a,reversed:s,refName:c,assemblyName:u}=e,{majorPitch:l}=aE(t,120,15),{assemblyManager:f}=(0,Yy.getSession)(n),d=f.get(u),p=d?.getRefNameColor(c),m=[];for(let h=0;h<Math.floor((a-i)/l);h++){let v=(h+1)*l;m.push(s?a-v:i+v)}return m.map((h,v)=>(0,n9.jsx)(o9.Typography,{className:o.scalebarLabel,variant:"body2",style:{left:(v+1)*l/t,pointerEvents:"none",color:p},children:(0,Yy.getTickDisplayStr)(h,r.bpPerPx)},`${JSON.stringify(e)}-${h}-${v}`))}),s9=uCe});var Zt,c9,Xy,l9,Mu,Zy,f9,cCe,sE,lCe,fCe,dCe,d9,p9=T(()=>{Zt=g(F()),c9=g($()),Xy=g(Z()),l9=g(Sy()),Mu=g(Q()),Zy=g(re()),f9=g(me());tE();Fz();Qz();iE();u9();Eu();Mo();cCe=2,sE=(0,f9.makeStyles)()(e=>({scalebar:{height:20},scalebarBorder:{border:"1px solid"},scalebarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:20,overflow:"hidden"},scalebarContigForward:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarContigReverse:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scalebarVisibleRegion:{position:"absolute",height:20,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:48,position:"relative"},overviewSvg:{pointerEvents:"none",width:"100%",position:"absolute"}})),lCe=(0,Zy.observer)(function({scale:e,model:t,block:r,overview:n}){let{classes:o,cx:i}=sE(),a=(0,Mu.useTheme)(),{cytobandOffset:s,showCytobands:c}=t,{reversed:u,refName:l,assemblyName:f}=r,{assemblyManager:d}=(0,Xy.getSession)(t),p=d.get(f),m=p?.getRefNameColor(l),h=c&&zy(p,r.refName).length;return(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)(Mu.Typography,{style:{left:r.offsetPx+3,color:h?a.palette.text.primary:m},className:o.scalebarRefName,children:l}),(0,Zt.jsx)("div",{className:i(o.scalebarContig,h?void 0:u?o.scalebarContigReverse:o.scalebarContigForward,h?void 0:o.scalebarBorder),style:{left:r.offsetPx+s,width:r.widthPx,borderColor:m},children:h?(0,Zt.jsx)("svg",{style:{width:"100%"},children:(0,Zt.jsx)(eE,{overview:n,assembly:p,block:r})}):(0,Zt.jsx)(s9,{model:t,overview:n,scale:e,block:r})})]})}),fCe=(0,Zy.observer)(function({model:e,scale:t,overview:r}){let{classes:n}=sE(),o=(0,Mu.useTheme)(),{dynamicBlocks:i,showCytobands:a,cytobandOffset:s}=e,{pluginManager:c}=(0,Xy.getEnv)(e),u=i.contentBlocks,l=r.dynamicBlocks,f=o.palette.tertiary.light;if(!u.length)return null;let d=u.at(0),p=u.at(-1),m=r.bpToPx({...d,coord:d.reversed?d.end:d.start})||0,h=r.bpToPx({...p,coord:p.reversed?p.start:p.end})||0,v=a?"#f00":f,b=a?.1:.3,_=c.evaluateExtensionPoint("LinearGenomeView-OverviewScalebarComponent",void 0,{model:e,overview:r});return(0,Zt.jsxs)("div",{className:n.scalebar,children:[(0,Zt.jsx)("div",{className:n.scalebarVisibleRegion,style:{width:h-m,left:m+s,background:(0,Mu.alpha)(v,b),borderColor:v}}),l.map((S,x)=>S.type!=="ContentBlock"?(0,Zt.jsx)("div",{className:n.scalebarContig,style:{width:S.widthPx,left:S.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}},`${JSON.stringify(S)}-${x}`):(0,Zt.jsx)(lCe,{scale:t,block:S,model:e,overview:r},`${JSON.stringify(S)}-${x}`)),(0,Zt.jsx)(Dz,{model:e,overview:r}),_]})}),dCe=(0,Zy.observer)(function({model:e,children:t}){let{classes:r}=sE(),{minimumBlockWidth:n,totalBp:o,width:i,cytobandOffset:a,displayedRegions:s}=e,c=i-a,u=JSON.stringify(s),l=(0,c9.useMemo)(()=>{let d=l9.default.create({displayedRegions:JSON.parse(u),interRegionPaddingWidth:0,minimumBlockWidth:n});return d.setVolatileWidth(c),d.showAllRegions(),d},[u,n,c]),f=o/(c-(s.length-1)*cCe);return(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)(Jz,{model:e,overview:l,ControlComponent:(0,Zt.jsx)(fCe,{model:e,overview:l,scale:f})}),(0,Zt.jsxs)("div",{className:r.overview,children:[(0,Zt.jsx)("svg",{height:48,className:r.overviewSvg,children:(0,Zt.jsx)(oE,{model:e,overview:l})}),t]})]})}),d9=dCe});function uE({TextFieldProps:e,inputBoxVal:t,params:r,setInputValue:n,setCurrentSearch:o}){let{helperText:i,slotProps:a={}}=e;return(0,m9.jsx)(h9.TextField,{onBlur:()=>{n(t)},...r,...e,size:"small",helperText:i,slotProps:{input:{...r.InputProps,...a.input}},placeholder:"Search for location",onChange:s=>{o(s.target.value)}})}var m9,h9,g9=T(()=>{m9=g(F()),h9=g(Q())});function pCe(e,t){return e.filter(({result:r})=>r.getLabel().toLowerCase().includes(t)||r.matchedObject)}function v9(e,t){let r=pCe(e,t.toLocaleLowerCase());return[...r.slice(0,100),...r.length>100?[{group:"limitOption",result:new cE.default({label:"keep typing for more results"})}]:[]]}function mCe(e){let t={};for(let r of e){let n=r.getDisplayString();t[n]||(t[n]=[]),t[n].push(r)}return t}function b9(e){return Object.entries(mCe(e)).map(([t,r])=>r.length===1?{result:r[0]}:{result:new cE.default({displayString:t,results:r,label:t})})}var cE,y9=T(()=>{cE=g(Fp())});var lE,vi,Ky,Jl,_9,x9,hCe,Ql,Jy=T(()=>{lE=g(F()),vi=g($()),Ky=g(Fp()),Jl=g(Z()),_9=g(Q()),x9=g(re());g9();y9();hCe=(0,x9.observer)(function({model:e,onSelect:t,assemblyName:r,style:n,fetchResults:o,onChange:i,value:a,minWidth:s=200,maxWidth:c=550,TextFieldProps:u={}}){let l=(0,Jl.getSession)(e),{assemblyManager:f}=l,[d,p]=(0,vi.useState)(!1),[m,h]=(0,vi.useState)(!0),[v,b]=(0,vi.useState)(""),[_,S]=(0,vi.useState)(""),[x,C]=(0,vi.useState)(),O=(0,Jl.useDebounce)(v,50),k=r?f.get(r):void 0,{coarseVisibleLocStrings:P,hasDisplayedRegions:E}=e;(0,vi.useEffect)(()=>{let N={cancelled:!1};return(async()=>{try{if(O===""||!r)return;h(!1);let M=await o(O);N.cancelled||C(b9(M))}catch(M){console.error(M),N.cancelled||l.notifyError(`${M}`,M)}finally{N.cancelled||h(!0)}})(),()=>{N.cancelled=!0}},[r,o,O,l]);let R=P||a||"",I=k?.regions,q=(0,vi.useMemo)(()=>I?.map(N=>({result:new Ky.RefSequenceResult({refName:N.refName,label:N.refName,displayString:N.refName,matchedAttribute:"refName"})}))||[],[I]);return(0,lE.jsx)(_9.Autocomplete,{"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,disabled:!r,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:{...n,width:Math.min(Math.max((0,Jl.measureText)(R,14)+100,s),c)},value:R,loading:!m,inputValue:_,onInputChange:(N,M)=>{S(M),i?.(M)},loadingText:"loading results",open:d,onOpen:()=>{p(!0)},onClose:()=>{p(!1),h(!0),E&&(b(""),C(void 0))},onChange:(N,M)=>{!M||!r||(t?.(typeof M=="string"?new Ky.default({label:M}):M.result),S(R))},options:x?.length?x:q,getOptionDisabled:N=>N.group==="limitOption",filterOptions:(N,{inputValue:M})=>v9(N,M),renderInput:N=>(0,lE.jsx)(uE,{params:N,inputBoxVal:R,TextFieldProps:u,setCurrentSearch:b,setInputValue:S}),getOptionLabel:N=>typeof N=="string"?N:N.result.getDisplayString()})}),Ql=hCe});var w9,S9,C9=T(()=>{"use client";ct();w9=g(F(),1),S9=(0,Ee.createSvgIcon)((0,w9.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help")});var E9={};rt(E9,{default:()=>T9});function T9({handleClose:e}){return(0,et.jsxs)(k9.Dialog,{open:!0,maxWidth:"xl",onClose:e,title:"Using the search box",children:[(0,et.jsxs)(hs.DialogContent,{children:[(0,et.jsx)("h3",{children:"Searching"}),(0,et.jsxs)("ul",{children:[(0,et.jsx)("li",{children:"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."}),(0,et.jsxs)("li",{children:["Jump to a specific region by typing the region into the location box as: ",(0,et.jsx)("code",{children:"ref:start..end"})," or ",(0,et.jsx)("code",{children:"ref:start-end"}),". Commas are allowed in the start and end coordinates. A space-separated list of locstrings can be used to open up multiple chromosomes at a time"]})]}),(0,et.jsx)("h3",{children:"Example Searches"}),(0,et.jsxs)("ul",{children:[(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"BRCA"})," - searches for the feature named BRCA"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr4"})," - jumps to chromosome 4"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr4:79,500,000..80,000,000"})," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1:1-100 chr2:1-100"})," - create a split view of chr1:1-100 and chr2:1-100"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1 chr2 chr3"})," - open up multiple chromosomes at once"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1:1-100[rev] chr2:1-100"})," - open up the first region in the horizontally flipped orientation"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1 100 200"})," - use whitespace separated refname, start, end"]})]})]}),(0,et.jsx)(hs.Divider,{}),(0,et.jsx)(hs.DialogActions,{children:(0,et.jsx)(hs.Button,{onClick:()=>{e()},color:"primary",children:"Close"})})]})}var et,k9,hs,R9=T(()=>{et=g(F()),k9=g(He()),hs=g(Q())});function vCe(){let[e,t]=(0,ef.useState)(!1);return(0,pn.jsxs)(pn.Fragment,{children:[(0,pn.jsx)(Qy.IconButton,{onClick:()=>{t(!0)},size:"small",children:(0,pn.jsx)(S9,{fontSize:"small"})}),e?(0,pn.jsx)(ef.Suspense,{fallback:null,children:(0,pn.jsx)(gCe,{handleClose:()=>{t(!1)}})}):null]})}function fE({showHelp:e}){return(0,pn.jsx)(pn.Fragment,{children:(0,pn.jsxs)(Qy.InputAdornment,{position:"end",style:{marginRight:7},children:[(0,pn.jsx)(I4,{fontSize:"small"}),e?(0,pn.jsx)(vCe,{}):null]})})}var pn,ef,Qy,gCe,M9=T(()=>{pn=g(F()),ef=g($());C9();L4();Qy=g(Q()),gCe=(0,ef.lazy)(()=>Promise.resolve().then(()=>(R9(),E9)))});async function _Ce({option:e,model:t,assemblyName:r}){var n;let{assemblyManager:o}=(0,e_.getSession)(t),i=o.get(r);e.hasLocation()?await Tu({option:e,model:t,assemblyName:r}):!((n=e.results)===null||n===void 0)&&n.length?t.setSearchResults(e.results,e.getLabel()):i&&await Bl({input:e.getLabel(),assembly:i,model:t})}var dE,e_,t_,O9,P9,yCe,xCe,Yp,pE=T(()=>{dE=g(F()),e_=g(Z()),t_=g(Q()),O9=g(re()),P9=g(me());Jy();M9();Eu();zl();Mo();yCe=(0,P9.makeStyles)()({headerRefName:{minWidth:100}});xCe=(0,O9.observer)(function({model:e,showHelp:t=!0}){let{classes:r}=yCe(),n=(0,t_.useTheme)(),o=(0,e_.getSession)(e),{textSearchManager:i,assemblyManager:a}=o,{assemblyNames:s,rankSearchResults:c}=e,u=s[0],l=a.get(u),f=e.searchScope(u);return(0,dE.jsx)(Ql,{onSelect:async d=>{try{await _Ce({model:e,assemblyName:u,option:d})}catch(p){console.error(p),(0,e_.getSession)(e).notify(`${p}`,"warning")}},assemblyName:u,fetchResults:d=>By({queryString:d,searchScope:f,rankSearchResults:c,textSearchManager:i,assembly:l}),model:e,minWidth:175,TextFieldProps:{variant:"outlined",className:r.headerRefName,style:{margin:7},slotProps:{input:{style:{padding:0,height:32,background:(0,t_.alpha)(n.palette.background.paper,.8)},endAdornment:(0,dE.jsx)(fE,{showHelp:t})}}}})}),Yp=xCe});var mn,j9,I9,L9,wCe,A9,m4e,N9=T(()=>{mn=g(F()),j9=g(Q()),I9=g(re()),L9=g(me());W4();Z4();rz();QT();p9();pE();Mo();wCe=(0,L9.makeStyles)()({headerBar:{display:"flex",height:48},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1}}),A9=function({model:e}){let{classes:t}=wCe();return(0,mn.jsxs)("div",{className:t.headerBar,children:[(0,mn.jsx)(tz,{model:e}),(0,mn.jsx)("div",{className:t.spacer}),(0,mn.jsxs)(j9.FormGroup,{row:!0,className:t.headerForm,children:[(0,mn.jsx)($T,{model:e}),(0,mn.jsx)(Yp,{model:e})]}),(0,mn.jsx)(X4,{model:e}),(0,mn.jsx)(JT,{model:e}),(0,mn.jsx)("div",{className:t.spacer})]})},m4e=(0,I9.observer)(function({model:e}){let{hideHeader:t,hideHeaderOverview:r}=e;return t?null:r?(0,mn.jsx)(A9,{model:e}):(0,mn.jsx)(d9,{model:e,children:(0,mn.jsx)(A9,{model:e})})})});var D9,tf,r_=T(()=>{"use client";ct();D9=g(F(),1),tf=(0,Ee.createSvgIcon)((0,D9.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")});var bi,F9,q9,gs,B9,z9,SCe,x4e,H9=T(()=>{bi=g(F()),F9=g(Ly()),q9=g(Z());r_();BT();ZT();gs=g(Q()),B9=g(re()),z9=g(me()),SCe=(0,z9.makeStyles)()(e=>({background:{position:"absolute",right:0,background:e.palette.background.paper,zIndex:2},focusedBackground:{background:(0,gs.alpha)(e.palette.secondary.light,.2)}})),x4e=(0,B9.observer)(function({model:e}){let{classes:t}=SCe(),{id:r,bpPerPx:n,maxBpPerPx:o,minBpPerPx:i,scaleFactor:a,hideHeader:s}=e,{focusedViewId:c}=(0,q9.getSession)(e);return s?(0,bi.jsx)(gs.Paper,{className:t.background,children:(0,bi.jsxs)(gs.Paper,{className:c===r?t.focusedBackground:void 0,children:[(0,bi.jsx)(F9.default,{menuItems:e.menuItems(),children:(0,bi.jsx)(tf,{fontSize:"small"})}),(0,bi.jsx)(gs.IconButton,{"data-testid":"zoom_out",onClick:()=>{e.zoom(n*2)},disabled:n>=o-1e-4||a!==1,children:(0,bi.jsx)(Dy,{fontSize:"small"})}),(0,bi.jsx)(gs.IconButton,{"data-testid":"zoom_in",onClick:()=>{e.zoom(n/2)},disabled:n<=i+1e-4||a!==1,children:(0,bi.jsx)(Cy,{fontSize:"small"})})]})}):null})});var $9=y((S4e,W9)=>{W9.exports=JBrowseExports["@mui/material/Paper"]});function CCe({block:e,bpPerPx:t}){let{classes:r,cx:n}=V9(),o=Gp(e.start,e.end,t);return(0,Qn.jsx)(Dl,{block:e,children:o.map(({type:i,base:a})=>{let s=(e.reversed?e.end-a:a-e.start)/t;return(0,Qn.jsx)("div",{className:n(r.tick,i==="major"||i==="labeledMajor"?r.majorTick:r.minorTick),style:{left:s}},a)})})}var Qn,mE,U9,V9,kCe,TCe,rf,n_=T(()=>{Qn=g(F()),mE=g(re()),U9=g(me());Np();Kl();V9=(0,U9.makeStyles)()(e=>({verticalGuidesZoomContainer:{position:"absolute",top:0,height:"100%",width:"100%",pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.action.disabled},minorTick:{background:e.palette.divider}}));kCe=(0,mE.observer)(({model:e})=>{let{staticBlocks:t,bpPerPx:r}=e;return(0,Qn.jsx)(Qn.Fragment,{children:t.map((n,o)=>{let i=`${n.key}-${o}`;return n.type==="ContentBlock"?(0,Qn.jsx)(CCe,{block:n,bpPerPx:r},i):n.type==="ElidedBlock"?(0,Qn.jsx)(Fl,{width:n.widthPx},i):n.type==="InterRegionPaddingBlock"?(0,Qn.jsx)(ql,{width:n.widthPx,boundary:n.variant==="boundary"},i):null})})}),TCe=(0,mE.observer)(function({model:e,offset:t=0}){let{classes:r}=V9(),n=e.staticBlocks.offsetPx-e.offsetPx;return(0,Qn.jsx)("div",{className:r.verticalGuidesZoomContainer,style:{transform:e.scaleFactor!==1?`scaleX(${e.scaleFactor})`:void 0},children:(0,Qn.jsx)("div",{className:r.verticalGuidesContainer,style:{left:n-t,width:e.staticBlocks.totalWidthPx},children:(0,Qn.jsx)(kCe,{model:e})})})}),rf=TCe});var G9,nf,o_=T(()=>{"use client";ct();G9=g(F(),1),nf=(0,Ee.createSvgIcon)((0,G9.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")});var Y9,X9,Z9=T(()=>{"use client";ct();Y9=g(F(),1),X9=(0,Ee.createSvgIcon)((0,Y9.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator")});function RCe({trackId:e,view:t,track:r}){let{classes:n}=ECe();return(0,hE.jsx)("span",{draggable:!0,className:n.dragHandle,onDragStart:o=>{let i=o.currentTarget;if(i.parentNode){let a=i.parentNode;o.dataTransfer.setDragImage(a,20,20),t.setDraggingTrackId(r.id)}},onDragEnd:()=>{t.setDraggingTrackId(void 0)},"data-testid":`dragHandle-${t.id}-${e}`,children:(0,hE.jsx)(X9,{className:n.dragHandleIcon,fontSize:"small"})})}var hE,K9,ECe,J9,Q9=T(()=>{hE=g(F());Z9();K9=g(me()),ECe=(0,K9.makeStyles)()({dragHandle:{cursor:"grab"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"}});J9=RCe});var eH,tH,rH=T(()=>{"use client";ct();eH=g(F(),1),tH=(0,Ee.createSvgIcon)((0,eH.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")});var nH,i_,gE=T(()=>{"use client";ct();nH=g(F(),1),i_=(0,Ee.createSvgIcon)((0,nH.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp")});var vE,a_,bE=T(()=>{"use client";ct();vE=g(F(),1),a_=(0,Ee.createSvgIcon)([(0,vE.jsx)("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),(0,vE.jsx)("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown")});var yE,s_,_E=T(()=>{"use client";ct();yE=g(F(),1),s_=(0,Ee.createSvgIcon)([(0,yE.jsx)("path",{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},"0"),(0,yE.jsx)("path",{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},"1")],"KeyboardDoubleArrowUp")});var oH,iH,aH=T(()=>{"use client";ct();oH=g(F(),1),iH=(0,Ee.createSvgIcon)((0,oH.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize")});var sH,uH,cH=T(()=>{"use client";ct();sH=g(F(),1),uH=(0,Ee.createSvgIcon)((0,sH.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin")});var xE,lH,u_,fH,MCe,dH,pH=T(()=>{xE=g(F()),lH=g(Ly()),u_=g(Z());rH();r_();gE();bE();_E();aH();XT();cH();fH=g(re()),MCe=(0,fH.observer)(function({track:e}){var t;let r=(0,u_.getContainingView)(e),n=(0,u_.getSession)(e),o=e.configuration,i=e.minimized,a=e.pinned,{isTopLevelView:s}=r,c=[...s?[{label:a?"Unpin track":"Pin track",icon:uH,onClick:()=>{e.setPinned(!a)}}]:[],{label:"Track order",type:"subMenu",priority:2e3,subMenu:[{label:i?"Restore track":"Minimize track",icon:i?tH:iH,onClick:()=>{e.setMinimized(!i)}},...r.tracks.length>2?[{label:"Move track to top",icon:s_,onClick:()=>{r.moveTrackToTop(e.id)}}]:[],{label:"Move track up",icon:i_,onClick:()=>{r.moveTrackUp(e.id)}},{label:"Move track down",icon:tf,onClick:()=>{r.moveTrackDown(e.id)}},...r.tracks.length>2?[{label:"Move track to bottom",icon:a_,onClick:()=>{r.moveTrackToBottom(e.id)}}]:[]]},...((t=n.getTrackActionMenuItems)===null||t===void 0?void 0:t.call(n,o))||[],...e.trackMenuItems()].sort((u,l)=>(l?.priority||0)-(u?.priority||0));return(0,xE.jsx)(lH.default,{menuItems:c,"data-testid":"track_menu_icon",children:(0,xE.jsx)(Ny,{fontSize:"small"})})}),dH=MCe});var Ji,mH,hH,gH,c_,vH,vs,bH,yH,OCe,PCe,_H,xH=T(()=>{Ji=g(F()),mH=g($()),hH=g(xe()),gH=g(He()),c_=g(Z()),vH=g(yn());o_();vs=g(Q()),bH=g(re()),yH=g(me());Q9();pH();OCe=(0,yH.makeStyles)()(e=>({root:{zIndex:200,background:(0,vs.alpha)(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper}},trackName:{fontSize:"0.8rem"},iconButton:{padding:e.spacing(1)}})),PCe=(0,bH.observer)((0,mH.forwardRef)(function({track:t,className:r},n){let{classes:o,cx:i}=OCe(),a=(0,c_.getContainingView)(t),s=(0,c_.getSession)(t),c=t.configuration,{minimized:u}=t,l=(0,hH.getConf)(t,"trackId"),f=(0,vH.getTrackName)(c,s);return(0,Ji.jsxs)(vs.Paper,{ref:n,className:i(r,o.root),onClick:d=>{d.stopPropagation()},children:[(0,Ji.jsx)(J9,{track:t,trackId:l,view:a}),(0,Ji.jsx)(vs.IconButton,{onClick:()=>a.hideTrack(l),className:o.iconButton,title:"close this track",children:(0,Ji.jsx)(nf,{fontSize:"small"})}),(0,Ji.jsx)(vs.Typography,{variant:"body1",component:"span",className:o.trackName,onMouseDown:d=>{d.stopPropagation()},children:(0,Ji.jsx)(gH.SanitizedHTML,{html:[f,u?"(minimized)":""].filter(d=>!!d).join(" ")})}),(0,Ji.jsx)(dH,{track:t})]})})),_H=PCe});var wH,SH,CH,ACe,jCe,kH,TH=T(()=>{wH=g(F()),SH=g(re()),CH=g(me());xH();ACe=(0,CH.makeStyles)()({trackLabel:{zIndex:2},trackLabelOffset:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"}}),jCe=(0,SH.observer)(function({track:e,view:t}){let{classes:r,cx:n}=ACe(),o=e.displays[0],{trackLabel:i,trackLabelOverlap:a,trackLabelOffset:s}=r,c=t.trackLabelsSetting!=="overlapping"||o.prefersOffset?s:a;return t.trackLabelsSetting!=="hidden"?(0,wH.jsx)(_H,{track:e,className:n(i,c)}):null}),kH=jCe});var eo,of,EH,RH,MH,OH,ICe,LCe,PH,AH=T(()=>{eo=g(F()),of=g($()),EH=g(xe()),RH=g(He()),MH=g(re()),OH=g(me()),ICe=(0,OH.makeStyles)()({renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none"}}),LCe=(0,MH.observer)(function({model:e,track:t,onDragEnter:r}){let{classes:n}=ICe(),o=t.displays[0],{height:i,RenderingComponent:a,DisplayBlurb:s}=o,{trackRefs:c,id:u,scaleFactor:l}=e,f=(0,EH.getConf)(t,"trackId"),d=(0,of.useRef)(null),p=t.minimized;return(0,of.useEffect)(()=>(d.current&&(c[f]=d.current),()=>{delete c[f]}),[c,f]),(0,eo.jsx)("div",{className:n.trackRenderingContainer,style:{height:p?20:i},onScroll:m=>o.setScrollTop(m.currentTarget.scrollTop),onDragEnter:r,"data-testid":`trackRenderingContainer-${u}-${f}`,children:p?null:(0,eo.jsxs)(eo.Fragment,{children:[(0,eo.jsx)("div",{ref:d,className:n.renderingComponentContainer,style:{transform:l!==1?`scaleX(${l})`:void 0},children:(0,eo.jsx)(of.Suspense,{fallback:(0,eo.jsx)(RH.LoadingEllipses,{}),children:(0,eo.jsx)(a,{model:o,onHorizontalScroll:e.horizontalScroll})})}),s?(0,eo.jsx)("div",{style:{position:"absolute",left:0,top:o.height-20},children:(0,eo.jsx)(s,{model:o})}):null]})})}),PH=LCe});var Qi,jH,l_,IH,LH,NH,DH,FH,NCe,DCe,wE,qH=T(()=>{Qi=g(F()),jH=g($()),l_=g(He()),IH=g(wx()),LH=g(Q()),NH=g(re()),DH=g(Oe()),FH=g(me());n_();TH();AH();NCe=(0,FH.makeStyles)()(e=>({root:{marginTop:2,overflow:"hidden",position:"relative"},unpinnedTrack:{background:"none"},resizeHandle:{height:4,boxSizing:"border-box",position:"relative",background:"transparent","&:hover":{background:e.palette.divider}}})),DCe=(0,NH.observer)(function({model:e,track:t}){let{classes:r,cx:n}=NCe(),o=t.displays[0],{draggingTrackId:i,showTrackOutlines:a}=e,s=(0,jH.useRef)(null);return(0,Qi.jsxs)(LH.Paper,{ref:s,className:n(r.root,t.pinned?null:r.unpinnedTrack),variant:a?"outlined":void 0,elevation:a?void 0:0,onClick:c=>{var u;if(c.detail===2&&!t.displays[0].featureIdUnderMouse){let l=((u=s.current)===null||u===void 0?void 0:u.getBoundingClientRect().left)||0;e.zoomTo(e.bpPerPx/2,c.clientX-l,!0)}},children:[t.pinned?(0,Qi.jsx)(rf,{model:e,offset:1}):null,(0,Qi.jsx)(kH,{track:t,view:e}),(0,Qi.jsx)(IH.ErrorBoundary,{FallbackComponent:c=>(0,Qi.jsx)(l_.ErrorMessage,{error:c.error}),children:(0,Qi.jsx)(PH,{model:e,track:t,onDragEnter:()=>{(0,DH.isAlive)(o)&&i!==void 0&&i!==o.id&&e.moveTrack(i,t.id)}})}),(0,Qi.jsx)(l_.ResizeHandle,{onDrag:o.resizeHeight,className:r.resizeHandle})]})}),wE=DCe});var bs,BH,zH,HH,WH,FCe,qCe,f_,SE=T(()=>{bs=g(F()),BH=g(Z()),zH=g(Q()),HH=g(re()),WH=g(me()),FCe=(0,WH.makeStyles)()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",background:"red",zIndex:1001},tooltipTarget:{position:"sticky",width:1}}),qCe=(0,HH.observer)(function({model:t,coordX:r}){let{classes:n}=FCe(),{stickyViewHeaders:o,rubberbandTop:i}=t;return(0,bs.jsxs)(bs.Fragment,{children:[(0,bs.jsx)(zH.Tooltip,{open:!0,placement:"top",title:(0,BH.stringify)(t.pxToBp(r)),arrow:!0,children:(0,bs.jsx)("div",{className:n.tooltipTarget,style:{left:r+6,top:i,position:o?"sticky":void 0}})}),(0,bs.jsx)("div",{className:n.guide,style:{left:r}})]})}),f_=qCe});function d_(e,t,r){let[n,o]=(0,ea.useState)(),[i,a]=(0,ea.useState)(),[s,c]=(0,ea.useState)(),[u,l]=(0,ea.useState)(),f=n!==void 0&&s===void 0,d=(0,ea.useCallback)(()=>{c(void 0),o(void 0),a(void 0)},[]);(0,ea.useEffect)(()=>{function P(I){if(n===void 0)return;let q=Math.min(n,I),N=Math.max(n,I);return{leftOffset:t.pxToBp(q),rightOffset:t.pxToBp(N)}}function E(I){if(e.current&&f){let q=gi(I,e.current);a(q)}}function R(I){if(n!==void 0&&e.current){let{clientX:q,clientY:N}=I,M=gi(I,e.current);if(Math.abs(M-n)<=3){d();return}c({offsetX:M,clientX:q,clientY:N});let D=P(M);D&&t.setOffsets(D.leftOffset,D.rightOffset),l(void 0)}}return f?(window.addEventListener("mousemove",E),window.addEventListener("mouseup",R),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",R)}):()=>{}},[n,f,t,e,d]);function p(P){if(r&&!P.shiftKey)return;P.preventDefault(),P.stopPropagation();let E=gi(P,e.current);o(E),a(E)}function m(P){r?P.shiftKey?l(gi(P,e.current)):l(void 0):l(gi(P,e.current))}function h(){l(void 0)}function v(P,E){E(),d()}let b=!!s;if(n===void 0)return{open:b,guideX:u,mouseDown:p,mouseMove:m,mouseOut:h,handleMenuItemClick:v};let _=s?s.offsetX:i||0,S=Math.min(_,n),x=Math.abs(_-n),C=t.pxToBp(S),O=t.pxToBp(S+x),k=Math.ceil(x*t.bpPerPx);return{open:b,rubberbandOn:!0,mouseDown:p,mouseMove:m,mouseOut:h,handleClose:d,handleMenuItemClick:v,leftBpOffset:C,rightBpOffset:O,anchorPosition:s,numOfBpSelected:k,width:x,left:S}}var ea,CE=T(()=>{ea=g($());Eu()});var yi,$H,UH,VH,GH,BCe,zCe,YH,XH=T(()=>{yi=g(F()),$H=g($()),UH=g(He()),VH=g(re()),GH=g(me());Vy();SE();CE();BCe=(0,GH.makeStyles)()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8,zIndex:825}}),zCe=(0,VH.observer)(function({model:e,ControlComponent:t=(0,yi.jsx)("div",{})}){let r=(0,$H.useRef)(null),{classes:n}=BCe(),{stickyViewHeaders:o,rubberbandTop:i}=e,{guideX:a,rubberbandOn:s,leftBpOffset:c,rightBpOffset:u,numOfBpSelected:l,width:f,left:d,anchorPosition:p,open:m,handleMenuItemClick:h,handleClose:v,mouseMove:b,mouseDown:_,mouseOut:S}=d_(r,e);return(0,yi.jsxs)(yi.Fragment,{children:[a!==void 0?(0,yi.jsx)(f_,{model:e,coordX:a}):s?(0,yi.jsx)(Zl,{leftBpOffset:c,rightBpOffset:u,numOfBpSelected:l,width:f,left:d,top:i,sticky:o}):null,p?(0,yi.jsx)(UH.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:p.clientX,top:p.clientY},onMenuItemClick:h,open:m,onClose:v,menuItems:e.rubberBandMenuItems()}):null,(0,yi.jsx)("div",{"data-testid":"rubberband_controls",className:n.rubberbandControl,style:{top:i,position:o?"sticky":void 0},ref:r,onMouseDown:_,onMouseMove:b,onMouseOut:S,children:t})]})}),YH=zCe});var p_,ZH,KH,JH,HCe,WCe,QH,eW=T(()=>{p_=g(F()),ZH=g(Z()),KH=g(Q()),JH=g(me());Np();Kl();HCe=(0,JH.makeStyles)()(e=>({majorTickLabel:{fontSize:11,zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"}})),WCe=function({block:e,bpPerPx:t}){let{classes:r}=HCe(),{reversed:n,start:o,end:i}=e,a=Gp(o,i,t,!0,!1);return(0,p_.jsx)(Dl,{block:e,children:a.map(({type:s,base:c})=>{if(s==="major"){let u=(n?i-c:c-o)/t,l=c+1;return(0,p_.jsx)("div",{className:r.tick,style:{left:u},children:l?(0,p_.jsx)(KH.Typography,{className:r.majorTickLabel,children:(0,ZH.getTickDisplayStr)(l,t)}):null},c)}return null})})},QH=WCe});var Ou,tW,$Ce,rW,nW=T(()=>{Ou=g(F()),tW=g(re());eW();Np();$Ce=(0,tW.observer)(function({model:e}){let{staticBlocks:t,bpPerPx:r}=e;return(0,Ou.jsx)(Ou.Fragment,{children:t.map((n,o)=>{let{key:i,widthPx:a}=n,s=`${i}-${o}`;return n.type==="ContentBlock"?(0,Ou.jsx)(QH,{block:n,bpPerPx:r},s):n.type==="ElidedBlock"?(0,Ou.jsx)(Fl,{width:a},s):n.type==="InterRegionPaddingBlock"?(0,Ou.jsx)(ql,{width:a,style:{background:"none"},boundary:n.variant==="boundary"},s):null})})}),rW=$Ce});var Pu,kE,oW,iW,UCe,VCe,aW,sW=T(()=>{Pu=g(F()),kE=g(Q()),oW=g(re()),iW=g(me()),UCe=(0,iW.makeStyles)()(e=>({refLabel:{fontSize:11,position:"absolute",left:2,top:-1,fontWeight:"bold",lineHeight:"normal",zIndex:1,background:e.palette.background.paper},b0:{left:0,zIndex:100}})),VCe=(0,oW.observer)(function({model:e}){let{classes:t,cx:r}=UCe(),{staticBlocks:n,offsetPx:o,scaleBarDisplayPrefix:i}=e,a=0;n.forEach((u,l)=>{u.offsetPx-o<0&&(a=l)});let s=i(),c=n.blocks[0];return(0,Pu.jsxs)(Pu.Fragment,{children:[c?.type!=="ContentBlock"&&s?(0,Pu.jsx)(kE.Typography,{className:r(t.b0,t.refLabel),children:s}):null,n.map((u,l)=>{let{offsetPx:f,isLeftEndOfDisplayedRegion:d,key:p,type:m,refName:h}=u,v=l===a;return m==="ContentBlock"&&(d||v)?(0,Pu.jsxs)(kE.Typography,{style:{left:v?Math.max(0,-o):f-o-1,paddingLeft:v?0:1},className:t.refLabel,"data-testid":`refLabel-${h}`,children:[v&&s?`${s}:`:"",h]},`refLabel-${p}-${l}`):null})]})}),aW=VCe});var ys,uW,cW,lW,fW,GCe,YCe,dW,pW=T(()=>{ys=g(F()),uW=g($()),cW=g(Q()),lW=g(re()),fW=g(me());n_();nW();sW();GCe=(0,fW.makeStyles)()({container:{overflow:"hidden",position:"relative"},zoomContainer:{position:"relative"},scalebar:{position:"absolute",display:"flex",pointerEvents:"none"}}),YCe=(0,lW.observer)((0,uW.forwardRef)(function({model:t,style:r,className:n,...o},i){let{classes:a,cx:s}=GCe(),{staticBlocks:c,offsetPx:u,scaleFactor:l}=t,f=c.offsetPx-u;return(0,ys.jsxs)(cW.Paper,{"data-resizer":"true",className:s(a.container,n),variant:"outlined",ref:i,style:r,...o,children:[(0,ys.jsx)(rf,{model:t,offset:1}),(0,ys.jsx)("div",{className:a.zoomContainer,style:{transform:l!==1?`scaleX(${l})`:void 0},children:(0,ys.jsx)("div",{className:a.scalebar,style:{left:f-1,width:c.totalWidthPx,...r},children:(0,ys.jsx)(rW,{model:t})})}),(0,ys.jsx)(aW,{model:t})]})})),dW=YCe});function mW(e){let[t,r]=(0,Au.useState)(!1),n=(0,Au.useRef)(!1),o=(0,Au.useRef)(0);(0,Au.useEffect)(()=>{let s=()=>{};function c(l){l.preventDefault();let d=l.clientX-o.current;d&&(n.current||(n.current=!0,window.requestAnimationFrame(()=>{e.horizontalScroll(-d),n.current=!1,o.current=l.clientX})))}function u(){o.current=0,t&&r(!1)}return t&&(window.addEventListener("mousemove",c,!0),window.addEventListener("mouseup",u,!0),s=()=>{window.removeEventListener("mousemove",c,!0),window.removeEventListener("mouseup",u,!0)}),s},[e,t]);function i(s){if(s.shiftKey)return;let c=s.target;c.draggable||c.dataset.resizer||s.button===0&&(o.current=s.clientX,r(!0))}function a(s){s.preventDefault(),r(!1)}return{mouseDown:i,mouseUp:a}}var Au,hW=T(()=>{Au=g($())});function vW(e,t){let r=(0,af.useRef)(0),n=(0,af.useRef)(null),o=(0,af.useRef)(!1);(0,af.useEffect)(()=>{let i=[],a=e.current;function s(c){if(c.ctrlKey){c.preventDefault(),i.push(c.deltaY);let u=Math.abs((0,gW.sum)(i))/i.length,l=u<6?25:u>30?u>150?500:150:75;r.current+=c.deltaY/l,t.setScaleFactor(r.current<0?1-r.current:1/(1+r.current)),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t.setScaleFactor(1),t.zoomTo(r.current>0?t.bpPerPx*(1+r.current):t.bpPerPx/(1-r.current),c.clientX-(a?.getBoundingClientRect().left||0)),r.current=0,i=[]},300)}else Math.abs(c.deltaX)>Math.abs(2*c.deltaY)&&c.preventDefault(),r.current+=c.deltaX,o.current||(o.current=!0,window.requestAnimationFrame(()=>{t.horizontalScroll(r.current),r.current=0,o.current=!1}))}return a?(a.addEventListener("wheel",s),()=>{a.removeEventListener("wheel",s)}):()=>{}},[t,e])}var af,gW,bW=T(()=>{af=g($()),gW=g(Z())});var wW={};rt(wW,{default:()=>KCe});var m_,yW,_W,xW,XCe,ZCe,KCe,SW=T(()=>{m_=g(F()),yW=g($()),_W=g(re()),xW=g(me()),XCe=(0,xW.makeStyles)()(e=>({centerLineContainer:{background:"transparent",height:"100%",zIndex:4,position:"absolute",border:`1px ${e.palette.action.active} dashed`,borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}})),ZCe=(0,_W.observer)(function({model:e}){let{bpPerPx:t,centerLineInfo:r,trackHeights:n,tracks:o,width:i}=e,a=(0,yW.useRef)(null),{classes:s}=XCe(),c=i/2;return o.length?(0,m_.jsx)("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:a,style:{left:`${c}px`,width:Math.max(1/t,1)},children:r&&(0,m_.jsxs)("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/t,1)+5,top:n},children:[r.refName,":"," ",Math.max(Math.round(r.offset)+1,0)]})}):null}),KCe=ZCe});var CW,kW,TW=T(()=>{"use client";ct();CW=g(F(),1),kW=(0,Ee.createSvgIcon)((0,CW.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")});var EW,RW,MW=T(()=>{"use client";ct();EW=g(F(),1),RW=(0,Ee.createSvgIcon)((0,EW.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link")});var IW={};rt(IW,{default:()=>eke});var ju,h_,OW,PW,TE,g_,AW,jW,JCe,QCe,eke,LW=T(()=>{ju=g(F()),h_=g($()),OW=g(He()),PW=g(Z()),TE=g(Od());TW();o_();MW();g_=g(Q()),AW=g(re()),jW=g(me()),JCe=(0,jW.makeStyles)()(e=>({highlight:{height:"100%",position:"absolute",overflow:"hidden",background:(0,TE.colord)(e.palette.highlight.main).alpha(.35).toRgbString()},linkIcon:{color:(0,TE.colord)(e.palette.highlight.main).darken(.2).toRgbString()},z3:{zIndex:3}})),QCe=(0,AW.observer)(function({model:e,highlight:t}){var r;let{classes:n}=JCe(),[o,i]=(0,h_.useState)(!1),a=(0,h_.useRef)(null),s=(0,PW.getSession)(e),{assemblyManager:c}=s,u=()=>{e.removeHighlight(t)};function l(){i(!1)}let f=m=>{let h=e.bpToPx({refName:m.refName,coord:m.start}),v=e.bpToPx({refName:m.refName,coord:m.end});return h&&v?{width:Math.max(Math.abs(v.offsetPx-h.offsetPx),3),left:Math.min(h.offsetPx,v.offsetPx)-e.offsetPx}:void 0},d=c.get(t.assemblyName),p=f({...t,refName:(r=d?.getCanonicalRefName(t.refName))!==null&&r!==void 0?r:t.refName});return p?(0,ju.jsxs)("div",{className:n.highlight,style:{left:p.left,width:p.width},children:[(0,ju.jsx)(g_.Tooltip,{title:"Highlighted from URL parameter",arrow:!0,children:(0,ju.jsx)(g_.IconButton,{ref:a,className:n.z3,onClick:()=>{i(!0)},children:(0,ju.jsx)(RW,{fontSize:"small",className:n.linkIcon})})}),(0,ju.jsx)(OW.Menu,{anchorEl:a.current,onMenuItemClick:(m,h)=>{h(s),l()},open:o,onClose:l,menuItems:[{label:"Dismiss highlight",icon:nf,onClick:()=>{u()}},{label:"Bookmark highlighted region",icon:kW,onClick:()=>{let m=s.widgets.get("GridBookmark");m||(m=s.addWidget("GridBookmarkWidget","GridBookmark")),m.addBookmark(t),u()}}]})]}):null}),eke=QCe});var Yr,_i,DW,FW,EE,qW,tke,rke,nke,oke,ike,ake,BW,zW=T(()=>{Yr=g(F()),_i=g($()),DW=g(He()),FW=g(Z()),EE=g(re()),qW=g(me());n_();XH();pW();SE();Mo();CE();hW();bW();tke=(0,_i.lazy)(()=>Promise.resolve().then(()=>(SW(),wW))),rke=(0,_i.lazy)(()=>Promise.resolve().then(()=>(LW(),IW))),nke=(0,_i.lazy)(()=>Promise.resolve().then(()=>(Vy(),Yz))),oke=(0,qW.makeStyles)()({tracksContainer:{position:"relative"}}),ike=(0,EE.observer)(function({children:t,model:r}){let{classes:n}=oke(),{pluginManager:o}=(0,FW.getEnv)(r),{mouseDown:i,mouseUp:a}=mW(r),{stickyViewHeaders:s,rubberbandTop:c,showGridlines:u,showCenterLine:l}=r,f=(0,_i.useRef)(null),{guideX:d,rubberbandOn:p,leftBpOffset:m,rightBpOffset:h,numOfBpSelected:v,width:b,left:_,anchorPosition:S,open:x,handleMenuItemClick:C,handleClose:O,mouseMove:k,mouseDown:P}=d_(f,r,!0);vW(f,r);let E=o.evaluateExtensionPoint("LinearGenomeView-TracksContainerComponent",void 0,{model:r});return(0,Yr.jsxs)("div",{ref:f,"data-testid":"tracksContainer",className:n.tracksContainer,onMouseDown:R=>{i(R),P(R)},onMouseMove:k,onMouseUp:a,children:[u?(0,Yr.jsx)(rf,{model:r}):null,(0,Yr.jsx)(_i.Suspense,{fallback:null,children:l?(0,Yr.jsx)(tke,{model:r}):null}),d!==void 0?(0,Yr.jsx)(f_,{model:r,coordX:d}):p?(0,Yr.jsx)(_i.Suspense,{fallback:null,children:(0,Yr.jsx)(nke,{leftBpOffset:m,rightBpOffset:h,numOfBpSelected:v,width:b,left:_,top:c,sticky:s})}):null,S?(0,Yr.jsx)(DW.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:S.clientX,top:S.clientY},onMenuItemClick:C,open:x,onClose:O,menuItems:r.rubberBandMenuItems()}):null,(0,Yr.jsx)(YH,{model:r,ControlComponent:(0,Yr.jsx)(dW,{model:r,style:{height:17,boxSizing:"border-box"}})}),(0,Yr.jsx)(ake,{model:r}),E,t]})}),ake=(0,EE.observer)(function({model:t}){return t.highlight.length?(0,Yr.jsx)(_i.Suspense,{fallback:null,children:t.highlight.map((r,n)=>(0,Yr.jsx)(rke,{model:t,highlight:r},`${JSON.stringify(r)}-${n}`))}):null}),BW=ike});var UW={};rt(UW,{default:()=>cke});var xi,HW,sf,WW,$W,ske,uke,cke,VW=T(()=>{xi=g(F()),HW=g(wy()),sf=g(Q()),WW=g(re()),$W=g(me()),ske=(0,$W.makeStyles)()(e=>({note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},top:{zIndex:800}})),uke=(0,WW.observer)(function({model:e}){let{classes:t}=ske(),{hideNoTracksActive:r}=e;return(0,xi.jsx)(sf.Paper,{className:t.note,children:r?(0,xi.jsx)("div",{style:{height:"48px"}}):(0,xi.jsxs)(xi.Fragment,{children:[(0,xi.jsx)(sf.Typography,{children:"No tracks active."}),(0,xi.jsx)(sf.Button,{variant:"contained",color:"primary",onClick:()=>e.activateTrackSelector(),className:t.top,startIcon:(0,xi.jsx)(HW.TrackSelector,{}),children:"Open track selector"})]})})}),cke=uke});var Xr,_s,GW,YW,XW,ZW,KW,lke,fke,dke,JW,QW=T(()=>{Xr=g(F()),_s=g($()),GW=g(He()),YW=g(Z()),XW=g($9()),ZW=g(re()),KW=g(me());qH();zW();lke=(0,_s.lazy)(()=>Promise.resolve().then(()=>(VW(),UW))),fke=(0,KW.makeStyles)()(e=>({header:{background:e.palette.background.paper,top:GW.VIEW_HEADER_HEIGHT,zIndex:850},pinnedTracks:{position:"sticky",zIndex:3},rel:{position:"relative"}})),dke=(0,ZW.observer)(function({model:e}){let{pinnedTracks:t,stickyViewHeaders:r,pinnedTracksTop:n,tracks:o,unpinnedTracks:i}=e,{classes:a}=fke(),s=(0,YW.getSession)(e),c=(0,_s.useRef)(null),u=e.MiniControlsComponent(),l=e.HeaderComponent();return(0,_s.useEffect)(()=>{function f(d){var p,m;d.target instanceof Element&&(!((p=c.current)===null||p===void 0)&&p.contains(d.target))&&((m=s.setFocusedViewId)===null||m===void 0||m.call(s,e.id))}return document.addEventListener("mousedown",f),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",f)}},[s,e]),(0,Xr.jsxs)("div",{className:a.rel,ref:c,onMouseLeave:()=>{s.setHovered(void 0)},onMouseMove:f=>{let d=c.current;if(!d)return;let{tracks:p}=e,m=f.clientX-d.getBoundingClientRect().left,h=e.pxToBp(m),v=p.find(b=>b.displays[0].featureUnderMouse);s.setHovered({hoverPosition:h,hoverFeature:v})},children:[(0,Xr.jsxs)("div",{className:a.header,style:{position:r?"sticky":void 0},children:[(0,Xr.jsx)(l,{model:e}),(0,Xr.jsx)(u,{model:e})]}),(0,Xr.jsx)(BW,{model:e,children:o.length?(0,Xr.jsxs)(Xr.Fragment,{children:[t.length?(0,Xr.jsx)(XW.default,{elevation:6,className:a.pinnedTracks,style:{top:n},children:t.map(f=>(0,Xr.jsx)(wE,{model:e,track:f},f.id))}):null,i.map(f=>(0,Xr.jsx)(wE,{model:e,track:f},f.id))]}):(0,Xr.jsx)(_s.Suspense,{fallback:null,children:(0,Xr.jsx)(lke,{model:e})})})]})}),JW=dke});var e$,t$,r$,pke,n$,o$=T(()=>{e$=g(F()),t$=g(Z()),r$=g(re());Jy();Eu();pke=(0,r$.observer)(function({model:e,selectedAsm:t,value:r,setValue:n,setOption:o}){let i=(0,t$.getSession)(e),{assemblyManager:a,textSearchManager:s}=i,{rankSearchResults:c}=e,u=e.searchScope(t),l=a.get(t);return(0,e$.jsx)(Ql,{fetchResults:f=>By({queryString:f,assembly:l,textSearchManager:s,rankSearchResults:c,searchScope:u}),model:e,assemblyName:t,value:r,minWidth:270,onChange:f=>{n(f)},onSelect:f=>{o(f)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})}),n$=pke});var u$={};rt(u$,{default:()=>gke});var Sr,uf,v_,i$,hn,a$,s$,mke,hke,gke,c$=T(()=>{Sr=g(F()),uf=g($()),v_=g(He()),i$=g(Z());o_();hn=g(Q()),a$=g(re()),s$=g(me());o$();zl();mke=(0,s$.makeStyles)()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),hke=(0,a$.observer)(function({model:e}){var t;let{classes:r}=mke(),n=(0,i$.getSession)(e),{assemblyNames:o,assemblyManager:i}=n,{error:a}=e,[s,c]=(0,uf.useState)(o[0]),[u,l]=(0,uf.useState)(),f=i.get(s),d=o.length?f?.error:"No configured assemblies",p=d||a,[m,h]=(0,uf.useState)(""),v=f?.regions,b=!!v,_=v&&((t=v[0])===null||t===void 0?void 0:t.refName)||"";return(0,uf.useEffect)(()=>{h(_)},[_,s]),(0,Sr.jsxs)("div",{className:r.container,children:[p?(0,Sr.jsx)(v_.ErrorMessage,{error:p}):null,(0,Sr.jsx)(hn.Container,{className:r.importFormContainer,children:(0,Sr.jsx)("form",{onSubmit:async S=>{var x;if(S.preventDefault(),e.setError(void 0),m)try{u?.getDisplayString()===m&&u.hasLocation()?await Tu({option:u,model:e,assemblyName:s}):!((x=u?.results)===null||x===void 0)&&x.length?e.setSearchResults(u.results,u.getLabel(),s):f&&await Bl({input:m,assembly:f,model:e})}catch(C){console.error(C),n.notify(`${C}`,"warning")}},children:(0,Sr.jsxs)(hn.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,Sr.jsx)(hn.FormControl,{children:(0,Sr.jsx)(v_.AssemblySelector,{onChange:S=>{c(S)},localStorageKey:"lgv",session:n,selected:s})}),s?d?(0,Sr.jsx)(nf,{style:{color:"red"}}):b?(0,Sr.jsx)(hn.FormControl,{children:(0,Sr.jsx)(n$,{value:m,setValue:h,selectedAsm:s,setOption:l,model:e})}):(0,Sr.jsx)(hn.CircularProgress,{size:20,disableShrink:!0}):null,(0,Sr.jsx)(hn.FormControl,{children:(0,Sr.jsx)(hn.Button,{type:"submit",disabled:!m,className:r.button,variant:"contained",color:"primary",children:"Open"})}),(0,Sr.jsx)(hn.FormControl,{children:(0,Sr.jsx)(hn.Button,{disabled:!m,className:r.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(s)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})})})]})}),gke=hke});var b_,l$,f$,d$,vke,n9e,p$=T(()=>{b_=g(F()),l$=g($()),f$=g(He()),d$=g(re());QW();vke=(0,l$.lazy)(()=>Promise.resolve().then(()=>(c$(),u$))),n9e=(0,d$.observer)(function({model:e}){let{error:t,initialized:r,hasDisplayedRegions:n}=e;return!r&&!t?(0,b_.jsx)(f$.LoadingEllipses,{variant:"h6"}):!n||t?(0,b_.jsx)(vke,{model:e}):(0,b_.jsx)(JW,{model:e})})});var bke,yke,_ke,m$=T(()=>{bke=g(F()),yke=g(Z()),_ke=g(Q())});var h$,RE=T(()=>{h$=g(F())});var ME,g$,wke,OE=T(()=>{ME=g(F()),g$=g(Z()),wke=g(Q());Kl();RE()});var PE,v$,Ske,b$=T(()=>{PE=g(F()),v$=g(Z()),Ske=g(Q())});var _$,x$,Cke,kke,w$=T(()=>{_$=g(F()),x$=g(Z()),Cke=g(Sy()),kke=g(Q());OE();b$();tE();iE();Mo()});var Tke,S$,Eke,C$=T(()=>{Tke=g(F()),S$=g(Z()),Eke=g(Q())});var AE,Rke,Mke,jE=T(()=>{AE=g(F()),Rke=g(Z()),Mke=g(yn());RE();C$()});var Oke,IE=T(()=>{Oke=g(Z())});var T$,Ake,y_,jke,Ike,Lke,LE=T(()=>{T$=g(F()),Ake=g(He()),y_=g(Z()),jke=g(yn()),Ike=g(Q()),Lke=g(Gs());m$();w$();jE();IE();OE();jE()});var E$=y(Zp=>{"use strict";var Nke=Zp&&Zp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zp,"__esModule",{value:!0});var cf=F(),Xp=Q(),Dke=re(),Fke=Nke(ud()),qke=(0,Dke.observer)(function({model:e,handleClose:t}){return(0,cf.jsxs)(Fke.default,{maxWidth:"xl",open:!0,onClose:t,title:"Reference sequence",children:[(0,cf.jsx)(Xp.DialogContent,{children:(0,cf.jsx)(Xp.Typography,{children:"Are you sure you want to return to the import form? This will lose your current view"})}),(0,cf.jsxs)(Xp.DialogActions,{children:[(0,cf.jsx)(Xp.Button,{onClick:()=>{e.clearView(),t()},variant:"contained",color:"primary",autoFocus:!0,children:"OK"}),(0,cf.jsx)(Xp.Button,{onClick:()=>{t()},color:"secondary",variant:"contained",children:"Cancel"})]})]})});Zp.default=qke});var A$={};rt(A$,{default:()=>Hke});var Cr,Kp,R$,__,Et,M$,O$,P$,Bke,zke,Hke,j$=T(()=>{Cr=g(F()),Kp=g($()),R$=g(He()),__=g(Z()),Et=g(Q()),M$=g(re()),O$=g(Oe()),P$=g(me()),Bke=(0,P$.makeStyles)()({dialogContent:{width:"40em"}}),zke=(0,M$.observer)(function({model:e,handleClose:t}){let{classes:r}=Bke(),[n,o]=(0,Kp.useState)(""),[i,a]=(0,Kp.useState)(!0),[s,c]=(0,Kp.useState)(!0),[u,l]=(0,Kp.useState)(!0),f;try{new RegExp(n)}catch(d){f=d}return(0,Cr.jsxs)(R$.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Sequence search",children:[(0,Cr.jsxs)(Et.DialogContent,{className:r.dialogContent,children:[(0,Cr.jsx)(Et.Typography,{children:"Supply a sequence to search for. A track will be created with the resulting matches once submitted. You can also supply regex style expressions e.g. AACT(C|T)."}),(0,Cr.jsx)(Et.TextField,{value:n,onChange:d=>{o(d.target.value)},helperText:"Sequence search pattern"}),(0,Cr.jsxs)(Et.FormGroup,{children:[(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:i,onChange:d=>{a(d.target.checked)}}),label:"Search forward strand"}),(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:s,onChange:d=>{c(d.target.checked)}}),label:"Search reverse strand"}),(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:u,onChange:d=>{l(d.target.checked)}}),label:"Case insensitive"})]}),f?(0,Cr.jsx)(Et.Typography,{color:"error",children:`${f}`}):null]}),(0,Cr.jsxs)(Et.DialogActions,{children:[(0,Cr.jsx)(Et.Button,{onClick:()=>{var d;if(n){let p=`sequence_search_${Date.now()}`,m=(0,__.getSession)(e),{assemblyManager:h}=m,v=e.assemblyNames[0];(0,__.isSessionWithAddTracks)(m)&&(m.addTrackConf({trackId:p,name:`Sequence search ${n}`,assemblyNames:[v],type:"FeatureTrack",adapter:{type:"SequenceSearchAdapter",search:n,searchForward:i,searchReverse:s,caseInsensitive:u,sequenceAdapter:(0,O$.getSnapshot)((d=h.get(v))===null||d===void 0?void 0:d.configuration.sequence.adapter)}}),e.showTrack(p))}t()},variant:"contained",color:"primary",children:"Submit"}),(0,Cr.jsx)(Et.Button,{onClick:()=>{t()},variant:"contained",color:"secondary",children:"Close"})]})]})}),Hke=zke});var L$={};rt(L$,{default:()=>I$});function Wke(){return(0,lt.jsxs)("div",{children:[(0,lt.jsx)(vt.CircularProgress,{size:20,style:{marginRight:20}}),(0,lt.jsx)(vt.Typography,{display:"inline",children:"Creating SVG"})]})}function NE(e,t){return(0,S_.useLocalStorage)(`svg-${e}`,t)}function DE({children:e,...t}){return(0,lt.jsx)("div",{children:(0,lt.jsx)(vt.TextField,{...t,children:e})})}function I$({model:e,handleClose:t}){let r=(0,S_.getSession)(e),n=typeof OffscreenCanvas<"u",[o,i]=(0,x_.useState)(n),[a,s]=(0,x_.useState)(!1),[c,u]=(0,x_.useState)(),[l,f]=NE("file","jbrowse.svg"),[d,p]=NE("tracklabels","offset"),[m,h]=NE("theme",r.themeName||"default");return(0,lt.jsxs)(w_.Dialog,{open:!0,onClose:t,title:"Export SVG",children:[(0,lt.jsxs)(vt.DialogContent,{children:[c?(0,lt.jsx)(w_.ErrorMessage,{error:c}):a?(0,lt.jsx)(Wke,{}):null,(0,lt.jsx)(DE,{helperText:"filename",value:l,onChange:v=>{f(v.target.value)}}),(0,lt.jsxs)(DE,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:d,onChange:v=>{p(v.target.value)},children:[(0,lt.jsx)(vt.MenuItem,{value:"offset",children:"Offset"}),(0,lt.jsx)(vt.MenuItem,{value:"overlay",children:"Overlay"}),(0,lt.jsx)(vt.MenuItem,{value:"left",children:"Left"}),(0,lt.jsx)(vt.MenuItem,{value:"none",children:"None"})]}),r.allThemes?(0,lt.jsx)(DE,{select:!0,label:"Theme",variant:"outlined",value:m,onChange:v=>{h(v.target.value)},children:Object.entries(r.allThemes()).map(([v,b])=>(0,lt.jsx)(vt.MenuItem,{value:v,children:b.name||"(Unknown name)"},v))}):null,n?(0,lt.jsx)(vt.FormControlLabel,{control:(0,lt.jsx)(vt.Checkbox,{checked:o,onChange:()=>{i(v=>!v)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,lt.jsx)(vt.Typography,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,lt.jsxs)(vt.DialogActions,{children:[(0,lt.jsx)(vt.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,lt.jsx)(vt.Button,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{s(!0),u(void 0);try{await e.exportSvg({rasterizeLayers:o,filename:l,trackLabels:d,themeName:m}),t()}catch(v){console.error(v),u(v)}finally{s(!1)}},children:"Submit"})]})]})}var lt,x_,w_,S_,vt,N$=T(()=>{lt=g(F()),x_=g($()),w_=g(He()),S_=g(Z()),vt=g(Q())});var F$=y(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.formatFastaLines=D$;C_.formatSeqFasta=$ke;function D$(e){return e.replaceAll(/(.{1,80})/g,`$1
`).trimEnd()}function $ke(e){return e.map(t=>`>${t.header}
${D$(t.seq)}`).join(`
`)}});var q$,B$,z$=T(()=>{"use client";ct();q$=g(F(),1),B$=(0,Ee.createSvgIcon)((0,q$.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")});async function $$(e,t){let r=(0,W$.getSession)(e),{leftOffset:n,rightOffset:o}=e;if(!n||!o)throw new Error("no offsets on model to use for range");if(new Set(t.map(d=>d.assemblyName)).size>1)throw new Error("not able to fetch sequences from multiple assemblies currently");let{rpcManager:a,assemblyManager:s}=r,c=n.assemblyName||o.assemblyName||"",u=s.get(c);if(!u)throw new Error(`assembly ${c} not found`);let l=(0,H$.getConf)(u,["sequence","adapter"]),f="getSequence";return a.call(f,"CoreGetFeatures",{adapterConfig:l,regions:t,sessionId:f})}var H$,W$,U$=T(()=>{H$=g(xe()),W$=g(Z())});var K$={};rt(K$,{default:()=>Gke});var Kt,xs,lf,k_,V$,qt,G$,Y$,X$,Z$,Uke,Vke,Gke,J$=T(()=>{Kt=g(F()),xs=g($()),lf=g(He()),k_=g(Z()),V$=g(F$());vk();z$();qt=g(Q()),G$=g(Vf()),Y$=g(ky()),X$=g(re()),Z$=g(me());U$();Uke=(0,Z$.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},ml:{marginLeft:10}}),Vke=(0,X$.observer)(function({model:e,handleClose:t}){let{classes:r}=Uke(),[n,o]=(0,xs.useState)(),[i,a]=(0,xs.useState)(),[s,c]=(0,xs.useState)(!1),[u,l]=(0,xs.useState)(!1),[f,d]=(0,xs.useState)(!1),{leftOffset:p,rightOffset:m}=e,h=i===void 0;(0,xs.useEffect)(()=>{let _=new AbortController;return(async()=>{try{let S=e.getSelectedRegions(p,m);if(S.length===0)throw new Error("Selected region is out of bounds");a(await $$(e,S))}catch(S){console.error(S),o(S)}})(),()=>{_.abort()}},[e,p,m]);let v=i?(0,V$.formatSeqFasta)(i.map(_=>{let S=_.get("seq"),x=_.get("refName"),C=_.get("start")+1,O=_.get("end"),k=`${x}:${C}-${O}`;if(S?.length!==O-C+1)throw new Error(`${k} returned ${S.length.toLocaleString()} bases, but should have returned ${(O-C).toLocaleString()}`);return s&&(S=(0,k_.reverse)(S)),f&&(S=(0,k_.complement)(S)),{header:k+(s?"-rev":"")+(f?"-comp":""),seq:S}})):"",b=v?v.length>1e6:!1;return(0,Kt.jsxs)(lf.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{t(),e.setOffsets()},title:"Reference sequence",children:[(0,Kt.jsxs)(qt.DialogContent,{children:[n?(0,Kt.jsx)(lf.ErrorMessage,{error:n}):h?(0,Kt.jsx)(lf.LoadingEllipses,{message:"Retrieving sequences"}):null,(0,Kt.jsx)(qt.TextField,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,minRows:5,maxRows:10,disabled:b,className:r.dialogContent,fullWidth:!0,value:b?"Reference sequence too large to display, use the download FASTA button":v,slotProps:{input:{readOnly:!0,classes:{input:r.textAreaFont}}}}),(0,Kt.jsxs)(qt.FormGroup,{children:[(0,Kt.jsx)(qt.FormControlLabel,{control:(0,Kt.jsx)(qt.Checkbox,{value:s,onChange:_=>{c(_.target.checked)}}),label:"Reverse sequence"}),(0,Kt.jsx)(qt.FormControlLabel,{control:(0,Kt.jsx)(qt.Checkbox,{value:f,onChange:_=>{d(_.target.checked)}}),label:"Complement sequence"})]}),(0,Kt.jsx)(qt.Typography,{style:{margin:10},children:'Note: Check both boxes for the "reverse complement"'})]}),(0,Kt.jsxs)(qt.DialogActions,{children:[(0,Kt.jsx)(qt.Button,{onClick:()=>{(0,G$.default)(v),l(!0),setTimeout(()=>{l(!1)},500)},disabled:h||!!n||b,color:"primary",startIcon:(0,Kt.jsx)(M0,{}),children:u?"Copied":"Copy to clipboard"}),(0,Kt.jsx)(qt.Button,{onClick:()=>{(0,Y$.saveAs)(new Blob([v||""],{type:"text/x-fasta;charset=utf-8"}),"jbrowse_ref_seq.fa")},disabled:h||!!n,color:"primary",startIcon:(0,Kt.jsx)(B$,{}),children:"Download FASTA"}),(0,Kt.jsx)(qt.Button,{onClick:t,variant:"contained",children:"Close"})]})]})}),Gke=Vke});function FE({searchResults:e,assemblyName:t,model:r,handleClose:n}){let o=(0,ws.getSession)(r),{pluginManager:i}=(0,ws.getEnv)(o),{assemblyManager:a}=o,s=t||r.displayedRegions[0].assemblyName,c=a.get(s);if(!c)throw new Error(`assembly ${s} not found`);if(!c.regions)throw new Error(`assembly ${s} regions not loaded`);function u(f){var d;if(f){let p=i.pluggableConfigSchemaType("track"),m=(0,T_.resolveIdentifier)(p,(0,T_.getRoot)(r),f);return((d=m?.name)===null||d===void 0?void 0:d.value)||""}return""}async function l(f){var d;if(f.hasLocation())await Tu({option:f,model:r,assemblyName:s});else{let p=f.getLabel(),m=(d=c?.regions)===null||d===void 0?void 0:d.find(h=>p===h.refName);m&&(r.setDisplayedRegions([m]),r.showAllRegions())}}return(0,kr.jsx)(bt.TableContainer,{component:bt.Paper,children:(0,kr.jsxs)(bt.Table,{children:[(0,kr.jsx)(bt.TableHead,{children:(0,kr.jsxs)(bt.TableRow,{children:[(0,kr.jsx)(bt.TableCell,{children:"Name"}),(0,kr.jsx)(bt.TableCell,{align:"right",children:"Location"}),(0,kr.jsx)(bt.TableCell,{align:"right",children:"Track"}),(0,kr.jsx)(bt.TableCell,{align:"right"})]})}),(0,kr.jsx)(bt.TableBody,{children:e.map(f=>{let d=f.getLocation(),p;try{p=d?(0,ws.parseLocString)(d,m=>c.isValidRefName(m)):void 0}catch{}return(0,kr.jsxs)(bt.TableRow,{children:[(0,kr.jsx)(bt.TableCell,{component:"th",scope:"row",children:f.getLabel()}),(0,kr.jsx)(bt.TableCell,{align:"right",children:p?(0,ws.assembleLocString)({...p,refName:c.getCanonicalRefName(p.refName)||p.refName}):d}),(0,kr.jsx)(bt.TableCell,{align:"right",children:u(f.getTrackId())||"N/A"}),(0,kr.jsx)(bt.TableCell,{align:"right",children:(0,kr.jsx)(bt.Button,{onClick:async()=>{try{await l(f)}catch(m){console.error(m),o.notifyError(`${m}`,m)}n()},color:"primary",variant:"contained",children:"Go"})})]},f.getId())})})]})})}var kr,ws,bt,T_,Q$=T(()=>{kr=g(F()),ws=g(Z()),bt=g(Q()),T_=g(Oe());zl()});var r7={};rt(r7,{default:()=>t7});function t7({model:e,assemblyName:t,searchQuery:r,searchResults:n,handleClose:o}){return(0,Zr.jsxs)(e7.Dialog,{open:!0,maxWidth:"xl",onClose:o,title:"Search results",children:[(0,Zr.jsx)(jo.DialogContent,{children:n?.length?(0,Zr.jsxs)(Zr.Fragment,{children:[(0,Zr.jsxs)(jo.Typography,{children:["Showing results for ",(0,Zr.jsx)("b",{children:r})]}),(0,Zr.jsx)(FE,{model:e,handleClose:o,assemblyName:t,searchResults:n})]}):(0,Zr.jsxs)(jo.Typography,{children:["No results found for ",(0,Zr.jsx)("b",{children:r})]})}),(0,Zr.jsx)(jo.Divider,{}),(0,Zr.jsx)(jo.DialogActions,{children:(0,Zr.jsx)(jo.Button,{onClick:()=>{o()},color:"primary",children:"Cancel"})})]})}var Zr,e7,jo,n7=T(()=>{Zr=g(F()),e7=g(He()),jo=g(Q());Q$()});var ff,Xke,Zke,Kke,Jke,to,qE,Qke,eTe,tTe,rTe,nTe,oTe,BE,Iu,rHe,nHe,oHe,iHe,aHe,zE=T(()=>{ff=g($()),Xke=g(xe()),Zke=g(pu()),Kke=g(He()),Jke=g(wy()),to=g(Z()),qE=g(k4()),Qke=g(Sy()),eTe=g(R4()),tTe=g(O4()),rTe=g(yn()),nTe=g(A4()),oTe=g(ky()),BE=g(Gs()),Iu=g(Oe());N9();Kl();zl();H9();Mo();p$();Jy();pE();LE();rHe=(0,ff.lazy)(()=>Promise.resolve().then(()=>g(E$()))),nHe=(0,ff.lazy)(()=>Promise.resolve().then(()=>(j$(),A$))),oHe=(0,ff.lazy)(()=>Promise.resolve().then(()=>(N$(),L$))),iHe=(0,ff.lazy)(()=>Promise.resolve().then(()=>(J$(),K$))),aHe=(0,ff.lazy)(()=>Promise.resolve().then(()=>(n7(),r7)))});var iTe,aTe,HE=T(()=>{iTe=g($()),aTe=g(jn());zE();zE()});var sTe,uTe,cTe,lTe,E_=T(()=>{sTe=g(km()),uTe=g(xe()),cTe=g(Z()),lTe=g(Oe());Wi();J3();t4();o4();CT();MT();HE();QT();CT();Wi();HE();LE();IE();MT()});var i7=y(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});function gTe(e,t){let r=e.range(),n=e.ticks(t),o=e.tickFormat(t),i=e.copy();return{range:r,values:n,format:o,position:i}}WE.default=gTe});var a7=y(Rt=>{"use strict";var vTe=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.LEFT=Rt.BOTTOM=Rt.RIGHT=Rt.TOP=void 0;var df=vTe($());function bTe(e,t,r){let n=e(r);return`translate(${Number.isFinite(n)?n:t(r)},0)`}function yTe(e,t,r){let n=e(r);return`translate(0,${Number.isFinite(n)?n:t(r)})`}Rt.TOP="TOP";Rt.RIGHT="RIGHT";Rt.BOTTOM="BOTTOM";Rt.LEFT="LEFT";var _Te={orient:Rt.BOTTOM,tickSizeInner:6,tickSizeOuter:6,tickPadding:3,strokeWidth:1,tickFont:"sans-serif",tickFontSize:10};function xTe({style:e,range:t,values:r,position:n,format:o,shadow:i=0,bg:a="white",fg:s="black"}){let c={..._Te,...e},{orient:u,tickSizeInner:l,tickPadding:f,tickSizeOuter:d,strokeWidth:p,tickFont:m,tickFontSize:h}=c,v=u===Rt.TOP||u===Rt.BOTTOM?bTe:yTe,b=M=>v(n,n,M),_=u===Rt.TOP||u===Rt.LEFT?-1:1,S=u===Rt.RIGHT,x=u===Rt.LEFT,C=u===Rt.TOP,O=u===Rt.BOTTOM,k=S||x,P=k?"x":"y",E=k?"y":"x",R=p/2,I=t[0]+R,q=t[t.length-1]+R,N=Math.max(l,0)+f;return df.default.createElement("g",{fill:"none",fontSize:h,fontFamily:m,textAnchor:S?"start":x?"end":"middle",strokeWidth:p},df.default.createElement("path",{stroke:s,d:k?`M${_*d},${I}H${R}V${q}H${_*d}`:`M${I},${_*d}V${R}H${q}V${_*d}`}),r.map((M,D)=>{let U={stroke:s};U[`${P}2`]=_*l,U[`${E}1`]=R,U[`${E}2`]=R;let B={fill:s,dy:C?"0em":O?"0.71em":"0.32em"};return B[`${P}`]=_*N,B[`${E}`]=R,df.default.createElement("g",{key:`tick-${D}`,opacity:1,transform:b(M)},df.default.createElement("line",{...U}),i?df.default.createElement("text",{style:{stroke:a,strokeWidth:i},...B},o(M)):null,df.default.createElement("text",{...B},o(M)))}))}Rt.default=xTe});var R_=y(Ar=>{"use strict";var s7=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.LEFT=Ar.BOTTOM=Ar.RIGHT=Ar.TOP=Ar.Axis=Ar.axisPropsFromTickScale=void 0;var wTe=i7();Object.defineProperty(Ar,"axisPropsFromTickScale",{enumerable:!0,get:function(){return s7(wTe).default}});var Jp=a7();Object.defineProperty(Ar,"Axis",{enumerable:!0,get:function(){return s7(Jp).default}});Object.defineProperty(Ar,"TOP",{enumerable:!0,get:function(){return Jp.TOP}});Object.defineProperty(Ar,"RIGHT",{enumerable:!0,get:function(){return Jp.RIGHT}});Object.defineProperty(Ar,"BOTTOM",{enumerable:!0,get:function(){return Jp.BOTTOM}});Object.defineProperty(Ar,"LEFT",{enumerable:!0,get:function(){return Jp.LEFT}})});var l7={};rt(l7,{default:()=>c7});function c7(e){let{model:t,handleClose:r}=e,{minScore:n,maxScore:o,scaleType:i}=t,[a,s]=(0,$E.useState)(`${n!==Number.MIN_VALUE?n:""}`),[c,u]=(0,$E.useState)(`${o!==Number.MAX_VALUE?o:""}`),l=a!==""&&c!==""&&!Number.isNaN(+a)&&!Number.isNaN(+c)?+c>+a:!0,f=i==="log"&&a!==""&&!Number.isNaN(+a)?+a>0:!0;return(0,Io.jsxs)(u7.Dialog,{open:!0,onClose:r,title:"Set min/max score for track",children:[(0,Io.jsxs)(kn.DialogContent,{children:[(0,Io.jsx)(kn.Typography,{children:"Enter min/max score: "}),l?null:(0,Io.jsx)(kn.Typography,{color:"error",children:"Max is greater than or equal to min"}),f?null:(0,Io.jsx)(kn.Typography,{color:"error",children:"Min score should be greater than 0 for log scale"}),(0,Io.jsx)(kn.TextField,{value:a,onChange:d=>{s(d.target.value)},placeholder:"Enter min score"}),(0,Io.jsx)(kn.TextField,{value:c,onChange:d=>{u(d.target.value)},placeholder:"Enter max score"})]}),(0,Io.jsx)(kn.DialogActions,{children:(0,Io.jsx)(kn.Button,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},disabled:!l,onClick:()=>{t.setMinScore(a!==""&&!Number.isNaN(+a)?+a:void 0),t.setMaxScore(c!==""&&!Number.isNaN(+c)?+c:void 0),r()},children:"Submit"})})]})}var Io,$E,u7,kn,f7=T(()=>{Io=g(F()),$E=g($()),u7=g(He()),kn=g(Q())});var ta,p7,m7,h7,g7,kTe,TTe,Ss,Qp=T(()=>{ta=g(F()),p7=g($()),m7=g(mT()),h7=g(re()),g7=g(me());Gn();kTe=(0,g7.makeStyles)()({hoverVertical:{background:"#333",border:"none",width:1,height:"100%",top:Ka,cursor:"default",position:"absolute",pointerEvents:"none"}}),TTe=(0,h7.observer)(function({model:t,height:r,clientMouseCoord:n,offsetMouseCoord:o,clientRect:i,TooltipContents:a,useClientY:s}){let{featureUnderMouse:c}=t,{classes:u}=kTe(),l=n[0]+5,f=s?n[1]:i?.top||0;return c?(0,ta.jsxs)(ta.Fragment,{children:[(0,ta.jsx)(p7.Suspense,{fallback:null,children:(0,ta.jsx)(m7.default,{clientPoint:{x:l,y:f},children:(0,ta.jsx)(a,{model:t,feature:c})})}),(0,ta.jsx)("div",{className:u.hoverVertical,style:{left:o[0],height:r-Ka*2}})]}):null}),Ss=TTe});var y7={};rt(y7,{Tooltip:()=>Ss,default:()=>em});var ra,v7,b7,GE,ETe,RTe,em,YE=T(()=>{ra=g(F()),v7=g($()),b7=g(re());Qp();Gn();Qp();GE=e=>e.toLocaleString("en-US"),ETe=(0,v7.forwardRef)(function({feature:t},r){let n=t.get("start")+1,o=t.get("end"),i=t.get("refName"),a=t.get("name"),s=[i,a,n===o?GE(n):`${GE(n)}..${GE(o)}`].filter(c=>!!c).join(":");return t.get("summary")!==void 0?(0,ra.jsxs)("div",{ref:r,children:[s,(0,ra.jsx)("br",{}),"Max: ",xo(t.get("maxScore")),(0,ra.jsx)("br",{}),"Avg: ",xo(t.get("score")),(0,ra.jsx)("br",{}),"Min: ",xo(t.get("minScore"))]}):(0,ra.jsxs)("div",{ref:r,children:[s,(0,ra.jsx)("br",{}),`${xo(t.get("score"))}`]})}),RTe=(0,b7.observer)(function(e){return(0,ra.jsx)(Ss,{TooltipContents:ETe,...e})}),em=RTe});var M_=y(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.tableau10=Bt.set2=Bt.set1=Bt.ggplot2Colors6=Bt.ggplot2Colors5=Bt.ggplot2Colors4=Bt.ggplot2Colors3=Bt.dark2=Bt.category10=void 0;var MTe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Bt.category10=MTe;var OTe=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"];Bt.dark2=OTe;var PTe=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];Bt.set1=PTe;var ATe=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"];Bt.set2=ATe;var jTe=["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"];Bt.tableau10=jTe;var ITe=["#F8766D","#B79F00","#00BA38","#00BFC4","#619CFF","#F564E3"];Bt.ggplot2Colors6=ITe;var LTe=["#F8766D","#A3A500","#00BF7D","#00B0F6","#E76BF3"];Bt.ggplot2Colors5=LTe;var NTe=["#F8766D","#7CAE00","#00BFC4","#C77CFF"];Bt.ggplot2Colors4=NTe;var DTe=["#F8766D","#00BA38","#619CFF"];Bt.ggplot2Colors3=DTe});var j7=y(De=>{"use strict";var FTe=De&&De.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),qTe=De&&De.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),BTe=De&&De.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&FTe(r,t,n[o]);return qTe(r,t),r}})();Object.defineProperty(De,"__esModule",{value:!0});De.setNonce=De.RgbaStringColorPicker=De.RgbaColorPicker=De.RgbStringColorPicker=De.RgbColorPicker=De.HsvaStringColorPicker=De.HsvaColorPicker=De.HsvStringColorPicker=De.HsvColorPicker=De.HslaStringColorPicker=De.HslaColorPicker=De.HslStringColorPicker=De.HslColorPicker=De.HexColorPicker=De.HexColorInput=void 0;var fe=BTe($());function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nm(e,t){if(e==null)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}function rm(e){let t=(0,fe.useRef)(e),r=(0,fe.useRef)(n=>{t.current&&t.current(n)});return t.current=e,r.current}var pf=(e,t=0,r=1)=>e>r?r:e<t?t:e,tm=e=>"touches"in e,KE=e=>e&&e.ownerDocument.defaultView||self,_7=(e,t,r)=>{let n=e.getBoundingClientRect(),o=tm(t)?((i,a)=>{for(let s=0;s<i.length;s++)if(i[s].identifier===a)return i[s];return i[0]})(t.touches,r):t;return{left:pf((o.pageX-(n.left+KE(e).pageXOffset))/n.width),top:pf((o.pageY-(n.top+KE(e).pageYOffset))/n.height)}},x7=e=>{!tm(e)&&e.preventDefault()},JE=fe.default.memo(e=>{let{onMove:t,onKey:r}=e,n=nm(e,["onMove","onKey"]),o=(0,fe.useRef)(null),i=rm(t),a=rm(r),s=(0,fe.useRef)(null),c=(0,fe.useRef)(!1),[u,l,f]=(0,fe.useMemo)(()=>{let d=h=>{x7(h),(tm(h)?h.touches.length>0:h.buttons>0)&&o.current?i(_7(o.current,h,s.current)):m(!1)},p=()=>m(!1);function m(h){let v=c.current,b=KE(o.current),_=h?b.addEventListener:b.removeEventListener;_(v?"touchmove":"mousemove",d),_(v?"touchend":"mouseup",p)}return[({nativeEvent:h})=>{let v=o.current;if(v&&(x7(h),!((b,_)=>_&&!tm(b))(h,c.current)&&v)){if(tm(h)){c.current=!0;let b=h.changedTouches||[];b.length&&(s.current=b[0].identifier)}v.focus(),i(_7(v,h,s.current)),m(!0)}},h=>{let v=h.which||h.keyCode;v<37||v>40||(h.preventDefault(),a({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[a,i]);return(0,fe.useEffect)(()=>f,[f]),fe.default.createElement("div",Qt({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:o,onKeyDown:l,tabIndex:0,role:"slider"}))}),om=e=>e.filter(Boolean).join(" "),QE=({className:e,color:t,left:r,top:n=.5})=>{let o=om(["react-colorful__pointer",e]);return fe.default.createElement("div",{className:o,style:{top:100*n+"%",left:100*r+"%"}},fe.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Jt=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,zTe={grad:.9,turn:360,rad:360/(2*Math.PI)},XE=e=>(e[0]==="#"&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),C7=(e,t="deg")=>Number(e)*(zTe[t]||1),k7=e=>{let t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?eR({h:C7(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},HTe=k7,eR=({h:e,s:t,l:r,a:n})=>({h:e,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:n}),A_=({h:e,s:t,v:r,a:n})=>{let o=(200-t)*r/100;return{h:Jt(e),s:Jt(o>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0),l:Jt(o/2),a:Jt(n,2)}},P_=e=>{let{h:t,s:r,l:n}=A_(e);return`hsl(${t}, ${r}%, ${n}%)`},O_=e=>{let{h:t,s:r,l:n,a:o}=A_(e);return`hsla(${t}, ${r}%, ${n}%, ${o})`},im=({h:e,s:t,v:r,a:n})=>{e=e/360*6,t/=100,r/=100;let o=Math.floor(e),i=r*(1-t),a=r*(1-(e-o)*t),s=r*(1-(1-e+o)*t),c=o%6;return{r:Jt(255*[r,a,i,i,s,r][c]),g:Jt(255*[s,r,r,a,i,i][c]),b:Jt(255*[i,i,s,r,r,a][c]),a:Jt(n,2)}},T7=e=>{let t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?am({h:C7(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},WTe=T7,E7=e=>{let t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?j_({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},$Te=E7,ZE=e=>{let t=e.toString(16);return t.length<2?"0"+t:t},j_=({r:e,g:t,b:r,a:n})=>{let o=Math.max(e,t,r),i=o-Math.min(e,t,r),a=i?o===e?(t-r)/i:o===t?2+(r-e)/i:4+(e-t)/i:0;return{h:Jt(60*(a<0?a+6:a)),s:Jt(o?i/o*100:0),v:Jt(o/255*100),a:n}},am=e=>({h:Jt(e.h),s:Jt(e.s),v:Jt(e.v),a:Jt(e.a,2)}),R7=fe.default.memo(({className:e,hue:t,onChange:r})=>{let n=om(["react-colorful__hue",e]);return fe.default.createElement("div",{className:n},fe.default.createElement(JE,{onMove:o=>{r({h:360*o.left})},onKey:o=>{r({h:pf(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuetext":Jt(t)},fe.default.createElement(QE,{className:"react-colorful__hue-pointer",left:t/360,color:P_({h:t,s:100,v:100,a:1})})))}),M7=fe.default.memo(({hsva:e,onChange:t})=>{let r={backgroundColor:P_({h:e.h,s:100,v:100,a:1})};return fe.default.createElement("div",{className:"react-colorful__saturation",style:r},fe.default.createElement(JE,{onMove:n=>{t({s:100*n.left,v:100-100*n.top})},onKey:n=>{t({s:pf(e.s+100*n.left,0,100),v:pf(e.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${Jt(e.s)}%, Brightness ${Jt(e.v)}%`},fe.default.createElement(QE,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:P_(e)})))}),Cs=(e,t)=>{if(e===t)return!0;for(let r in e)if(e[r]!==t[r])return!1;return!0},mf=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");function O7(e,t,r){let n=rm(r),[o,i]=(0,fe.useState)(()=>e.toHsva(t)),a=(0,fe.useRef)({color:t,hsva:o});(0,fe.useEffect)(()=>{if(!e.equal(t,a.current.color)){let c=e.toHsva(t);a.current={hsva:c,color:t},i(c)}},[t,e]),(0,fe.useEffect)(()=>{let c;Cs(o,a.current.hsva)||e.equal(c=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:c},n(c))},[o,e,n]);let s=(0,fe.useCallback)(c=>{i(u=>Object.assign({},u,c))},[]);return[o,s]}var UTe=typeof window<"u"?fe.useLayoutEffect:fe.useEffect,P7,VTe=()=>P7||(typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0),GTe=e=>{P7=e},w7=new Map,A7=e=>{UTe(()=>{let t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!w7.has(t)){let r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,w7.set(t,r);let n=VTe();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},Lu=e=>{let{className:t,colorModel:r,color:n=r.defaultColor,onChange:o}=e,i=nm(e,["className","colorModel","color","onChange"]),a=(0,fe.useRef)(null);A7(a);let[s,c]=O7(r,n,o),u=om(["react-colorful",t]);return fe.default.createElement("div",Qt({},i,{ref:a,className:u}),fe.default.createElement(M7,{hsva:s,onChange:c}),fe.default.createElement(R7,{hue:s.h,onChange:c,className:"react-colorful__last-control"}))},YTe={defaultColor:"000",toHsva:e=>j_(XE(e)),fromHsva:e=>(({r:t,g:r,b:n})=>"#"+ZE(t)+ZE(r)+ZE(n))(im(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||Cs(XE(e),XE(t))},XTe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:YTe})),ZTe=({className:e,hsva:t,onChange:r})=>{let n={backgroundImage:`linear-gradient(90deg, ${O_(Object.assign({},t,{a:0}))}, ${O_(Object.assign({},t,{a:1}))})`},o=om(["react-colorful__alpha",e]);return fe.default.createElement("div",{className:o},fe.default.createElement("div",{className:"react-colorful__alpha-gradient",style:n}),fe.default.createElement(JE,{onMove:i=>{r({a:i.left})},onKey:i=>{r({a:pf(t.a+i.left)})},"aria-label":"Alpha","aria-valuetext":`${Jt(100*t.a)}%`},fe.default.createElement(QE,{className:"react-colorful__alpha-pointer",left:t.a,color:O_(t)})))},hf=e=>{let{className:t,colorModel:r,color:n=r.defaultColor,onChange:o}=e,i=nm(e,["className","colorModel","color","onChange"]),a=(0,fe.useRef)(null);A7(a);let[s,c]=O7(r,n,o),u=om(["react-colorful",t]);return fe.default.createElement("div",Qt({},i,{ref:a,className:u}),fe.default.createElement(M7,{hsva:s,onChange:c}),fe.default.createElement(R7,{hue:s.h,onChange:c}),fe.default.createElement(ZTe,{hsva:s,onChange:c,className:"react-colorful__last-control"}))},KTe={defaultColor:{h:0,s:0,l:0,a:1},toHsva:eR,fromHsva:A_,equal:Cs},JTe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:KTe})),QTe={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:k7,fromHsva:O_,equal:mf},eEe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:QTe})),tEe={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:t,l:r})=>eR({h:e,s:t,l:r,a:1}),fromHsva:e=>(({h:t,s:r,l:n})=>({h:t,s:r,l:n}))(A_(e)),equal:Cs},rEe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:tEe})),nEe={defaultColor:"hsl(0, 0%, 0%)",toHsva:HTe,fromHsva:P_,equal:mf},oEe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:nEe})),iEe={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:am,equal:Cs},aEe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:iEe})),sEe={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:T7,fromHsva:e=>{let{h:t,s:r,v:n,a:o}=am(e);return`hsva(${t}, ${r}%, ${n}%, ${o})`},equal:mf},uEe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:sEe})),cEe={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:t,v:r})=>({h:e,s:t,v:r,a:1}),fromHsva:e=>{let{h:t,s:r,v:n}=am(e);return{h:t,s:r,v:n}},equal:Cs},lEe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:cEe})),fEe={defaultColor:"hsv(0, 0%, 0%)",toHsva:WTe,fromHsva:e=>{let{h:t,s:r,v:n}=am(e);return`hsv(${t}, ${r}%, ${n}%)`},equal:mf},dEe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:fEe})),pEe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:j_,fromHsva:im,equal:Cs},mEe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:pEe})),hEe={defaultColor:"rgba(0, 0, 0, 1)",toHsva:E7,fromHsva:e=>{let{r:t,g:r,b:n,a:o}=im(e);return`rgba(${t}, ${r}, ${n}, ${o})`},equal:mf},gEe=e=>fe.default.createElement(hf,Qt({},e,{colorModel:hEe})),vEe={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:t,b:r})=>j_({r:e,g:t,b:r,a:1}),fromHsva:e=>(({r:t,g:r,b:n})=>({r:t,g:r,b:n}))(im(e)),equal:Cs},bEe=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:vEe})),yEe={defaultColor:"rgb(0, 0, 0)",toHsva:$Te,fromHsva:e=>{let{r:t,g:r,b:n}=im(e);return`rgb(${t}, ${r}, ${n})`},equal:mf},_Ee=e=>fe.default.createElement(Lu,Qt({},e,{colorModel:yEe})),xEe=/^#?([0-9A-F]{3,8})$/i,wEe=e=>{let{color:t="",onChange:r,onBlur:n,escape:o,validate:i,format:a,process:s}=e,c=nm(e,["color","onChange","onBlur","escape","validate","format","process"]),[u,l]=(0,fe.useState)(()=>o(t)),f=rm(r),d=rm(n),p=(0,fe.useCallback)(h=>{let v=o(h.target.value);l(v),i(v)&&f(s?s(v):v)},[o,s,i,f]),m=(0,fe.useCallback)(h=>{i(h.target.value)||l(o(t)),d(h)},[t,o,i,d]);return(0,fe.useEffect)(()=>{l(o(t))},[t,o]),fe.default.createElement("input",Qt({},c,{value:a?a(u):u,spellCheck:"false",onChange:p,onBlur:m}))},S7=e=>"#"+e,SEe=e=>{let{prefixed:t,alpha:r}=e,n=nm(e,["prefixed","alpha"]),o=(0,fe.useCallback)(a=>a.replace(/([^0-9A-F]+)/gi,"").substr(0,r?8:6),[r]),i=(0,fe.useCallback)(a=>((s,c)=>{let u=xEe.exec(s),l=u?u[1].length:0;return l===3||l===6||!!c&&l===4||!!c&&l===8})(a,r),[r]);return fe.default.createElement(wEe,Qt({},n,{escape:o,format:t?S7:void 0,process:S7,validate:i}))};De.setNonce=GTe;De.HexColorPicker=XTe;De.HslaColorPicker=JTe;De.HslaStringColorPicker=eEe;De.HslColorPicker=rEe;De.HslStringColorPicker=oEe;De.HsvaColorPicker=aEe;De.HsvaStringColorPicker=uEe;De.HsvColorPicker=lEe;De.HsvStringColorPicker=dEe;De.RgbaColorPicker=mEe;De.RgbaStringColorPicker=gEe;De.RgbColorPicker=bEe;De.RgbStringColorPicker=_Ee;De.HexColorInput=SEe});var tR=y(vn=>{"use strict";var CEe=vn&&vn.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),kEe=vn&&vn.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),TEe=vn&&vn.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&CEe(r,t,n[o]);return kEe(r,t),r}})();Object.defineProperty(vn,"__esModule",{value:!0});vn.PopoverPicker=void 0;vn.ColorPopover=q7;vn.ColorPicker=B7;var gn=F(),D7=$(),I7=Od(),I_=Q(),EEe=me(),L7=TEe(M_()),N7=fo(),REe=j7(),F7=(0,EEe.makeStyles)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),MEe=({color:e,onChange:t})=>{let[r,n]=(0,D7.useState)(null),{classes:o}=F7();return(0,gn.jsxs)("div",{className:o.picker,children:[(0,gn.jsx)("div",{className:o.swatch,style:{backgroundColor:e},onClick:i=>{n(i.currentTarget)}}),(0,gn.jsx)(q7,{anchorEl:r,onClose:()=>{n(null)},color:e,onChange:t})]})};vn.PopoverPicker=MEe;function q7({anchorEl:e,onChange:t,onClose:r,color:n}){return(0,gn.jsx)(I_.Popover,{open:!!e,anchorEl:e,onClose:r,children:(0,gn.jsx)(B7,{color:n,onChange:t})})}function B7({onChange:e,color:t}){let{classes:r}=F7(),[n,o]=(0,N7.useLocalStorage)("colorPickerPalette","set1"),i=L7[n],a=Object.keys(L7),[s,c]=(0,D7.useState)(t),u=(0,I7.colord)(t).toRgbString(),l=(0,N7.useDebounce)(u,1e3),f=d=>{c(d);try{e((0,I7.colord)(d).toRgbString())}catch{}};return(0,gn.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,gn.jsx)("div",{style:{width:200,margin:5},children:(0,gn.jsx)(REe.RgbaStringColorPicker,{color:l,onChange:f})}),(0,gn.jsxs)("div",{style:{width:200,margin:5},children:[(0,gn.jsx)(I_.Select,{value:n,onChange:d=>{let p=d.target.value;o(p)},children:a.map(d=>(0,gn.jsx)(I_.MenuItem,{value:d,children:d},d))}),(0,gn.jsx)("div",{className:r.swatches,children:i.map((d,p)=>(0,gn.jsx)("button",{type:"button",className:r.swatch,style:{background:d},onClick:()=>{f(d)}},`${d}-${p}`))}),(0,gn.jsx)(I_.TextField,{helperText:"Manually set color (hex, rgb, or css color name)",value:s,onChange:d=>{f(d.target.value)}})]})]})}vn.default=vn.PopoverPicker});var $7={};rt($7,{default:()=>PEe});var wt,z7,H7,L_,cr,W7,OEe,PEe,U7=T(()=>{wt=g(F()),z7=g($()),H7=g(He()),L_=g(tR()),cr=g(Q()),W7=g(re()),OEe=(0,W7.observer)(function({model:t,handleClose:r}){let[n,o]=(0,z7.useState)(!1);return(0,wt.jsxs)(H7.Dialog,{open:!0,onClose:r,title:"Set color",children:[(0,wt.jsxs)(cr.DialogContent,{children:[(0,wt.jsx)(cr.Typography,{children:"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors"}),(0,wt.jsx)(cr.FormControlLabel,{checked:!n,onClick:()=>{o(!1)},control:(0,wt.jsx)(cr.Radio,{}),label:"Overall color"}),(0,wt.jsx)(cr.FormControlLabel,{checked:n,onClick:()=>{o(!0)},control:(0,wt.jsx)(cr.Radio,{}),label:"Positive/negative color"}),n?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(cr.Typography,{children:"Positive color"}),(0,wt.jsx)(L_.ColorPicker,{color:t.posColor||"black",onChange:i=>{t.setPosColor(i),t.setColor(void 0)}}),(0,wt.jsx)(cr.Typography,{children:"Negative color"}),(0,wt.jsx)(L_.ColorPicker,{color:t.negColor||"black",onChange:i=>{t.setNegColor(i),t.setColor(void 0)}})]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(cr.Typography,{children:"Overall color"}),(0,wt.jsx)(L_.ColorPicker,{color:t.color||"black",onChange:i=>{t.setColor(i)}})]})]}),(0,wt.jsxs)(cr.DialogActions,{children:[(0,wt.jsx)(cr.Button,{onClick:()=>{t.setPosColor(void 0),t.setNegColor(void 0),t.setColor(void 0)},color:"secondary",variant:"contained",children:"Restore default"}),(0,wt.jsx)(cr.Button,{variant:"contained",color:"primary",type:"submit",onClick:()=>{r()},children:"Submit"})]})]})}),PEe=OEe});var G7,Y7,X7,gf,NEe,Z7,K7=T(()=>{G7=g(F()),Y7=g(Q()),X7=g(re()),gf=g(R_()),NEe=(0,X7.observer)(function({model:e,orientation:t}){let{ticks:r}=e,n=(0,Y7.useTheme)();return r?(0,G7.jsx)(gf.Axis,{...r,shadow:2,format:o=>o,style:{orient:t==="left"?gf.LEFT:gf.RIGHT},bg:n.palette.background.default,fg:n.palette.text.primary}):null}),Z7=NEe});var vf,J7,bf,Q7,fWe,eU=T(()=>{vf=g(F()),J7=g(xe()),bf=g(Z());E_();Q7=g(re());K7();fWe=(0,Q7.observer)(function(e){let{model:t}=e,{stats:r,height:n,graphType:o}=t,{trackLabels:i}=(0,bf.getContainingView)(t),a=(0,bf.getContainingTrack)(t);return(0,vf.jsxs)("div",{children:[(0,vf.jsx)(ku,{...e}),r&&o?(0,vf.jsx)("svg",{style:{position:"absolute",top:0,left:i==="overlapping"?(0,bf.measureText)((0,J7.getConf)(a,"name"),12.8)+100:50,pointerEvents:"none",height:n,width:50},children:(0,vf.jsx)(Z7,{model:t})}):null]})})});var dU=y((VWe,fU)=>{"use strict";fU.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var hU={};rt(hU,{Tooltip:()=>Ss,default:()=>WEe});var lr,pU,mU,iR,zEe,HEe,WEe,gU=T(()=>{lr=g(F()),pU=g($()),mU=g(re());Qp();Gn();Qp();iR=e=>e.toLocaleString("en-US"),zEe=(0,pU.forwardRef)(function({model:t,feature:r},n){let o=r.get("start"),i=r.get("end"),a=r.get("refName"),s=o===i?iR(o):`${iR(o)}..${iR(i)}`,c=r.get("sources"),u=r.get("source"),l=r.get("summary"),f=Object.fromEntries(t.sources.map(p=>[p.name,p])),d=f[u];return(0,lr.jsxs)("div",{ref:n,children:[[a,s].filter(p=>!!p).join(":"),(0,lr.jsx)("br",{}),c?(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{children:"color"}),(0,lr.jsx)("th",{children:"source"}),(0,lr.jsx)("th",{children:"score"})]})}),(0,lr.jsx)("tbody",{children:Object.entries(c).map(([p,m])=>{let h=f[p];return(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{children:h&&(0,lr.jsx)("div",{style:{width:16,height:16,background:h.color}})}),(0,lr.jsx)("td",{children:h?.name||p}),(0,lr.jsx)("td",{children:xo(m.score)})]},p)})})]}):(0,lr.jsxs)("span",{children:[d?.name||u," ",l?`min:${xo(r.get("minScore"))} avg:${xo(r.get("score"))} max:${xo(r.get("maxScore"))}`:xo(r.get("score"))]})]})}),HEe=(0,mU.observer)(function(e){return(0,lr.jsx)(Ss,{useClientY:!0,TooltipContents:zEe,...e})}),WEe=HEe});var bU=y((ZWe,vU)=>{vU.exports=JBrowseExports["@mui/x-data-grid"]});function sR(e,t,r=1){let n=t.map(i=>e.findIndex(a=>a.name===i)).sort((i,a)=>i-a),o=0;for(let i of n){let a=Math.max(o,i-r);a>=o&&e.splice(a,0,e.splice(i,1)[0]),o=o+1}return e}function uR(e,t,r=1){let n=t.map(i=>e.findIndex(a=>a.name===i)).sort((i,a)=>a-i),o=e.length-1;for(let i of n){let a=Math.min(o,i+r);a<=o&&e.splice(a,0,e.splice(i,1)[0]),o=o-1}return e}var $Ee,aR,yU=T(()=>{$Ee=g(xe()),aR=g(Z())});function VEe({rows:e,onChange:t,showTips:r}){let{classes:n}=UEe(),[o,i]=(0,sm.useState)(null),[a,s]=(0,sm.useState)([]),{name:c,color:u,source:l,baseUri:f,...d}=e.length>0?e[0]:{},[p,m]=(0,sm.useState)("blue"),[h,v]=(0,sm.useState)({idx:0,field:null});return(0,fr.jsxs)("div",{children:[(0,fr.jsx)(yf.Button,{disabled:!a.length,onClick:b=>{i(b.currentTarget)},children:"Change color of selected items"}),(0,fr.jsxs)(yf.Button,{disabled:!a.length,onClick:()=>{t(sR([...e],a))},children:[(0,fr.jsx)(i_,{}),r?"Move selected items up":null]}),(0,fr.jsxs)(yf.Button,{disabled:!a.length,onClick:()=>{t(uR([...e],a))},children:[(0,fr.jsx)(tf,{}),r?"Move selected items down":null]}),(0,fr.jsxs)(yf.Button,{disabled:!a.length,onClick:()=>{t(sR([...e],a,e.length))},children:[(0,fr.jsx)(s_,{}),r?"Move selected items to top":null]}),(0,fr.jsxs)(yf.Button,{disabled:!a.length,onClick:()=>{t(uR([...e],a,e.length))},children:[(0,fr.jsx)(a_,{}),r?"Move selected items to bottom":null]}),(0,fr.jsx)(D_.ColorPopover,{anchorEl:o,color:p,onChange:b=>{m(b);for(let _ of a){let S=e.find(x=>x.name===_);S&&(S.color=b)}t([...e])},onClose:()=>{i(null)}}),(0,fr.jsx)("div",{style:{height:400,width:"100%"},children:(0,fr.jsx)(xU.DataGrid,{disableRowSelectionOnClick:!0,getRowId:b=>b.name,checkboxSelection:!0,onRowSelectionModelChange:b=>{s([...b.ids])},rows:e,rowHeight:25,columnHeaderHeight:33,columns:[{field:"color",headerName:"Color",renderCell:({value:b,id:_})=>(0,fr.jsx)(D_.default,{color:b||"blue",onChange:S=>{let x=e.find(C=>C.name===_);x&&(x.color=S),t([...e])}})},{field:"name",headerName:"Name",width:(0,Nu.measureGridWidth)(e.map(b=>b.name))},...Object.keys(d).map(b=>({field:b,renderCell:({value:_})=>(0,fr.jsx)("div",{className:n.cell,children:(0,fr.jsx)(_U.SanitizedHTML,{html:(0,Nu.getStr)(_)})}),width:(0,Nu.measureGridWidth)(e.map(_=>`${_[b]}`))}))],sortModel:[],onSortModelChange:b=>{let _=b[0],S=(h.idx+1)%2,x=_.field||h.field;v({idx:S,field:x}),t(x?[...e].sort((C,O)=>{let k=(0,Nu.getStr)(C[x]),P=(0,Nu.getStr)(O[x]);return S===1?k.localeCompare(P):P.localeCompare(k)}):e)}})})]})}var fr,sm,_U,D_,Nu,yf,xU,wU,UEe,SU,CU=T(()=>{fr=g(F()),sm=g($()),_U=g(He()),D_=g(tR()),Nu=g(Z());r_();gE();bE();_E();yf=g(Q()),xU=g(bU()),wU=g(me());yU();UEe=(0,wU.makeStyles)()({cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}});SU=VEe});var TU=y((o$e,kU)=>{"use strict";var GEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";kU.exports=GEe});var OU=y((i$e,MU)=>{"use strict";var YEe=TU();function EU(){}function RU(){}RU.resetWarningCache=EU;MU.exports=function(){function e(n,o,i,a,s,c){if(c!==YEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RU,resetWarningCache:EU};return r.PropTypes=r,r}});var cR=y((u$e,PU)=>{PU.exports=OU()();var a$e,s$e});var IU=y((c$e,lR)=>{function jU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=jU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function AU(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=jU(e))&&(n&&(n+=" "),n+=t);return n}lR.exports=AU,lR.exports.clsx=AU});var um=y(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.dontSetMe=QEe;Du.findInArray=XEe;Du.int=JEe;Du.isFunction=ZEe;Du.isNum=KEe;function XEe(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function ZEe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function KEe(e){return typeof e=="number"&&!isNaN(e)}function JEe(e){return parseInt(e,10)}function QEe(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}});var DU=y(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.browserPrefixToKey=NU;Fu.browserPrefixToStyle=eRe;Fu.default=void 0;Fu.getPrefix=LU;var fR=["Moz","Webkit","O","ms"];function LU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let r=0;r<fR.length;r++)if(NU(e,fR[r])in t)return fR[r];return""}function NU(e,t){return t?`${t}${tRe(e)}`:e}function eRe(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function tRe(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}var f$e=Fu.default=LU()});var q_=y(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.addClassName=HU;zt.addEvent=nRe;zt.addUserSelectStyles=mRe;zt.createCSSTransform=lRe;zt.createSVGTransform=fRe;zt.getTouch=dRe;zt.getTouchIdentifier=pRe;zt.getTranslation=dR;zt.innerHeight=sRe;zt.innerWidth=uRe;zt.matchesSelector=zU;zt.matchesSelectorAndParentsTo=rRe;zt.offsetXYFromParent=cRe;zt.outerHeight=iRe;zt.outerWidth=aRe;zt.removeClassName=WU;zt.removeEvent=oRe;zt.scheduleRemoveUserSelectStyles=hRe;var Tn=um(),FU=BU(DU());function BU(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(BU=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}var F_="";function zU(e,t){return F_||(F_=(0,Tn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Tn.isFunction)(e[r])})),(0,Tn.isFunction)(e[F_])?e[F_](t):!1}function rRe(e,t,r){let n=e;do{if(zU(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function nRe(e,t,r,n){if(!e)return;let o={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function oRe(e,t,r,n){if(!e)return;let o={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function iRe(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Tn.int)(r.borderTopWidth),t+=(0,Tn.int)(r.borderBottomWidth),t}function aRe(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Tn.int)(r.borderLeftWidth),t+=(0,Tn.int)(r.borderRightWidth),t}function sRe(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Tn.int)(r.paddingTop),t-=(0,Tn.int)(r.paddingBottom),t}function uRe(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Tn.int)(r.paddingLeft),t-=(0,Tn.int)(r.paddingRight),t}function cRe(e,t,r){let o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/r,a=(e.clientY+t.scrollTop-o.top)/r;return{x:i,y:a}}function lRe(e,t){let r=dR(e,t,"px");return{[(0,FU.browserPrefixToKey)("transform",FU.default)]:r}}function fRe(e,t){return dR(e,t,"")}function dR(e,t,r){let{x:n,y:o}=e,i=`translate(${n}${r},${o}${r})`;if(t){let a=`${typeof t.x=="string"?t.x:t.x+r}`,s=`${typeof t.y=="string"?t.y:t.y+r}`;i=`translate(${a}, ${s})`+i}return i}function dRe(e,t){return e.targetTouches&&(0,Tn.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Tn.findInArray)(e.changedTouches,r=>t===r.identifier)}function pRe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function mRe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&HU(e.body,"react-draggable-transparent-selection")}function hRe(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{qU(e)}):qU(e)}function qU(e){if(e)try{if(e.body&&WU(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function HU(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function WU(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}});var mR=y(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.canDragX=bRe;na.canDragY=yRe;na.createCoreData=xRe;na.createDraggableData=wRe;na.getBoundPosition=gRe;na.getControlPosition=_Re;na.snapToGrid=vRe;var En=um(),_f=q_();function gRe(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:SRe(n);let o=pR(e);if(typeof n=="string"){let{ownerDocument:i}=o,a=i.defaultView,s;if(n==="parent"?s=o.parentNode:s=o.getRootNode().querySelector(n),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');let c=s,u=a.getComputedStyle(o),l=a.getComputedStyle(c);n={left:-o.offsetLeft+(0,En.int)(l.paddingLeft)+(0,En.int)(u.marginLeft),top:-o.offsetTop+(0,En.int)(l.paddingTop)+(0,En.int)(u.marginTop),right:(0,_f.innerWidth)(c)-(0,_f.outerWidth)(o)-o.offsetLeft+(0,En.int)(l.paddingRight)-(0,En.int)(u.marginRight),bottom:(0,_f.innerHeight)(c)-(0,_f.outerHeight)(o)-o.offsetTop+(0,En.int)(l.paddingBottom)-(0,En.int)(u.marginBottom)}}return(0,En.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,En.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,En.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,En.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function vRe(e,t,r){let n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]}function bRe(e){return e.props.axis==="both"||e.props.axis==="x"}function yRe(e){return e.props.axis==="both"||e.props.axis==="y"}function _Re(e,t,r){let n=typeof t=="number"?(0,_f.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;let o=pR(r),i=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,_f.offsetXYFromParent)(n||e,i,r.props.scale)}function xRe(e,t,r){let n=!(0,En.isNum)(e.lastX),o=pR(e);return n?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function wRe(e,t){let r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function SRe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function pR(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var gR=y(hR=>{"use strict";Object.defineProperty(hR,"__esModule",{value:!0});hR.default=CRe;function CRe(){}});var UU=y(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.default=void 0;var vR=$U($()),Kr=yR(cR()),kRe=yR(Cc()),jr=q_(),ks=mR(),bR=um(),cm=yR(gR());function yR(e){return e&&e.__esModule?e:{default:e}}function $U(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return($U=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}function Jr(e,t,r){return(t=TRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TRe(e){var t=ERe(e,"string");return typeof t=="symbol"?t:t+""}function ERe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ts=Lo.mouse,xf=class extends vR.Component{constructor(){super(...arguments),Jr(this,"dragging",!1),Jr(this,"lastX",NaN),Jr(this,"lastY",NaN),Jr(this,"touchIdentifier",null),Jr(this,"mounted",!1),Jr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,jr.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,jr.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();let o=(0,jr.getTouchIdentifier)(t);this.touchIdentifier=o;let i=(0,ks.getControlPosition)(t,o,this);if(i==null)return;let{x:a,y:s}=i,c=(0,ks.createCoreData)(this,a,s);(0,cm.default)("DraggableCore: handleDragStart: %j",c),(0,cm.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,jr.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=s,(0,jr.addEvent)(n,Ts.move,this.handleDrag),(0,jr.addEvent)(n,Ts.stop,this.handleDragStop))}),Jr(this,"handleDrag",t=>{let r=(0,ks.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let s=n-this.lastX,c=o-this.lastY;if([s,c]=(0,ks.snapToGrid)(this.props.grid,s,c),!s&&!c)return;n=this.lastX+s,o=this.lastY+c}let i=(0,ks.createCoreData)(this,n,o);if((0,cm.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=n,this.lastY=o}),Jr(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,ks.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let c=n-this.lastX||0,u=o-this.lastY||0;[c,u]=(0,ks.snapToGrid)(this.props.grid,c,u),n=this.lastX+c,o=this.lastY+u}let i=(0,ks.createCoreData)(this,n,o);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;let s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,jr.scheduleRemoveUserSelectStyles)(s.ownerDocument),(0,cm.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,cm.default)("DraggableCore: Removing handlers"),(0,jr.removeEvent)(s.ownerDocument,Ts.move,this.handleDrag),(0,jr.removeEvent)(s.ownerDocument,Ts.stop,this.handleDragStop))}),Jr(this,"onMouseDown",t=>(Ts=Lo.mouse,this.handleDragStart(t))),Jr(this,"onMouseUp",t=>(Ts=Lo.mouse,this.handleDragStop(t))),Jr(this,"onTouchStart",t=>(Ts=Lo.touch,this.handleDragStart(t))),Jr(this,"onTouchEnd",t=>(Ts=Lo.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,jr.addEvent)(t,Lo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,jr.removeEvent)(r,Lo.mouse.move,this.handleDrag),(0,jr.removeEvent)(r,Lo.touch.move,this.handleDrag),(0,jr.removeEvent)(r,Lo.mouse.stop,this.handleDragStop),(0,jr.removeEvent)(r,Lo.touch.stop,this.handleDragStop),(0,jr.removeEvent)(t,Lo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,jr.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:kRe.default.findDOMNode(this)}render(){return vR.cloneElement(vR.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};B_.default=xf;Jr(xf,"displayName","DraggableCore");Jr(xf,"propTypes",{allowAnyClick:Kr.default.bool,allowMobileScroll:Kr.default.bool,children:Kr.default.node.isRequired,disabled:Kr.default.bool,enableUserSelectHack:Kr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Kr.default.arrayOf(Kr.default.number),handle:Kr.default.string,cancel:Kr.default.string,nodeRef:Kr.default.object,onStart:Kr.default.func,onDrag:Kr.default.func,onStop:Kr.default.func,onMouseDown:Kr.default.func,scale:Kr.default.number,className:bR.dontSetMe,style:bR.dontSetMe,transform:bR.dontSetMe});Jr(xf,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var YU=y(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});Object.defineProperty(lm,"DraggableCore",{enumerable:!0,get:function(){return W_.default}});lm.default=void 0;var z_=GU($()),ft=$_(cR()),RRe=$_(Cc()),MRe=IU(),VU=q_(),wf=mR(),_R=um(),W_=$_(UU()),H_=$_(gR());function $_(e){return e&&e.__esModule?e:{default:e}}function GU(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(GU=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xR.apply(null,arguments)}function Sf(e,t,r){return(t=ORe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ORe(e){var t=PRe(e,"string");return typeof t=="symbol"?t:t+""}function PRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cf=class extends z_.Component{static getDerivedStateFromProps(t,r){let{position:n}=t,{prevPropsPosition:o}=r;return n&&(!o||n.x!==o.x||n.y!==o.y)?((0,H_.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:o}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(t){super(t),Sf(this,"onDragStart",(r,n)=>{if((0,H_.default)("Draggable: onDragStart: %j",n),this.props.onStart(r,(0,wf.createDraggableData)(this,n))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),Sf(this,"onDrag",(r,n)=>{if(!this.state.dragging)return!1;(0,H_.default)("Draggable: onDrag: %j",n);let o=(0,wf.createDraggableData)(this,n),i={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){let{x:s,y:c}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;let[u,l]=(0,wf.getBoundPosition)(this,i.x,i.y);i.x=u,i.y=l,i.slackX=this.state.slackX+(s-i.x),i.slackY=this.state.slackY+(c-i.y),o.x=i.x,o.y=i.y,o.deltaX=i.x-this.state.x,o.deltaY=i.y-this.state.y}if(this.props.onDrag(r,o)===!1)return!1;this.setState(i)}),Sf(this,"onDragStop",(r,n)=>{if(!this.state.dragging||this.props.onStop(r,(0,wf.createDraggableData)(this,n))===!1)return!1;(0,H_.default)("Draggable: onDragStop: %j",n);let i={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:s,y:c}=this.props.position;i.x=s,i.y=c}this.setState(i)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??RRe.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:n,defaultPosition:o,defaultClassName:i,defaultClassNameDragging:a,defaultClassNameDragged:s,position:c,positionOffset:u,scale:l,...f}=this.props,d={},p=null,h=!!!c||this.state.dragging,v=c||o,b={x:(0,wf.canDragX)(this)&&h?this.state.x:v.x,y:(0,wf.canDragY)(this)&&h?this.state.y:v.y};this.state.isElementSVG?p=(0,VU.createSVGTransform)(b,u):d=(0,VU.createCSSTransform)(b,u);let _=(0,MRe.clsx)(n.props.className||"",i,{[a]:this.state.dragging,[s]:this.state.dragged});return z_.createElement(W_.default,xR({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),z_.cloneElement(z_.Children.only(n),{className:_,style:{...n.props.style,...d},transform:p}))}};lm.default=Cf;Sf(Cf,"displayName","Draggable");Sf(Cf,"propTypes",{...W_.default.propTypes,axis:ft.default.oneOf(["both","x","y","none"]),bounds:ft.default.oneOfType([ft.default.shape({left:ft.default.number,right:ft.default.number,top:ft.default.number,bottom:ft.default.number}),ft.default.string,ft.default.oneOf([!1])]),defaultClassName:ft.default.string,defaultClassNameDragging:ft.default.string,defaultClassNameDragged:ft.default.string,defaultPosition:ft.default.shape({x:ft.default.number,y:ft.default.number}),positionOffset:ft.default.shape({x:ft.default.oneOfType([ft.default.number,ft.default.string]),y:ft.default.oneOfType([ft.default.number,ft.default.string])}),position:ft.default.shape({x:ft.default.number,y:ft.default.number}),className:_R.dontSetMe,style:_R.dontSetMe,transform:_R.dontSetMe});Sf(Cf,"defaultProps",{...W_.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var ZU=y((b$e,U_)=>{"use strict";var{default:XU,DraggableCore:ARe}=YU();U_.exports=XU;U_.exports.default=XU;U_.exports.DraggableCore=ARe});var JU=y(fm=>{"use strict";var KU=fm&&fm.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fm,"__esModule",{value:!0});var Es=F(),jRe=$(),IRe=KU(kx()),kf=Q(),LRe=re(),NRe=KU(ZU()),DRe=me(),FRe=(0,DRe.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}));function qRe(e){let t=(0,jRe.useRef)(null);return(0,Es.jsx)(NRe.default,{nodeRef:t,cancel:'[class*="MuiDialogContent-root"]',onStart:r=>{var n;return`${(n=r.target)===null||n===void 0?void 0:n.className}`.includes("MuiDialogTitle")},children:(0,Es.jsx)(kf.Paper,{ref:t,...e})})}var BRe=(0,LRe.observer)(function(t){let{classes:r}=FRe(),{title:n,children:o,onClose:i}=t;return(0,Es.jsx)(kf.Dialog,{...t,PaperComponent:qRe,children:(0,Es.jsxs)(kf.ScopedCssBaseline,{children:[(0,Es.jsxs)(kf.DialogTitle,{style:{cursor:"move"},children:[n,i?(0,Es.jsx)(kf.IconButton,{className:r.closeButton,onClick:()=>{i()},children:(0,Es.jsx)(IRe.default,{})}):null]}),(0,Es.jsx)(kf.Divider,{}),o]})})});fm.default=BRe});function SR({onClose:e,currLayout:t}){let{classes:r}=zRe(),[n,o]=(0,wR.useState)(""),[i,a]=(0,wR.useState)();return(0,Rn.jsxs)(Rn.Fragment,{children:[(0,Rn.jsxs)(ro.DialogContent,{children:[(0,Rn.jsx)(ro.Typography,{children:'Paste CSV or TSV. If a header column is present. First line is a header. If a column called "name" is present, it uses that to connect to IDs in the table, otherwise it uses the first column no.'}),i?(0,Rn.jsx)(QU.ErrorMessage,{error:i}):null,(0,Rn.jsx)(ro.TextField,{variant:"outlined",multiline:!0,minRows:5,placeholder:`name,population
HG00098,GBR
HG00101,GBR
HG00459,CHS
...`,maxRows:10,fullWidth:!0,value:n,onChange:s=>{o(s.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})]}),(0,Rn.jsxs)(ro.DialogActions,{children:[(0,Rn.jsx)(ro.Button,{variant:"contained",color:"secondary",onClick:()=>{let s=n.split(`
`).map(u=>u.trim()).filter(u=>!!u),c=s[0].split(/[,\t]/gm);if(c.includes("name")){a("");let u=Object.fromEntries(t.map(f=>[f.name,f])),l=Object.fromEntries(s.slice(1).map(f=>{let d=f.split(/[,\t]/gm),p=Object.fromEntries(d.map((m,h)=>[c[h],m]));return[p.name,{...p,...u[p.name]}]}));e(t.map(f=>({...f,...l[f.name]})))}else a(new Error('No "name" column found on line 1'))},children:"Update rows"}),(0,Rn.jsx)(ro.Button,{variant:"contained",color:"primary",onClick:()=>{let s=n.split(`
`).map(u=>u.trim()).filter(u=>!!u),c=s[0].split(/[,\t]/gm);if(c.includes("name")){a("");let u=Object.fromEntries(t.map(f=>[f.name,f])),l=Object.fromEntries(s.slice(1).map(f=>{let d=f.split(/[,\t]/gm),p=Object.fromEntries(d.map((m,h)=>[c[h],m]));return[p.name,{...p,...u[p.name]}]}));e(t.map(f=>({...l[f.name]})))}else a(new Error('No "name" column found on line 1'))},children:"Replace rows"}),(0,Rn.jsx)(ro.Button,{variant:"contained",color:"inherit",onClick:()=>{e()},children:"Cancel"})]})]})}var Rn,wR,QU,ro,eV,zRe,tV=T(()=>{Rn=g(F()),wR=g($()),QU=g(He()),ro=g(Q()),eV=g(me()),zRe=(0,eV.makeStyles)()({textAreaFont:{fontFamily:"Courier New"}})});function CR(){return(0,Mn.jsxs)(Mn.Fragment,{children:["Helpful tips",(0,Mn.jsxs)("ul",{children:[(0,Mn.jsx)("li",{children:"You can select rows in the table with the checkboxes"}),(0,Mn.jsx)("li",{children:"Multi-select is enabled with shift-click and control-click"}),(0,Mn.jsx)("li",{children:'The "Move selected items up/down" can re-arrange subtracks'}),(0,Mn.jsx)("li",{children:"Sorting the data grid itself can also re-arrange subtracks"}),(0,Mn.jsx)("li",{children:"Changes are applied when you hit Submit"}),(0,Mn.jsx)("li",{children:"You can click and drag the dialog box to move it on the screen"}),(0,Mn.jsx)("li",{children:"Columns in the table can be hidden using a vertical '...' menu on the right side of each column"})]})]})}var Mn,rV=T(()=>{Mn=g(F())});var oV=y((w$e,nV)=>{nV.exports=JBrowseExports["@jbrowse/core/util/color"]});function TR({setCurrLayout:e,currLayout:t}){if(!t.length||!t[0])return null;let r=Object.keys(t[0]).filter(n=>n!=="name"&&n!=="color"&&n!=="source"&&n!=="label"&&n!=="id"&&n!=="HP");return(0,dm.jsxs)("div",{children:["Create color palette based on...",r.map(n=>(0,dm.jsx)(kR.Button,{variant:"contained",color:"inherit",onClick:()=>{let o=new Map;for(let a of t){let s=o.get(a[n]);s?o.set(a[n],s+1):o.set(a[n],1)}let i=Object.fromEntries([...o.entries()].sort((a,s)=>a[1]-s[1]).map((a,s)=>[a[0],iV.set1[s]||(0,aV.randomColor)(a[0])]));e(t.map(a=>({...a,color:i[a[n]]})))},children:n},n)),(0,dm.jsx)(kR.Button,{onClick:()=>{e(t.map(n=>({...n,color:void 0})))},children:"Clear colors"})]})}var dm,iV,aV,kR,sV=T(()=>{dm=g(F()),iV=g(M_()),aV=g(oV()),kR=g(Q())});function RR({model:e,handleClose:t,title:r="Color/arrangement editor",enableBulkEdit:n=!1,enableRowPalettizer:o=!1,showTipsStorageKey:i="setColorDialog-showTips",SourcesGridComponent:a}){let{classes:s}=HRe(),{sources:c}=e,[u,l]=(0,ER.useState)(!1),[f,d]=(0,ER.useState)(structuredClone(c||[])),[p,m]=(0,cV.useLocalStorage)(i,!1);return(0,jt.jsx)(uV.default,{open:!0,onClose:t,maxWidth:"xl",title:r,children:u&&n?(0,jt.jsx)(SR,{currLayout:f,onClose:h=>{h&&d(h),l(!1)}}):(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsxs)(wi.DialogContent,{className:s.content,children:[(0,jt.jsxs)("div",{className:s.fr,children:[(0,jt.jsx)(wi.Button,{variant:"contained",onClick:()=>{m(!p)},children:p?"Hide tips":"Show tips"}),n?(0,jt.jsx)(wi.Button,{color:"secondary",variant:"contained",onClick:()=>{l(!u)},children:"Show Bulk row editor"}):null]}),p?(0,jt.jsx)(CR,{}):null,o?(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("br",{}),(0,jt.jsx)(TR,{currLayout:f,setCurrLayout:d})]}):null,(0,jt.jsx)(a,{rows:f,onChange:d,showTips:p})]}),(0,jt.jsxs)(wi.DialogActions,{children:[(0,jt.jsx)(wi.Button,{variant:"contained",type:"submit",color:"inherit",onClick:()=>{e.clearLayout(),d(e.sources||[])},children:"Clear custom settings"}),(0,jt.jsx)(wi.Button,{variant:"contained",color:"secondary",onClick:()=>{t(),d([...e.sources||[]])},children:"Cancel"}),(0,jt.jsx)(wi.Button,{variant:"contained",color:"primary",type:"submit",onClick:()=>{e.setLayout(f),t()},children:"Submit"})]})]})})}var jt,ER,uV,cV,wi,lV,HRe,fV=T(()=>{jt=g(F()),ER=g($()),uV=g(JU()),cV=g(Z()),wi=g(Q()),lV=g(me());tV();rV();sV();HRe=(0,lV.makeStyles)()({content:{minWidth:800},fr:{float:"right",display:"flex",gap:8}})});var mV={};rt(mV,{default:()=>pV});function pV({model:e,handleClose:t}){return(0,dV.jsx)(RR,{model:e,handleClose:t,title:"Multi-wiggle color/arrangement editor",enableBulkEdit:!0,enableRowPalettizer:!0,showTipsStorageKey:"multiwiggle-showTips",SourcesGridComponent:SU})}var dV,hV=T(()=>{dV=g(F());CU();fV()});var er,Tf,gV,Rs,pm,vV,On,bV,yV,WRe,_V,xV=T(()=>{er=g(F()),Tf=g($()),gV=g(He()),Rs=g(Z()),pm=g(ya()),vV=g(yn()),On=g(Q()),bV=g(re()),yV=g(Oe()),WRe=(0,bV.observer)(function({model:e,children:t,handleClose:r}){let[n,o]=(0,Tf.useState)(""),[i,a]=(0,Tf.useState)(),[s,c]=(0,Tf.useState)(!1),[u,l]=(0,Tf.useState)(""),[f,d]=(0,Tf.useState)(!1),[p,m]=(0,Rs.useLocalStorage)("cluster-samplesPerPixel","1");return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)(On.DialogContent,{children:[t,(0,er.jsxs)("div",{style:{marginTop:50},children:[(0,er.jsx)(On.Button,{variant:"contained",onClick:()=>{d(!f)},children:f?"Hide advanced options":"Show advanced options"}),f?(0,er.jsxs)("div",{style:{marginTop:20},children:[(0,er.jsx)(On.Typography,{children:"This procedure samples the data at each 'pixel' across the visible by default"}),(0,er.jsx)(On.TextField,{label:"Samples per pixel (>1 for denser sampling, between 0-1 for sparser sampling)",variant:"outlined",size:"small",value:p,onChange:h=>{m(h.target.value)}})]}):null]}),(0,er.jsxs)("div",{children:[s?(0,er.jsxs)("div",{style:{padding:50},children:[(0,er.jsx)("span",{children:n||"Loading..."}),(0,er.jsx)(On.Button,{onClick:()=>{(0,pm.stopStopToken)(u)},children:"Stop"})]}):null,i?(0,er.jsx)(gV.ErrorMessage,{error:i}):null]})]}),(0,er.jsxs)(On.DialogActions,{children:[(0,er.jsx)(On.Button,{variant:"contained",disabled:s,onClick:async()=>{var h;try{a(void 0),o("Initializing"),c(!0);let v=(0,Rs.getContainingView)(e);if(!v.initialized)return;let{rpcManager:b}=(0,Rs.getSession)(e),{sourcesWithoutLayout:_,adapterConfig:S}=e;if(_){let x=(0,vV.getRpcSessionId)(e),C=(0,pm.createStopToken)();l(C);let O=await b.call(x,"MultiWiggleClusterScoreMatrix",{regions:v.dynamicBlocks.contentBlocks,sources:_,sessionId:x,adapterConfig:S,stopToken:C,bpPerPx:v.bpPerPx/+p,statusCallback:E=>{o(E)}}),k=!((h=e.layout)===null||h===void 0)&&h.length?e.layout:_,P=Object.fromEntries(k.map(E=>[E.name,E]));e.setLayout(O.order.map(E=>{let R=_[E];if(!R)throw new Error(`out of bounds at ${E}`);return{...R,...P[R.name]}}))}r()}catch(v){!(0,Rs.isAbortException)(v)&&(0,yV.isAlive)(e)&&(console.error(v),a(v))}finally{c(!1),o(""),l("")}},children:"Run clustering"}),(0,er.jsx)(On.Button,{variant:"contained",color:"secondary",onClick:()=>{r(),u&&(0,pm.stopStopToken)(u)},children:"Cancel"})]})]})}),_V=WRe});var Xe,oa,V_,ia,wV,yt,SV,MR,CV,kV,TV,$Re,URe,EV,RV=T(()=>{Xe=g(F()),oa=g($()),V_=g(He()),ia=g(Z()),wV=g(yn()),yt=g(Q()),SV=g(Vf()),MR=g(ky()),CV=g(re()),kV=g(Oe()),TV=g(me()),$Re=(0,TV.makeStyles)()(e=>({textAreaFont:{fontFamily:"Courier New"},mgap:{display:"flex",flexDirection:"column",gap:e.spacing(4)}})),URe=(0,CV.observer)(function({model:e,handleClose:t,children:r}){let{classes:n}=$Re(),[o,i]=(0,oa.useState)(""),[a,s]=(0,oa.useState)(),[c,u]=(0,oa.useState)(),[l,f]=(0,oa.useState)(!1),[d,p]=(0,ia.useLocalStorage)("cluster-showAdvanced",!1),[m,h]=(0,oa.useState)("single"),[v,b]=(0,oa.useState)("1");(0,oa.useEffect)(()=>{(async()=>{try{u(void 0),s(void 0),f(!0);let x=(0,ia.getContainingView)(e),{dynamicBlocks:C,bpPerPx:O}=x,{rpcManager:k}=(0,ia.getSession)(e),{sourcesWithoutLayout:P,adapterConfig:E}=e,R=(0,wV.getRpcSessionId)(e),I=await k.call(R,"MultiWiggleGetScoreMatrix",{regions:C.contentBlocks,sources:P,sessionId:R,adapterConfig:E,bpPerPx:O/+v});s(I)}catch(x){!(0,ia.isAbortException)(x)&&(0,kV.isAlive)(e)&&(console.error(x),u(x))}finally{f(!1)}})()},[e,v]);let _=a?String.raw`inputMatrix<-matrix(c(${Object.values(a).map(x=>x.join(",")).join(`,
`)}
),nrow=${Object.values(a).length},byrow=TRUE)
rownames(inputMatrix)<-c(${Object.keys(a).map(x=>`'${x}'`).join(",")})
resultClusters<-hclust(dist(inputMatrix), method='${m}')
cat(resultClusters$order,sep='\n')`:void 0,S=a?Object.entries(a).map(([x,C])=>[x,...C].join("	")).join(`
`):void 0;return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)(yt.DialogContent,{children:[r,(0,Xe.jsxs)("div",{style:{marginTop:50},children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:[(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,MR.saveAs)(new Blob([_||""],{type:"text/plain;charset=utf-8"}),"cluster.R")},children:"Download Rscript"})," ","or"," ",(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,SV.default)(_||"")},children:"Copy Rscript to clipboard"})," ","or"," ",(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,MR.saveAs)(new Blob([S||""],{type:"text/plain;charset=utf-8"}),"scores.tsv")},children:"Download TSV"})]}),(0,Xe.jsx)("div",{children:(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{p(!d)},children:d?"Hide advanced options":"Show advanced options"})}),d?(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)(yt.Typography,{variant:"h6",children:"Advanced options"}),(0,Xe.jsx)(yt.RadioGroup,{children:Object.entries({single:"Single",complete:"Complete"}).map(([x,C])=>(0,Xe.jsx)(yt.FormControlLabel,{control:(0,Xe.jsx)(yt.Radio,{checked:m===x,onChange:()=>{h(x)}}),label:C},x))}),(0,Xe.jsxs)("div",{style:{marginTop:20},children:[(0,Xe.jsx)(yt.Typography,{children:"This procedure samples the data at each 'pixel' across the visible by default"}),(0,Xe.jsx)(yt.TextField,{label:"Samples per pixel (>1 for denser sampling, between 0-1 for sparser sampling)",variant:"outlined",size:"small",value:v,onChange:x=>{b(x.target.value)}})]})]}):null,_?(0,Xe.jsx)("div",{}):l?(0,Xe.jsx)(V_.LoadingEllipses,{variant:"h6",message:"Generating score matrix"}):c?(0,Xe.jsx)(V_.ErrorMessage,{error:c}):null]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)(yt.Typography,{variant:"subtitle2",gutterBottom:!0,style:{marginTop:"16px"},children:"Clustering Results:"}),(0,Xe.jsx)(yt.TextField,{multiline:!0,fullWidth:!0,variant:"outlined",placeholder:"Paste results from Rscript here (sequence of numbers, one per line, specifying the new ordering)",rows:10,value:o,onChange:x=>{i(x.target.value)},slotProps:{input:{classes:{input:n.textAreaFont}}}})]})]})]}),(0,Xe.jsxs)(yt.DialogActions,{children:[(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{var x;let{sourcesWithoutLayout:C}=e;if(C)try{let O=!((x=e.layout)===null||x===void 0)&&x.length?e.layout:C,k=Object.fromEntries(O.map(P=>[P.name,P]));e.setLayout(o.split(`
`).map(P=>P.trim()).filter(P=>!!P).map(P=>+P).map(P=>{let E=C[P-1];if(!E)throw new Error(`out of bounds at ${P}`);return{...E,...k[E.name]}}))}catch(O){console.error(O),(0,ia.getSession)(e).notifyError(`${O}`,O)}t()},children:"Apply clustering"}),(0,Xe.jsx)(yt.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),EV=URe});var jV={};rt(jV,{default:()=>GRe});function MV({activeMode:e,setActiveMode:t}){return(0,no.jsx)("div",{children:(0,no.jsx)(Ef.RadioGroup,{children:Object.entries({auto:(0,no.jsx)("div",{children:"Run in-app clustering (slower, particularly for large numbers of samples, uses JS implementation of hclust)"}),manual:(0,no.jsx)("div",{children:"Download R script to run clustering (faster, uses R implementation of hclust)"})}).map(([r,n])=>(0,no.jsx)(Ef.FormControlLabel,{control:(0,no.jsx)(Ef.Radio,{checked:e===r,onChange:()=>{t(r)}}),label:n},r))})})}var no,OV,PV,Ef,AV,VRe,GRe,IV=T(()=>{no=g(F()),OV=g($()),PV=g(He()),Ef=g(Q()),AV=g(re());xV();RV();VRe=(0,AV.observer)(function({model:e,handleClose:t}){let[r,n]=(0,OV.useState)("auto");return(0,no.jsx)(PV.Dialog,{open:!0,title:"Cluster by score",maxWidth:"xl",onClose:(o,i)=>{i!=="backdropClick"&&t()},children:r==="auto"?(0,no.jsx)(_V,{model:e,handleClose:t,children:(0,no.jsx)(MV,{activeMode:r,setActiveMode:n})}):(0,no.jsx)(EV,{model:e,handleClose:t,children:(0,no.jsx)(MV,{activeMode:r,setActiveMode:n})})})}),GRe=VRe});var OR=y((U$e,NV)=>{NV.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/TrackType"]});var YV=y(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});PR.default=pMe;var GV=fo();function pMe(e,t="",r=5e3){let n=[e];for(;n.length;){let o=n.pop();for(let[i,a]of Object.entries(o)){if(t.length>r)return(0,GV.hashCode)(t);typeof a=="object"&&a!==null?n.push(a):t+=`${i}-${a}`}}return`adp-${(0,GV.hashCode)(t)}`}});var XV=y(mm=>{"use strict";var mMe=mm&&mm.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mm,"__esModule",{value:!0});mm.adapterConfigCacheKey=gMe;var hMe=mMe(YV());function gMe(e={}){return`${(0,hMe.default)(e)}`}});var gm=y(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.getAdapter=ZV;hm.freeAdapterResources=yMe;hm.clearAdapterCache=_Me;var vMe=XV(),qu={};async function bMe(e,t,r){let n=r?.type;if(!n)throw new Error(`could not determine adapter type from adapter config snapshot ${JSON.stringify(r)}`);let o=e.getAdapterType(n);if(!o)throw new Error(`unknown data adapter type ${n}`);let i=o.configSchema.create(r,{pluginManager:e}),a=ZV.bind(null,e,t),s=await o.getAdapterClass();return{dataAdapter:new s(i,a,e),sessionIds:new Set([t])}}async function ZV(e,t,r){var n;let o=(0,vMe.adapterConfigCacheKey)(r);(n=qu[o])!==null&&n!==void 0||(qu[o]=bMe(e,t,r));let i=await qu[o];return i.sessionIds.add(t),i}async function yMe(e){let t=Object.keys(e);if(t.length===1&&t[0]==="sessionId"){let{sessionId:r}=e;for(let[n,o]of Object.entries(qu)){let i=await o;i.sessionIds.delete(r),i.sessionIds.size===0&&delete qu[n]}}else for(let r of Object.values(qu)){let n=await r,o=e.regions||(e.region?[e.region]:[]);for(let i of o)i.refName!==void 0&&n.dataAdapter.freeResources(i)}}function _Me(){qu={}}});var KV=y(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});var AR=class{constructor(t){this.name=t?.name||"UNKNOWN",this.maybeDisplayName=t?.displayName}get displayName(){return this.maybeDisplayName||this.name}};jR.default=AR});var QV=y(LR=>{"use strict";Object.defineProperty(LR,"__esModule",{value:!0});LR.default=IR;var JV=e=>typeof e=="object"&&e!==null,xMe=e=>JV(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob);function IR(e,t,r=new WeakSet){if(r.has(e))return;r.add(e);let n=o=>{for(let i of o)t(i),JV(i)&&IR(i,t,r)};Array.isArray(e)&&n(e);for(let o of Object.values(e))t(o),xMe(o)&&(Array.isArray(o)?n(o):IR(o,t,r))}});var tG=y(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.UNSUPPORTED=St.UNKNOWN=void 0;St.getTrackAssemblyNames=wMe;St.getConfAssemblyNames=eG;St.getRpcSessionId=SMe;St.getParentRenderProps=CMe;St.getBlob=kMe;St.getBlobMap=TMe;St.setBlobMap=EMe;St.storeBlobLocation=MMe;St.makeIndex=OMe;St.makeIndexType=PMe;St.getFileName=AMe;St.guessAdapter=jMe;St.guessTrackType=IMe;St.generateUnsupportedTrackConf=LMe;St.generateUnknownTrackConf=NMe;St.getTrackName=DMe;var Mf=Oe(),vm=fo(),Rf=Hw();function wMe(e){return eG(e.configuration)}function eG(e){let t=(0,Rf.readConfObject)(e,"assemblyNames");if(!t){let r=(0,Mf.getParent)(e);if("sequence"in r)return[(0,Rf.readConfObject)(r,"name")];throw new Error("unknown assembly names")}return t}function SMe(e){let t;for(let r=e;!(0,Mf.isRoot)(r);r=(0,Mf.getParent)(r))"rpcSessionId"in r&&(t=r.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t}function CMe(e){for(let t=(0,Mf.getParent)(e);!(0,Mf.isRoot)(t);t=(0,Mf.getParent)(t))if("renderProps"in t)return t.renderProps();return{}}St.UNKNOWN="UNKNOWN";St.UNSUPPORTED="UNSUPPORTED";var X_={};function kMe(e){return X_[e]}function TMe(){return X_}function EMe(e){X_=e}var RMe=0;function MMe(e){if("blob"in e){let t=`b${Date.now()}-${RMe++}`;return X_[t]=e.blob,{name:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e}function OMe(e,t){return"uri"in e?{uri:e.uri+t,locationType:"UriLocation"}:"localPath"in e?{localPath:e.localPath+t,locationType:"LocalPathLocation"}:e}function PMe(e,t,r){return e?.toUpperCase().endsWith(t)?t:r}function AMe(e){let t="uri"in e?e.uri:void 0,r="localPath"in e?e.localPath:void 0,n="blobId"in e?e:void 0;return n?.name||t?.slice(t.lastIndexOf("/")+1)||r?.slice(r.replace(/\\/g,"/").lastIndexOf("/")+1)||""}function jMe(e,t,r,n){if(n){let{pluginManager:o}=(0,vm.getEnv)(n),a=o.evaluateExtensionPoint("Core-guessAdapterForLocation",(s,c,u)=>{})(e,t,r);if(a)return a}return{type:St.UNKNOWN}}function IMe(e,t){if(t){let r=(0,vm.getSession)(t),o=(0,vm.getEnv)(r).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",i=>{})(e);if(o)return o}return"FeatureTrack"}function LMe(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unsupported)`,description:`Support not yet implemented for "${t}"`,category:r,trackId:""};return n.trackId=(0,vm.objectHash)(n),n}function NMe(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unknown)`,description:`Could not determine track type for "${t}"`,category:r,trackId:""};return n.trackId=(0,vm.objectHash)(n),n}function DMe(e,t){let r=(0,Rf.readConfObject)(e,"name");if(!r&&(0,Rf.readConfObject)(e,"type")==="ReferenceSequenceTrack"){let n=t.assemblies.find(o=>o.sequence===e);return n?`Reference sequence (${(0,Rf.readConfObject)(n,"displayName")||(0,Rf.readConfObject)(n,"name")})`:"Reference sequence"}return r}});var oG=y(bm=>{"use strict";var nG=bm&&bm.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bm,"__esModule",{value:!0});var FMe=nG(KV()),qMe=nG(QV()),rG=tG(),Z_=jd(),NR=class extends FMe.default{constructor(t){super(),this.pluginManager=t}async serializeArguments(t,r){let n=(0,rG.getBlobMap)();return await this.augmentLocationObjects(t,r),{...t,blobMap:n}}async serializeNewAuthArguments(t,r){let n=this.pluginManager.rootModel;if(!(0,Z_.isAppRootModel)(n)||t.internetAccountPreAuthorization)return t;let o=n.findAppropriateInternetAccount(t);return o&&r!=="MainThreadRpcDriver"&&(t.internetAccountPreAuthorization=await o.getPreAuthorizationInformation(t)),t}async deserializeArguments(t,r){return t.blobMap&&(0,rG.setBlobMap)(t.blobMap),t}async serializeReturn(t,r,n){return t}async deserializeReturn(t,r,n){var o;let i;try{i=await t}catch(a){if((0,Z_.isAuthNeededException)(a)){let s=(o=this.pluginManager.rootModel)===null||o===void 0?void 0:o.createEphemeralInternetAccount(`HTTPBasicInternetAccount-${new URL(a.url).origin}`,{},a.url);throw new Z_.RetryError("Retrying with created internet account",s.internetAccountId)}throw a}return i}async augmentLocationObjects(t,r){let n=[];(0,qMe.default)(t,o=>{(0,Z_.isUriLocation)(o)&&n.push(o)});for(let o of n)await this.serializeNewAuthArguments(o,r);return t}};bm.default=NR});var Of=y(ym=>{"use strict";var iG=ym&&ym.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ym,"__esModule",{value:!0});var BMe=iG(oG()),zMe=fo(),HMe=iG(Mm()),DR=class extends BMe.default{async deserializeArguments(t,r){return{...await super.deserializeArguments(t,r),filters:t.filters?new HMe.default({filters:t.filters}):void 0}}async serializeArguments(t,r){var n,o,i;let s=(o=(n=this.pluginManager.rootModel)===null||n===void 0?void 0:n.session)===null||o===void 0?void 0:o.assemblyManager;if(!s)throw new Error("no assembly manager");let c=await(0,zMe.renameRegionsIfNeeded)(s,{...t,filters:(i=t.filters)===null||i===void 0?void 0:i.toJSON().filters});return super.serializeArguments(c,r)}};ym.default=DR});var lG=y(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.euclideanDistance=uG;_m.averageDistance=cG;_m.clusterData=QMe;var aG=ya();function sG(e){return Number.parseFloat((e*100).toFixed(1))}function uG(e,t){let r=Math.min(e.length,t.length),n=0;for(let o=0;o<r;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return Math.sqrt(n)}function cG(e,t,r){let n=0,o=e.length,i=t.length;for(let a=0;a<o;a++)for(let s=0;s<i;s++)n+=r[e[a]][t[s]];return n/e.length/t.length}function QMe({data:e,distance:t=uG,linkage:r=cG,onProgress:n,stopToken:o}){let i=performance.now(),a=performance.now(),s=[];for(let l=0;l<e.length;l++){let f=performance.now();f-i>400&&((0,aG.checkStopToken)(o),i=performance.now()),f-a>50&&(n?.(`Making distance matrix: ${sG(l/(e.length-1))}%`),a=performance.now());let d=[];for(let p=0;p<e.length;p++)d.push(t(e[l],e[p]));s.push(d)}let c=e.map((l,f)=>({height:0,indexes:[f]})),u=[];i=performance.now(),a=performance.now();for(let l=0;l<e.length;l++){let f=performance.now();if(f-i>400&&((0,aG.checkStopToken)(o),i=performance.now()),f-a>50&&(n?.(`Clustering: ${sG((l+1)/e.length)}%`),a=performance.now()),u.push(c.map(v=>v.indexes)),l>=e.length-1)break;let d=1/0,p=0,m=0;for(let v=0;v<c.length;v++)for(let b=v+1;b<c.length;b++){let _=r(c[v].indexes,c[b].indexes,s);_<d&&(d=_,p=v,m=b)}let h={indexes:[...c[p].indexes,...c[m].indexes],height:d,children:[c[p],c[m]]};c.splice(Math.max(p,m),1),c.splice(Math.min(p,m),1),c.push(h)}return u=[[],...u.reverse()],{clusters:c[0],distances:s,order:c[0].indexes,clustersGivenK:u}}});var SG={};rt(SG,{default:()=>uOe});var It,yG,_G,aa,xG,wG,aOe,sOe,uOe,CG=T(()=>{"use strict";It=g($()),yG=g(He()),_G=g(Uf()),aa=g(Q()),xG=g(re()),wG=g(me()),aOe=(0,wG.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},error:{color:"red",fontSize:"0.8em"}}),sOe=(0,xG.observer)(function({model:e,handleClose:t}){let{classes:r}=aOe(),{activeFilters:n}=e,[o,i]=(0,It.useState)(n.join(`
`)),[a,s]=(0,It.useState)();return(0,It.useEffect)(()=>{try{for(let c of o.split(`
`)){let u=c.trim();u&&(0,_G.stringToJexlExpression)(u)}s(void 0)}catch(c){console.error(c),s(c)}},[o]),It.default.createElement(yG.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Add track filters"},It.default.createElement(aa.DialogContent,null,It.default.createElement("div",null,"Add filters, in jexl format, one per line, starting with the string jexl:. Examples:"," ",It.default.createElement("ul",null,It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'name')=='BRCA1'")," - show only feature where the name attribute is BRCA1"),It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'type')=='gene'")," - show only gene type features in a GFF that has many other feature types"),It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'score') > 400")," - show only features that have a score greater than 400"))),a?It.default.createElement("p",{className:r.error},`${a}`):null,It.default.createElement(aa.TextField,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,className:r.dialogContent,fullWidth:!0,value:o,onChange:c=>{i(c.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})),It.default.createElement(aa.DialogActions,null,It.default.createElement(aa.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!!a,onClick:()=>{e.setJexlFilters(o.split(`
`)),t()}},"Submit"),It.default.createElement(aa.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))}),uOe=sOe});var gOe={};rt(gOe,{default:()=>Q_});var HG=g(km());var nM=g(xe()),oM=g(Tm());function ox(e){e.addAdapterType(()=>{let t=e.getAdapterType("BedTabixAdapter"),r=(0,nM.ConfigurationSchema)("GWASAdapter",{},{baseConfiguration:t.configSchema,explicitlyTyped:!0});return new oM.default({name:"GWASAdapter",displayName:"GWAS adapter",configSchema:r,getAdapterClass:t.getAdapterClass})})}var dM=g($()),KG=(0,dM.lazy)(()=>Promise.resolve().then(()=>(fM(),lM)));function ix(e){e.addToExtensionPoint("Core-addTrackComponent",(t,{model:r})=>r.trackAdapterType==="GWASAdapter"?KG:t)}var Em=g(jn());var mM=g(xe()),hM=g(jn());function ax(e){return(0,mM.ConfigurationSchema)("GWASTrack",{},{baseConfiguration:(0,hM.createBaseTrackConfig)(e)})}function sx(e){e.addTrackType(()=>{let t=ax(e);return new Em.TrackType({name:"GWASTrack",displayName:"GWAS track",configSchema:t,stateModel:(0,Em.createBaseTrackModel)(e,"GWASTrack",t)})})}var bM=g(Z()),Ps=g(yn());function ux(e){e.addToExtensionPoint("Core-guessAdapterForLocation",t=>(r,n,o)=>{let i=(0,Ps.getFileName)(r),a=n&&(0,Ps.getFileName)(n);return(0,bM.testAdapter)(i,/\.txt\.gz$/i,o,"GWASAdapter")?{type:"GWASAdapter",bedGzLocation:r,index:{location:n||(0,Ps.makeIndex)(r,".tbi"),indexType:(0,Ps.makeIndexType)(a,"CSI","TBI")}}:t(r,n,o)}),e.addToExtensionPoint("Core-guessTrackTypeForLocation",t=>r=>r==="GWASAdapter"?"GWASTrack":t(r))}var RG=g(jn());var cx=g(xe()),lx=g(Oe());function _M(e){let t=e.getPlugin("LinearGenomeViewPlugin"),{baseLinearDisplayConfigSchema:r}=t.exports,n=e.getRendererType("LinearManhattanRenderer").configSchema;return(0,cx.ConfigurationSchema)("LinearManhattanDisplay",{mouseover:{type:"string",defaultValue:"jexl:getTooltip(feature)",contextVariable:["feature"]},autoscale:{type:"stringEnum",defaultValue:"local",model:lx.types.enumeration("Autoscale type",["global","local","globalsd","localsd","zscore"]),description:"global/local using their min/max values or w/ standard deviations (globalsd/localsd)"},minScore:{type:"number",defaultValue:Number.MIN_VALUE,description:"minimum value for the y-scale"},maxScore:{type:"number",description:"maximum value for the y-scale",defaultValue:Number.MAX_VALUE},numStdDev:{type:"number",description:"number of standard deviations to use for autoscale types globalsd or localsd",defaultValue:3},scaleType:{type:"stringEnum",model:lx.types.enumeration("Scale type",["linear","log"]),description:"The type of scale to use",defaultValue:"linear"},inverted:{type:"boolean",description:"draw upside down",defaultValue:!1},renderers:(0,cx.ConfigurationSchema)("RenderersConfiguration",{LinearManhattanRenderer:n})},{baseConfiguration:r,explicitlyTyped:!0})}var kG=g($()),K_=g(xe()),TG=g(Mm()),No=g(Z()),sa=g(Oe());var xm=g($()),hG=g(xe()),gG=g(He());var nOe=g(km());var sX=g(Tm());var rO=g(xe());var uPe=(0,rO.ConfigurationSchema)("BigWigAdapter",{bigWigLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.bw",locationType:"UriLocation"}},source:{type:"string",defaultValue:"",description:"Used for multiwiggle"},resolutionMultiplier:{type:"number",defaultValue:1,description:"Initial resolution multiplier"}},{explicitlyTyped:!0,preProcessSnapshot:e=>e.uri?{...e,bigWigLocation:{uri:e.uri,baseUri:e.baseUri}}:e});var Fq=g($()),Rye=g(xe()),qq=g(Z()),lFe=(0,Fq.lazy)(()=>Promise.resolve().then(()=>(Dq(),Nq)));var Mye=g(OC()),zq=g(Z());var $q=g(xe());var Hq=g(xe()),Wq=g(Oe());var Oye=(0,Hq.ConfigurationSchema)("WiggleRenderer",{color:{type:"color",description:"the color of track, overrides posColor and negColor",defaultValue:"#f0f",contextVariable:["feature"]},posColor:{type:"color",description:"the color to use when the score is positive",defaultValue:"blue",contextVariable:["feature"]},negColor:{type:"color",description:"the color to use when the score is negative",defaultValue:"red",contextVariable:["feature"]},clipColor:{type:"color",description:"the color of the clipping marker",defaultValue:"red"},bicolorPivot:{type:"stringEnum",model:Wq.types.enumeration("Scale type",["numeric","mean","z_score","none"]),description:"type of bicolor pivot",defaultValue:"numeric"},bicolorPivotValue:{type:"number",defaultValue:0,description:"value to use for bicolor pivot"}},{explicitlyTyped:!0}),Mr=Oye;var bFe=(0,$q.ConfigurationSchema)("DensityRenderer",{},{baseConfiguration:Mr,explicitlyTyped:!0});var PC=g(F()),Uq=g($()),Vq=g(He()),Gq=g(re()),_Fe=(0,Gq.observer)(function(e){let{regions:t,features:r,bpPerPx:n,width:o,height:i,onMouseLeave:a,onMouseMove:s,onFeatureClick:c}=e,u=t[0],l=(0,Uq.useRef)(null);function f(d){let p=0;l.current&&(p=l.current.getBoundingClientRect().left);let m=d-p,h=u.reversed?o-m:m,v=u.start+n*h,b;for(let _ of r.values())if(v<=_.get("end")+n&&v>=_.get("start")){b=_;break}return b}return(0,PC.jsx)("div",{ref:l,"data-testid":"wiggle-rendering-test",onMouseMove:d=>{var p;return s?.(d,(p=f(d.clientX))===null||p===void 0?void 0:p.id())},onClick:d=>{var p;return c?.(d,(p=f(d.clientX))===null||p===void 0?void 0:p.id())},onMouseLeave:d=>a?.(d),style:{overflow:"visible",position:"relative",height:i},children:(0,PC.jsx)(Vq.PrerenderedCanvas,{...e})})});var Pye=g(Z()),Aye=g(yn());var Yq=g(xe());var OFe=(0,Yq.ConfigurationSchema)("LinePlotRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1}},{baseConfiguration:Mr,explicitlyTyped:!0});var f_e=g(xe());Gn();var DEe=g($()),FEe=g(pk());var mTe=g(xe()),hTe=g(Oe());var fTe=g(xe());E_();var dTe=g(Oe());var rR=g($()),jEe=g(xe()),V7=g(Z());var IEe=g(Oe()),LEe=g(R_());var d7=g($()),UE=g(xe()),VE=g(Z()),STe=g(ya());E_();var CTe=g(Oe());Gn();var GHe=(0,d7.lazy)(()=>Promise.resolve().then(()=>(f7(),l7)));Gn();var iWe=(0,rR.lazy)(()=>Promise.resolve().then(()=>(YE(),y7))),aWe=(0,rR.lazy)(()=>Promise.resolve().then(()=>(U7(),$7)));YE();eU();var rU=g(xe());var xWe=(0,rU.ConfigurationSchema)("MultiDensityRenderer",{},{baseConfiguration:Mr,explicitlyTyped:!0});var oR=g(F()),nU=g($()),oU=g(He()),iU=g(Z()),aU=g(re()),SWe=(0,aU.observer)(function(e){let{regions:t,features:r,bpPerPx:n,width:o,height:i,sources:a,onMouseLeave:s=()=>{},onMouseMove:c=()=>{},onFeatureClick:u=()=>{},displayModel:l}=e,f=t[0],d=(0,nU.useRef)(null),{isMultiRow:p}=l||{};function m(h,v){if(!d.current)return;let b=d.current.getBoundingClientRect(),_=h-b.left,S=v-b.top,x=a[Math.floor(S/i*a.length)];if(!x)return;let C=f.reversed?o-_:_,O=f.start+n*C,k;if(p){for(let P of r.values())if(P.get("source")===x.name&&O<=P.get("end")+n&&O>=P.get("start")){k=P;break}}else{let P=[];for(let E of r.values())O<=E.get("end")+n&&O>=E.get("start")&&P.push(E);if(P.length){let E=Math.floor(O);k=new iU.SimpleFeature({uniqueId:"mouseoverfeat",sources:Object.fromEntries(P.map(R=>R.toJSON()).map(R=>{let{refName:I,start:q,end:N,source:M,...D}=R;return[M,D]})),...f,start:E,end:E+1})}}return k}return(0,oR.jsx)("div",{ref:d,onMouseMove:h=>{let{clientX:v,clientY:b}=h,_=m(v,b);c(h,_)},onClick:h=>{let{clientX:v,clientY:b}=h,_=m(v,b);u(h,_)},onMouseLeave:h=>{s(h)},style:{overflow:"visible",position:"relative",height:i},children:(0,oR.jsx)(oU.PrerenderedCanvas,{...e})})});var sU=g(Z());var uU=g(Z());var cU=g(xe()),lU=g(Oe());var NWe=(0,cU.ConfigurationSchema)("MultiLineRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:lU.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"}},{baseConfiguration:Mr,explicitlyTyped:!0});var QRe=g($()),eMe=g(pk());var qEe=g(xe()),BEe=g(Oe());var G_=g($()),YRe=g(xe()),XRe=g(M_()),Y_=g(Z()),ZRe=g(ya()),KRe=g(dU()),LV=g(Oe()),JRe=g(R_());Gn();var N$e=(0,G_.lazy)(()=>Promise.resolve().then(()=>(gU(),hU))),D$e=(0,G_.lazy)(()=>Promise.resolve().then(()=>(hV(),mV))),F$e=(0,G_.lazy)(()=>Promise.resolve().then(()=>(IV(),jV)));var nMe=g(OR()),oMe=g(pu());var tMe=g(xe()),rMe=g(pu());var DV=g(Z());var FV=g(xe()),qV=g(Oe());var Q$e=(0,FV.ConfigurationSchema)("MultiRowLineRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:qV.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"}},{baseConfiguration:Mr,explicitlyTyped:!0});var BV=g(Z());var zV=g(xe()),HV=g(Oe());var l7e=(0,zV.ConfigurationSchema)("MultiRowXYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:HV.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Mr,explicitlyTyped:!0});var iMe=g(Tm());var WV=g(xe());var b7e=(0,WV.ConfigurationSchema)("MultiWiggleAdapter",{subadapters:{type:"frozen",defaultValue:[],description:"array of subadapter JSON objects"},bigWigs:{type:"frozen",description:"array of bigwig filenames, alternative to the subadapters slot",defaultValue:[]}},{explicitlyTyped:!0});var aMe=g($()),sMe=g(jn()),uMe=g(Oe());var $V=g(Z());Gn();var UV=g(xe()),VV=g(Oe());var R7e=(0,UV.ConfigurationSchema)("MultiXYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:VV.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Mr,explicitlyTyped:!0});var fMe=g(OR()),dMe=g(pu());var cMe=g(xe()),lMe=g(pu());var WMe=g(gm()),$Me=g(Of());var UMe=g(gm()),VMe=g(Of());var GMe=g(gm()),YMe=g(Of());var JMe=g(Of());var XMe=g(gm()),ZMe=g(Z());var eOe=g(Of()),tOe=g(lG());var rOe=g(xe());Gn();var fG=g(xe()),dG=g(Oe());var pUe=(0,fG.ConfigurationSchema)("XYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:dG.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Mr,explicitlyTyped:!0});Gn();Gn();var vG=g(re()),oOe=xm.default.forwardRef(function({model:t,feature:r},n){return xm.default.createElement("div",{ref:n},xm.default.createElement(gG.SanitizedHTML,{html:(0,hG.getConf)(t,"mouseover",{feature:r})}))}),iOe=(0,vG.observer)(function(e){return xm.default.createElement(em,{TooltipContents:oOe,...e})}),bG=iOe;var cOe=(0,kG.lazy)(()=>Promise.resolve().then(()=>(CG(),SG)));function EG(e,t){let r=e.getPlugin("WigglePlugin"),{linearWiggleDisplayModelFactory:n}=r.exports;return sa.types.compose("LinearManhattanDisplay",n(e,t),sa.types.model({type:sa.types.literal("LinearManhattanDisplay"),configuration:(0,K_.ConfigurationReference)(t),jexlFilters:sa.types.maybe(sa.types.array(sa.types.string))})).views(o=>({get TooltipComponent(){return bG},get rendererTypeName(){return"LinearManhattanRenderer"},get needsScalebar(){return!0},get regionTooLarge(){return!1},get activeFilters(){return o.jexlFilters??(0,K_.getConf)(o,"jexlFilters").map(i=>`jexl:${i}`)}})).actions(o=>({selectFeature(i){let a=(0,No.getSession)(o);if((0,No.isSessionModelWithWidgets)(a)){let s=a.addWidget("BaseFeatureWidget","baseFeature",{view:(0,No.getContainingView)(o),track:(0,No.getContainingTrack)(o),featureData:i.toJSON()});a.showWidget(s)}(0,No.isSelectionContainer)(a)&&a.setSelection(i)},setJexlFilters(i){o.jexlFilters=(0,sa.cast)(i)}})).views(o=>{let{trackMenuItems:i,renderProps:a}=o;return{renderProps(){return{...a(),config:o.rendererConfig,filters:new TG.default({filters:o.activeFilters})}},trackMenuItems(){return[...i(),{label:"Edit filters",onClick:()=>{(0,No.getSession)(o).queueDialog(s=>[cOe,{model:o,handleClose:s}])}}]}}})}function FR(e){let t=e.getPlugin("WigglePlugin"),{LinearWiggleDisplayReactComponent:r}=t.exports;e.addDisplayType(()=>{let n=_M(e);return new RG.DisplayType({name:"LinearManhattanDisplay",configSchema:n,stateModel:EG(e,n),trackType:"GWASTrack",viewType:"LinearGenomeView",ReactComponent:r})})}function lOe(e=0){return+e.toPrecision(6)}var qR=e=>e.toLocaleString("en-US");function fOe(e){let t=e.get("start")+1,r=e.get("end"),n=e.get("refName"),o=e.get("name"),i=e.get("rsid");return`${[n,t===r?qR(t):`${qR(t)}..${qR(r)}`].filter(s=>!!s).join(":")}<br/>${lOe(e.get("score"))}<br/>${o||i}`}function BR(e){e.jexl.addFunction("getTooltip",t=>fOe(t))}var jG=g(xe()),IG=g(OC()),J_=g(Z());var wm=class{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){let o=n-1>>1,i=this.values[o];if(r>=i)break;this.ids[n]=this.ids[o],this.values[n]=i,n=o}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;let t=this.ids,r=this.values,n=t[0],o=--this.length;if(o>0){let i=t[o],a=r[o],s=0,c=o>>1;for(;s<c;){let u=(s<<1)+1,l=u+1,f=u+(+(l<o)&+(r[l]<r[u]));if(r[f]>=a)break;t[s]=t[f],r[s]=r[f],s=f}t[s]=i,r[s]=a}return n}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}};var MG=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],zR=3,Bu=class e{static from(t,r=0){if(r%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");let[n,o]=new Uint8Array(t,r+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");let i=o>>4;if(i!==zR)throw new Error(`Got v${i} data when expected v${zR}.`);let a=MG[o&15];if(!a)throw new Error("Unrecognized array type.");let[s]=new Uint16Array(t,r+2,1),[c]=new Uint32Array(t,r+4,1);return new e(c,s,a,void 0,t,r)}constructor(t,r=16,n=Float64Array,o=ArrayBuffer,i,a=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.byteOffset=a;let s=t,c=s;this._levelBounds=[s*4];do s=Math.ceil(s/this.nodeSize),c+=s,this._levelBounds.push(c*4);while(s!==1);this.ArrayType=n,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;let u=MG.indexOf(n),l=c*4*n.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${n}.`);if(i)this.data=i,this._boxes=new n(i,a+8,c*4),this._indices=new this.IndexArrayType(i,a+8+l,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{let f=this.data=new o(8+l+c*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new n(f,8,c*4),this._indices=new this.IndexArrayType(f,8+l,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(f,0,2).set([251,(zR<<4)+u]),new Uint16Array(f,2,1)[0]=r,new Uint32Array(f,4,1)[0]=t}this._queue=new wm}add(t,r,n=t,o=r){let i=this._pos>>2,a=this._boxes;return this._indices[i]=i,a[this._pos++]=t,a[this._pos++]=r,a[this._pos++]=n,a[this._pos++]=o,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),o>this.maxY&&(this.maxY=o),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);let t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}let r=this.maxX-this.minX||1,n=this.maxY-this.minY||1,o=new Uint32Array(this.numItems),i=65535;for(let a=0,s=0;a<this.numItems;a++){let c=t[s++],u=t[s++],l=t[s++],f=t[s++],d=Math.floor(i*((c+l)/2-this.minX)/r),p=Math.floor(i*((u+f)/2-this.minY)/n);o[a]=pOe(d,p)}HR(o,t,this._indices,0,this.numItems-1,this.nodeSize);for(let a=0,s=0;a<this._levelBounds.length-1;a++){let c=this._levelBounds[a];for(;s<c;){let u=s,l=t[s++],f=t[s++],d=t[s++],p=t[s++];for(let m=1;m<this.nodeSize&&s<c;m++)l=Math.min(l,t[s++]),f=Math.min(f,t[s++]),d=Math.max(d,t[s++]),p=Math.max(p,t[s++]);this._indices[this._pos>>2]=u,t[this._pos++]=l,t[this._pos++]=f,t[this._pos++]=d,t[this._pos++]=p}}}search(t,r,n,o,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=[],c=[];for(;a!==void 0;){let u=Math.min(a+this.nodeSize*4,OG(a,this._levelBounds));for(let l=a;l<u;l+=4){let f=this._boxes[l];if(n<f)continue;let d=this._boxes[l+1];if(o<d)continue;let p=this._boxes[l+2];if(t>p)continue;let m=this._boxes[l+3];if(r>m)continue;let h=this._indices[l>>2]|0;a>=this.numItems*4?s.push(h):(i===void 0||i(h,f,d,p,m))&&c.push(h)}a=s.pop()}return c}neighbors(t,r,n=1/0,o=1/0,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=this._queue,c=[],u=o*o;e:for(;a!==void 0;){let l=Math.min(a+this.nodeSize*4,OG(a,this._levelBounds));for(let f=a;f<l;f+=4){let d=this._indices[f>>2]|0,p=this._boxes[f],m=this._boxes[f+1],h=this._boxes[f+2],v=this._boxes[f+3],b=t<p?p-t:t>h?t-h:0,_=r<m?m-r:r>v?r-v:0,S=b*b+_*_;S>u||(a>=this.numItems*4?s.push(d<<1,S):(i===void 0||i(d))&&s.push((d<<1)+1,S))}for(;s.length&&s.peek()&1;)if(s.peekValue()>u||(c.push(s.pop()>>1),c.length===n))break e;a=s.length?s.pop()>>1:void 0}return s.clear(),c}};function OG(e,t){let r=0,n=t.length-1;for(;r<n;){let o=r+n>>1;t[o]>e?n=o:r=o+1}return t[r]}function HR(e,t,r,n,o,i){if(Math.floor(n/i)>=Math.floor(o/i))return;let a=e[n],s=e[n+o>>1],c=e[o],u=c,l=Math.max(a,s);c>l?u=l:l===a?u=Math.max(s,c):l===s&&(u=Math.max(a,c));let f=n-1,d=o+1;for(;;){do f++;while(e[f]<u);do d--;while(e[d]>u);if(f>=d)break;dOe(e,t,r,f,d)}HR(e,t,r,n,d,i),HR(e,t,r,d+1,o,i)}function dOe(e,t,r,n,o){let i=e[n];e[n]=e[o],e[o]=i;let a=4*n,s=4*o,c=t[a],u=t[a+1],l=t[a+2],f=t[a+3];t[a]=t[s],t[a+1]=t[s+1],t[a+2]=t[s+2],t[a+3]=t[s+3],t[s]=c,t[s+1]=u,t[s+2]=l,t[s+3]=f;let d=r[n];r[n]=r[o],r[o]=d}function pOe(e,t){let r=e^t,n=65535^r,o=65535^(e|t),i=e&(t^65535),a=r|n>>1,s=r>>1^r,c=o>>1^n&i>>1^o,u=r&o>>1^i>>1^i;r=a,n=s,o=c,i=u,a=r&r>>2^n&n>>2,s=r&n>>2^n&(r^n)>>2,c^=r&o>>2^n&i>>2,u^=n&o>>2^(r^n)&i>>2,r=a,n=s,o=c,i=u,a=r&r>>4^n&n>>4,s=r&n>>4^n&(r^n)>>4,c^=r&o>>4^n&i>>4,u^=n&o>>4^(r^n)&i>>4,r=a,n=s,o=c,i=u,c^=r&o>>8^n&i>>8,u^=n&o>>8^(r^n)&i>>8,r=c^c>>1,n=u^u>>1;let l=e^t,f=n|65535^(l|r);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,(f<<1|l)>>>0}function WR(e){if(e!==void 0){let t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch{throw new Error("aborted")}}}var PG=Math.PI*2,AG=5,zu=2,Sm=class extends IG.default{constructor(){super(...arguments);this.supportsSVG=!0}async render(r){let n=await this.getFeatures(r),{height:o,regions:i,bpPerPx:a,statusCallback:s=()=>{}}=r,c=i[0],u=(c.end-c.start)/a,l=await(0,J_.updateStatus)("Rendering plot",s,()=>(0,J_.renderToAbstractCanvas)(u,o,r,d=>this.draw(d,{...r,features:n})));return{...await super.render({...r,...l,features:n,height:o,width:u}),...l,features:n,height:o,width:u,containsNoTransferables:!0}}draw(r,n){let{features:o,regions:i,bpPerPx:a,config:s,scaleOpts:c,height:u,displayCrossHatches:l,ticks:{values:f},stopToken:d}=n,p=i[0],m=u-AG*2,h=(p.end-p.start)/a,v=1/a,b=p.start,_=R0({...c,range:[0,m]}),S=E=>m+AG-_(E),x=s.color.isCallback,C=s.color.value,O=!x&&!C.includes("rgba")&&!C.includes("hsla"),k=this.drawPoints(r,{features:o,regionStart:b,pxPerBp:v,toY:S,config:s,colorValue:C,colorCallback:x,canBatch:O,stopToken:d});if(l){r.lineWidth=1,r.strokeStyle="rgba(200,200,200,0.8)",r.beginPath();for(let E of f){let R=Math.round(S(E));r.moveTo(0,R),r.lineTo(h,R)}r.stroke()}let P=new Bu(Math.max(k.length,1));if(k.length===0)P.add(0,0,0,0);else for(let E of k)P.add(E.minX,E.minY,E.maxX,E.maxY);return P.finish(),{clickMap:{index:P.data,items:k}}}drawPoints(r,n){let{features:o,regionStart:i,pxPerBp:a,toY:s,config:c,colorValue:u,colorCallback:l,canBatch:f,stopToken:d}=n,p=[],m=0,h=0,v=performance.now(),b=0,_=(S,x,C)=>Math.abs(x-m)>1||Math.abs(C-h)>1?(m=x,h=C,p.push({minX:x-zu,minY:C-zu,maxX:x+zu,maxY:C+zu,feature:S.toJSON()}),!0):!1;if(f){r.fillStyle=u,r.beginPath();for(let S of o.values()){b++%100===0&&performance.now()-v>200&&(WR(d),v=performance.now());let x=(S.get("start")-i)*a,C=s(S.get("score"));_(S,x,C)&&(r.moveTo(x+zu,C),r.arc(x,C,zu,0,PG))}r.fill()}else{r.fillStyle=u;for(let S of o.values()){b++%100===0&&performance.now()-v>200&&(WR(d),v=performance.now());let x=(S.get("start")-i)*a,C=s(S.get("score"));_(S,x,C)&&(l&&(r.fillStyle=(0,jG.readConfObject)(c,"color",{feature:S})),r.beginPath(),r.arc(x,C,zu,0,PG),r.fill())}}return p}};var Hu=g($()),LG=g(He()),NG=g(Z());var DG=g(re()),mOe=(0,DG.observer)(function(e){let{height:t,onMouseLeave:r,onMouseMove:n,onFeatureClick:o,clickMap:i}=e,a=(0,Hu.useRef)(null),s=(0,Hu.useMemo)(()=>Bu.from(i.index),[i.index]);function c(u,l){if(!a.current)return;let f=a.current.getBoundingClientRect(),d=u-f.left,p=l-f.top,[m]=s.search(d,p,d+3,p+3),h=m!==void 0?i.items[m]:void 0;return h?new NG.SimpleFeature(h.feature):void 0}return Hu.default.createElement("div",{ref:a,"data-testid":"manhattan-rendering",onMouseMove:u=>n?.(u,c(u.clientX,u.clientY)?.id()),onClick:u=>o?.(u,c(u.clientX,u.clientY)?.id()),onMouseLeave:r,style:{overflow:"visible",position:"relative",height:t}},Hu.default.createElement(LG.PrerenderedCanvas,{...e}))}),FG=mOe;var qG=g(xe()),BG=(0,qG.ConfigurationSchema)("LinearManhattanRenderer",{color:{type:"color",description:"the color of the marks",defaultValue:"darkblue",contextVariable:["feature"]}},{explicitlyTyped:!0});function $R(e){e.addRendererType(()=>new Sm({name:"LinearManhattanRenderer",ReactComponent:FG,configSchema:BG,pluginManager:e}))}var zG="2.1.3";var Q_=class extends HG.default{constructor(){super(...arguments);this.name="GWASPlugin";this.version=zG}install(r){ox(r),ix(r),sx(r),ux(r),FR(r),$R(r),BR(r)}};return nx(gOe);})();
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

canvas2svg/canvas2svg.js:
  (*!!
   *  Canvas 2 Svg v1.0.15
   *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
   *
   *  Licensed under the MIT license:
   *  http://www.opensource.org/licenses/mit-license.php
   *
   *  Author:
   *  Kerry Liu
   *
   *  Copyright (c) 2014 Gliffy Inc.
   *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.3.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=jbrowse-plugin-gwas.umd.production.min.js.map

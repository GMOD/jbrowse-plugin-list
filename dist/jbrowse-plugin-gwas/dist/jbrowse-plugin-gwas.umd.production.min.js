"use strict";var JBrowsePluginGWAS=(()=>{var eU=Object.create;var Vp=Object.defineProperty;var tU=Object.getOwnPropertyDescriptor;var rU=Object.getOwnPropertyNames;var nU=Object.getPrototypeOf,oU=Object.prototype.hasOwnProperty;var A=(e,t)=>()=>(e&&(t=e(e=0)),t);var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rt=(e,t)=>{for(var r in t)Vp(e,r,{get:t[r],enumerable:!0})},CE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rU(t))!oU.call(e,o)&&o!==r&&Vp(e,o,{get:()=>t[o],enumerable:!(n=tU(t,o))||n.enumerable});return e};var g=(e,t,r)=>(r=e!=null?eU(nU(e)):{},CE(t||!e||!e.__esModule?Vp(r,"default",{value:e,enumerable:!0}):r,e)),f_=e=>CE(Vp({},"__esModule",{value:!0}),e);var Gp=y((Qke,TE)=>{TE.exports=JBrowseExports["@jbrowse/core/Plugin"]});var Yp=y((eEe,kE)=>{kE.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/AdapterType"]});var xe=y((tEe,EE)=>{EE.exports=JBrowseExports["@jbrowse/core/configuration"]});var $=y((nEe,ME)=>{ME.exports=JBrowseExports.react});var Q=y((oEe,PE)=>{PE.exports=JBrowseExports["@mui/material"]});var re=y((iEe,AE)=>{AE.exports=JBrowseExports["mobx-react"]});var LE={};rt(LE,{default:()=>aU});var Pu,jE,IE,iU,aU,DE=A(()=>{"use strict";Pu=g($()),jE=g(Q()),IE=g(re()),iU=(0,IE.observer)(function({model:e}){let[t,r]=(0,Pu.useState)("neg_log_pvalue");return(0,Pu.useEffect)(()=>{e.setMixinData({adapter:{scoreColumn:t}})},[e,t]),Pu.default.createElement(jE.TextField,{label:"Score column",helperText:"Name of the column to use as the score for the Manhattan plot (e.g., 'neg_log_pvalue', 'pvalue')",value:t,onChange:n=>{r(n.target.value)},fullWidth:!0})}),aU=iU});var An=y((sEe,FE)=>{FE.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes"]});var Z=y((fEe,zE)=>{zE.exports=JBrowseExports["@jbrowse/core/util"]});var bn=y((dEe,HE)=>{HE.exports=JBrowseExports["@jbrowse/core/util/tracks"]});var Me=y((mEe,$E)=>{$E.exports=JBrowseExports["mobx-state-tree"]});var Wt=y((gEe,ff)=>{function uU(e){return e&&e.__esModule?e:{default:e}}ff.exports=uU,ff.exports.__esModule=!0,ff.exports.default=ff.exports});var y_=y((vEe,xi)=>{function b_(e){"@babel/helpers - typeof";return xi.exports=b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi.exports.__esModule=!0,xi.exports.default=xi.exports,b_(e)}xi.exports=b_,xi.exports.__esModule=!0,xi.exports.default=xi.exports});var GE=y((bEe,df)=>{var VE=y_().default;function cU(e,t){if(VE(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(VE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}df.exports=cU,df.exports.__esModule=!0,df.exports.default=df.exports});var __=y((yEe,pf)=>{var lU=y_().default,fU=GE();function dU(e){var t=fU(e,"string");return lU(t)=="symbol"?t:t+""}pf.exports=dU,pf.exports.__esModule=!0,pf.exports.default=pf.exports});var YE=y((_Ee,mf)=>{var pU=__();function mU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}mf.exports=mU,mf.exports.__esModule=!0,mf.exports.default=mf.exports});var Ts=y((xEe,hf)=>{function hU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}hf.exports=hU,hf.exports.__esModule=!0,hf.exports.default=hf.exports});var ks=y((wEe,gf)=>{var gU=__();function XE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gU(n.key),n)}}function vU(e,t,r){return t&&XE(e.prototype,t),r&&XE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}gf.exports=vU,gf.exports.__esModule=!0,gf.exports.default=gf.exports});var x_=y((SEe,vf)=>{function bU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}vf.exports=bU,vf.exports.__esModule=!0,vf.exports.default=vf.exports});var ZE=y((CEe,bf)=>{var yU=x_();function _U(e){if(Array.isArray(e))return yU(e)}bf.exports=_U,bf.exports.__esModule=!0,bf.exports.default=bf.exports});var KE=y((TEe,yf)=>{function xU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}yf.exports=xU,yf.exports.__esModule=!0,yf.exports.default=yf.exports});var QE=y((kEe,_f)=>{var JE=x_();function wU(e,t){if(e){if(typeof e=="string")return JE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JE(e,t):void 0}}_f.exports=wU,_f.exports.__esModule=!0,_f.exports.default=_f.exports});var eO=y((EEe,xf)=>{function SU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}xf.exports=SU,xf.exports.__esModule=!0,xf.exports.default=xf.exports});var tO=y((OEe,wf)=>{var CU=ZE(),TU=KE(),kU=QE(),EU=eO();function OU(e){return CU(e)||TU(e)||kU(e)||EU()}wf.exports=OU,wf.exports.__esModule=!0,wf.exports.default=wf.exports});var rO=y(qo=>{"use strict";var RU=Wt(),MU=RU(tO()),PU={functions:"Jexl Function",transforms:"Transform"};qo.ArrayLiteral=function(e){return this.evalArray(e.value)};qo.BinaryExpression=function(e){var t=this,r=this._grammar.elements[e.operator];if(r.evalOnDemand){var n=function(i){return{eval:function(){return t.eval(i)}}};return r.evalOnDemand(n(e.left),n(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then(function(o){return r.eval(o[0],o[1])})};qo.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then(function(r){return r?e.consequent?t.eval(e.consequent):r:t.eval(e.alternate)})};qo.FilterExpression=function(e){var t=this;return this.eval(e.subject).then(function(r){return e.relative?t._filterRelative(r,e.expr):t._filterStatic(r,e.expr)})};qo.Identifier=function(e){return e.from?this.eval(e.from).then(function(t){if(t!=null)return Array.isArray(t)&&(t=t[0]),t[e.value]}):e.relative?this._relContext[e.value]:this._context[e.value]};qo.Literal=function(e){return e.value};qo.ObjectLiteral=function(e){return this.evalMap(e.value)};qo.FunctionCall=function(e){var t=PU[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var r=this._grammar[e.pool],n=r[e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then(function(o){return n.apply(void 0,(0,MU.default)(o))})};qo.UnaryExpression=function(e){var t=this;return this.eval(e.right).then(function(r){return t._grammar.elements[e.operator].eval(r)})}});var iO=y((MEe,oO)=>{"use strict";var nO=Wt(),AU=nO(Ts()),jU=nO(ks()),IU=rO(),LU=(function(){function e(t,r,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Promise;(0,AU.default)(this,e),this._grammar=t,this._context=r||{},this._relContext=n||this._context,this.Promise=o}return(0,jU.default)(e,[{key:"eval",value:function(r){var n=this;return this.Promise.resolve().then(function(){return IU[r.type].call(n,r)})}},{key:"evalArray",value:function(r){var n=this;return this.Promise.all(r.map(function(o){return n.eval(o)}))}},{key:"evalMap",value:function(r){var n=this,o=Object.keys(r),i={},a=o.map(function(s){return n.eval(r[s])});return this.Promise.all(a).then(function(s){return s.forEach(function(c,u){i[o[u]]=c}),i})}},{key:"_filterRelative",value:function(r,n){var o=this,i=[];return Array.isArray(r)||(r=r===void 0?[]:[r]),r.forEach(function(a){var s=new e(o._grammar,o._context,a,o.Promise);i.push(s.eval(n))}),this.Promise.all(i).then(function(a){var s=[];return a.forEach(function(c,u){c&&s.push(r[u])}),s})}},{key:"_filterStatic",value:function(r,n){return this.eval(n).then(function(o){return typeof o=="boolean"?o?r:void 0:r[o]})}}]),e})();oO.exports=LU});var cO=y((PEe,uO)=>{"use strict";var sO=Wt(),DU=sO(Ts()),NU=sO(ks()),FU=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,aO=/^[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Zа-яА-Я0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,qU=/\\\\/,BU=/^\s*$/,zU=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],HU=["[a-zA-Z\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$][a-zA-Z0-9\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],WU=["binaryOp","unaryOp","openParen","openBracket","question","colon"],$U=(function(){function e(t){(0,DU.default)(this,e),this._grammar=t}return(0,NU.default)(e,[{key:"getElements",value:function(r){var n=this._getSplitRegex();return r.split(n).filter(function(o){return o})}},{key:"getTokens",value:function(r){for(var n=[],o=!1,i=0;i<r.length;i++)this._isWhitespace(r[i])?n.length&&(n[n.length-1].raw+=r[i]):r[i]==="-"&&this._isNegative(n)?o=!0:(o&&(r[i]="-"+r[i],o=!1),n.push(this._createToken(r[i])));return o&&n.push(this._createToken("-")),n}},{key:"tokenize",value:function(r){var n=this.getElements(r);return this.getTokens(n)}},{key:"_createToken",value:function(r){var n={type:"literal",value:r,raw:r};if(r[0]==='"'||r[0]==="'")n.value=this._unquote(r);else if(r.match(FU))n.value=parseFloat(r);else if(r==="true"||r==="false")n.value=r==="true";else if(this._grammar.elements[r])n.type=this._grammar.elements[r].type;else if(r.match(aO))n.type="identifier";else throw new Error("Invalid expression token: ".concat(r));return n}},{key:"_escapeRegExp",value:function(r){return r=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r.match(aO)&&(r="\\b"+r+"\\b"),r}},{key:"_getSplitRegex",value:function(){var r=this;if(!this._splitRegex){var n=Object.keys(this._grammar.elements).sort(function(o,i){return i.length-o.length}).map(function(o){return r._escapeRegExp(o)},this);this._splitRegex=new RegExp("("+[zU.join("|"),n.join("|"),HU.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(r){return r.length?WU.some(function(n){return n===r[r.length-1].type}):!0}},{key:"_isWhitespace",value:function(r){return!!r.match(BU)}},{key:"_unquote",value:function(r){var n=r[0],o=new RegExp("\\\\"+n,"g");return r.substr(1,r.length-2).replace(o,n).replace(qU,"\\")}}]),e})();uO.exports=$U});var w_=y($t=>{"use strict";$t.argVal=function(e){e&&this._cursor.args.push(e)};$t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})};$t.arrayVal=function(e){e&&this._cursor.value.push(e)};$t.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,r=this._cursor._parent;r&&r.operator&&this._grammar.elements[r.operator].precedence>=t;)this._cursor=r,r=r._parent;var n={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,n),this._cursor=r,this._placeAtCursor(n)};$t.dot=function(){this._nextIdentEncapsulate=this._cursor&&this._cursor.type!=="UnaryExpression"&&(this._cursor.type!=="BinaryExpression"||this._cursor.type==="BinaryExpression"&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)};$t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})};$t.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})};$t.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))};$t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})};$t.objKey=function(e){this._curObjKey=e.value};$t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})};$t.objVal=function(e){this._cursor.value[this._curObjKey]=e};$t.subExpression=function(e){this._placeAtCursor(e)};$t.ternaryEnd=function(e){this._cursor.alternate=e};$t.ternaryMid=function(e){this._cursor.consequent=e};$t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree};$t.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})};$t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}});var fO=y(lO=>{"use strict";var tn=w_();lO.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:tn.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:tn.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:tn.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:tn.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:tn.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:tn.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:tn.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:tn.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:tn.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:tn.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:tn.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:tn.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:tn.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:tn.ternaryEnd,completable:!0}}});var mO=y((IEe,pO)=>{"use strict";var dO=Wt(),UU=dO(Ts()),VU=dO(ks()),GU=w_(),Kp=fO().states,YU=(function(){function e(t,r,n){(0,UU.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=r||"",this._relative=!1,this._stopMap=n||{}}return(0,VU.default)(e,[{key:"addToken",value:function(r){if(this._state==="complete")throw new Error("Cannot add a new token to a completed Parser");var n=Kp[this._state],o=this._exprStr;if(this._exprStr+=r.raw,n.subHandler){this._subParser||this._startSubExpression(o);var i=this._subParser.addToken(r);if(i){if(this._endSubExpression(),this._parentStop)return i;this._state=i}}else if(n.tokenTypes[r.type]){var a=n.tokenTypes[r.type],s=GU[r.type];a.handler&&(s=a.handler),s&&s.call(this,r),a.toState&&(this._state=a.toState)}else{if(this._stopMap[r.type])return this._stopMap[r.type];throw new Error("Token ".concat(r.raw," (").concat(r.type,") unexpected in expression: ").concat(this._exprStr))}return!1}},{key:"addTokens",value:function(r){r.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!Kp[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){Kp[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(r){this._cursor?(this._cursor.right=r,this._setParent(r,this._cursor)):this._tree=r,this._cursor=r}},{key:"_placeBeforeCursor",value:function(r){this._cursor=this._cursor._parent,this._placeAtCursor(r)}},{key:"_setParent",value:function(r,n){Object.defineProperty(r,"_parent",{value:n,writable:!0})}},{key:"_startSubExpression",value:function(r){var n=Kp[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,r,n)}}]),e})();pO.exports=YU});var vO=y((LEe,gO)=>{"use strict";var hO=Wt(),XU=hO(Ts()),ZU=hO(ks()),na=(function(){function e(t){(0,XU.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,ZU.default)(e,[{key:"catch",value:function(r){if(this.error)try{this._resolve(r(this.error))}catch(n){this._reject(n)}return this}},{key:"then",value:function(r,n){if(!this.error)try{this._resolve(r(this.value))}catch(o){this._reject(o)}return n&&this.catch(n),this}},{key:"_reject",value:function(r){this.value=void 0,this.error=r}},{key:"_resolve",value:function(r){r instanceof e?r.error?this._reject(r.error):this._resolve(r.value):(this.value=r,this.error=void 0)}}]),e})();na.all=function(e){return new na(function(t){var r=e.map(function(n){for(;n instanceof na;){if(n.error)throw Error(n.error);n=n.value}return n});t(r)})};na.resolve=function(e){return new na(function(t){return t(e)})};na.reject=function(e){return new na(function(t,r){return r(e)})};gO.exports=na});var _O=y((DEe,yO)=>{"use strict";var bO=Wt(),KU=bO(Ts()),JU=bO(ks()),QU=iO(),eV=cO(),tV=mO(),rV=vO(),nV=(function(){function e(t,r){(0,KU.default)(this,e),this._grammar=t,this._exprStr=r,this._ast=null}return(0,JU.default)(e,[{key:"compile",value:function(){var r=new eV(this._grammar),n=new tV(this._grammar),o=r.tokenize(this._exprStr);return n.addTokens(o),this._ast=n.complete(),this}},{key:"eval",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._eval(r,Promise)}},{key:"evalSync",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._eval(r,rV);if(n.error)throw n.error;return n.value}},{key:"_eval",value:function(r,n){var o=this;return n.resolve().then(function(){var i=o._getAst(),a=new QU(o._grammar,r,void 0,n);return a.eval(i)})}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e})();yO.exports=nV});var wO=y(xO=>{"use strict";xO.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(t,r){return t+r}},"-":{type:"binaryOp",precedence:30,eval:function(t,r){return t-r}},"*":{type:"binaryOp",precedence:40,eval:function(t,r){return t*r}},"/":{type:"binaryOp",precedence:40,eval:function(t,r){return t/r}},"//":{type:"binaryOp",precedence:40,eval:function(t,r){return Math.floor(t/r)}},"%":{type:"binaryOp",precedence:50,eval:function(t,r){return t%r}},"^":{type:"binaryOp",precedence:50,eval:function(t,r){return Math.pow(t,r)}},"==":{type:"binaryOp",precedence:20,eval:function(t,r){return t==r}},"!=":{type:"binaryOp",precedence:20,eval:function(t,r){return t!=r}},">":{type:"binaryOp",precedence:20,eval:function(t,r){return t>r}},">=":{type:"binaryOp",precedence:20,eval:function(t,r){return t>=r}},"<":{type:"binaryOp",precedence:20,eval:function(t,r){return t<r}},"<=":{type:"binaryOp",precedence:20,eval:function(t,r){return t<=r}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n&&r.eval()})}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n||r.eval()})}},in:{type:"binaryOp",precedence:20,eval:function(t,r){return typeof r=="string"?r.indexOf(t)!==-1:Array.isArray(r)?r.some(function(n){return n===t}):!1}},"!":{type:"unaryOp",precedence:1/0,eval:function(t){return!t}}},functions:{},transforms:{}}}});var CO=y((FEe,C_)=>{"use strict";var S_=Wt(),oV=S_(YE()),iV=S_(Ts()),aV=S_(ks()),sV=_O(),uV=wO(),cV=uV.getGrammar,SO=(function(){function e(){(0,iV.default)(this,e),this.expr=this.expr.bind(this),this._grammar=cV()}return(0,aV.default)(e,[{key:"addBinaryOp",value:function(r,n,o,i){this._addGrammarElement(r,(0,oV.default)({type:"binaryOp",precedence:n},i?"evalOnDemand":"eval",o))}},{key:"addFunction",value:function(r,n){this._grammar.functions[r]=n}},{key:"addFunctions",value:function(r){for(var n in r)this._grammar.functions[n]=r[n]}},{key:"addUnaryOp",value:function(r,n){this._addGrammarElement(r,{type:"unaryOp",weight:1/0,eval:n})}},{key:"addTransform",value:function(r,n){this._grammar.transforms[r]=n}},{key:"addTransforms",value:function(r){for(var n in r)this._grammar.transforms[n]=r[n]}},{key:"compile",value:function(r){var n=this.createExpression(r);return n.compile()}},{key:"createExpression",value:function(r){return new sV(this._grammar,r)}},{key:"getFunction",value:function(r){return this._grammar.functions[r]}},{key:"getTransform",value:function(r){return this._grammar.transforms[r]}},{key:"eval",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(r);return o.eval(n)}},{key:"evalSync",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(r);return o.evalSync(n)}},{key:"expr",value:function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=r.reduce(function(s,c,u){var l=u<o.length?o[u]:"";return s+=c+l,s},"");return this.createExpression(a)}},{key:"removeOp",value:function(r){this._grammar.elements[r]&&(this._grammar.elements[r].type==="binaryOp"||this._grammar.elements[r].type==="unaryOp")&&delete this._grammar.elements[r]}},{key:"_addGrammarElement",value:function(r,n){this._grammar.elements[r]=n}}]),e})();C_.exports=new SO;C_.exports.Jexl=SO});var TO=y(Sf=>{"use strict";var lV=Sf&&Sf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=dV;var fV=lV(CO());function dV(){let e=new fV.default.Jexl;return e.addFunction("get",(t,r)=>t.get(r)),e.addFunction("parent",t=>t.parent()),e.addFunction("id",t=>t.id()),e.addFunction("cast",t=>t),e.addFunction("log",t=>(console.log(t),t)),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(t,r)=>t.split(r)),e.addFunction("join",(t,...r)=>[...r].filter(n=>!!n).join(t)),e.addFunction("charAt",(t,r)=>t.charAt(r)),e.addFunction("charCodeAt",(t,r)=>t.charCodeAt(r)),e.addFunction("codePointAt",(t,r)=>t.codePointAt(r)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("endsWith",(t,r,n)=>t.endsWith(r,n)),e.addFunction("padEnd",(t,r,n)=>t.padEnd(r,n)),e.addFunction("padStart",(t,r,n)=>t.padStart(r,n)),e.addFunction("repeat",(t,r)=>t.repeat(r)),e.addFunction("replace",(t,r,n)=>t.replace(r,n)),e.addFunction("replaceAll",(t,r,n)=>t.replaceAll(r,n)),e.addFunction("slice",(t,r,n)=>t.slice(r,n)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("substring",(t,r,n)=>t.substring(r,n)),e.addFunction("toLowerCase",t=>t.toLowerCase()),e.addFunction("toUpperCase",t=>t.toUpperCase()),e.addFunction("jsonParse",t=>JSON.parse(t)),e.addFunction("trim",t=>t.trim()),e.addFunction("trimEnd",t=>t.trimEnd()),e.addFunction("trimStart",t=>t.trimStart()),e.addFunction("getTag",(t,r)=>{let n=t.get("tags");return n?n[r]:t.get(r)}),e.addBinaryOp("&",15,(t,r)=>t&r),e}});var Tf=y(Cf=>{"use strict";var pV=Cf&&Cf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.stringToJexlExpression=hV;var mV=pV(TO()),T_={};function hV(e,t){let r=`nosig|${e}`;if(!T_[r]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");let o=e.split("jexl:")[1],i=t?t.compile(o):(0,mV.default)().compile(o);T_[r]=i}return T_[r]}});var Jp=y(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var gV=Tf(),k_=class e{constructor({filters:t=[]}){this.filterChain=t.map(r=>r.trim()).filter(r=>!!r).map(r=>{if(typeof r=="string")return{expr:(0,gV.stringToJexlExpression)(r),string:r};throw new Error(`invalid inputFilter string "${r}"`)})}passes(...t){for(let r of this.filterChain)if(!r.expr.evalSync({feature:t[0]}))return!1;return!0}toJSON(){return{filters:this.filterChain.map(t=>t.string)}}static fromJSON(t){return new e(t)}};E_.default=k_});var He=y((HEe,kO)=>{kO.exports=JBrowseExports["@jbrowse/core/ui"]});var F=y((YEe,OO)=>{OO.exports=JBrowseExports["react/jsx-runtime"]});var R_=y(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.ErrorBoundary=void 0;var bV=F(),yV=$(),O_=class extends yV.Component{constructor(t){super(t),this.state={error:void 0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t})}render(){return this.state.error?(0,bV.jsx)(this.props.FallbackComponent,{error:this.state.error}):this.props.children}};Qp.ErrorBoundary=O_});var M_=y((ZEe,RO)=>{RO.exports=JBrowseExports["@mui/material/utils"]});var jn=y(P_=>{"use strict";"use client";Object.defineProperty(P_,"__esModule",{value:!0});Object.defineProperty(P_,"default",{enumerable:!0,get:function(){return _V.createSvgIcon}});var _V=M_()});var A_=y(em=>{"use strict";"use client";var xV=Wt().default;Object.defineProperty(em,"__esModule",{value:!0});em.default=void 0;var wV=xV(jn()),SV=F(),JEe=em.default=(0,wV.default)((0,SV.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")});var me=y((eOe,MO)=>{MO.exports=JBrowseExports["tss-react/mui"]});var PO=y(tm=>{"use strict";"use client";var CV=Wt().default;Object.defineProperty(tm,"__esModule",{value:!0});tm.default=void 0;var TV=CV(jn()),kV=F(),tOe=tm.default=(0,TV.default)((0,kV.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")});var AO=y(rm=>{"use strict";"use client";var EV=Wt().default;Object.defineProperty(rm,"__esModule",{value:!0});rm.default=void 0;var OV=EV(jn()),RV=F(),nOe=rm.default=(0,OV.default)((0,RV.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")});var jO=y(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.default=jV;var MV=F(),PV=me(),AV=(0,PV.makeStyles)()(e=>({bg:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:e.palette.mode==="dark"?"#833":"#f88",border:`1px solid ${e.palette.divider}`}}));function jV({children:e}){let{classes:t}=AV();return(0,MV.jsx)("div",{className:t.bg,children:e})}});var LO=y((aOe,IO)=>{IO.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}}});var kf=y((sOe,NO)=>{"use strict";var IV=LO(),DO={"text/plain":"Text","text/html":"Url",default:"Text"},LV="Copy to clipboard: #{key}, Enter";function DV(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function NV(e,t){var r,n,o,i,a,s,c=!1;t||(t={}),r=t.debug||!1;try{o=IV(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=DO[t.format]||DO.default;window.clipboardData.setData(f,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),n=DV("message"in t?t.message:LV),window.prompt(n,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c}NO.exports=NV});var qO=y(I_=>{var FO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");I_.encode=function(e){if(0<=e&&e<FO.length)return FO[e];throw new TypeError("Must be between 0 and 63: "+e)};I_.decode=function(e){var t=65,r=90,n=97,o=122,i=48,a=57,s=43,c=47,u=26,l=52;return t<=e&&e<=r?e-t:n<=e&&e<=o?e-n+u:i<=e&&e<=a?e-i+l:e==s?62:e==c?63:-1}});var N_=y(D_=>{var BO=qO(),L_=5,zO=1<<L_,HO=zO-1,WO=zO;function FV(e){return e<0?(-e<<1)+1:(e<<1)+0}function qV(e){var t=(e&1)===1,r=e>>1;return t?-r:r}D_.encode=function(t){var r="",n,o=FV(t);do n=o&HO,o>>>=L_,o>0&&(n|=WO),r+=BO.encode(n);while(o>0);return r};D_.decode=function(t,r,n){var o=t.length,i=0,a=0,s,c;do{if(r>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(c=BO.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(c&WO),c&=HO,i=i+(c<<a),a+=L_}while(s);n.value=qV(i),n.rest=r}});var ju=y(rr=>{function BV(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}rr.getArg=BV;var $O=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,zV=/^data:.+\,.+$/;function Ef(e){var t=e.match($O);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}rr.urlParse=Ef;function Au(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}rr.urlGenerate=Au;var HV=32;function WV(e){var t=[];return function(r){for(var n=0;n<t.length;n++)if(t[n].input===r){var o=t[0];return t[0]=t[n],t[n]=o,t[0].result}var i=e(r);return t.unshift({input:r,result:i}),t.length>HV&&t.pop(),i}}var F_=WV(function(t){var r=t,n=Ef(t);if(n){if(!n.path)return t;r=n.path}for(var o=rr.isAbsolute(r),i=[],a=0,s=0;;)if(a=s,s=r.indexOf("/",a),s===-1){i.push(r.slice(a));break}else for(i.push(r.slice(a,s));s<r.length&&r[s]==="/";)s++;for(var c,u=0,s=i.length-1;s>=0;s--)c=i[s],c==="."?i.splice(s,1):c===".."?u++:u>0&&(c===""?(i.splice(s+1,u),u=0):(i.splice(s,2),u--));return r=i.join("/"),r===""&&(r=o?"/":"."),n?(n.path=r,Au(n)):r});rr.normalize=F_;function UO(e,t){e===""&&(e="."),t===""&&(t=".");var r=Ef(t),n=Ef(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Au(r);if(r||t.match(zV))return t;if(n&&!n.host&&!n.path)return n.host=t,Au(n);var o=t.charAt(0)==="/"?t:F_(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=o,Au(n)):o}rr.join=UO;rr.isAbsolute=function(e){return e.charAt(0)==="/"||$O.test(e)};function $V(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}rr.relative=$V;var VO=(function(){var e=Object.create(null);return!("__proto__"in e)})();function GO(e){return e}function UV(e){return YO(e)?"$"+e:e}rr.toSetString=VO?GO:UV;function VV(e){return YO(e)?e.slice(1):e}rr.fromSetString=VO?GO:VV;function YO(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}function GV(e,t,r){var n=wi(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:wi(e.name,t.name)}rr.compareByOriginalPositions=GV;function YV(e,t,r){var n;return n=e.originalLine-t.originalLine,n!==0||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:wi(e.name,t.name)}rr.compareByOriginalPositionsNoSource=YV;function XV(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=wi(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:wi(e.name,t.name)}rr.compareByGeneratedPositionsDeflated=XV;function ZV(e,t,r){var n=e.generatedColumn-t.generatedColumn;return n!==0||r||(n=wi(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:wi(e.name,t.name)}rr.compareByGeneratedPositionsDeflatedNoLine=ZV;function wi(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function KV(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=wi(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:wi(e.name,t.name)}rr.compareByGeneratedPositionsInflated=KV;function JV(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}rr.parseSourceMapInput=JV;function QV(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Ef(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}t=UO(Au(n),t)}return F_(t)}rr.computeSourceURL=QV});var z_=y(XO=>{var q_=ju(),B_=Object.prototype.hasOwnProperty,Es=typeof Map<"u";function Si(){this._array=[],this._set=Es?new Map:Object.create(null)}Si.fromArray=function(t,r){for(var n=new Si,o=0,i=t.length;o<i;o++)n.add(t[o],r);return n};Si.prototype.size=function(){return Es?this._set.size:Object.getOwnPropertyNames(this._set).length};Si.prototype.add=function(t,r){var n=Es?t:q_.toSetString(t),o=Es?this.has(t):B_.call(this._set,n),i=this._array.length;(!o||r)&&this._array.push(t),o||(Es?this._set.set(t,i):this._set[n]=i)};Si.prototype.has=function(t){if(Es)return this._set.has(t);var r=q_.toSetString(t);return B_.call(this._set,r)};Si.prototype.indexOf=function(t){if(Es){var r=this._set.get(t);if(r>=0)return r}else{var n=q_.toSetString(t);if(B_.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')};Si.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)};Si.prototype.toArray=function(){return this._array.slice()};XO.ArraySet=Si});var JO=y(KO=>{var ZO=ju();function eG(e,t){var r=e.generatedLine,n=t.generatedLine,o=e.generatedColumn,i=t.generatedColumn;return n>r||n==r&&i>=o||ZO.compareByGeneratedPositionsInflated(e,t)<=0}function nm(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}nm.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};nm.prototype.add=function(t){eG(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};nm.prototype.toArray=function(){return this._sorted||(this._array.sort(ZO.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};KO.MappingList=nm});var H_=y(QO=>{var Of=N_(),Rt=ju(),om=z_().ArraySet,tG=JO().MappingList;function In(e){e||(e={}),this._file=Rt.getArg(e,"file",null),this._sourceRoot=Rt.getArg(e,"sourceRoot",null),this._skipValidation=Rt.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=Rt.getArg(e,"ignoreInvalidMapping",!1),this._sources=new om,this._names=new om,this._mappings=new tG,this._sourcesContents=null}In.prototype._version=3;In.fromSourceMap=function(t,r){var n=t.sourceRoot,o=new In(Object.assign(r||{},{file:t.file,sourceRoot:n}));return t.eachMapping(function(i){var a={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(a.source=i.source,n!=null&&(a.source=Rt.relative(n,a.source)),a.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(a.name=i.name)),o.addMapping(a)}),t.sources.forEach(function(i){var a=i;n!==null&&(a=Rt.relative(n,i)),o._sources.has(a)||o._sources.add(a);var s=t.sourceContentFor(i);s!=null&&o.setSourceContent(i,s)}),o};In.prototype.addMapping=function(t){var r=Rt.getArg(t,"generated"),n=Rt.getArg(t,"original",null),o=Rt.getArg(t,"source",null),i=Rt.getArg(t,"name",null);!this._skipValidation&&this._validateMapping(r,n,o,i)===!1||(o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),i!=null&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:o,name:i}))};In.prototype.setSourceContent=function(t,r){var n=t;this._sourceRoot!=null&&(n=Rt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Rt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Rt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};In.prototype.applySourceMap=function(t,r,n){var o=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=t.file}var i=this._sourceRoot;i!=null&&(o=Rt.relative(i,o));var a=new om,s=new om;this._mappings.unsortedForEach(function(c){if(c.source===o&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Rt.join(n,c.source)),i!=null&&(c.source=Rt.relative(i,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var l=c.source;l!=null&&!a.has(l)&&a.add(l);var f=c.name;f!=null&&!s.has(f)&&s.add(f)},this),this._sources=a,this._names=s,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Rt.join(n,c)),i!=null&&(c=Rt.relative(i,c)),this.setSourceContent(c,u))},this)};In.prototype._validateMapping=function(t,r,n,o){if(r&&typeof r.line!="number"&&typeof r.column!="number"){var i="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!o)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;var i="Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:o});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}};In.prototype._serializeMappings=function(){for(var t=0,r=1,n=0,o=0,i=0,a=0,s="",c,u,l,f,d=this._mappings.toArray(),p=0,m=d.length;p<m;p++){if(u=d[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Rt.compareByGeneratedPositionsInflated(u,d[p-1]))continue;c+=","}c+=Of.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(f=this._sources.indexOf(u.source),c+=Of.encode(f-a),a=f,c+=Of.encode(u.originalLine-1-o),o=u.originalLine-1,c+=Of.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(l=this._names.indexOf(u.name),c+=Of.encode(l-i),i=l)),s+=c}return s};In.prototype._generateSourcesContent=function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Rt.relative(r,n));var o=Rt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)};In.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};In.prototype.toString=function(){return JSON.stringify(this.toJSON())};QO.SourceMapGenerator=In});var eR=y(Os=>{Os.GREATEST_LOWER_BOUND=1;Os.LEAST_UPPER_BOUND=2;function W_(e,t,r,n,o,i){var a=Math.floor((t-e)/2)+e,s=o(r,n[a],!0);return s===0?a:s>0?t-a>1?W_(a,t,r,n,o,i):i==Os.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?W_(e,a,r,n,o,i):i==Os.LEAST_UPPER_BOUND?a:e<0?-1:e}Os.search=function(t,r,n,o){if(r.length===0)return-1;var i=W_(-1,r.length,t,r,n,o||Os.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&n(r[i],r[i-1],!0)===0;)--i;return i}});var nR=y(rR=>{function rG(e){function t(o,i,a){var s=o[i];o[i]=o[a],o[a]=s}function r(o,i){return Math.round(o+Math.random()*(i-o))}function n(o,i,a,s){if(a<s){var c=r(a,s),u=a-1;t(o,c,s);for(var l=o[s],f=a;f<s;f++)i(o[f],l,!1)<=0&&(u+=1,t(o,u,f));t(o,u+1,f);var d=u+1;n(o,i,a,d-1),n(o,i,d+1,s)}}return n}function nG(e){let t=rG.toString();return new Function(`return ${t}`)()(e)}var tR=new WeakMap;rR.quickSort=function(e,t,r=0){let n=tR.get(t);n===void 0&&(n=nG(t),tR.set(t,n)),n(e,t,r,e.length-1)}});var aR=y(im=>{var oe=ju(),U_=eR(),Iu=z_().ArraySet,oG=N_(),Rf=nR().quickSort;function ut(e,t){var r=e;return typeof e=="string"&&(r=oe.parseSourceMapInput(e)),r.sections!=null?new oo(r,t):new hr(r,t)}ut.fromSourceMap=function(e,t){return hr.fromSourceMap(e,t)};ut.prototype._version=3;ut.prototype.__generatedMappings=null;Object.defineProperty(ut.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});ut.prototype.__originalMappings=null;Object.defineProperty(ut.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});ut.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return n===";"||n===","};ut.prototype._parseMappings=function(t,r){throw new Error("Subclasses must implement _parseMappings")};ut.GENERATED_ORDER=1;ut.ORIGINAL_ORDER=2;ut.GREATEST_LOWER_BOUND=1;ut.LEAST_UPPER_BOUND=2;ut.prototype.eachMapping=function(t,r,n){var o=r||null,i=n||ut.GENERATED_ORDER,a;switch(i){case ut.GENERATED_ORDER:a=this._generatedMappings;break;case ut.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var s=this.sourceRoot,c=t.bind(o),u=this._names,l=this._sources,f=this._sourceMapURL,d=0,p=a.length;d<p;d++){var m=a[d],h=m.source===null?null:l.at(m.source);h!==null&&(h=oe.computeSourceURL(s,h,f)),c({source:h,generatedLine:m.generatedLine,generatedColumn:m.generatedColumn,originalLine:m.originalLine,originalColumn:m.originalColumn,name:m.name===null?null:u.at(m.name)})}};ut.prototype.allGeneratedPositionsFor=function(t){var r=oe.getArg(t,"line"),n={source:oe.getArg(t,"source"),originalLine:r,originalColumn:oe.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",oe.compareByOriginalPositions,U_.LEAST_UPPER_BOUND);if(i>=0){var a=this._originalMappings[i];if(t.column===void 0)for(var s=a.originalLine;a&&a.originalLine===s;)o.push({line:oe.getArg(a,"generatedLine",null),column:oe.getArg(a,"generatedColumn",null),lastColumn:oe.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)o.push({line:oe.getArg(a,"generatedLine",null),column:oe.getArg(a,"generatedColumn",null),lastColumn:oe.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i]}return o};im.SourceMapConsumer=ut;function hr(e,t){var r=e;typeof e=="string"&&(r=oe.parseSourceMapInput(e));var n=oe.getArg(r,"version"),o=oe.getArg(r,"sources"),i=oe.getArg(r,"names",[]),a=oe.getArg(r,"sourceRoot",null),s=oe.getArg(r,"sourcesContent",null),c=oe.getArg(r,"mappings"),u=oe.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=oe.normalize(a)),o=o.map(String).map(oe.normalize).map(function(l){return a&&oe.isAbsolute(a)&&oe.isAbsolute(l)?oe.relative(a,l):l}),this._names=Iu.fromArray(i.map(String),!0),this._sources=Iu.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(l){return oe.computeSourceURL(a,l,t)}),this.sourceRoot=a,this.sourcesContent=s,this._mappings=c,this._sourceMapURL=t,this.file=u}hr.prototype=Object.create(ut.prototype);hr.prototype.consumer=ut;hr.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=oe.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};hr.fromSourceMap=function(t,r){var n=Object.create(hr.prototype),o=n._names=Iu.fromArray(t._names.toArray(),!0),i=n._sources=Iu.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return oe.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),s=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,l=a.length;u<l;u++){var f=a[u],d=new iR;d.generatedLine=f.generatedLine,d.generatedColumn=f.generatedColumn,f.source&&(d.source=i.indexOf(f.source),d.originalLine=f.originalLine,d.originalColumn=f.originalColumn,f.name&&(d.name=o.indexOf(f.name)),c.push(d)),s.push(d)}return Rf(n.__originalMappings,oe.compareByOriginalPositions),n};hr.prototype._version=3;Object.defineProperty(hr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function iR(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var $_=oe.compareByGeneratedPositionsDeflatedNoLine;function oR(e,t){let r=e.length,n=e.length-t;if(!(n<=1))if(n==2){let o=e[t],i=e[t+1];$_(o,i)>0&&(e[t]=i,e[t+1]=o)}else if(n<20)for(let o=t;o<r;o++)for(let i=o;i>t;i--){let a=e[i-1],s=e[i];if($_(a,s)<=0)break;e[i-1]=s,e[i]=a}else Rf(e,$_,t)}hr.prototype._parseMappings=function(t,r){var n=1,o=0,i=0,a=0,s=0,c=0,u=t.length,l=0,f={},d={},p=[],m=[],h,v,b,_,S;let w=0;for(;l<u;)if(t.charAt(l)===";")n++,l++,o=0,oR(m,w),w=m.length;else if(t.charAt(l)===",")l++;else{for(h=new iR,h.generatedLine=n,_=l;_<u&&!this._charIsMappingSeparator(t,_);_++);for(v=t.slice(l,_),b=[];l<_;)oG.decode(t,l,d),S=d.value,l=d.rest,b.push(S);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");if(h.generatedColumn=o+b[0],o=h.generatedColumn,b.length>1&&(h.source=s+b[1],s+=b[1],h.originalLine=i+b[2],i=h.originalLine,h.originalLine+=1,h.originalColumn=a+b[3],a=h.originalColumn,b.length>4&&(h.name=c+b[4],c+=b[4])),m.push(h),typeof h.originalLine=="number"){let O=h.source;for(;p.length<=O;)p.push(null);p[O]===null&&(p[O]=[]),p[O].push(h)}}oR(m,w),this.__generatedMappings=m;for(var T=0;T<p.length;T++)p[T]!=null&&Rf(p[T],oe.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...p)};hr.prototype._findMapping=function(t,r,n,o,i,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[o]);return U_.search(t,r,i,a)};hr.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};hr.prototype.originalPositionFor=function(t){var r={generatedLine:oe.getArg(t,"line"),generatedColumn:oe.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",oe.compareByGeneratedPositionsDeflated,oe.getArg(t,"bias",ut.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===r.generatedLine){var i=oe.getArg(o,"source",null);i!==null&&(i=this._sources.at(i),i=oe.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var a=oe.getArg(o,"name",null);return a!==null&&(a=this._names.at(a)),{source:i,line:oe.getArg(o,"originalLine",null),column:oe.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};hr.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1};hr.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var o=t;this.sourceRoot!=null&&(o=oe.relative(this.sourceRoot,o));var i;if(this.sourceRoot!=null&&(i=oe.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!i.path||i.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')};hr.prototype.generatedPositionFor=function(t){var r=oe.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:oe.getArg(t,"line"),originalColumn:oe.getArg(t,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",oe.compareByOriginalPositions,oe.getArg(t,"bias",ut.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:oe.getArg(i,"generatedLine",null),column:oe.getArg(i,"generatedColumn",null),lastColumn:oe.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};im.BasicSourceMapConsumer=hr;function oo(e,t){var r=e;typeof e=="string"&&(r=oe.parseSourceMapInput(e));var n=oe.getArg(r,"version"),o=oe.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Iu,this._names=new Iu;var i={line:-1,column:0};this._sections=o.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var s=oe.getArg(a,"offset"),c=oe.getArg(s,"line"),u=oe.getArg(s,"column");if(c<i.line||c===i.line&&u<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=s,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new ut(oe.getArg(a,"map"),t)}})}oo.prototype=Object.create(ut.prototype);oo.prototype.constructor=ut;oo.prototype._version=3;Object.defineProperty(oo.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});oo.prototype.originalPositionFor=function(t){var r={generatedLine:oe.getArg(t,"line"),generatedColumn:oe.getArg(t,"column")},n=U_.search(r,this._sections,function(i,a){var s=i.generatedLine-a.generatedOffset.generatedLine;return s||i.generatedColumn-a.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};oo.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};oo.prototype.sourceContentFor=function(t,r){for(var n=0;n<this._sections.length;n++){var o=this._sections[n],i=o.consumer.sourceContentFor(t,!0);if(i||i==="")return i}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};oo.prototype.generatedPositionFor=function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(oe.getArg(t,"source"))!==-1){var o=n.consumer.generatedPositionFor(t);if(o){var i={line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}};oo.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,a=0;a<i.length;a++){var s=i[a],c=o.consumer._sources.at(s.source);c!==null&&(c=oe.computeSourceURL(o.consumer.sourceRoot,c,this._sourceMapURL)),this._sources.add(c),c=this._sources.indexOf(c);var u=null;s.name&&(u=o.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var l={source:c,generatedLine:s.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(o.generatedOffset.generatedLine===s.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}Rf(this.__generatedMappings,oe.compareByGeneratedPositionsDeflated),Rf(this.__originalMappings,oe.compareByOriginalPositions)};im.IndexedSourceMapConsumer=oo});var uR=y(sR=>{var iG=H_().SourceMapGenerator,am=ju(),aG=/(\r?\n)/,sG=10,Lu="$$$isSourceNode$$$";function yn(e,t,r,n,o){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=o??null,this[Lu]=!0,n!=null&&this.add(n)}yn.fromStringWithSourceMap=function(t,r,n){var o=new yn,i=t.split(aG),a=0,s=function(){var d=m(),p=m()||"";return d+p;function m(){return a<i.length?i[a++]:void 0}},c=1,u=0,l=null;return r.eachMapping(function(d){if(l!==null)if(c<d.generatedLine)f(l,s()),c++,u=0;else{var p=i[a]||"",m=p.substr(0,d.generatedColumn-u);i[a]=p.substr(d.generatedColumn-u),u=d.generatedColumn,f(l,m),l=d;return}for(;c<d.generatedLine;)o.add(s()),c++;if(u<d.generatedColumn){var p=i[a]||"";o.add(p.substr(0,d.generatedColumn)),i[a]=p.substr(d.generatedColumn),u=d.generatedColumn}l=d},this),a<i.length&&(l&&f(l,s()),o.add(i.splice(a).join(""))),r.sources.forEach(function(d){var p=r.sourceContentFor(d);p!=null&&(n!=null&&(d=am.join(n,d)),o.setSourceContent(d,p))}),o;function f(d,p){if(d===null||d.source===void 0)o.add(p);else{var m=n?am.join(n,d.source):d.source;o.add(new yn(d.originalLine,d.originalColumn,m,p,d.name))}}};yn.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Lu]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};yn.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Lu]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};yn.prototype.walk=function(t){for(var r,n=0,o=this.children.length;n<o;n++)r=this.children[n],r[Lu]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};yn.prototype.join=function(t){var r,n,o=this.children.length;if(o>0){for(r=[],n=0;n<o-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this};yn.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[Lu]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this};yn.prototype.setSourceContent=function(t,r){this.sourceContents[am.toSetString(t)]=r};yn.prototype.walkSourceContents=function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Lu]&&this.children[r].walkSourceContents(t);for(var o=Object.keys(this.sourceContents),r=0,n=o.length;r<n;r++)t(am.fromSetString(o[r]),this.sourceContents[o[r]])};yn.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t};yn.prototype.toStringWithSourceMap=function(t){var r={code:"",line:1,column:0},n=new iG(t),o=!1,i=null,a=null,s=null,c=null;return this.walk(function(u,l){r.code+=u,l.source!==null&&l.line!==null&&l.column!==null?((i!==l.source||a!==l.line||s!==l.column||c!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),i=l.source,a=l.line,s=l.column,c=l.name,o=!0):o&&(n.addMapping({generated:{line:r.line,column:r.column}}),i=null,o=!1);for(var f=0,d=u.length;f<d;f++)u.charCodeAt(f)===sG?(r.line++,r.column=0,f+1===d?(i=null,o=!1):o&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(u,l){n.setSourceContent(u,l)}),{code:r.code,map:n}};sR.SourceNode=yn});var cR=y(sm=>{sm.SourceMapGenerator=H_().SourceMapGenerator;sm.SourceMapConsumer=aR().SourceMapConsumer;sm.SourceNode=uR().SourceNode});var lR=y(um=>{"use strict";"use client";var uG=Wt().default;Object.defineProperty(um,"__esModule",{value:!0});um.default=void 0;var cG=uG(jn()),lG=F(),yOe=um.default=(0,cG.default)((0,lG.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")});var dR=y(Mf=>{"use strict";var fG=Mf&&Mf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=mG;var fR=F(),dG=fG(lR()),pG=Q();function mG(e){let{children:t,...r}=e;return(0,fR.jsxs)(pG.Link,{...r,target:"_blank",rel:"noopener noreferrer",children:[t," ",(0,fR.jsx)(dG.default,{fontSize:"small"})]})}});var cm,V_=A(()=>{cm=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");let t={};return Object.keys(e).forEach(r=>{let[n,o]=e[r];t[n]=o}),t}});function io(e){return Object.keys(e)}var lm=A(()=>{});function Bo(e,t){if(!e)throw new Error(t)}var fm=A(()=>{});function Du(e,t){return t}var dm=A(()=>{});var pm,pR=A(()=>{fm();dm();pm=e=>{let t=e.length,r=0,n="";for(;r<t;r++){let o=e[r];if(o==null)continue;let i;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))i=pm(o);else{Bo(!Du(o,!1)),i="";for(let a in o)o[a]&&a&&(i&&(i+=" "),i+=a)}break}default:i=o}i&&(n&&(n+=" "),n+=i)}return n}});function mR(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hR=A(()=>{});var gR,vR=A(()=>{gR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}});function bR(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var G_=A(()=>{});function Pf(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return zo={name:o.name,styles:o.styles,next:zo},o.name;var i=r;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)zo={name:a.name,styles:a.styles,next:zo},a=a.next;var s=i.styles+";";return s}return yG(e,t,r)}case"function":{if(e!==void 0){var c=zo,u=r(e);return zo=c,Pf(e,t,u)}break}}var l=r;if(t==null)return l;var f=t[l];return f!==void 0?f:l}function yG(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=Pf(e,t,r[o])+";";else for(var i in r){var a=r[i];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=i+"{"+t[s]+"}":yR(s)&&(n+=Y_(i)+":"+_R(i,s)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&hG)throw new Error(bG);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)yR(a[c])&&(n+=Y_(i)+":"+_R(i,a[c])+";");else{var u=Pf(e,t,a);switch(i){case"animation":case"animationName":{n+=Y_(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}function Rs(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";zo=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=Pf(r,t,i);else{var a=i;o+=a[0]}for(var s=1;s<e.length;s++)if(o+=Pf(r,t,e[s]),n){var c=i;o+=c[s]}xR.lastIndex=0;for(var u="",l;(l=xR.exec(o))!==null;)u+="-"+l[1];var f=mR(o)+u;return{name:f,styles:o,next:zo}}var hG,gG,vG,wR,yR,Y_,_R,bG,xR,zo,mm=A(()=>{hR();vR();G_();hG=!1,gG=/[A-Z]|^ms/g,vG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wR=function(t){return t.charCodeAt(1)===45},yR=function(t){return t!=null&&typeof t!="boolean"},Y_=bR(function(e){return wR(e)?e:e.replace(gG,"-$&").toLowerCase()}),_R=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(vG,function(n,o,i){return zo={name:o,styles:i,next:zo},o})}return gR[t]!==1&&!wR(t)&&typeof r=="number"&&r!==0?r+"px":r},bG="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";xR=/label:\s*([^\s;{]+)\s*(;|$)/g});function Af(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var _G,hm,Nu,gm=A(()=>{_G=!0;hm=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||_G===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},Nu=function(t,r,n){hm(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}}});function CR(e,t){var r;let n=(0,SR.useRef)();return(!n.current||t.length!==((r=n.current.prevDeps)===null||r===void 0?void 0:r.length)||n.current.prevDeps.map((o,i)=>o===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}var SR,TR=A(()=>{SR=g($())});function kR(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}var ER=A(()=>{});function vm(e){let{useCache:t}=e;function r(){let n=t(),{css:o,cx:i}=CR(()=>xG({cache:n}),[n]);return{css:o,cx:i}}return{useCssAndCx:r}}var xG,OR,X_=A(()=>{pR();mm();gm();TR();ER();({createCssAndCx:xG}=(()=>{function e(r,n,o){let i=[],a=Af(r,i,o);return i.length<2?o:a+n(i)}function t(r){let{cache:n}=r,o=(...a)=>{let s=Rs(a,n.registered);Nu(n,s,!1);let c=`${n.key}-${s.name}`;e:{let u=a[0];if(!kR(u))break e;OR.saveClassNameCSSObjectMapping(n,c,u)}return c};return{css:o,cx:(...a)=>{let s=pm(a),c=OR.fixClassName(n,s,o);return e(n.registered,o,c)}}}return{createCssAndCx:t}})());OR=(()=>{let e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,r,n)=>{let o=e.get(t);o===void 0&&(o=new Map,e.set(t,o)),o.set(r,n)},fixClassName:(()=>{function t(r){let n=!1;return r.map(([o,i])=>{if(i===void 0)return o;let a;if(n)a={"&&":i};else{a=o;for(let s in i)if(s.startsWith("@media")){n=!0;break}}return a})}return(r,n,o)=>{let i=e.get(r);return pm(t(n.split(" ").map(a=>[a,i?.get(a)])).map(a=>typeof a=="string"?a:o(a)))}})()}})()});function ao(e){if(!(e instanceof Object)||typeof e=="function")return e;let t=[];for(let r in e){let n=e[r],o=typeof n;if(!(o==="string"||o==="number"&&!isNaN(n)||o==="boolean"||n===void 0||n===null))return e;t.push(`${r}:${o}_${n}`)}return"xSqLiJdLMd9s"+t.join("|")}var bm=A(()=>{});function Fu(e,t,r){if(!(t instanceof Object))return e;let n={};return io(e).forEach(o=>n[o]=r(e[o],t[o])),io(t).forEach(o=>{if(o in e)return;let i=t[o];typeof i=="string"&&(n[o]=i)}),n}var ym=A(()=>{lm()});var Z_,RR,MR=A(()=>{Z_=g($());bm();ym();RR=({classes:e,theme:t,muiStyleOverridesParams:r,css:n,cx:o,name:i})=>{var a,s;e:{if(i==="makeStyle no name"){i=void 0;break e}if(r!==void 0&&i===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let c;try{c=i===void 0?void 0:((s=(a=t.components)===null||a===void 0?void 0:a[i])===null||s===void 0?void 0:s.styleOverrides)||void 0}catch{}let u=(0,Z_.useMemo)(()=>{if(c===void 0)return;let l={};for(let f in c){let d=c[f];d instanceof Object&&(l[f]=n(typeof d=="function"?d({theme:t,ownerState:r?.ownerState,...r?.props}):d))}return l},[c,ao(r?.props),ao(r?.ownerState),n]);return e=(0,Z_.useMemo)(()=>Fu(e,u,o),[e,u,o]),{classes:e}}});function SG(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function CG(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var wG,PR,AR=A(()=>{wG=!1;PR=(function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!wG:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CG(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=SG(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e})()});var gr,jf,Ve,_m,qu,Bu,jR,xm,IR,wm=A(()=>{gr="-ms-",jf="-moz-",Ve="-webkit-",_m="comm",qu="rule",Bu="decl",jR="@import",xm="@keyframes",IR="@layer"});function NR(e,t){return Mt(e,0)^45?(((t<<2^Mt(e,0))<<2^Mt(e,1))<<2^Mt(e,2))<<2^Mt(e,3):0}function Sm(e){return e.trim()}function K_(e,t){return(e=t.exec(e))?e[0]:e}function Ue(e,t,r){return e.replace(t,r)}function If(e,t){return e.indexOf(t)}function Mt(e,t){return e.charCodeAt(t)|0}function oa(e,t,r){return e.slice(t,r)}function Dr(e){return e.length}function zu(e){return e.length}function Hu(e,t){return t.push(e),e}function J_(e,t){return e.map(t).join("")}var LR,Ms,DR,Wu=A(()=>{LR=Math.abs,Ms=String.fromCharCode,DR=Object.assign});function Lf(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:Cm,column:$u,length:a,return:""}}function Gu(e,t){return DR(Lf("",null,null,"",null,null,0),e,{length:-e.length},t)}function qR(){return Nt}function BR(){return Nt=Nr>0?Mt(Vu,--Nr):0,$u--,Nt===10&&($u=1,Cm--),Nt}function Fr(){return Nt=Nr<FR?Mt(Vu,Nr++):0,$u++,Nt===10&&($u=1,Cm++),Nt}function Ln(){return Mt(Vu,Nr)}function Df(){return Nr}function Yu(e,t){return oa(Vu,e,t)}function Uu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tm(e){return Cm=$u=1,FR=Dr(Vu=e),Nr=0,[]}function km(e){return Vu="",e}function Xu(e){return Sm(Yu(Nr-1,Q_(e===91?e+2:e===40?e+1:e)))}function zR(e){for(;(Nt=Ln())&&Nt<33;)Fr();return Uu(e)>2||Uu(Nt)>3?"":" "}function HR(e,t){for(;--t&&Fr()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return Yu(e,Df()+(t<6&&Ln()==32&&Fr()==32))}function Q_(e){for(;Fr();)switch(Nt){case e:return Nr;case 34:case 39:e!==34&&e!==39&&Q_(Nt);break;case 40:e===41&&Q_(e);break;case 92:Fr();break}return Nr}function WR(e,t){for(;Fr()&&e+Nt!==57;)if(e+Nt===84&&Ln()===47)break;return"/*"+Yu(t,Nr-1)+"*"+Ms(e===47?e:Fr())}function $R(e){for(;!Uu(Ln());)Fr();return Yu(e,Nr)}var Cm,$u,FR,Nr,Nt,Vu,e1=A(()=>{Wu();Cm=1,$u=1,FR=0,Nr=0,Nt=0,Vu=""});function GR(e){return km(Em("",null,null,null,[""],e=Tm(e),0,[0],e))}function Em(e,t,r,n,o,i,a,s,c){for(var u=0,l=0,f=a,d=0,p=0,m=0,h=1,v=1,b=1,_=0,S="",w=o,T=i,O=n,C=S;v;)switch(m=_,_=Fr()){case 40:if(m!=108&&Mt(C,f-1)==58){If(C+=Ue(Xu(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=Xu(_);break;case 9:case 10:case 13:case 32:C+=zR(m);break;case 92:C+=HR(Df()-1,7);continue;case 47:switch(Ln()){case 42:case 47:Hu(TG(WR(Fr(),Df()),t,r),c);break;default:C+="/"}break;case 123*h:s[u++]=Dr(C)*b;case 125*h:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+l:b==-1&&(C=Ue(C,/\f/g,"")),p>0&&Dr(C)-f&&Hu(p>32?VR(C+";",n,r,f-1):VR(Ue(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(Hu(O=UR(C,t,r,u,l,o,s,S,w=[],T=[],f),i),_===123)if(l===0)Em(C,t,O,O,w,i,f,s,T);else switch(d===99&&Mt(C,3)===110?100:d){case 100:case 108:case 109:case 115:Em(e,O,O,n&&Hu(UR(e,O,O,0,0,o,s,S,o,w=[],f),T),o,T,f,s,n?w:T);break;default:Em(C,O,O,O,[""],T,0,s,T)}}u=l=p=0,h=b=1,S=C="",f=a;break;case 58:f=1+Dr(C),p=m;default:if(h<1){if(_==123)--h;else if(_==125&&h++==0&&BR()==125)continue}switch(C+=Ms(_),_*h){case 38:b=l>0?1:(C+="\f",-1);break;case 44:s[u++]=(Dr(C)-1)*b,b=1;break;case 64:Ln()===45&&(C+=Xu(Fr())),d=Ln(),l=f=Dr(S=C+=$R(Df())),_++;break;case 45:m===45&&Dr(C)==2&&(h=0)}}return i}function UR(e,t,r,n,o,i,a,s,c,u,l){for(var f=o-1,d=o===0?i:[""],p=zu(d),m=0,h=0,v=0;m<n;++m)for(var b=0,_=oa(e,f+1,f=LR(h=a[m])),S=e;b<p;++b)(S=Sm(h>0?d[b]+" "+_:Ue(_,/&\f/g,d[b])))&&(c[v++]=S);return Lf(e,t,r,o===0?qu:s,c,u,l)}function TG(e,t,r){return Lf(e,t,r,_m,Ms(qR()),oa(e,2,-2),0)}function VR(e,t,r,n){return Lf(e,t,r,Bu,oa(e,0,n),oa(e,n+1,-1),n)}var YR=A(()=>{wm();Wu();e1()});var XR=A(()=>{});function Ps(e,t){for(var r="",n=zu(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function ZR(e,t,r,n){switch(e.type){case IR:if(e.children.length)break;case jR:case Bu:return e.return=e.return||e.value;case _m:return"";case xm:return e.return=e.value+"{"+Ps(e.children,n)+"}";case qu:e.value=e.props.join(",")}return Dr(r=Ps(e.children,n))?e.return=e.value+"{"+r+"}":""}var KR=A(()=>{wm();Wu()});function JR(e){var t=zu(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function QR(e){return function(t){t.root||(t=t.return)&&e(t)}}var eM=A(()=>{Wu()});var tM=A(()=>{wm();Wu();YR();XR();e1();KR();eM()});var Om=A(()=>{});function nM(e,t){switch(NR(e,t)){case 5103:return Ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ve+e+jf+e+gr+e+e;case 6828:case 4268:return Ve+e+gr+e+e;case 6165:return Ve+e+gr+"flex-"+e+e;case 5187:return Ve+e+Ue(e,/(\w+).+(:[^]+)/,Ve+"box-$1$2"+gr+"flex-$1$2")+e;case 5443:return Ve+e+gr+"flex-item-"+Ue(e,/flex-|-self/,"")+e;case 4675:return Ve+e+gr+"flex-line-pack"+Ue(e,/align-content|flex-|-self/,"")+e;case 5548:return Ve+e+gr+Ue(e,"shrink","negative")+e;case 5292:return Ve+e+gr+Ue(e,"basis","preferred-size")+e;case 6060:return Ve+"box-"+Ue(e,"-grow","")+Ve+e+gr+Ue(e,"grow","positive")+e;case 4554:return Ve+Ue(e,/([^-])(transform)/g,"$1"+Ve+"$2")+e;case 6187:return Ue(Ue(Ue(e,/(zoom-|grab)/,Ve+"$1"),/(image-set)/,Ve+"$1"),e,"")+e;case 5495:case 3959:return Ue(e,/(image-set\([^]*)/,Ve+"$1$`$1");case 4968:return Ue(Ue(e,/(.+:)(flex-)?(.*)/,Ve+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ve+e+e;case 4095:case 3583:case 4068:case 2532:return Ue(e,/(.+)-inline(.+)/,Ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dr(e)-1-t>6)switch(Mt(e,t+1)){case 109:if(Mt(e,t+4)!==45)break;case 102:return Ue(e,/(.+:)(.+)-([^]+)/,"$1"+Ve+"$2-$3$1"+jf+(Mt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~If(e,"stretch")?nM(Ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Mt(e,t+1)!==115)break;case 6444:switch(Mt(e,Dr(e)-3-(~If(e,"!important")&&10))){case 107:return Ue(e,":",":"+Ve)+e;case 101:return Ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ve+(Mt(e,14)===45?"inline-":"")+"box$3$1"+Ve+"$2$3$1"+gr+"$2box$3")+e}break;case 5936:switch(Mt(e,t+11)){case 114:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ve+e+gr+Ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ve+e+gr+e+e}return e}var kG,EG,OG,rM,RG,MG,PG,AG,oM,t1=A(()=>{AR();tM();Om();G_();kG=function(t,r,n){for(var o=0,i=0;o=i,i=Ln(),o===38&&i===12&&(r[n]=1),!Uu(i);)Fr();return Yu(t,Nr)},EG=function(t,r){var n=-1,o=44;do switch(Uu(o)){case 0:o===38&&Ln()===12&&(r[n]=1),t[n]+=kG(Nr-1,r,n);break;case 2:t[n]+=Xu(o);break;case 4:if(o===44){t[++n]=Ln()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Ms(o)}while(o=Fr());return t},OG=function(t,r){return km(EG(Tm(t),r))},rM=new WeakMap,RG=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!rM.get(n))&&!o){rM.set(t,!0);for(var i=[],a=OG(r,i),s=n.props,c=0,u=0;c<a.length;c++)for(var l=0;l<s.length;l++,u++)t.props[u]=i[c]?a[c].replace(/&\f/g,s[l]):s[l]+" "+a[c]}}},MG=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};PG=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case Bu:t.return=nM(t.value,t.length);break;case xm:return Ps([Gu(t,{value:Ue(t.value,"@","@"+Ve)})],o);case qu:if(t.length)return J_(t.props,function(i){switch(K_(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ps([Gu(t,{props:[Ue(i,/:(read-\w+)/,":"+jf+"$1")]})],o);case"::placeholder":return Ps([Gu(t,{props:[Ue(i,/:(plac\w+)/,":"+Ve+"input-$1")]}),Gu(t,{props:[Ue(i,/:(plac\w+)/,":"+jf+"$1")]}),Gu(t,{props:[Ue(i,/:(plac\w+)/,gr+"input-$1")]})],o)}return""})}},AG=[PG],oM=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){var v=h.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var o=t.stylisPlugins||AG,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(h){for(var v=h.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)i[v[b]]=!0;s.push(h)});var c,u=[RG,MG];{var l,f=[ZR,QR(function(h){l.insert(h)})],d=JR(u.concat(o,f)),p=function(v){return Ps(GR(v),d)};c=function(v,b,_,S){l=_,p(v?v+"{"+b.styles+"}":b.styles),S&&(m.inserted[b.name]=!0)}}var m={key:r,sheet:new PR({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return m.sheet.hydrate(s),m}});var r1=A(()=>{});var aM=y(Je=>{"use strict";var nr=typeof Symbol=="function"&&Symbol.for,n1=nr?Symbol.for("react.element"):60103,o1=nr?Symbol.for("react.portal"):60106,Rm=nr?Symbol.for("react.fragment"):60107,Mm=nr?Symbol.for("react.strict_mode"):60108,Pm=nr?Symbol.for("react.profiler"):60114,Am=nr?Symbol.for("react.provider"):60109,jm=nr?Symbol.for("react.context"):60110,i1=nr?Symbol.for("react.async_mode"):60111,Im=nr?Symbol.for("react.concurrent_mode"):60111,Lm=nr?Symbol.for("react.forward_ref"):60112,Dm=nr?Symbol.for("react.suspense"):60113,jG=nr?Symbol.for("react.suspense_list"):60120,Nm=nr?Symbol.for("react.memo"):60115,Fm=nr?Symbol.for("react.lazy"):60116,IG=nr?Symbol.for("react.block"):60121,LG=nr?Symbol.for("react.fundamental"):60117,DG=nr?Symbol.for("react.responder"):60118,NG=nr?Symbol.for("react.scope"):60119;function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case n1:switch(e=e.type,e){case i1:case Im:case Rm:case Pm:case Mm:case Dm:return e;default:switch(e=e&&e.$$typeof,e){case jm:case Lm:case Fm:case Nm:case Am:return e;default:return t}}case o1:return t}}}function iM(e){return _n(e)===Im}Je.AsyncMode=i1;Je.ConcurrentMode=Im;Je.ContextConsumer=jm;Je.ContextProvider=Am;Je.Element=n1;Je.ForwardRef=Lm;Je.Fragment=Rm;Je.Lazy=Fm;Je.Memo=Nm;Je.Portal=o1;Je.Profiler=Pm;Je.StrictMode=Mm;Je.Suspense=Dm;Je.isAsyncMode=function(e){return iM(e)||_n(e)===i1};Je.isConcurrentMode=iM;Je.isContextConsumer=function(e){return _n(e)===jm};Je.isContextProvider=function(e){return _n(e)===Am};Je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n1};Je.isForwardRef=function(e){return _n(e)===Lm};Je.isFragment=function(e){return _n(e)===Rm};Je.isLazy=function(e){return _n(e)===Fm};Je.isMemo=function(e){return _n(e)===Nm};Je.isPortal=function(e){return _n(e)===o1};Je.isProfiler=function(e){return _n(e)===Pm};Je.isStrictMode=function(e){return _n(e)===Mm};Je.isSuspense=function(e){return _n(e)===Dm};Je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rm||e===Im||e===Pm||e===Mm||e===Dm||e===jG||typeof e=="object"&&e!==null&&(e.$$typeof===Fm||e.$$typeof===Nm||e.$$typeof===Am||e.$$typeof===jm||e.$$typeof===Lm||e.$$typeof===LG||e.$$typeof===DG||e.$$typeof===NG||e.$$typeof===IG)};Je.typeOf=_n});var uM=y((ORe,sM)=>{"use strict";sM.exports=aM()});var hM=y((RRe,mM)=>{"use strict";var a1=uM(),FG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s1={};s1[a1.ForwardRef]=BG;s1[a1.Memo]=dM;function cM(e){return a1.isMemo(e)?dM:s1[e.$$typeof]||FG}var zG=Object.defineProperty,HG=Object.getOwnPropertyNames,lM=Object.getOwnPropertySymbols,WG=Object.getOwnPropertyDescriptor,$G=Object.getPrototypeOf,fM=Object.prototype;function pM(e,t,r){if(typeof t!="string"){if(fM){var n=$G(t);n&&n!==fM&&pM(e,n,r)}var o=HG(t);lM&&(o=o.concat(lM(t)));for(var i=cM(e),a=cM(t),s=0;s<o.length;++s){var c=o[s];if(!qG[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var u=WG(t,c);try{zG(e,c,u)}catch{}}}}return e}mM.exports=pM});var Nf,UG,gM,u1,c1,l1=A(()=>{Nf=g($()),UG=function(t){return t()},gM=Nf.useInsertionEffect?Nf.useInsertionEffect:!1,u1=gM||UG,c1=gM||Nf.useLayoutEffect});var Dn,Ff,vM,d1,VG,p1,qm,Bm,zm,f1,bM,GG,YG,yM,m1=A(()=>{Dn=g($()),Ff=g($());t1();r1();Om();gm();mm();l1();vM=!1,d1=Dn.createContext(typeof HTMLElement<"u"?oM({key:"css"}):null),VG=d1.Provider,p1=function(){return(0,Ff.useContext)(d1)},qm=function(t){return(0,Ff.forwardRef)(function(r,n){var o=(0,Ff.useContext)(d1);return t(r,o,n)})},Bm=Dn.createContext({}),zm={}.hasOwnProperty,f1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bM=function(t,r){var n={};for(var o in r)zm.call(r,o)&&(n[o]=r[o]);return n[f1]=t,n},GG=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return hm(r,n,o),u1(function(){return Nu(r,n,o)}),null},YG=qm(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var o=e[f1],i=[n],a="";typeof e.className=="string"?a=Af(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=Rs(i,void 0,Dn.useContext(Bm));a+=t.key+"-"+s.name;var c={};for(var u in e)zm.call(e,u)&&u!=="css"&&u!==f1&&!vM&&(c[u]=e[u]);return c.className=a,r&&(c.ref=r),Dn.createElement(Dn.Fragment,null,Dn.createElement(GG,{cache:t,serialized:s,isStringTag:typeof o=="string"}),Dn.createElement(o,c))}),yM=YG});function h1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Rs(t)}function wM(){var e=h1.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ia,ZRe,_M,xM,Hm=A(()=>{m1();m1();ia=g($());gm();l1();mm();t1();r1();Om();ZRe=g(hM()),_M=function(t,r){var n=arguments;if(r==null||!zm.call(r,"css"))return ia.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=yM,i[1]=bM(t,r);for(var a=2;a<o;a++)i[a]=n[a];return ia.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_M||(_M={}));xM=qm(function(e,t){var r=e.styles,n=Rs([r],void 0,ia.useContext(Bm)),o=ia.useRef();return c1(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(s=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),o.current=[a,s],function(){a.flush()}},[t]),c1(function(){var i=o.current,a=i[0],s=i[1];if(s){i[1]=!1;return}if(n.next!==void 0&&Nu(t,n.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",n,a,!1)},[t,n.name]),null})});function Bf(e){let{useTheme:t,cache:r}=e,{useCache:n}=g1({cacheProvidedAtInception:r}),{useCssAndCx:o}=vm({useCache:n});function i(s){let{name:c,uniqId:u=`${KG++}`}=s??{},l=typeof c!="object"?c:Object.keys(c)[0];return function(f){let d=typeof f=="function"?f:()=>f;return function(m,h){let v=t(),{css:b,cx:_}=o(),S=n(),w=(0,qf.useMemo)(()=>{let T={},O=typeof Proxy<"u"&&new Proxy({},{get:(R,k)=>(typeof k=="symbol"&&Bo(!1),T[k]=`${S.key}-${u}${l!==void 0?`-${l}`:""}-${k}-ref`)}),C=d(v,m,O||{}),M=cm(io(C).map(R=>{let k=C[R];return k.label||(k.label=`${l!==void 0?`${l}-`:""}${R}`),[R,`${b(k)}${Du(R,R in T)?` ${T[R]}`:""}`]}));return io(T).forEach(R=>{R in M||(M[R]=T[R])}),M},[S,b,_,v,ao(m)]);{let T=h?.props.classes;w=(0,qf.useMemo)(()=>Fu(w,T,_),[w,ao(T),_])}{let T=RR({classes:w,css:b,cx:_,name:l??"makeStyle no name",idOfUseStyles:u,muiStyleOverridesParams:h,theme:v});T.classes!==void 0&&(w=T.classes),T.css!==void 0&&(b=T.css),T.cx!==void 0&&(_=T.cx)}return{classes:w,theme:v,css:b,cx:_}}}}function a(){let s=t(),{css:c,cx:u}=o();return{theme:s,css:c,cx:u}}return{makeStyles:i,useStyles:a}}function CM(e){let{children:t,value:r}=e;return qf.default.createElement(SM.Provider,{value:r},t)}var qf,Wm,ZG,KG,SM,g1,$m=A(()=>{"use client";qf=g($());V_();lm();X_();bm();dm();fm();ym();Wm=g($());MR();Hm();ZG=p1,KG=0;SM=(0,Wm.createContext)(void 0);({createUseCache:g1}=(()=>{function e(){return(0,Wm.useContext)(SM)}function t(r){let{cacheProvidedAtInception:n}=r;function o(){var i;let a=ZG(),s=e(),c=(i=n??s)!==null&&i!==void 0?i:a;if(c===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return c}return{useCache:o}}return{createUseCache:t}})())});function v1(e){return e.charAt(0).toUpperCase()+e.slice(1)}var TM=A(()=>{});function b1(e){let{useTheme:t,cache:r}=e,{makeStyles:n}=Bf({useTheme:t,cache:r});function o(i,a,s){let c=typeof i=="string"?(()=>{let p=i,m=function({children:h,...v}){return(0,Zu.createElement)(p,v,h)};return Object.defineProperty(m,"name",{value:v1(p)}),m})():i,u=(()=>{{let{name:m}=s??{};if(m!==void 0)return typeof m!="object"?m:Object.keys(m)[0]}let p;e:{let m=c.displayName;if(typeof m!="string"||m==="")break e;p=m}e:{if(p!==void 0)break e;let m=c.name;if(typeof m!="string"||m==="")break e;p=m}if(p!==void 0)return p=p.replace(/\$/g,"usd"),p=p.replace(/\(/g,"_").replace(/\)/g,"_"),p=p.replace(/[^a-zA-Z0-9-_]/g,"_"),p})(),l=n({...s,name:u})(typeof a=="function"?(p,m,h)=>EM(a(p,m,h)):EM(a));function f(p){for(let m in p)if(m!=="root")return!0;return!1}let d=(0,Zu.forwardRef)(function(p,m){let{className:h,classes:v,...b}=p,{classes:_,cx:S}=l(p,{props:p}),w=S(_.root,h);return OM.set(_,{..._,root:w}),Zu.default.createElement(c,{ref:m,className:f(_)?h:w,...typeof i=="string"?{}:{classes:_},...b})});return u!==void 0&&(d.displayName=`${v1(u)}WithStyles`,Object.defineProperty(d,"name",{value:d.displayName})),d}return o.getClasses=JG,{withStyles:o}}function JG(e){let t=e.classes;if(t===void 0)throw new Error(kM);let r=OM.get(t);if(r===void 0)throw new Error(kM);return r}function EM(e){let t={},r={};return Object.keys(e).forEach(n=>(n.startsWith("@media")?r:t)[n]=e[n]),Object.keys(r).forEach(n=>{let o=r[n];Object.keys(o).forEach(i=>{var a;return t[i]={...(a=t[i])!==null&&a!==void 0?a:{},[n]:o[i]}})}),t}var Zu,OM,kM,RM=A(()=>{Zu=g($());$m();TM();OM=new WeakMap,kM="getClasses should only be used in conjunction with withStyles"});var MM,PM=A(()=>{MM=!(typeof document=="object"&&typeof document?.getElementById=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u")});function y1(e){AM=0,aa.splice(0,aa.length);let{useContext:t,usePlugin:r,cache:n}=e,{useCache:o}=g1({cacheProvidedAtInception:n}),{useCssAndCx:i}=vm({useCache:o});return{tss:Vm({useContext:t,useCache:o,useCssAndCx:i,usePlugin:r??(({classes:c,cx:u,css:l})=>({classes:c,cx:u,css:l})),name:void 0,doesUseNestedSelectors:!1})}}function Vm(e){let{useContext:t,useCache:r,useCssAndCx:n,usePlugin:o,name:i,doesUseNestedSelectors:a}=e;return{withParams:()=>Vm({...e}),withName:s=>Vm({...e,name:typeof s!="object"?s:Object.keys(s)[0]}),withNestedSelectors:()=>Vm({...e,doesUseNestedSelectors:!0}),create:s=>{let c=`x${AM++}`;if(i!==void 0)for(;;){let l=aa.find(f=>f.name===i);if(l===void 0)break;aa.splice(aa.indexOf(l),1)}let u=typeof s=="function"?s:()=>s;return function(f){var d,p,m;let{classesOverrides:h,...v}=f??{},b=t(),{css:_,cx:S}=n(),w=r(),T=()=>{let M={},R=u({...f,...b,...a?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:(I,B)=>{if(typeof B=="symbol"&&Bo(!1),MM&&i===void 0)throw new Error(["tss-react: In SSR setups, in order to use nested selectors, you must also give a unique name to the useStyle function.",'Solution: Use tss.withName("ComponentName").withNestedSelectors<...>()... to set a name.'].join(`
`));e:{if(i===void 0)break e;let L=aa.find(E=>E.name===i&&E.idOfUseStyles===c);L===void 0&&(L={name:i,idOfUseStyles:c,nestedSelectorRuleNames:new Set},aa.push(L)),L.nestedSelectorRuleNames.add(B)}e:{if(i===void 0||!(aa.find(E=>E.name===i&&E.idOfUseStyles!==c&&E.nestedSelectorRuleNames.has(B))!==void 0))break e;throw new Error([`tss-react: There are in your codebase two different useStyles named "${i}" that`,`both use use the nested selector ${B}.
`,`This may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.
`,`Solution: Ensure each useStyles using nested selectors has a unique name.
`,'Use: tss.withName("UniqueName").withNestedSelectors<...>()...'].join(" "))}return M[B]=`${w.key}-${i!==void 0?i:c}-${B}-ref`}})}:{}}),k=cm(io(R).map(I=>{let B=R[I];return B.label||(B.label=`${i!==void 0?`${i}-`:""}${I}`),[I,`${_(B)}${Du(I,I in M)?` ${M[I]}`:""}`]}));return io(M).forEach(I=>{I in k||(k[I]=M[I])}),k=Fu(k,h,S),k},O=QG({cache:w,cssObjectByRuleNameOrGetCssObjectByRuleName:s,classesOverridesRef:ao(h),paramsAndPluginParamsRef:ao(v),idOfUseStyles:c,context:b,getClasses:T}),C=o({classes:O,css:_,cx:S,idOfUseStyles:c,name:i,...b,...v});return{classes:(d=C.classes)!==null&&d!==void 0?d:O,css:(p=C.css)!==null&&p!==void 0?p:_,cx:(m=C.cx)!==null&&m!==void 0?m:S,...b}}}}}function QG(e){let{cache:t,cssObjectByRuleNameOrGetCssObjectByRuleName:r,classesOverridesRef:n,paramsAndPluginParamsRef:o,idOfUseStyles:i,context:a,getClasses:s}=e;e:{let u=Um.get(t);if(u===void 0)break e;let l=u.get(r);if(l===void 0)break e;let f=l.get(n);if(f===void 0)break e;let d=f.get(o);if(d===void 0)break e;let p=d.find(({context:m})=>{if(m===a)return!0;if(io(m).length!==io(a).length)return!1;for(let h in m)if(ao(m[h])!==ao(a[h]))return!1;return!0});if(p===void 0)break e;if(p?.idOfUseStyles!==i){d.splice(d.indexOf(p),1);break e}return p.result}let c=s();{Um.has(t)||Um.set(t,new WeakMap);let u=Um.get(t);Bo(u!==void 0),u.has(r)||u.set(r,new Map);let l=u.get(r);Bo(l!==void 0),l.has(n)||(l.size>200&&l.clear(),l.set(n,new Map));let f=l.get(n);if(Bo(f!==void 0),!f.has(o)){e:{let p=typeof o=="string"?257:5;if(f.size<p)break e;f.clear()}f.set(o,[])}let d=f.get(o);Bo(d!==void 0),d.length>5&&(d=[]),d.push({idOfUseStyles:i,context:a,result:c})}return c}var AM,aa,Um,jM=A(()=>{$m();X_();fm();V_();lm();dm();bm();ym();PM();AM=0,aa=[];Um=new WeakMap});function LM(e){let{styles:t}=e;return IM.default.createElement(xM,{styles:h1(t)})}var IM,DM=A(()=>{"use client";IM=g($());Hm()});var FM={};rt(FM,{GlobalStyles:()=>LM,TssCacheProvider:()=>CM,createMakeAndWithStyles:()=>eY,createMakeStyles:()=>Bf,createTss:()=>y1,createWithStyles:()=>b1,keyframes:()=>wM,tss:()=>NM,useStyles:()=>tY});function eY(e){return{...Bf(e),...b1(e)}}var NM,tY,qM=A(()=>{"use client";$m();RM();jM();Hm();DM();({tss:NM}=y1({useContext:()=>({})})),tY=NM.create({})});var BM=y(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0});_1.default=sY;var rY=F(),nY=Q(),oY=(qM(),f_(FM)),iY=me(),aY=(0,iY.makeStyles)()({dots:{"&::after":{display:"inline-block",content:'""',width:"1em",textAlign:"left",animation:`${(0,oY.keyframes)`
      0% {
        content: '';
      }
      25% {
          content: '.';
      }
      50% {
        content: '..';
      }
      75% {
        content: '...';
      }
      `} 1.2s infinite ease-in-out`}}});function sY({message:e,children:t,variant:r="body2",...n}){let{cx:o,classes:i}=aY();return(0,rY.jsx)(nY.Typography,{className:o(i.dots,n.className),...n,variant:r,children:e||"Loading"})}});var w1=y(zf=>{"use strict";var Ym=zf&&zf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});zf.default=_Y;var xn=F(),Gm=$(),Ku=Q(),uY=Ym(kf()),cY=cR(),lY=me(),fY=Ym(Hf()),zM=Ym(dR()),dY=Ym(BM());async function WM(e){let t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status} fetching ${e}: ${await t.text()}`);return t}async function pY(e){return(await WM(e)).json()}async function mY(e){return(await WM(e)).text()}var x1={};async function hY(e){var t;if(x1[e]!==void 0)return x1[e];let r=new URL(e).search,n=await mY(e),o=((t=new RegExp(/\/\/# sourceMappingURL=(.*)/).exec(n))===null||t===void 0?void 0:t[1])||"";o=new URL(o,e).href+r;let i=await pY(o),a=new cY.SourceMapConsumer(i);return x1[e]=a,a}async function gY(e){let t=e.split(`
`),r=[];for(let n of t){let o=new RegExp(/(.*)(https?:\/\/.*):(\d+):(\d+)/).exec(n);if(o===null){r.push(n);continue}let i=o[2],s=(await hY(i)).originalPositionFor({line:Number.parseInt(o[3]),column:Number.parseInt(o[4])});if(!s.source||!s.line||!s.column){r.push(n);continue}r.push(`${s.source}:${s.line}:${s.column+1} (${o[1].trim()})`)}return r.join(`
`)}var HM=1e4;function vY(e,t){if(e.startsWith("Error:")){let r=`${t}`;return e.slice(r.length)}else return e}var bY=(0,lY.makeStyles)()(e=>({pre:{background:(0,Ku.alpha)(e.palette.error.main,.2),border:`1px solid ${e.palette.divider}`,overflow:"auto",margin:20,maxHeight:300}}));function yY({text:e,extra:t}){let{classes:r}=bY(),n=encodeURIComponent(`${[`I got this error from JBrowse, here is the stack trace:
`,"```",e,"```",t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`)}
`),o=[e,t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`),i="jbrowse2@berkeley.edu",a=`https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${n}`,s=`mailto:${i}?subject=JBrowse%202%20error&body=${n}`;return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)(Ku.Typography,{children:["Post a new issue at"," ",(0,xn.jsx)(zM.default,{href:a,children:"GitHub"})," or send an email to ",(0,xn.jsx)(zM.default,{href:s,children:i})," "]}),(0,xn.jsx)("pre",{className:r.pre,children:o})]})}function _Y({error:e,onClose:t,extra:r}){let[n,o]=(0,Gm.useState)(),[i,a]=(0,Gm.useState)(),[s,c]=(0,Gm.useState)(!1),u=`${typeof e=="object"&&e!==null&&"stack"in e?e.stack:""}`,l=e?`${e}`:"",f=vY(u,l);(0,Gm.useEffect)(()=>{(async()=>{try{let p=await gY(f);o(p)}catch(p){console.error(p),o(f),a(p)}})()},[f]);let d=[i?"Error loading source map, showing raw stack trace below:":"",l.length>HM?`${l.slice(0,HM)}...`:l,n||"No stack trace available",window.JBrowseSession?`JBrowse ${window.JBrowseSession.version}`:""].filter(p=>!!p).join(`
`);return(0,xn.jsxs)(fY.default,{open:!0,onClose:t,title:"Stack trace",maxWidth:"xl",children:[(0,xn.jsx)(Ku.DialogContent,{children:n===void 0?(0,xn.jsx)(dY.default,{variant:"h6"}):(0,xn.jsx)(yY,{text:d,extra:r})}),(0,xn.jsxs)(Ku.DialogActions,{children:[(0,xn.jsx)(Ku.Button,{variant:"contained",color:"secondary",onClick:()=>{(0,uY.default)(d),c(!0),setTimeout(()=>{c(!1)},1e3)},children:s?"Copied!":"Copy stack trace to clipboard"}),(0,xn.jsx)(Ku.Button,{variant:"contained",color:"primary",onClick:t,children:"Close"})]})]})}});var UM=y(so=>{"use strict";var xY=so&&so.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),wY=so&&so.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),SY=so&&so.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&xY(r,t,n[o]);return wY(r,t),r}})(),C1=so&&so.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(so,"__esModule",{value:!0});var Nn=F(),S1=$(),CY=C1(PO()),TY=C1(AO()),Xm=Q(),kY=me(),EY=C1(jO()),OY=(0,S1.lazy)(()=>Promise.resolve().then(()=>SY(w1()))),$M=(0,kY.makeStyles)()(e=>({bg:{background:e.palette.divider,border:"1px solid black",margin:20},iconFloat:{float:"right",marginLeft:100}}));function RY(e){let t="",r="is not assignable",n=e.indexOf(r);if(n!==-1){let o=e.slice(0,n+r.length),i=/.*at path "(.*)" snapshot `(.*)` is not assignable/m.exec(o);i&&(e=`Failed to load element at ${i[1]}...Failed element had snapshot`,t=i[2]);let a=/.*snapshot `(.*)` is not assignable/.exec(o);a&&(e="Failed to load element...Failed element had snapshot",t=a[1])}return t}function MY({error:e,onReset:t}){let{classes:r}=$M(),[n,o]=(0,S1.useState)(!1);return(0,Nn.jsxs)("div",{className:r.iconFloat,children:[typeof e=="object"&&e&&"stack"in e?(0,Nn.jsx)(Xm.Tooltip,{title:"Get stack trace",children:(0,Nn.jsx)(Xm.IconButton,{onClick:()=>{o(!0)},color:"primary",children:(0,Nn.jsx)(TY.default,{})})}):null,t?(0,Nn.jsx)(Xm.Tooltip,{title:"Retry",children:(0,Nn.jsx)(Xm.IconButton,{onClick:t,color:"primary",children:(0,Nn.jsx)(CY.default,{})})}):null,n?(0,Nn.jsx)(S1.Suspense,{fallback:null,children:(0,Nn.jsx)(OY,{error:e,onClose:()=>{o(!1)}})}):null]})}function PY({error:e,onReset:t}){let{classes:r}=$M(),n=`${e}`,o=n.indexOf("expected an instance of"),i=o!==-1?n.slice(0,o):n,a=RY(n);return(0,Nn.jsxs)(EY.default,{children:[i.slice(0,1e4),(0,Nn.jsx)(MY,{error:e,onReset:t}),a?(0,Nn.jsx)("pre",{className:r.bg,children:JSON.stringify(JSON.parse(a),null,2)}):null]})}so.default=PY});var iP=y((AMe,oP)=>{"use strict";var{entries:eP,setPrototypeOf:VM,isFrozen:AY,getPrototypeOf:jY,getOwnPropertyDescriptor:IY}=Object,{freeze:Br,seal:Fn,create:P1}=Object,{apply:A1,construct:j1}=typeof Reflect<"u"&&Reflect;Br||(Br=function(t){return t});Fn||(Fn=function(t){return t});A1||(A1=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return t.apply(r,o)});j1||(j1=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new t(...n)});var Zm=zr(Array.prototype.forEach),LY=zr(Array.prototype.lastIndexOf),GM=zr(Array.prototype.pop),Wf=zr(Array.prototype.push),DY=zr(Array.prototype.splice),Jm=zr(String.prototype.toLowerCase),T1=zr(String.prototype.toString),k1=zr(String.prototype.match),$f=zr(String.prototype.replace),NY=zr(String.prototype.indexOf),FY=zr(String.prototype.trim),uo=zr(Object.prototype.hasOwnProperty),qr=zr(RegExp.prototype.test),Uf=qY(TypeError);function zr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return A1(e,t,n)}}function qY(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return j1(e,r)}}function Fe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jm;VM&&VM(e,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){let i=r(o);i!==o&&(AY(t)||(t[n]=i),o=i)}e[o]=!0}return e}function BY(e){for(let t=0;t<e.length;t++)uo(e,t)||(e[t]=null);return e}function Ci(e){let t=P1(null);for(let[r,n]of eP(e))uo(e,r)&&(Array.isArray(n)?t[r]=BY(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Ci(n):t[r]=n);return t}function Vf(e,t){for(;e!==null;){let n=IY(e,t);if(n){if(n.get)return zr(n.get);if(typeof n.value=="function")return zr(n.value)}e=jY(e)}function r(){return null}return r}var YM=Br(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E1=Br(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O1=Br(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zY=Br(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R1=Br(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),HY=Br(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XM=Br(["#text"]),ZM=Br(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M1=Br(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KM=Br(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Km=Br(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WY=Fn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$Y=Fn(/<%[\w\W]*|[\w\W]*%>/gm),UY=Fn(/\$\{[\w\W]*/gm),VY=Fn(/^data-[\-\w.\u00B7-\uFFFF]+$/),GY=Fn(/^aria-[\-\w]+$/),tP=Fn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YY=Fn(/^(?:\w+script|data):/i),XY=Fn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rP=Fn(/^html$/i),ZY=Fn(/^[a-z][.\w]*(-[.\w]+)+$/i),JM=Object.freeze({__proto__:null,ARIA_ATTR:GY,ATTR_WHITESPACE:XY,CUSTOM_ELEMENT:ZY,DATA_ATTR:VY,DOCTYPE_NAME:rP,ERB_EXPR:$Y,IS_ALLOWED_URI:tP,IS_SCRIPT_OR_DATA:YY,MUSTACHE_EXPR:WY,TMPLIT_EXPR:UY}),Gf={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},KY=function(){return typeof window>"u"?null:window},JY=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null,o="data-tt-policy-suffix";r&&r.hasAttribute(o)&&(n=r.getAttribute(o));let i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},QM=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KY(),t=ve=>nP(ve);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Gf.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,o=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:s,Element:c,NodeFilter:u,NamedNodeMap:l=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=e,m=c.prototype,h=Vf(m,"cloneNode"),v=Vf(m,"remove"),b=Vf(m,"nextSibling"),_=Vf(m,"childNodes"),S=Vf(m,"parentNode");if(typeof a=="function"){let ve=r.createElement("template");ve.content&&ve.content.ownerDocument&&(r=ve.content.ownerDocument)}let w,T="",{implementation:O,createNodeIterator:C,createDocumentFragment:M,getElementsByTagName:R}=r,{importNode:k}=n,I=QM();t.isSupported=typeof eP=="function"&&typeof S=="function"&&O&&O.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:B,ERB_EXPR:L,TMPLIT_EXPR:E,DATA_ATTR:N,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:W}=JM,{IS_ALLOWED_URI:te}=JM,Ce=null,ge=Fe({},[...YM,...E1,...O1,...R1,...XM]),Y=null,ze=Fe({},[...ZM,...M1,...KM,...Km]),H=Object.seal(P1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,we=null,be=Object.seal(P1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),ne=!0,de=!0,Pe=!1,ie=!0,ye=!1,ce=!0,Te=!1,Ae=!1,pe=!1,ee=!1,_e=!1,Oe=!1,ke=!0,G=!1,K="user-content-",X=!0,Se=!1,Re={},Be=null,at=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ir=null,dr=Fe({},["audio","video","img","source","image","track"]),Ie=null,tr=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mn="http://www.w3.org/1998/Math/MathML",Lo="http://www.w3.org/2000/svg",Lr="http://www.w3.org/1999/xhtml",Ht=Lr,$e=!1,Ke=null,Pn=Fe({},[Mn,Lo,Lr],T1),Ct=Fe({},["mi","mo","mn","ms","mtext"]),no=Fe({},["annotation-xml"]),kr=Fe({},["title","style","font","a","script"]),Lt=null,pr=["application/xhtml+xml","text/html"],_t="text/html",tt=null,Qr=null,ws=r.createElement("form"),Ss=function(P){return P instanceof RegExp||P instanceof Function},Do=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qr&&Qr===P)){if((!P||typeof P!="object")&&(P={}),P=Ci(P),Lt=pr.indexOf(P.PARSER_MEDIA_TYPE)===-1?_t:P.PARSER_MEDIA_TYPE,tt=Lt==="application/xhtml+xml"?T1:Jm,Ce=uo(P,"ALLOWED_TAGS")?Fe({},P.ALLOWED_TAGS,tt):ge,Y=uo(P,"ALLOWED_ATTR")?Fe({},P.ALLOWED_ATTR,tt):ze,Ke=uo(P,"ALLOWED_NAMESPACES")?Fe({},P.ALLOWED_NAMESPACES,T1):Pn,Ie=uo(P,"ADD_URI_SAFE_ATTR")?Fe(Ci(tr),P.ADD_URI_SAFE_ATTR,tt):tr,Ir=uo(P,"ADD_DATA_URI_TAGS")?Fe(Ci(dr),P.ADD_DATA_URI_TAGS,tt):dr,Be=uo(P,"FORBID_CONTENTS")?Fe({},P.FORBID_CONTENTS,tt):at,ae=uo(P,"FORBID_TAGS")?Fe({},P.FORBID_TAGS,tt):Ci({}),we=uo(P,"FORBID_ATTR")?Fe({},P.FORBID_ATTR,tt):Ci({}),Re=uo(P,"USE_PROFILES")?P.USE_PROFILES:!1,ne=P.ALLOW_ARIA_ATTR!==!1,de=P.ALLOW_DATA_ATTR!==!1,Pe=P.ALLOW_UNKNOWN_PROTOCOLS||!1,ie=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ye=P.SAFE_FOR_TEMPLATES||!1,ce=P.SAFE_FOR_XML!==!1,Te=P.WHOLE_DOCUMENT||!1,ee=P.RETURN_DOM||!1,_e=P.RETURN_DOM_FRAGMENT||!1,Oe=P.RETURN_TRUSTED_TYPE||!1,pe=P.FORCE_BODY||!1,ke=P.SANITIZE_DOM!==!1,G=P.SANITIZE_NAMED_PROPS||!1,X=P.KEEP_CONTENT!==!1,Se=P.IN_PLACE||!1,te=P.ALLOWED_URI_REGEXP||tP,Ht=P.NAMESPACE||Lr,Ct=P.MATHML_TEXT_INTEGRATION_POINTS||Ct,no=P.HTML_INTEGRATION_POINTS||no,H=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Ss(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Ss(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ye&&(de=!1),_e&&(ee=!0),Re&&(Ce=Fe({},XM),Y=[],Re.html===!0&&(Fe(Ce,YM),Fe(Y,ZM)),Re.svg===!0&&(Fe(Ce,E1),Fe(Y,M1),Fe(Y,Km)),Re.svgFilters===!0&&(Fe(Ce,O1),Fe(Y,M1),Fe(Y,Km)),Re.mathMl===!0&&(Fe(Ce,R1),Fe(Y,KM),Fe(Y,Km))),P.ADD_TAGS&&(typeof P.ADD_TAGS=="function"?be.tagCheck=P.ADD_TAGS:(Ce===ge&&(Ce=Ci(Ce)),Fe(Ce,P.ADD_TAGS,tt))),P.ADD_ATTR&&(typeof P.ADD_ATTR=="function"?be.attributeCheck=P.ADD_ATTR:(Y===ze&&(Y=Ci(Y)),Fe(Y,P.ADD_ATTR,tt))),P.ADD_URI_SAFE_ATTR&&Fe(Ie,P.ADD_URI_SAFE_ATTR,tt),P.FORBID_CONTENTS&&(Be===at&&(Be=Ci(Be)),Fe(Be,P.FORBID_CONTENTS,tt)),X&&(Ce["#text"]=!0),Te&&Fe(Ce,["html","head","body"]),Ce.table&&(Fe(Ce,["tbody"]),delete ae.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw Uf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Uf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=P.TRUSTED_TYPES_POLICY,T=w.createHTML("")}else w===void 0&&(w=JY(p,o)),w!==null&&typeof T=="string"&&(T=w.createHTML(""));Br&&Br(P),Qr=P}},No=Fe({},[...E1,...O1,...zY]),bi=Fe({},[...R1,...HY]),u_=function(P){let V=S(P);(!V||!V.tagName)&&(V={namespaceURI:Ht,tagName:"template"});let se=Jm(P.tagName),dt=Jm(V.tagName);return Ke[P.namespaceURI]?P.namespaceURI===Lo?V.namespaceURI===Lr?se==="svg":V.namespaceURI===Mn?se==="svg"&&(dt==="annotation-xml"||Ct[dt]):!!No[se]:P.namespaceURI===Mn?V.namespaceURI===Lr?se==="math":V.namespaceURI===Lo?se==="math"&&no[dt]:!!bi[se]:P.namespaceURI===Lr?V.namespaceURI===Lo&&!no[dt]||V.namespaceURI===Mn&&!Ct[dt]?!1:!bi[se]&&(kr[se]||!No[se]):!!(Lt==="application/xhtml+xml"&&Ke[P.namespaceURI]):!1},vn=function(P){Wf(t.removed,{element:P});try{S(P).removeChild(P)}catch{v(P)}},Fo=function(P,V){try{Wf(t.removed,{attribute:V.getAttributeNode(P),from:V})}catch{Wf(t.removed,{attribute:null,from:V})}if(V.removeAttribute(P),P==="is")if(ee||_e)try{vn(V)}catch{}else try{V.setAttribute(P,"")}catch{}},Ru=function(P){let V=null,se=null;if(pe)P="<remove></remove>"+P;else{let Dt=k1(P,/^[\r\n\t ]+/);se=Dt&&Dt[0]}Lt==="application/xhtml+xml"&&Ht===Lr&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");let dt=w?w.createHTML(P):P;if(Ht===Lr)try{V=new d().parseFromString(dt,Lt)}catch{}if(!V||!V.documentElement){V=O.createDocument(Ht,"template",null);try{V.documentElement.innerHTML=$e?T:dt}catch{}}let Er=V.body||V.documentElement;return P&&se&&Er.insertBefore(r.createTextNode(se),Er.childNodes[0]||null),Ht===Lr?R.call(V,Te?"html":"body")[0]:Te?V.documentElement:Er},gE=function(P){return C.call(P.ownerDocument||P,P,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},c_=function(P){return P instanceof f&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof l)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},vE=function(P){return typeof s=="function"&&P instanceof s};function yi(ve,P,V){Zm(ve,se=>{se.call(t,P,V,Qr)})}let bE=function(P){let V=null;if(yi(I.beforeSanitizeElements,P,null),c_(P))return vn(P),!0;let se=tt(P.nodeName);if(yi(I.uponSanitizeElement,P,{tagName:se,allowedTags:Ce}),ce&&P.hasChildNodes()&&!vE(P.firstElementChild)&&qr(/<[/\w!]/g,P.innerHTML)&&qr(/<[/\w!]/g,P.textContent)||P.nodeType===Gf.progressingInstruction||ce&&P.nodeType===Gf.comment&&qr(/<[/\w]/g,P.data))return vn(P),!0;if(!(be.tagCheck instanceof Function&&be.tagCheck(se))&&(!Ce[se]||ae[se])){if(!ae[se]&&_E(se)&&(H.tagNameCheck instanceof RegExp&&qr(H.tagNameCheck,se)||H.tagNameCheck instanceof Function&&H.tagNameCheck(se)))return!1;if(X&&!Be[se]){let dt=S(P)||P.parentNode,Er=_(P)||P.childNodes;if(Er&&dt){let Dt=Er.length;for(let en=Dt-1;en>=0;--en){let _i=h(Er[en],!0);_i.__removalCount=(P.__removalCount||0)+1,dt.insertBefore(_i,b(P))}}}return vn(P),!0}return P instanceof c&&!u_(P)||(se==="noscript"||se==="noembed"||se==="noframes")&&qr(/<\/no(script|embed|frames)/i,P.innerHTML)?(vn(P),!0):(ye&&P.nodeType===Gf.text&&(V=P.textContent,Zm([B,L,E],dt=>{V=$f(V,dt," ")}),P.textContent!==V&&(Wf(t.removed,{element:P.cloneNode()}),P.textContent=V)),yi(I.afterSanitizeElements,P,null),!1)},yE=function(P,V,se){if(ke&&(V==="id"||V==="name")&&(se in r||se in ws))return!1;if(!(de&&!we[V]&&qr(N,V))){if(!(ne&&qr(U,V))){if(!(be.attributeCheck instanceof Function&&be.attributeCheck(V,P))){if(!Y[V]||we[V]){if(!(_E(P)&&(H.tagNameCheck instanceof RegExp&&qr(H.tagNameCheck,P)||H.tagNameCheck instanceof Function&&H.tagNameCheck(P))&&(H.attributeNameCheck instanceof RegExp&&qr(H.attributeNameCheck,V)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(V,P))||V==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&qr(H.tagNameCheck,se)||H.tagNameCheck instanceof Function&&H.tagNameCheck(se))))return!1}else if(!Ie[V]){if(!qr(te,$f(se,D,""))){if(!((V==="src"||V==="xlink:href"||V==="href")&&P!=="script"&&NY(se,"data:")===0&&Ir[P])){if(!(Pe&&!qr(z,$f(se,D,"")))){if(se)return!1}}}}}}}return!0},_E=function(P){return P!=="annotation-xml"&&k1(P,W)},xE=function(P){yi(I.beforeSanitizeAttributes,P,null);let{attributes:V}=P;if(!V||c_(P))return;let se={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0},dt=V.length;for(;dt--;){let Er=V[dt],{name:Dt,namespaceURI:en,value:_i}=Er,Mu=tt(Dt),l_=_i,mr=Dt==="value"?l_:FY(l_);if(se.attrName=Mu,se.attrValue=mr,se.keepAttr=!0,se.forceKeepAttr=void 0,yi(I.uponSanitizeAttribute,P,se),mr=se.attrValue,G&&(Mu==="id"||Mu==="name")&&(Fo(Dt,P),mr=K+mr),ce&&qr(/((--!?|])>)|<\/(style|title|textarea)/i,mr)){Fo(Dt,P);continue}if(Mu==="attributename"&&k1(mr,"href")){Fo(Dt,P);continue}if(se.forceKeepAttr)continue;if(!se.keepAttr){Fo(Dt,P);continue}if(!ie&&qr(/\/>/i,mr)){Fo(Dt,P);continue}ye&&Zm([B,L,E],SE=>{mr=$f(mr,SE," ")});let wE=tt(P.nodeName);if(!yE(wE,Mu,mr)){Fo(Dt,P);continue}if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!en)switch(p.getAttributeType(wE,Mu)){case"TrustedHTML":{mr=w.createHTML(mr);break}case"TrustedScriptURL":{mr=w.createScriptURL(mr);break}}if(mr!==l_)try{en?P.setAttributeNS(en,Dt,mr):P.setAttribute(Dt,mr),c_(P)?vn(P):GM(t.removed)}catch{Fo(Dt,P)}}yi(I.afterSanitizeAttributes,P,null)},Q$=function ve(P){let V=null,se=gE(P);for(yi(I.beforeSanitizeShadowDOM,P,null);V=se.nextNode();)yi(I.uponSanitizeShadowNode,V,null),bE(V),xE(V),V.content instanceof i&&ve(V.content);yi(I.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(ve){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=null,se=null,dt=null,Er=null;if($e=!ve,$e&&(ve="<!-->"),typeof ve!="string"&&!vE(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw Uf("dirty is not a string, aborting")}else throw Uf("toString is not a function");if(!t.isSupported)return ve;if(Ae||Do(P),t.removed=[],typeof ve=="string"&&(Se=!1),Se){if(ve.nodeName){let _i=tt(ve.nodeName);if(!Ce[_i]||ae[_i])throw Uf("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof s)V=Ru("<!---->"),se=V.ownerDocument.importNode(ve,!0),se.nodeType===Gf.element&&se.nodeName==="BODY"||se.nodeName==="HTML"?V=se:V.appendChild(se);else{if(!ee&&!ye&&!Te&&ve.indexOf("<")===-1)return w&&Oe?w.createHTML(ve):ve;if(V=Ru(ve),!V)return ee?null:Oe?T:""}V&&pe&&vn(V.firstChild);let Dt=gE(Se?ve:V);for(;dt=Dt.nextNode();)bE(dt),xE(dt),dt.content instanceof i&&Q$(dt.content);if(Se)return ve;if(ee){if(_e)for(Er=M.call(V.ownerDocument);V.firstChild;)Er.appendChild(V.firstChild);else Er=V;return(Y.shadowroot||Y.shadowrootmode)&&(Er=k.call(n,Er,!0)),Er}let en=Te?V.outerHTML:V.innerHTML;return Te&&Ce["!doctype"]&&V.ownerDocument&&V.ownerDocument.doctype&&V.ownerDocument.doctype.name&&qr(rP,V.ownerDocument.doctype.name)&&(en="<!DOCTYPE "+V.ownerDocument.doctype.name+`>
`+en),ye&&Zm([B,L,E],_i=>{en=$f(en,_i," ")}),w&&Oe?w.createHTML(en):en},t.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Do(ve),Ae=!0},t.clearConfig=function(){Qr=null,Ae=!1},t.isValidAttribute=function(ve,P,V){Qr||Do({});let se=tt(ve),dt=tt(P);return yE(se,dt,V)},t.addHook=function(ve,P){typeof P=="function"&&Wf(I[ve],P)},t.removeHook=function(ve,P){if(P!==void 0){let V=LY(I[ve],P);return V===-1?void 0:DY(I[ve],V,1)[0]}return GM(I[ve])},t.removeHooks=function(ve){I[ve]=[]},t.removeAllHooks=function(){I=QM()},t}var QY=nP();oP.exports=QY});var sP=y((jMe,aP)=>{"use strict";var eX=/["'&<>]/;aP.exports=tX;function tX(e){var t=""+e,r=eX.exec(t);if(!r)return t;var n,o="",i=0,a=0;for(i=r.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=n}return a!==i?o+t.substring(a,i):o}});var uP=y(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.TWO_PWR_32_DBL=Ho.TWO_PWR_16_DBL=void 0;Ho.longFromBytesToUnsigned=rX;Ho.TWO_PWR_16_DBL=65536;Ho.TWO_PWR_32_DBL=Ho.TWO_PWR_16_DBL*Ho.TWO_PWR_16_DBL;function rX(e,t=0){let r=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;return((e[t+4]|e[t+5]<<8|e[t+6]<<16|e[t+7]<<24)>>>0)*Ho.TWO_PWR_32_DBL+(r>>>0)}});var lP=y(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});var I1=uP(),Qm=1;function cP(e,t,r){let n=t[Qm],o=r?r[Qm]:1/0;return n<=e&&o>e?0:n<e?-1:1}var L1=class{constructor({filehandle:t}){this.filehandle=t}_getIndex(){return this.index||(this.index=this._readIndex().catch(t=>{throw this.index=void 0,t})),this.index}async _readIndex(){let t=await this.filehandle.read(8,0),r=(0,I1.longFromBytesToUnsigned)(t);if(!r)return[[0,0]];let n=new Array(r+1);n[0]=[0,0];let o=16*r;if(o>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");let i=await this.filehandle.read(o,8);for(let a=0;a<r;a+=1){let s=(0,I1.longFromBytesToUnsigned)(i,a*16),c=(0,I1.longFromBytesToUnsigned)(i,a*16+8);n[a+1]=[s,c]}return n}async getLastBlock(){return(await this._getIndex()).at(-1)}async getRelevantBlocksForRead(t,r){let n=r+t;if(t===0)return[];let o=await this._getIndex(),i=[],a=0,s=o.length-1,c=Math.floor(o.length/2),u=cP(r,o[c],o[c+1]);for(;u!==0;)u>0?s=c-1:u<0&&(a=c+1),c=Math.ceil((s-a)/2)+a,u=cP(r,o[c],o[c+1]);i.push(o[c]);let l=c+1;for(;l<o.length&&(i.push(o[l]),!(o[l][Qm]>=n));l+=1);return i[i.length-1][Qm]<n&&i.push([]),i}};D1.default=L1});var Ju=y(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.Z_DEFLATED=he.Z_UNKNOWN=he.Z_TEXT=he.Z_BINARY=he.Z_DEFAULT_STRATEGY=he.Z_FIXED=he.Z_RLE=he.Z_HUFFMAN_ONLY=he.Z_FILTERED=he.Z_DEFAULT_COMPRESSION=he.Z_BEST_COMPRESSION=he.Z_BEST_SPEED=he.Z_NO_COMPRESSION=he.Z_BUF_ERROR=he.Z_DATA_ERROR=he.Z_STREAM_ERROR=he.Z_ERRNO=he.Z_NEED_DICT=he.Z_STREAM_END=he.Z_OK=he.Z_TREES=he.Z_BLOCK=he.Z_FINISH=he.Z_FULL_FLUSH=he.Z_SYNC_FLUSH=he.Z_PARTIAL_FLUSH=he.Z_NO_FLUSH=void 0;he.Z_NO_FLUSH=0;he.Z_PARTIAL_FLUSH=1;he.Z_SYNC_FLUSH=2;he.Z_FULL_FLUSH=3;he.Z_FINISH=4;he.Z_BLOCK=5;he.Z_TREES=6;he.Z_OK=0;he.Z_STREAM_END=1;he.Z_NEED_DICT=2;he.Z_ERRNO=-1;he.Z_STREAM_ERROR=-2;he.Z_DATA_ERROR=-3;he.Z_BUF_ERROR=-5;he.Z_NO_COMPRESSION=0;he.Z_BEST_SPEED=1;he.Z_BEST_COMPRESSION=9;he.Z_DEFAULT_COMPRESSION=-1;he.Z_FILTERED=1;he.Z_HUFFMAN_ONLY=2;he.Z_RLE=3;he.Z_FIXED=4;he.Z_DEFAULT_STRATEGY=0;he.Z_BINARY=0;he.Z_TEXT=1;he.Z_UNKNOWN=2;he.Z_DEFLATED=8});var sa=y(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.Buf32=Ze.Buf16=Ze.Buf8=Ze.flattenChunks=Ze.arraySet=void 0;Ze.assign=oX;Ze.shrinkBuf=iX;Ze.setTyped=fX;function nX(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oX(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)nX(r,n)&&(e[n]=r[n])}}return e}function iX(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}var Wo={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),o);return}for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n,o,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)i=e[t],a.set(i,o),o+=i.length;return a},Buf8:function(e){return new Uint8Array(e)},Buf16:function(e){return new Uint16Array(e)},Buf32:function(e){return new Int32Array(e)}},$o={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)},Buf8:function(e){return new Array(e)},Buf16:function(e){return new Array(e)},Buf32:function(e){return new Array(e)}},Qu=()=>{let e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return Qu=()=>e,e},aX=(e,t,r,n,o)=>(Ze.arraySet=Qu()?Wo.arraySet:$o.arraySet,(0,Ze.arraySet)(e,t,r,n,o));Ze.arraySet=aX;var sX=e=>(Ze.flattenChunks=Qu()?Wo.flattenChunks:$o.flattenChunks,(0,Ze.flattenChunks)(e));Ze.flattenChunks=sX;var uX=e=>(Ze.Buf8=Qu()?Wo.Buf8:$o.Buf8,(0,Ze.Buf8)(e));Ze.Buf8=uX;var cX=e=>(Ze.Buf16=Qu()?Wo.Buf16:$o.Buf16,(0,Ze.Buf16)(e));Ze.Buf16=cX;var lX=e=>(Ze.Buf32=Qu()?Wo.Buf32:$o.Buf32,(0,Ze.Buf32)(e));Ze.Buf32=lX;function fX(e){Ze.arraySet=e?Wo.arraySet:$o.arraySet,Ze.flattenChunks=e?Wo.flattenChunks:$o.flattenChunks,Ze.Buf8=e?Wo.Buf8:$o.Buf8,Ze.Buf16=e?Wo.Buf16:$o.Buf16,Ze.Buf32=e?Wo.Buf32:$o.Buf32}});var F1=y(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.string2buf=dX;As.buf2binstring=pX;As.binstring2buf=mX;As.buf2string=hX;As.utf8border=gX;var fP=sa(),dP=function(){let e=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}return dP=()=>e,e},pP=function(){let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}return pP=()=>e,e},N1=function(e){for(var t=(0,fP.Buf8)(256),r=0;r<256;r++)t[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;return t[254]=t[254]=1,N1=n=>t[n],t[e]};function dX(e){var t,r,n,o,i,a=e.length,s=0;for(o=0;o<a;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t}function mP(e,t){if(t<65534&&(e.subarray&&pP()||!e.subarray&&dP()))return String.fromCharCode.apply(null,(0,fP.shrinkBuf)(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}function pX(e){return mP(e,e.length)}function mX(e){for(var t=new Uint8Array(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}function hX(e,t){var r,n,o,i,a=t||e.length,s=new Array(a*2);for(n=0,r=0;r<a;){if(o=e[r++],o<128){s[n++]=o;continue}if(i=N1(o),i>4){s[n++]=65533,r+=i-1;continue}for(o&=i===2?31:i===3?15:7;i>1&&r<a;)o=o<<6|e[r++]&63,i--;if(i>1){s[n++]=65533;continue}o<65536?s[n++]=o:(o-=65536,s[n++]=55296|o>>10&1023,s[n++]=56320|o&1023)}return mP(s,n)}function gX(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+N1(e[r])>t?r:t}});var hP=y(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.default=vX;function vX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}});var z1=y(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.default=bX;function bX(e,t,r,n){for(var o=e&65535|0,i=e>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do o=o+t[n++]|0,i=i+o|0;while(--a);o%=65521,i%=65521}return o|i<<16|0}});var W1=y(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.default=_X;function yX(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var gP=function(){let e=yX();return gP=()=>e,e};function _X(e,t,r,n){var o=gP(),i=n+r;e^=-1;for(var a=n;a<i;a++)e=e>>>8^o[(e^t[a])&255];return e^-1}});var vP=y($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.default=wX;var eh=30,xX=12;function wX(e,t){var r,n,o,i,a,s,c,u,l,f,d,p,m,h,v,b,_,S,w,T,O,C,M,R,k;r=e.state,n=e.next_in,R=e.input,o=n+(e.avail_in-5),i=e.next_out,k=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,p=r.hold,m=r.bits,h=r.lencode,v=r.distcode,b=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{m<15&&(p+=R[n++]<<m,m+=8,p+=R[n++]<<m,m+=8),S=h[p&b];t:for(;;){if(w=S>>>24,p>>>=w,m-=w,w=S>>>16&255,w===0)k[i++]=S&65535;else if(w&16){T=S&65535,w&=15,w&&(m<w&&(p+=R[n++]<<m,m+=8),T+=p&(1<<w)-1,p>>>=w,m-=w),m<15&&(p+=R[n++]<<m,m+=8,p+=R[n++]<<m,m+=8),S=v[p&_];r:for(;;){if(w=S>>>24,p>>>=w,m-=w,w=S>>>16&255,w&16){if(O=S&65535,w&=15,m<w&&(p+=R[n++]<<m,m+=8,m<w&&(p+=R[n++]<<m,m+=8)),O+=p&(1<<w)-1,O>c){e.msg="invalid distance too far back",r.mode=eh;break e}if(p>>>=w,m-=w,w=i-a,O>w){if(w=O-w,w>l&&r.sane){e.msg="invalid distance too far back",r.mode=eh;break e}if(C=0,M=d,f===0){if(C+=u-w,w<T){T-=w;do k[i++]=d[C++];while(--w);C=i-O,M=k}}else if(f<w){if(C+=u+f-w,w-=f,w<T){T-=w;do k[i++]=d[C++];while(--w);if(C=0,f<T){w=f,T-=w;do k[i++]=d[C++];while(--w);C=i-O,M=k}}}else if(C+=f-w,w<T){T-=w;do k[i++]=d[C++];while(--w);C=i-O,M=k}for(;T>2;)k[i++]=M[C++],k[i++]=M[C++],k[i++]=M[C++],T-=3;T&&(k[i++]=M[C++],T>1&&(k[i++]=M[C++]))}else{C=i-O;do k[i++]=k[C++],k[i++]=k[C++],k[i++]=k[C++],T-=3;while(T>2);T&&(k[i++]=k[C++],T>1&&(k[i++]=k[C++]))}}else if((w&64)===0){S=v[(S&65535)+(p&(1<<w)-1)];continue r}else{e.msg="invalid distance code",r.mode=eh;break e}break}}else if((w&64)===0){S=h[(S&65535)+(p&(1<<w)-1)];continue t}else if(w&32){r.mode=xX;break e}else{e.msg="invalid literal/length code",r.mode=eh;break e}break}}while(n<o&&i<s);T=m>>3,n-=T,m-=T<<3,p&=(1<<m)-1,e.next_in=n,e.next_out=i,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=i<s?257+(s-i):257-(i-s),r.hold=p,r.bits=m}});var SP=y(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.default=EX;var bP=sa(),ec=15,yP=852,_P=592,xP=0,U1=1,wP=2,SX=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],CX=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],TX=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],kX=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function EX(e,t,r,n,o,i,a,s){var c=s.bits,u=0,l=0,f=0,d=0,p=0,m=0,h=0,v=0,b=0,_=0,S,w,T,O,C,M=null,R=0,k,I=(0,bP.Buf16)(ec+1),B=(0,bP.Buf16)(ec+1),L=null,E=0,N,U,z;for(u=0;u<=ec;u++)I[u]=0;for(l=0;l<n;l++)I[t[r+l]]++;for(p=c,d=ec;d>=1&&I[d]===0;d--);if(p>d&&(p=d),d===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<d&&I[f]===0;f++);for(p<f&&(p=f),v=1,u=1;u<=ec;u++)if(v<<=1,v-=I[u],v<0)return-1;if(v>0&&(e===xP||d!==1))return-1;for(B[1]=0,u=1;u<ec;u++)B[u+1]=B[u]+I[u];for(l=0;l<n;l++)t[r+l]!==0&&(a[B[t[r+l]]++]=l);if(e===xP?(M=L=a,k=19):e===U1?(M=SX,R-=257,L=CX,E-=257,k=256):(M=TX,L=kX,k=-1),_=0,l=0,u=f,C=i,m=p,h=0,T=-1,b=1<<p,O=b-1,e===U1&&b>yP||e===wP&&b>_P)return 1;for(;;){N=u-h,a[l]<k?(U=0,z=a[l]):a[l]>k?(U=L[E+a[l]],z=M[R+a[l]]):(U=96,z=0),S=1<<u-h,w=1<<m,f=w;do w-=S,o[C+(_>>h)+w]=N<<24|U<<16|z|0;while(w!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,l++,--I[u]===0){if(u===d)break;u=t[r+a[l]]}if(u>p&&(_&O)!==T){for(h===0&&(h=p),C+=f,m=u-h,v=1<<m;m+h<d&&(v-=I[m+h],!(v<=0));)m++,v<<=1;if(b+=1<<m,e===U1&&b>yP||e===wP&&b>_P)return 1;T=_&O,o[T]=p<<24|m<<16|C-i|0}}return _!==0&&(o[C+_]=u-h<<24|64<<16|0),s.bits=p,0}});var oA=y(Hr=>{"use strict";var ih=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.inflateInfo=void 0;Hr.inflateResetKeep=QP;Hr.inflateReset=eA;Hr.inflateReset2=tA;Hr.inflateInit2=rA;Hr.inflateInit=BX;Hr.inflate=HX;Hr.inflateEnd=WX;Hr.inflateGetHeader=$X;Hr.inflateSetDictionary=UX;var J1=ih(z1()),Uo=ih(W1()),OX=ih(vP()),Yf=ih(SP()),wn=sa(),RX=0,XP=1,ZP=2,CP=4,MX=5,th=6,js=0,PX=1,AX=2,qn=-2,KP=-3,Q1=-4,jX=-5,TP=8,JP=1,kP=2,EP=3,OP=4,RP=5,MP=6,PP=7,AP=8,jP=9,IP=10,oh=11,Ti=12,G1=13,LP=14,Y1=15,DP=16,NP=17,FP=18,qP=19,rh=20,nh=21,BP=22,zP=23,HP=24,WP=25,$P=26,X1=27,UP=28,VP=29,pt=30,ex=31,IX=32,LX=852,DX=592,NX=15,FX=NX;function GP(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function qX(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=(0,wn.Buf16)(320),this.work=(0,wn.Buf16)(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function QP(e){var t;return!e||!e.state?qn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=JP,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=(0,wn.Buf32)(LX),t.distcode=t.distdyn=(0,wn.Buf32)(DX),t.sane=1,t.back=-1,js)}function eA(e){var t;return!e||!e.state?qn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,QP(e))}function tA(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?qn:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,eA(e))}function rA(e,t){var r,n;return e?(n=new qX,e.state=n,n.window=null,r=tA(e,t),r!==js&&(e.state=null),r):qn}function BX(e){return rA(e,FX)}var YP=!0,Z1,K1;function zX(e){if(YP){var t;for(Z1=(0,wn.Buf32)(512),K1=(0,wn.Buf32)(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for((0,Yf.default)(XP,e.lens,0,288,Z1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;(0,Yf.default)(ZP,e.lens,0,32,K1,0,e.work,{bits:5}),YP=!1}e.lencode=Z1,e.lenbits=9,e.distcode=K1,e.distbits=5}function nA(e,t,r,n){var o,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=(0,wn.Buf8)(i.wsize)),n>=i.wsize?((0,wn.arraySet)(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>n&&(o=n),(0,wn.arraySet)(i.window,t,r-n,o,i.wnext),n-=o,n?((0,wn.arraySet)(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}function HX(e,t){var r,n,o,i,a,s,c,u,l,f,d,p,m,h,v=0,b,_,S,w,T,O,C,M,R=(0,wn.Buf8)(4),k,I,B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return qn;r=e.state,r.mode===Ti&&(r.mode=G1),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,f=s,d=c,M=js;e:for(;;)switch(r.mode){case JP:if(r.wrap===0){r.mode=G1;break}for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=(0,Uo.default)(r.check,R,2,0),u=0,l=0,r.mode=kP;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=pt;break}if((u&15)!==TP){e.msg="unknown compression method",r.mode=pt;break}if(u>>>=4,l-=4,C=(u&15)+8,r.wbits===0)r.wbits=C;else if(C>r.wbits){e.msg="invalid window size",r.mode=pt;break}r.dmax=1<<C,e.adler=r.check=1,r.mode=u&512?IP:Ti,u=0,l=0;break;case kP:for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==TP){e.msg="unknown compression method",r.mode=pt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=pt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(R[0]=u&255,R[1]=u>>>8&255,r.check=(0,Uo.default)(r.check,R,2,0)),u=0,l=0,r.mode=EP;case EP:for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=(0,Uo.default)(r.check,R,4,0)),u=0,l=0,r.mode=OP;case OP:for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(R[0]=u&255,R[1]=u>>>8&255,r.check=(0,Uo.default)(r.check,R,2,0)),u=0,l=0,r.mode=RP;case RP:if(r.flags&1024){for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(R[0]=u&255,R[1]=u>>>8&255,r.check=(0,Uo.default)(r.check,R,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=MP;case MP:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),(0,wn.arraySet)(r.head.extra,n,i,p,C)),r.flags&512&&(r.check=(0,Uo.default)(r.check,n,p,i)),s-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=PP;case PP:if(r.flags&2048){if(s===0)break e;p=0;do C=n[i+p++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&p<s);if(r.flags&512&&(r.check=(0,Uo.default)(r.check,n,p,i)),s-=p,i+=p,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=AP;case AP:if(r.flags&4096){if(s===0)break e;p=0;do C=n[i+p++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&p<s);if(r.flags&512&&(r.check=(0,Uo.default)(r.check,n,p,i)),s-=p,i+=p,C)break e}else r.head&&(r.head.comment=null);r.mode=jP;case jP:if(r.flags&512){for(;l<16;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=pt;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ti;break;case IP:for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}e.adler=r.check=GP(u),u=0,l=0,r.mode=oh;case oh:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,AX;e.adler=r.check=1,r.mode=Ti;case Ti:if(t===MX||t===th)break e;case G1:if(r.last){u>>>=l&7,l-=l&7,r.mode=X1;break}for(;l<3;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=LP;break;case 1:if(zX(r),r.mode=rh,t===th){u>>>=2,l-=2;break e}break;case 2:r.mode=NP;break;case 3:e.msg="invalid block type",r.mode=pt}u>>>=2,l-=2;break;case LP:for(u>>>=l&7,l-=l&7;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=pt;break}if(r.length=u&65535,u=0,l=0,r.mode=Y1,t===th)break e;case Y1:r.mode=DP;case DP:if(p=r.length,p){if(p>s&&(p=s),p>c&&(p=c),p===0)break e;(0,wn.arraySet)(o,n,i,p,a),s-=p,i+=p,c-=p,a+=p,r.length-=p;break}r.mode=Ti;break;case NP:for(;l<14;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=pt;break}r.have=0,r.mode=FP;case FP:for(;r.have<r.ncode;){for(;l<3;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.lens[B[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},M=(0,Yf.default)(RX,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,M){e.msg="invalid code lengths set",r.mode=pt;break}r.have=0,r.mode=qP;case qP:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(S<16)u>>>=b,l-=b,r.lens[r.have++]=S;else{if(S===16){for(I=b+2;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u>>>=b,l-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=pt;break}C=r.lens[r.have-1],p=3+(u&3),u>>>=2,l-=2}else if(S===17){for(I=b+3;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,C=0,p=3+(u&7),u>>>=3,l-=3}else{for(I=b+7;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,C=0,p=11+(u&127),u>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=pt;break}for(;p--;)r.lens[r.have++]=C}}if(r.mode===pt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=pt;break}if(r.lenbits=9,k={bits:r.lenbits},M=(0,Yf.default)(XP,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,M){e.msg="invalid literal/lengths set",r.mode=pt;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},M=(0,Yf.default)(ZP,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,M){e.msg="invalid distances set",r.mode=pt;break}if(r.mode=rh,t===th)break e;case rh:r.mode=nh;case nh:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,(0,OX.default)(e,d),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,r.mode===Ti&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(_&&(_&240)===0){for(w=b,T=_,O=S;v=r.lencode[O+((u&(1<<w+T)-1)>>w)],b=v>>>24,_=v>>>16&255,S=v&65535,!(w+b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=b,l-=b,r.back+=b,r.length=S,_===0){r.mode=$P;break}if(_&32){r.back=-1,r.mode=Ti;break}if(_&64){e.msg="invalid literal/length code",r.mode=pt;break}r.extra=_&15,r.mode=BP;case BP:if(r.extra){for(I=r.extra;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zP;case zP:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,_=v>>>16&255,S=v&65535,!(b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if((_&240)===0){for(w=b,T=_,O=S;v=r.distcode[O+((u&(1<<w+T)-1)>>w)],b=v>>>24,_=v>>>16&255,S=v&65535,!(w+b<=l);){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=b,l-=b,r.back+=b,_&64){e.msg="invalid distance code",r.mode=pt;break}r.offset=S,r.extra=_&15,r.mode=HP;case HP:if(r.extra){for(I=r.extra;l<I;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=pt;break}r.mode=WP;case WP:if(c===0)break e;if(p=d-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=pt;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),h=r.window}else h=o,m=a-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do o[a++]=h[m++];while(--p);r.length===0&&(r.mode=nh);break;case $P:if(c===0)break e;o[a++]=r.length,c--,r.mode=nh;break;case X1:if(r.wrap){for(;l<32;){if(s===0)break e;s--,u|=n[i++]<<l,l+=8}if(d-=c,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?(0,Uo.default)(r.check,o,d,a-d):(0,J1.default)(r.check,o,d,a-d)),d=c,(r.flags?u:GP(u))!==r.check){e.msg="incorrect data check",r.mode=pt;break}u=0,l=0}r.mode=UP;case UP:if(r.wrap&&r.flags){for(;l<32;){if(s===0)break e;s--,u+=n[i++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=pt;break}u=0,l=0}r.mode=VP;case VP:M=PX;break e;case pt:M=KP;break e;case ex:return Q1;case IX:default:return qn}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<pt&&(r.mode<X1||t!==CP))&&nA(e,e.output,e.next_out,d-e.avail_out)?(r.mode=ex,Q1):(f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?(0,Uo.default)(r.check,o,d,e.next_out-d):(0,J1.default)(r.check,o,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ti?128:0)+(r.mode===rh||r.mode===Y1?256:0),(f===0&&d===0||t===CP)&&M===js&&(M=jX),M)}function WX(e){if(!e||!e.state)return qn;var t=e.state;return t.window&&(t.window=null),e.state=null,js}function $X(e,t){var r;return!e||!e.state||(r=e.state,(r.wrap&2)===0)?qn:(r.head=t,t.done=!1,js)}function UX(e,t){var r=t.length,n,o,i;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==oh)?qn:n.mode===oh&&(o=1,o=(0,J1.default)(o,t,r,0),o!==n.check)?KP:(i=nA(e,t,r,r),i?(n.mode=ex,Q1):(n.havedict=1,js))}Hr.inflateInfo="pako inflate (from Nodeca project)"});var ah=y(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.default={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var nx=y(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.default=VX;function VX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}});var iA=y(Vo=>{"use strict";var ax=Vo&&Vo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.ungzip=Vo.Inflate=void 0;Vo.inflate=sx;Vo.inflateRaw=XX;var Xf=sa(),Zf=F1(),Pt=Ju(),GX=ax(hP()),tc=oA(),ix=ax(ah()),YX=ax(nx()),ox=Object.prototype.toString,sh=class e{constructor(t){if(!(this instanceof e))return new e(t);this.options=(0,Xf.assign)({chunkSize:16384,windowBits:0,to:""},t||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YX.default,this.strm.avail_out=0;var n=(0,tc.inflateInit2)(this.strm,r.windowBits);if(n!==Pt.Z_OK)throw new Error(ix.default[n]);if(this.header=new GX.default,(0,tc.inflateGetHeader)(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=(0,Zf.string2buf)(r.dictionary):ox.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=(0,tc.inflateSetDictionary)(this.strm,r.dictionary),n!==Pt.Z_OK)))throw new Error(ix.default[n])}push(t,r){var n=this.strm,o=this.options.chunkSize,i=this.options.dictionary,a,s,c,u,l,f,d=!1;if(this.ended)return!1;s=r===~~r?r:r===!0?Pt.Z_FINISH:Pt.Z_NO_FLUSH,typeof t=="string"?n.input=(0,Zf.binstring2buf)(t):ox.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=(0,Xf.Buf8)(o),n.next_out=0,n.avail_out=o),a=(0,tc.inflate)(n,Pt.Z_NO_FLUSH),a===Pt.Z_NEED_DICT&&i&&(typeof i=="string"?f=(0,Zf.string2buf)(i):ox.call(i)==="[object ArrayBuffer]"?f=new Uint8Array(i):f=i,a=(0,tc.inflateSetDictionary)(this.strm,f)),a===Pt.Z_BUF_ERROR&&d===!0&&(a=Pt.Z_OK,d=!1),a!==Pt.Z_STREAM_END&&a!==Pt.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===Pt.Z_STREAM_END||n.avail_in===0&&(s===Pt.Z_FINISH||s===Pt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(c=(0,Zf.utf8border)(n.output,n.next_out),u=n.next_out-c,l=(0,Zf.buf2string)(n.output,c),n.next_out=u,n.avail_out=o-u,u&&(0,Xf.arraySet)(n.output,n.output,c,u,0),this.onData(l)):this.onData((0,Xf.shrinkBuf)(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(d=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==Pt.Z_STREAM_END);return a===Pt.Z_STREAM_END&&(s=Pt.Z_FINISH),s===Pt.Z_FINISH?(a=(0,tc.inflateEnd)(this.strm),this.onEnd(a),this.ended=!0,a===Pt.Z_OK):(s===Pt.Z_SYNC_FLUSH&&(this.onEnd(Pt.Z_OK),n.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===Pt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=(0,Xf.flattenChunks)(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}};Vo.Inflate=sh;function sx(e,t){var r=new sh(t);if(r.push(e,!0),r.err)throw r.msg||ix.default[r.err];return r.result}function XX(e,t){return t=t||{},t.raw=!0,sx(e,t)}Vo.ungzip=sx});var kA=y(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls._tr_init=fZ;Ls._tr_stored_block=TA;Ls._tr_align=dZ;Ls._tr_flush_block=pZ;Ls._tr_tally=mZ;var ic=Ju(),ZX=sa();function rc(e){for(var t=e.length;--t>=0;)e[t]=0}var KX=0,fA=1,JX=2,QX=3,eZ=258,dx=29,ed=256,Jf=ed+1+dx,nc=30,hx=19,dA=2*Jf+1,Is=15,ux=16,tZ=7,gx=256,pA=16,mA=17,hA=18,px=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],uh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rZ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nZ=512,Go,oc,ac,sc,ch,Kf;function cx(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}var vA,bA,yA;function lx(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _A(e){return e<256?ac[e]:ac[256+(e>>>7)]}function Qf(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function rn(e,t,r){e.bi_valid>ux-r?(e.bi_buf|=t<<e.bi_valid&65535,Qf(e,e.bi_buf),e.bi_buf=t>>ux-e.bi_valid,e.bi_valid+=r-ux):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Yo(e,t,r){rn(e,r[t*2],r[t*2+1])}function xA(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function oZ(e){e.bi_valid===16?(Qf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function iZ(e,t){var r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,f,d,p,m,h=0;for(d=0;d<=Is;d++)e.bl_count[d]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<dA;u++)l=e.heap[u],d=r[r[l*2+1]*2+1]+1,d>c&&(d=c,h++),r[l*2+1]=d,!(l>n)&&(e.bl_count[d]++,p=0,l>=s&&(p=a[l-s]),m=r[l*2],e.opt_len+=m*(d+p),i&&(e.static_len+=m*(o[l*2+1]+p)));if(h!==0){do{for(d=c-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,h-=2}while(h>0);for(d=c;d!==0;d--)for(l=e.bl_count[d];l!==0;)f=e.heap[--u],!(f>n)&&(r[f*2+1]!==d&&(e.opt_len+=(d-r[f*2+1])*r[f*2],r[f*2+1]=d),l--)}}function wA(e,t,r){var n=new Array(Is+1),o=0,i,a;for(i=1;i<=Is;i++)n[i]=o=o+r[i-1]<<1;for(a=0;a<=t;a++){var s=e[a*2+1];s!==0&&(e[a*2]=xA(n[s]++,s))}}function aZ(){var e,t,r,n,o,i=new Array(Is+1);for(Go=new Array((Jf+2)*2),rc(Go),oc=new Array(nc*2),rc(oc),ac=new Array(nZ),rc(ac),sc=new Array(eZ-QX+1),rc(sc),ch=new Array(dx),rc(ch),Kf=new Array(nc),rc(Kf),r=0,n=0;n<dx-1;n++)for(ch[n]=r,e=0;e<1<<px[n];e++)sc[r++]=n;for(sc[r-1]=n,o=0,n=0;n<16;n++)for(Kf[n]=o,e=0;e<1<<uh[n];e++)ac[o++]=n;for(o>>=7;n<nc;n++)for(Kf[n]=o<<7,e=0;e<1<<uh[n]-7;e++)ac[256+o++]=n;for(t=0;t<=Is;t++)i[t]=0;for(e=0;e<=143;)Go[e*2+1]=8,e++,i[8]++;for(;e<=255;)Go[e*2+1]=9,e++,i[9]++;for(;e<=279;)Go[e*2+1]=7,e++,i[7]++;for(;e<=287;)Go[e*2+1]=8,e++,i[8]++;for(wA(Go,Jf+1,i),e=0;e<nc;e++)oc[e*2+1]=5,oc[e*2]=xA(e,5);vA=new cx(Go,px,ed+1,Jf,Is),bA=new cx(oc,uh,0,nc,Is),yA=new cx(new Array(0),rZ,0,hx,tZ)}function SA(e){var t;for(t=0;t<Jf;t++)e.dyn_ltree[t*2]=0;for(t=0;t<nc;t++)e.dyn_dtree[t*2]=0;for(t=0;t<hx;t++)e.bl_tree[t*2]=0;e.dyn_ltree[gx*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function CA(e){e.bi_valid>8?Qf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function sZ(e,t,r,n){CA(e),n&&(Qf(e,r),Qf(e,~r)),(0,ZX.arraySet)(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function aA(e,t,r,n){var o=t*2,i=r*2;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]}function fx(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&aA(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!aA(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function sA(e,t,r){var n,o,i=0,a,s;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+i*2]<<8|e.pending_buf[e.d_buf+i*2+1],o=e.pending_buf[e.l_buf+i],i++,n===0?Yo(e,o,t):(a=sc[o],Yo(e,a+ed+1,t),s=px[a],s!==0&&(o-=ch[a],rn(e,o,s)),n--,a=_A(n),Yo(e,a,r),s=uh[a],s!==0&&(n-=Kf[a],rn(e,n,s)));while(i<e.last_lit);Yo(e,gx,t)}function mx(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems,a,s,c=-1,u;for(e.heap_len=0,e.heap_max=dA,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)fx(e,r,a);u=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],fx(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,r[u*2]=r[a*2]+r[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,r[a*2+1]=r[s*2+1]=u,e.heap[1]=u++,fx(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],iZ(e,t),wA(r,c,e.bl_count)}function uA(e,t,r){var n,o=-1,i,a=t[1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++s<c&&i===a)&&(s<u?e.bl_tree[i*2]+=s:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[pA*2]++):s<=10?e.bl_tree[mA*2]++:e.bl_tree[hA*2]++,s=0,o=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function cA(e,t,r){var n,o=-1,i,a=t[1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++s<c&&i===a)){if(s<u)do Yo(e,i,e.bl_tree);while(--s!==0);else i!==0?(i!==o&&(Yo(e,i,e.bl_tree),s--),Yo(e,pA,e.bl_tree),rn(e,s-3,2)):s<=10?(Yo(e,mA,e.bl_tree),rn(e,s-3,3)):(Yo(e,hA,e.bl_tree),rn(e,s-11,7));s=0,o=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}function uZ(e){var t;for(uA(e,e.dyn_ltree,e.l_desc.max_code),uA(e,e.dyn_dtree,e.d_desc.max_code),mx(e,e.bl_desc),t=hx-1;t>=3&&e.bl_tree[gA[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function cZ(e,t,r,n){var o;for(rn(e,t-257,5),rn(e,r-1,5),rn(e,n-4,4),o=0;o<n;o++)rn(e,e.bl_tree[gA[o]*2+1],3);cA(e,e.dyn_ltree,t-1),cA(e,e.dyn_dtree,r-1)}function lZ(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return ic.Z_BINARY;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return ic.Z_TEXT;for(r=32;r<ed;r++)if(e.dyn_ltree[r*2]!==0)return ic.Z_TEXT;return ic.Z_BINARY}var lA=!1;function fZ(e){lA||(aZ(),lA=!0),e.l_desc=new lx(e.dyn_ltree,vA),e.d_desc=new lx(e.dyn_dtree,bA),e.bl_desc=new lx(e.bl_tree,yA),e.bi_buf=0,e.bi_valid=0,SA(e)}function TA(e,t,r,n){rn(e,(KX<<1)+(n?1:0),3),sZ(e,t,r,!0)}function dZ(e){rn(e,fA<<1,3),Yo(e,gx,Go),oZ(e)}function pZ(e,t,r,n){var o,i,a=0;e.level>0?(e.strm.data_type===ic.Z_UNKNOWN&&(e.strm.data_type=lZ(e)),mx(e,e.l_desc),mx(e,e.d_desc),a=uZ(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=r+5,r+4<=o&&t!==-1?TA(e,t,r,n):e.strategy===ic.Z_FIXED||i===o?(rn(e,(fA<<1)+(n?1:0),3),sA(e,Go,oc)):(rn(e,(JX<<1)+(n?1:0),3),cZ(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),sA(e,e.dyn_ltree,e.dyn_dtree)),SA(e),n&&CA(e)}function mZ(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(sc[r]+ed+1)*2]++,e.dyn_dtree[_A(t)*2]++),e.last_lit===e.lit_bufsize-1}});var jA=y(nn=>{"use strict";var _x=nn&&nn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.deflateInfo=void 0;nn.deflateResetKeep=MA;nn.deflateReset=PA;nn.deflateSetHeader=jZ;nn.deflateInit2=AA;nn.deflateInit=IZ;nn.deflate=LZ;nn.deflateEnd=DZ;nn.deflateSetDictionary=NZ;var OA=_x(z1()),ue=Ju(),ua=_x(W1()),hZ=_x(ah()),Bn=kA(),Wr=sa(),gZ=9,vZ=15,bZ=8,yZ=29,_Z=256,bx=_Z+1+yZ,xZ=30,wZ=19,SZ=2*bx+1,CZ=15,We=3,fa=258,co=fa+We+1,TZ=32,ph=42,yx=69,lh=73,fh=91,dh=103,Ds=113,rd=666,Ut=1,nd=2,Ns=3,cc=4,kZ=3;function da(e,t){return e.msg=hZ.default[t],t}function EA(e){return(e<<1)-(e>4?9:0)}function la(e){for(var t=e.length;--t>=0;)e[t]=0}function ca(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&((0,Wr.arraySet)(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function vr(e,t){(0,Bn._tr_flush_block)(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ca(e.strm)}function Ge(e,t){e.pending_buf[e.pending++]=t}function td(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function EZ(e,t,r,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,(0,Wr.arraySet)(t,e.input,e.next_in,o,r),e.state.wrap===1?e.adler=(0,OA.default)(e.adler,t,o,r):e.state.wrap===2&&(e.adler=(0,ua.default)(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}function RA(e,t){var r=e.max_chain_length,n=e.strstart,o,i,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-co?e.strstart-(e.w_size-co):0,u=e.window,l=e.w_mask,f=e.prev,d=e.strstart+fa,p=u[n+a-1],m=u[n+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(o=t,!(u[o+a]!==m||u[o+a-1]!==p||u[o]!==u[n]||u[++o]!==u[n+1])){n+=2,o++;do;while(u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&n<d);if(i=fa-(d-n),n=d-fa,i>a){if(e.match_start=t,a=i,i>=s)break;p=u[n+a-1],m=u[n+a]}}while((t=f[t&l])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead}function Fs(e){var t=e.w_size,r,n,o,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-co)){(0,Wr.arraySet)(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do o=e.head[--r],e.head[r]=o>=t?o-t:0;while(--n);n=t,r=n;do o=e.prev[--r],e.prev[r]=o>=t?o-t:0;while(--n);i+=t}if(e.strm.avail_in===0)break;if(n=EZ(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=We)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+We-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<We)););}while(e.lookahead<co&&e.strm.avail_in!==0)}function OZ(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fs(e),e.lookahead===0&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,vr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-co&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?Ns:cc):(e.strstart>e.block_start&&(vr(e,!1),e.strm.avail_out===0),Ut)}function vx(e,t){for(var r,n;;){if(e.lookahead<co){if(Fs(e),e.lookahead<co&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(r=0,e.lookahead>=We&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-co&&(e.match_length=RA(e,r)),e.match_length>=We)if(n=(0,Bn._tr_tally)(e,e.strstart-e.match_start,e.match_length-We),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=We){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=(0,Bn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=e.strstart<We-1?e.strstart:We-1,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?Ns:cc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:nd}function uc(e,t){for(var r,n,o;;){if(e.lookahead<co){if(Fs(e),e.lookahead<co&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(r=0,e.lookahead>=We&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=We-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-co&&(e.match_length=RA(e,r),e.match_length<=5&&(e.strategy===ue.Z_FILTERED||e.match_length===We&&e.strstart-e.match_start>4096)&&(e.match_length=We-1)),e.prev_length>=We&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-We,n=(0,Bn._tr_tally)(e,e.strstart-1-e.prev_match,e.prev_length-We),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+We-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=We-1,e.strstart++,n&&(vr(e,!1),e.strm.avail_out===0))return Ut}else if(e.match_available){if(n=(0,Bn._tr_tally)(e,0,e.window[e.strstart-1]),n&&vr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ut}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=(0,Bn._tr_tally)(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<We-1?e.strstart:We-1,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?Ns:cc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:nd}function RZ(e,t){for(var r,n,o,i,a=e.window;;){if(e.lookahead<=fa){if(Fs(e),e.lookahead<=fa&&t===ue.Z_NO_FLUSH)return Ut;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=We&&e.strstart>0&&(o=e.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){i=e.strstart+fa;do;while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<i);e.match_length=fa-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=We?(r=(0,Bn._tr_tally)(e,1,e.match_length-We),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=(0,Bn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?Ns:cc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:nd}function MZ(e,t){for(var r;;){if(e.lookahead===0&&(Fs(e),e.lookahead===0)){if(t===ue.Z_NO_FLUSH)return Ut;break}if(e.match_length=0,r=(0,Bn._tr_tally)(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(vr(e,!1),e.strm.avail_out===0))return Ut}return e.insert=0,t===ue.Z_FINISH?(vr(e,!0),e.strm.avail_out===0?Ns:cc):e.last_lit&&(vr(e,!1),e.strm.avail_out===0)?Ut:nd}function Xo(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}var xx=function(){let e=[new Xo(0,0,0,0,OZ),new Xo(4,4,8,4,vx),new Xo(4,5,16,8,vx),new Xo(4,6,32,32,vx),new Xo(4,4,16,16,uc),new Xo(8,16,32,32,uc),new Xo(8,16,128,128,uc),new Xo(8,32,128,256,uc),new Xo(32,128,258,1024,uc),new Xo(32,258,258,4096,uc)];return xx=()=>e,e};function PZ(e){e.window_size=2*e.w_size,la(e.head);let t=xx();e.max_lazy_match=t[e.level].max_lazy,e.good_match=t[e.level].good_length,e.nice_match=t[e.level].nice_length,e.max_chain_length=t[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=We-1,e.match_available=0,e.ins_h=0}function AZ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue.Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=(0,Wr.Buf16)(SZ*2),this.dyn_dtree=(0,Wr.Buf16)((2*xZ+1)*2),this.bl_tree=(0,Wr.Buf16)((2*wZ+1)*2),la(this.dyn_ltree),la(this.dyn_dtree),la(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=(0,Wr.Buf16)(CZ+1),this.heap=(0,Wr.Buf16)(2*bx+1),la(this.heap),this.heap_len=0,this.heap_max=0,this.depth=(0,Wr.Buf16)(2*bx+1),la(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function MA(e){var t;return!e||!e.state?da(e,ue.Z_STREAM_ERROR):(e.total_in=e.total_out=0,e.data_type=ue.Z_UNKNOWN,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ph:Ds,e.adler=t.wrap===2?0:1,t.last_flush=ue.Z_NO_FLUSH,(0,Bn._tr_init)(t),ue.Z_OK)}function PA(e){var t=MA(e);return t===ue.Z_OK&&PZ(e.state),t}function jZ(e,t){return!e||!e.state||e.state.wrap!==2?ue.Z_STREAM_ERROR:(e.state.gzhead=t,ue.Z_OK)}function AA(e,t,r,n,o,i){if(!e)return ue.Z_STREAM_ERROR;var a=1;if(t===ue.Z_DEFAULT_COMPRESSION&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>gZ||r!==ue.Z_DEFLATED||n<8||n>15||t<0||t>9||i<0||i>ue.Z_FIXED)return da(e,ue.Z_STREAM_ERROR);n===8&&(n=9);var s=new AZ;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+We-1)/We),s.window=(0,Wr.Buf8)(s.w_size*2),s.head=(0,Wr.Buf16)(s.hash_size),s.prev=(0,Wr.Buf16)(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=(0,Wr.Buf8)(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=r,PA(e)}function IZ(e,t){return AA(e,t,ue.Z_DEFLATED,vZ,bZ,ue.Z_DEFAULT_STRATEGY)}function LZ(e,t){var r,n,o,i;if(!e||!e.state||t>ue.Z_BLOCK||t<0)return e?da(e,ue.Z_STREAM_ERROR):ue.Z_STREAM_ERROR;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===rd&&t!==ue.Z_FINISH)return da(e,e.avail_out===0?ue.Z_BUF_ERROR:ue.Z_STREAM_ERROR);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===ph)if(n.wrap===2)e.adler=0,Ge(n,31),Ge(n,139),Ge(n,8),n.gzhead?(Ge(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ge(n,n.gzhead.time&255),Ge(n,n.gzhead.time>>8&255),Ge(n,n.gzhead.time>>16&255),Ge(n,n.gzhead.time>>24&255),Ge(n,n.level===9?2:n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?4:0),Ge(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Ge(n,n.gzhead.extra.length&255),Ge(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=yx):(Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,n.level===9?2:n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?4:0),Ge(n,kZ),n.status=Ds);else{var a=ue.Z_DEFLATED+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=ue.Z_HUFFMAN_ONLY||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=TZ),a+=31-a%31,n.status=Ds,td(n,a),n.strstart!==0&&(td(n,e.adler>>>16),td(n,e.adler&65535)),e.adler=1}if(n.status===yx)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),ca(e),o=n.pending,n.pending===n.pending_buf_size));)Ge(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=lh)}else n.status=lh;if(n.status===lh)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),ca(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Ge(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),i===0&&(n.gzindex=0,n.status=fh)}else n.status=fh;if(n.status===fh)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),ca(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Ge(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=(0,ua.default)(e.adler,n.pending_buf,n.pending-o,o)),i===0&&(n.status=dh)}else n.status=dh;if(n.status===dh&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ca(e),n.pending+2<=n.pending_buf_size&&(Ge(n,e.adler&255),Ge(n,e.adler>>8&255),e.adler=0,n.status=Ds)):n.status=Ds),n.pending!==0){if(ca(e),e.avail_out===0)return n.last_flush=-1,ue.Z_OK}else if(e.avail_in===0&&EA(t)<=EA(r)&&t!==ue.Z_FINISH)return da(e,ue.Z_BUF_ERROR);if(n.status===rd&&e.avail_in!==0)return da(e,ue.Z_BUF_ERROR);if(e.avail_in!==0||n.lookahead!==0||t!==ue.Z_NO_FLUSH&&n.status!==rd){var c=n.strategy===ue.Z_HUFFMAN_ONLY?MZ(n,t):n.strategy===ue.Z_RLE?RZ(n,t):xx()[n.level].func(n,t);if((c===Ns||c===cc)&&(n.status=rd),c===Ut||c===Ns)return e.avail_out===0&&(n.last_flush=-1),ue.Z_OK;if(c===nd&&(t===ue.Z_PARTIAL_FLUSH?(0,Bn._tr_align)(n):t!==ue.Z_BLOCK&&((0,Bn._tr_stored_block)(n,0,0,!1),t===ue.Z_FULL_FLUSH&&(la(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ca(e),e.avail_out===0))return n.last_flush=-1,ue.Z_OK}return t!==ue.Z_FINISH?ue.Z_OK:n.wrap<=0?ue.Z_STREAM_END:(n.wrap===2?(Ge(n,e.adler&255),Ge(n,e.adler>>8&255),Ge(n,e.adler>>16&255),Ge(n,e.adler>>24&255),Ge(n,e.total_in&255),Ge(n,e.total_in>>8&255),Ge(n,e.total_in>>16&255),Ge(n,e.total_in>>24&255)):(td(n,e.adler>>>16),td(n,e.adler&65535)),ca(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ue.Z_OK:ue.Z_STREAM_END)}function DZ(e){var t;return!e||!e.state?ue.Z_STREAM_ERROR:(t=e.state.status,t!==ph&&t!==yx&&t!==lh&&t!==fh&&t!==dh&&t!==Ds&&t!==rd?da(e,ue.Z_STREAM_ERROR):(e.state=null,t===Ds?da(e,ue.Z_DATA_ERROR):ue.Z_OK))}function NZ(e,t){var r=t.length,n,o,i,a,s,c,u,l;if(!e||!e.state||(n=e.state,a=n.wrap,a===2||a===1&&n.status!==ph||n.lookahead))return ue.Z_STREAM_ERROR;for(a===1&&(e.adler=(0,OA.default)(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(a===0&&(la(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=(0,Wr.Buf8)(n.w_size),(0,Wr.arraySet)(l,t,r-n.w_size,n.w_size,0),t=l,r=n.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=r,e.next_in=0,e.input=t,Fs(n);n.lookahead>=We;){o=n.strstart,i=n.lookahead-(We-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+We-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++;while(--i);n.strstart=o,n.lookahead=We-1,Fs(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=We-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,n.wrap=a,ue.Z_OK}nn.deflateInfo="pako deflate (from Nodeca project)"});var DA=y(ki=>{"use strict";var LA=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});ki.Deflate=void 0;ki.deflate=Cx;ki.deflateRaw=qZ;ki.gzip=BZ;var od=sa(),wx=F1(),br=Ju(),id=jA(),Sx=LA(ah()),FZ=LA(nx()),IA=Object.prototype.toString,mh=class{constructor(t){this.options=(0,od.assign)({level:br.Z_DEFAULT_COMPRESSION,method:br.Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:br.Z_DEFAULT_STRATEGY,to:""},t||{});var r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FZ.default,this.strm.avail_out=0;var n=(0,id.deflateInit2)(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==br.Z_OK)throw new Error(Sx.default[n]);if(r.header&&(0,id.deflateSetHeader)(this.strm,r.header),r.dictionary){var o;if(typeof r.dictionary=="string"?o=(0,wx.string2buf)(r.dictionary):IA.call(r.dictionary)==="[object ArrayBuffer]"?o=new Uint8Array(r.dictionary):o=r.dictionary,n=(0,id.deflateSetDictionary)(this.strm,o),n!==br.Z_OK)throw new Error(Sx.default[n]);this._dict_set=!0}}push(t,r){var n=this.strm,o=this.options.chunkSize,i,a;if(this.ended)return!1;a=r===~~r?r:r===!0?br.Z_FINISH:br.Z_NO_FLUSH,typeof t=="string"?n.input=(0,wx.string2buf)(t):IA.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=(0,od.Buf8)(o),n.next_out=0,n.avail_out=o),i=(0,id.deflate)(n,a),i!==br.Z_STREAM_END&&i!==br.Z_OK)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===br.Z_FINISH||a===br.Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData((0,wx.buf2binstring)((0,od.shrinkBuf)(n.output,n.next_out))):this.onData((0,od.shrinkBuf)(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==br.Z_STREAM_END);return a===br.Z_FINISH?(i=(0,id.deflateEnd)(this.strm),this.onEnd(i),this.ended=!0,i===br.Z_OK):(a===br.Z_SYNC_FLUSH&&(this.onEnd(br.Z_OK),n.avail_out=0),!0)}onData(t){this.chunks.push(t)}onEnd(t){t===br.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=(0,od.flattenChunks)(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}};ki.Deflate=mh;function Cx(e,t){var r=new mh(t);if(r.push(e,!0),r.err)throw r.msg||Sx.default[r.err];return r.result}function qZ(e,t){return t=t||{},t.raw=!0,Cx(e,t)}function BZ(e,t){return t=t||{},t.gzip=!0,Cx(e,t)}});var NA=y(Ei=>{"use strict";var zZ=Ei&&Ei.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Tx=Ei&&Ei.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zZ(t,e,r)};Object.defineProperty(Ei,"__esModule",{value:!0});Tx(Ju(),Ei);Tx(iA(),Ei);Tx(DA(),Ei)});var kx=y(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.sum=FA;hh.concatUint8Array=HZ;function FA(e){let t=0;for(let r of e)t+=r.length;return t}function HZ(e){let t=new Uint8Array(FA(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}});var Ex=y(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.unzip=$Z;vh.unzipChunkSlice=UZ;var gh=NA(),qA=kx();function WZ(e,t){let r=t.subarray(0,Math.min(32,t.length)),n=0,o=r.length;for(let i=0;i<o;i++)n=(n<<5)-n+r[i]&4294967295;return`${e}_${n}`}async function $Z(e){try{let t,r=0,n,o=[];do{let i=e.subarray(r);if(n=new gh.Inflate(void 0),{strm:t}=n,n.push(i,gh.Z_SYNC_FLUSH),n.err)throw new Error(n.msg);r+=t.next_in,o.push(n.result)}while(t.avail_in);return(0,qA.concatUint8Array)(o)}catch(t){throw/incorrect header check/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function UZ(e,t,r){try{let n,{minv:o,maxv:i}=t,a=o.blockPosition,s=o.dataPosition,c=[],u=[],l=[],f=0,d=!1;do{let p=e.subarray(a-o.blockPosition),m=WZ(a,p),h,v,b=r?.get(m);if(b)h=b.buffer,v=b.nextIn,d=!0;else{let w=new gh.Inflate(void 0);if({strm:n}=w,w.push(p,gh.Z_SYNC_FLUSH),w.err)throw new Error(w.msg);h=w.result,v=n.next_in,d=!1,r?.set(m,{buffer:h,nextIn:v})}c.push(h);let _=h.length;u.push(a),l.push(s),c.length===1&&o.dataPosition&&(c[0]=c[0].subarray(o.dataPosition),_=c[0].length);let S=a;if(a+=v,s+=_,S>=i.blockPosition){c[f]=c[f].subarray(0,i.blockPosition===o.blockPosition?i.dataPosition-o.dataPosition+1:i.dataPosition+1),u.push(a),l.push(s);break}f++}while(d?a<e.length+o.blockPosition:n.avail_in);return{buffer:(0,qA.concatUint8Array)(c),cpositions:u,dpositions:l}}catch(n){throw/incorrect header check/.exec(`${n}`)?new Error("problem decompressing block: incorrect gzip header check"):n}}});var BA=y(ad=>{"use strict";var VZ=ad&&ad.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});var GZ=VZ(lP()),YZ=Ex(),XZ=kx(),Ox=class{constructor({filehandle:t,gziFilehandle:r}){this.filehandle=t,this.gzi=new GZ.default({filehandle:r})}async _readAndUncompressBlock(t,r){let n=r;n||(n=(await this.filehandle.stat()).size);let o=n-t,i=await this.filehandle.read(o,t);return(0,YZ.unzip)(i)}async read(t,r){let n=await this.gzi.getRelevantBlocksForRead(t,r),o=[];for(let i=0;i<n.length-1;i+=1){let a=await this._readAndUncompressBlock(n[i][0],n[i+1][0]),[,s]=n[i],c=s>=r?0:r-s,u=Math.min(r+t,s+a.length)-s;c>=0&&c<a.length&&o.push(a.subarray(c,u))}return(0,XZ.concatUint8Array)(o)}};ad.default=Ox});var HA=y(Zo=>{"use strict";var ZZ=Zo&&Zo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.unzipChunkSlice=Zo.unzip=Zo.BgzfFilehandle=void 0;var KZ=BA();Object.defineProperty(Zo,"BgzfFilehandle",{enumerable:!0,get:function(){return ZZ(KZ).default}});var zA=Ex();Object.defineProperty(Zo,"unzip",{enumerable:!0,get:function(){return zA.unzip}});Object.defineProperty(Zo,"unzipChunkSlice",{enumerable:!0,get:function(){return zA.unzipChunkSlice}})});var WA=y(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});Mx.default=JZ;var Rx=$();function JZ(){let e=(0,Rx.useRef)(null),[t,r]=(0,Rx.useState)({width:void 0,height:void 0});return(0,Rx.useEffect)(()=>{if(!e.current)return;let n=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:void 0;if(!n)return;let o=new n(i=>{r({width:i[0].contentRect.width,height:i[0].contentRect.height})});return o.observe(e.current),()=>{o.disconnect()}},[]),[e,t]}});var lc=y((nPe,$A)=>{$A.exports=JBrowseExports["react-dom"]});var VA=y((oPe,UA)=>{UA.exports=JBrowseExports["react-dom/client"]});var Lx=y(qs=>{Object.defineProperty(qs,"__esModule",{value:!0});var QZ={grad:.9,turn:360,rad:360/(2*Math.PI)},Oi=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},or=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},zn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},ej=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},GA=function(e){return{r:zn(e.r,0,255),g:zn(e.g,0,255),b:zn(e.b,0,255),a:zn(e.a)}},Px=function(e){return{r:or(e.r),g:or(e.g),b:or(e.b),a:or(e.a,3)}},eK=/^#([0-9a-f]{3,8})$/i,bh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},tj=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,i=Math.max(t,r,n),a=i-Math.min(t,r,n),s=a?i===t?(r-n)/a:i===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:o}},rj=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var i=Math.floor(t),a=n*(1-r),s=n*(1-(t-i)*r),c=n*(1-(1-t+i)*r),u=i%6;return{r:255*[n,s,a,a,c,n][u],g:255*[c,n,n,s,a,a][u],b:255*[a,a,c,n,n,s][u],a:o}},YA=function(e){return{h:ej(e.h),s:zn(e.s,0,100),l:zn(e.l,0,100),a:zn(e.a)}},XA=function(e){return{h:or(e.h),s:or(e.s),l:or(e.l),a:or(e.a,3)}},ZA=function(e){return rj((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},sd=function(e){return{h:(t=tj(e)).h,s:(o=(200-(r=t.s))*(n=t.v)/100)>0&&o<200?r*n/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,r,n,o},tK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ix={string:[[function(e){var t=eK.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?or(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?or(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=nK.exec(e)||oK.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:GA({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=tK.exec(e)||rK.exec(e);if(!t)return null;var r,n,o=YA({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(QZ[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return ZA(o)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,o=e.a,i=o===void 0?1:o;return Oi(t)&&Oi(r)&&Oi(n)?GA({r:Number(t),g:Number(r),b:Number(n),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,o=e.a,i=o===void 0?1:o;if(!Oi(t)||!Oi(r)||!Oi(n))return null;var a=YA({h:Number(t),s:Number(r),l:Number(n),a:Number(i)});return ZA(a)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,o=e.a,i=o===void 0?1:o;if(!Oi(t)||!Oi(r)||!Oi(n))return null;var a=(function(s){return{h:ej(s.h),s:zn(s.s,0,100),v:zn(s.v,0,100),a:zn(s.a)}})({h:Number(t),s:Number(r),v:Number(n),a:Number(i)});return rj(a)},"hsv"]]},KA=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},nj=function(e){return typeof e=="string"?KA(e.trim(),Ix.string):typeof e=="object"&&e!==null?KA(e,Ix.object):[null,void 0]},Ax=function(e,t){var r=sd(e);return{h:r.h,s:zn(r.s+100*t,0,100),l:r.l,a:r.a}},jx=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},JA=function(e,t){var r=sd(e);return{h:r.h,s:r.s,l:zn(r.l+100*t,0,100),a:r.a}},ud=(function(){function e(t){this.parsed=nj(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return or(jx(this.rgba),2)},e.prototype.isDark=function(){return jx(this.rgba)<.5},e.prototype.isLight=function(){return jx(this.rgba)>=.5},e.prototype.toHex=function(){return t=Px(this.rgba),r=t.r,n=t.g,o=t.b,a=(i=t.a)<1?bh(or(255*i)):"","#"+bh(r)+bh(n)+bh(o)+a;var t,r,n,o,i,a},e.prototype.toRgb=function(){return Px(this.rgba)},e.prototype.toRgbString=function(){return t=Px(this.rgba),r=t.r,n=t.g,o=t.b,(i=t.a)<1?"rgba("+r+", "+n+", "+o+", "+i+")":"rgb("+r+", "+n+", "+o+")";var t,r,n,o,i},e.prototype.toHsl=function(){return XA(sd(this.rgba))},e.prototype.toHslString=function(){return t=XA(sd(this.rgba)),r=t.h,n=t.s,o=t.l,(i=t.a)<1?"hsla("+r+", "+n+"%, "+o+"%, "+i+")":"hsl("+r+", "+n+"%, "+o+"%)";var t,r,n,o,i},e.prototype.toHsv=function(){return t=tj(this.rgba),{h:or(t.h),s:or(t.s),v:or(t.v),a:or(t.a,3)};var t},e.prototype.invert=function(){return Ko({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Ko(Ax(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Ko(Ax(this.rgba,-t))},e.prototype.grayscale=function(){return Ko(Ax(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Ko(JA(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Ko(JA(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Ko({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):or(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=sd(this.rgba);return typeof t=="number"?Ko({h:t,s:r.s,l:r.l,a:r.a}):or(r.h)},e.prototype.isEqual=function(t){return this.toHex()===Ko(t).toHex()},e})(),Ko=function(e){return e instanceof ud?e:new ud(e)},QA=[];qs.Colord=ud,qs.colord=Ko,qs.extend=function(e){e.forEach(function(t){QA.indexOf(t)<0&&(t(ud,Ix),QA.push(t))})},qs.getFormat=function(e){return nj(e)[1]},qs.random=function(){return new ud({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}});var aj=y((aPe,ij)=>{var Jo=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},Dx=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Nx=function(e){return 255*(e>.0031308?1.055*Math.pow(e,.4166666666666667)-.055:12.92*e)},Fx=96.422,qx=100,Bx=82.521,iK=function(e){var t,r,n={x:.9555766*(t=e).x+-.0230393*t.y+.0631636*t.z,y:-.0282895*t.x+1.0099416*t.y+.0210077*t.z,z:.0122982*t.x+-.020483*t.y+1.3299098*t.z};return r={r:Nx(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:Nx(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:Nx(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:e.a},{r:Jo(r.r,0,255),g:Jo(r.g,0,255),b:Jo(r.b,0,255),a:Jo(r.a)}},aK=function(e){var t=Dx(e.r),r=Dx(e.g),n=Dx(e.b);return(function(o){return{x:Jo(o.x,0,Fx),y:Jo(o.y,0,qx),z:Jo(o.z,0,Bx),a:Jo(o.a)}})((function(o){return{x:1.0478112*o.x+.0228866*o.y+-.050127*o.z,y:.0295424*o.x+.9904844*o.y+-.0170491*o.z,z:-.0092345*o.x+.0150436*o.y+.7521316*o.z,a:o.a}})({x:100*(.4124564*t+.3575761*r+.1804375*n),y:100*(.2126729*t+.7151522*r+.072175*n),z:100*(.0193339*t+.119192*r+.9503041*n),a:e.a}))},cd=216/24389,fc=24389/27,oj=function(e){var t=aK(e),r=t.x/Fx,n=t.y/qx,o=t.z/Bx;return r=r>cd?Math.cbrt(r):(fc*r+16)/116,{l:116*(n=n>cd?Math.cbrt(n):(fc*n+16)/116)-16,a:500*(r-n),b:200*(n-(o=o>cd?Math.cbrt(o):(fc*o+16)/116)),alpha:t.a}},sK=function(e,t,r){var n,o=oj(e),i=oj(t);return(function(a){var s=(a.l+16)/116,c=a.a/500+s,u=s-a.b/200;return iK({x:(Math.pow(c,3)>cd?Math.pow(c,3):(116*c-16)/fc)*Fx,y:(a.l>8?Math.pow((a.l+16)/116,3):a.l/fc)*qx,z:(Math.pow(u,3)>cd?Math.pow(u,3):(116*u-16)/fc)*Bx,a:a.alpha})})({l:Jo((n={l:o.l*(1-r)+i.l*r,a:o.a*(1-r)+i.a*r,b:o.b*(1-r)+i.b*r,alpha:o.alpha*(1-r)+i.alpha*r}).l,0,400),a:n.a,b:n.b,alpha:Jo(n.alpha)})};ij.exports=function(e){function t(r,n,o){o===void 0&&(o=5);for(var i=[],a=1/(o-1),s=0;s<=o-1;s++)i.push(r.mix(n,a*s));return i}e.prototype.mix=function(r,n){n===void 0&&(n=.5);var o=r instanceof e?r:new e(r),i=sK(this.toRgb(),o.toRgb(),n);return new e(i)},e.prototype.tints=function(r){return t(this,"#fff",r)},e.prototype.shades=function(r){return t(this,"#000",r)},e.prototype.tones=function(r){return t(this,"#808080",r)}}});var uj=y((sPe,sj)=>{sj.exports=function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var o in r)n[r[o]]=o;var i={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,c,u=n[this.toHex()];if(u)return u;if(a?.closest){var l=this.toRgb(),f=1/0,d="black";if(!i.length)for(var p in r)i[p]=new e(r[p]).toRgb();for(var m in r){var h=(s=l,c=i[m],Math.pow(s.r-c.r,2)+Math.pow(s.g-c.g,2)+Math.pow(s.b-c.b,2));h<f&&(f=h,d=m)}return d}},t.string.push([function(a){var s=a.toLowerCase(),c=s==="transparent"?"#0000":r[s];return c?new e(c).toRgb():null},"name"])}});var ld=y(pa=>{"use strict";var cj=pa&&pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pa,"__esModule",{value:!0});pa.colord=pa.Colord=void 0;var uK=Lx(),cK=cj(aj()),lK=cj(uj());(0,uK.extend)([cK.default,lK.default]);var lj=Lx();Object.defineProperty(pa,"Colord",{enumerable:!0,get:function(){return lj.Colord}});Object.defineProperty(pa,"colord",{enumerable:!0,get:function(){return lj.colord}})});var ma=y(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.createStopToken=dK;fd.stopStopToken=pK;fd.checkStopToken=mK;function fK(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function dK(){var e;return((e=URL.createObjectURL)===null||e===void 0?void 0:e.call(URL,new Blob))||`${Math.random()}`}function pK(e){var t;(t=URL.revokeObjectURL)===null||t===void 0||t.call(URL,e)}function mK(e){if(typeof jest>"u"&&e!==void 0&&fK()){let t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch{throw new Error("aborted")}}}});var dj=y(fj=>{"use strict";Object.defineProperty(fj,"__esModule",{value:!0})});var yj=y((fPe,bj)=>{"use strict";var gj=(e,t)=>e>t?1:e<t?-1:0,zx=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),pj="eexxaacctt",hK=/\p{P}/gu,gK=["en",{numeric:!0,sensitivity:"base"}],dc=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),mj={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:1/0,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,1/0],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,r,n=gj)=>{let{idx:o,chars:i,terms:a,interLft2:s,interLft1:c,start:u,intraIns:l,interIns:f,cases:d}=e;return o.map((p,m)=>m).sort((p,m)=>i[m]-i[p]||l[p]-l[m]||a[m]+s[m]+.5*c[m]-(a[p]+s[p]+.5*c[p])||f[p]-f[m]||u[p]-u[m]||d[m]-d[p]||n(t[o[p]],t[o[m]]))}},Hx=(e,t)=>t==0?"":t==1?e+"??":t==1/0?e+"*?":e+`{0,${t}}?`,hj="(?:\\b|_)";function yh(e){e=Object.assign({},mj,e);let{unicode:t,interLft:r,interRgt:n,intraMode:o,intraSlice:i,intraIns:a,intraSub:s,intraTrn:c,intraDel:u,intraContr:l,intraSplit:f,interSplit:d,intraBound:p,interBound:m,intraChars:h,toUpper:v,toLower:b,compare:_}=e;a??=o,s??=o,c??=o,u??=o,_??=typeof Intl>"u"?gj:new Intl.Collator(...gK).compare;let S=e.letters??e.alpha;if(S!=null){let H=v(S),ae=b(S);d=dc(d,H,ae),f=dc(f,H,ae),m=dc(m,H,ae),p=dc(p,H,ae),h=dc(h,H,ae),l=dc(l,H,ae)}let w=t?"u":"",T='".+?"',O=new RegExp(T,"gi"+w),C=new RegExp(`(?:\\s+|^)-(?:${h}+|${T})`,"gi"+w),{intraRules:M}=e;M==null&&(M=H=>{let ae=mj.intraSlice,we=0,be=0,ne=0,de=0;if(/[^\d]/.test(H)){let Pe=H.length;Pe<=4?Pe>=3&&(ne=Math.min(c,1),Pe==4&&(we=Math.min(a,1))):(ae=i,we=a,be=s,ne=c,de=u)}return{intraSlice:ae,intraIns:we,intraSub:be,intraTrn:ne,intraDel:de}});let R=!!f,k=new RegExp(f,"g"+w),I=new RegExp(d,"g"+w),B=new RegExp("^"+d+"|"+d+"$","g"+w),L=new RegExp(l,"gi"+w),E=(H,ae=!1)=>{let we=[];H=H.replace(O,ne=>(we.push(ne),pj)),H=H.replace(B,""),ae||(H=b(H)),R&&(H=H.replace(k,ne=>ne[0]+" "+ne[1]));let be=0;return H.split(I).filter(ne=>ne!="").map(ne=>ne===pj?we[be++]:ne)},N=/[^\d]+|\d+/g,U=(H,ae=0,we=!1)=>{let be=E(H);if(be.length==0)return[];let ne=Array(be.length).fill("");be=be.map((ce,Te)=>ce.replace(L,Ae=>(ne[Te]=Ae,"")));let de;if(o==1)de=be.map((ce,Te)=>{if(ce[0]==='"')return zx(ce.slice(1,-1));let Ae="";for(let pe of ce.matchAll(N)){let ee=pe[0],{intraSlice:_e,intraIns:Oe,intraSub:ke,intraTrn:G,intraDel:K}=M(ee);if(Oe+ke+G+K==0)Ae+=ee+ne[Te];else{let[X,Se]=_e,Re=ee.slice(0,X),Be=ee.slice(Se),at=ee.slice(X,Se);Oe==1&&Re.length==1&&Re!=at[0]&&(Re+="(?!"+Re+")");let Ir=at.length,dr=[ee];if(ke)for(let Ie=0;Ie<Ir;Ie++)dr.push(Re+at.slice(0,Ie)+h+at.slice(Ie+1)+Be);if(G)for(let Ie=0;Ie<Ir-1;Ie++)at[Ie]!=at[Ie+1]&&dr.push(Re+at.slice(0,Ie)+at[Ie+1]+at[Ie]+at.slice(Ie+2)+Be);if(K)for(let Ie=0;Ie<Ir;Ie++)dr.push(Re+at.slice(0,Ie+1)+"?"+at.slice(Ie+1)+Be);if(Oe){let Ie=Hx(h,1);for(let tr=0;tr<Ir;tr++)dr.push(Re+at.slice(0,tr)+Ie+at.slice(tr)+Be)}Ae+="(?:"+dr.join("|")+")"+ne[Te]}}return Ae});else{let ce=Hx(h,a);ae==2&&a>0&&(ce=")("+ce+")("),de=be.map((Te,Ae)=>Te[0]==='"'?zx(Te.slice(1,-1)):Te.split("").map((pe,ee,_e)=>(a==1&&ee==0&&_e.length>1&&pe!=_e[ee+1]&&(pe+="(?!"+pe+")"),pe)).join(ce)+ne[Ae])}let Pe=r==2?hj:"",ie=n==2?hj:"",ye=ie+Hx(e.interChars,e.interIns)+Pe;return ae>0?we?de=Pe+"("+de.join(")"+ie+"|"+Pe+"(")+")"+ie:(de="("+de.join(")("+ye+")(")+")",de="(.??"+Pe+")"+de+"("+ie+".*)"):(de=de.join(ye),de=Pe+de+ie),[new RegExp(de,"i"+w),be,ne]},z=(H,ae,we)=>{let[be]=U(ae);if(be==null)return null;let ne=[];if(we!=null)for(let de=0;de<we.length;de++){let Pe=we[de];be.test(H[Pe])&&ne.push(Pe)}else for(let de=0;de<H.length;de++)be.test(H[de])&&ne.push(de);return ne},D=!!p,W=new RegExp(m,w),te=new RegExp(p,w),Ce=(H,ae,we)=>{let[be,ne,de]=U(we,1),Pe=E(we,!0),[ie]=U(we,2),ye=ne.length,ce=Array(ye),Te=Array(ye);for(let ke=0;ke<ye;ke++){let G=ne[ke],K=Pe[ke],X=G[0]=='"'?G.slice(1,-1):G+de[ke],Se=K[0]=='"'?K.slice(1,-1):K+de[ke];ce[ke]=X,Te[ke]=Se}let Ae=H.length,pe=Array(Ae).fill(0),ee={idx:Array(Ae),start:pe.slice(),chars:pe.slice(),cases:pe.slice(),terms:pe.slice(),interIns:pe.slice(),intraIns:pe.slice(),interLft2:pe.slice(),interRgt2:pe.slice(),interLft1:pe.slice(),interRgt1:pe.slice(),ranges:Array(Ae)},_e=r==1||n==1,Oe=0;for(let ke=0;ke<H.length;ke++){let G=ae[H[ke]],K=G.match(be),X=K.index+K[1].length,Se=X,Re=!1,Be=0,at=0,Ir=0,dr=0,Ie=0,tr=0,Mn=0,Lo=0,Lr=0,Ht=[];for(let $e=0,Ke=2;$e<ye;$e++,Ke+=2){let Pn=b(K[Ke]),Ct=ce[$e],no=Te[$e],kr=Ct.length,Lt=Pn.length,pr=Pn==Ct;if(K[Ke]==no&&Mn++,!pr&&K[Ke+1].length>=kr){let _t=b(K[Ke+1]).indexOf(Ct);_t>-1&&(Ht.push(Se,Lt,_t,kr),Se+=ge(K,Ke,_t,kr),Pn=Ct,Lt=kr,pr=!0,$e==0&&(X=Se))}if(_e||pr){let _t=Se-1,tt=Se+Lt,Qr=!1,ws=!1;if(_t==-1||W.test(G[_t]))pr&&Be++,Qr=!0;else{if(r==2){Re=!0;break}if(D&&te.test(G[_t]+G[_t+1]))pr&&at++,Qr=!0;else if(r==1){let Ss=K[Ke+1],Do=Se+Lt;if(Ss.length>=kr){let No=0,bi=!1,u_=new RegExp(Ct,"ig"+w),vn;for(;vn=u_.exec(Ss);){No=vn.index;let Fo=Do+No,Ru=Fo-1;if(Ru==-1||W.test(G[Ru])){Be++,bi=!0;break}else if(te.test(G[Ru]+G[Fo])){at++,bi=!0;break}}bi&&(Qr=!0,Ht.push(Se,Lt,No,kr),Se+=ge(K,Ke,No,kr),Pn=Ct,Lt=kr,pr=!0,$e==0&&(X=Se))}if(!Qr){Re=!0;break}}}if(tt==G.length||W.test(G[tt]))pr&&Ir++,ws=!0;else{if(n==2){Re=!0;break}if(D&&te.test(G[tt-1]+G[tt]))pr&&dr++,ws=!0;else if(n==1){Re=!0;break}}pr&&(Ie+=kr,Qr&&ws&&tr++)}if(Lt>kr&&(Lr+=Lt-kr),$e>0&&(Lo+=K[Ke-1].length),!e.intraFilt(Ct,Pn,Se)){Re=!0;break}$e<ye-1&&(Se+=Lt+K[Ke+1].length)}if(!Re){ee.idx[Oe]=H[ke],ee.interLft2[Oe]=Be,ee.interLft1[Oe]=at,ee.interRgt2[Oe]=Ir,ee.interRgt1[Oe]=dr,ee.chars[Oe]=Ie,ee.terms[Oe]=tr,ee.cases[Oe]=Mn,ee.interIns[Oe]=Lo,ee.intraIns[Oe]=Lr,ee.start[Oe]=X;let $e=G.match(ie),Ke=$e.index+$e[1].length,Pn=Ht.length,Ct=Pn>0?0:1/0,no=Pn-4;for(let _t=2;_t<$e.length;){let tt=$e[_t].length;if(Ct<=no&&Ht[Ct]==Ke){let Qr=Ht[Ct+1],ws=Ht[Ct+2],Ss=Ht[Ct+3],Do=_t,No="";for(let bi=0;bi<Qr;Do++)No+=$e[Do],bi+=$e[Do].length;$e.splice(_t,Do-_t,No),Ke+=ge($e,_t,ws,Ss),Ct+=4}else Ke+=tt,_t++}Ke=$e.index+$e[1].length;let kr=ee.ranges[Oe]=[],Lt=Ke,pr=Ke;for(let _t=2;_t<$e.length;_t++){let tt=$e[_t].length;Ke+=tt,_t%2==0?pr=Ke:tt>0&&(kr.push(Lt,pr),Lt=pr=Ke)}pr>Lt&&kr.push(Lt,pr),Oe++}}if(Oe<H.length)for(let ke in ee)ee[ke]=ee[ke].slice(0,Oe);return ee},ge=(H,ae,we,be)=>{let ne=H[ae]+H[ae+1].slice(0,we);return H[ae-1]+=ne,H[ae]=H[ae+1].slice(we,we+be),H[ae+1]=H[ae+1].slice(we+be),ne.length},Y=5,ze=(H,ae,we,be=1e3,ne)=>{we=we?we===!0?Y:we:0;let de=null,Pe=null,ie=[];ae=ae.replace(C,ee=>{let _e=ee.trim().slice(1);return _e=_e[0]==='"'?zx(_e.slice(1,-1)):_e.replace(hK,""),_e!=""&&ie.push(_e),""});let ye=E(ae),ce;if(ie.length>0){if(ce=new RegExp(ie.join("|"),"i"+w),ye.length==0){let ee=[];for(let _e=0;_e<H.length;_e++)ce.test(H[_e])||ee.push(_e);return[ee,null,null]}}else if(ye.length==0)return[null,null,null];if(we>0){let ee=E(ae);if(ee.length>1){let _e=ee.slice().sort((ke,G)=>G.length-ke.length);for(let ke=0;ke<_e.length;ke++){if(ne?.length==0)return[[],null,null];ne=z(H,_e[ke],ne)}if(ee.length>we)return[ne,null,null];de=vj(ee).map(ke=>ke.join(" ")),Pe=[];let Oe=new Set;for(let ke=0;ke<de.length;ke++)if(Oe.size<ne.length){let G=ne.filter(X=>!Oe.has(X)),K=z(H,de[ke],G);for(let X=0;X<K.length;X++)Oe.add(K[X]);Pe.push(K)}else Pe.push([])}}de==null&&(de=[ae],Pe=[ne?.length>0?ne:z(H,ae)]);let Te=null,Ae=null;if(ie.length>0&&(Pe=Pe.map(ee=>ee.filter(_e=>!ce.test(H[_e])))),Pe.reduce((ee,_e)=>ee+_e.length,0)<=be){Te={},Ae=[];for(let ee=0;ee<Pe.length;ee++){let _e=Pe[ee];if(_e==null||_e.length==0)continue;let Oe=de[ee],ke=Ce(_e,H,Oe),G=e.sort(ke,H,Oe,_);if(ee>0)for(let K=0;K<G.length;K++)G[K]+=Ae.length;for(let K in ke)Te[K]=(Te[K]??[]).concat(ke[K]);Ae=Ae.concat(G)}}return[[].concat(...Pe),Te,Ae]};return{search:(...H)=>ze(...H),split:E,filter:z,info:Ce,sort:e.sort}}var vK=(()=>{let e={A:"\xC1\xC0\xC3\xC2\xC4\u0104\u0102\xC5",a:"\xE1\xE0\xE3\xE2\xE4\u0105\u0103\xE5",E:"\xC9\xC8\xCA\xCB\u0116\u011A",e:"\xE9\xE8\xEA\xEB\u0119\u011B",I:"\xCD\xCC\xCE\xCF\u012E\u0130",i:"\xED\xEC\xEE\xEF\u012F\u0131",O:"\xD3\xD2\xD4\xD5\xD6",o:"\xF3\xF2\xF4\xF5\xF6",U:"\xDA\xD9\xDB\xDC\u016A\u0172\u016E\u0170",u:"\xFA\xF9\xFB\xFC\u016B\u0173\u016F\u0171",C:"\xC7\u010C\u0106",c:"\xE7\u010D\u0107",D:"\u010E",d:"\u010F",G:"\u011E",g:"\u011F",L:"\u0141",l:"\u0142",N:"\xD1\u0143\u0147",n:"\xF1\u0144\u0148",S:"\u0160\u015A\u0218\u015E",s:"\u0161\u015B\u0219\u015F",T:"\u0162\u021A\u0164",t:"\u0163\u021B\u0165",Y:"\xDD",y:"\xFD",Z:"\u017B\u0179\u017D",z:"\u017C\u017A\u017E"},t={},r="";for(let i in e)e[i].split("").forEach(a=>{r+=a,t[a]=i});let n=new RegExp(`[${r}]`,"g"),o=i=>t[i];return i=>{if(typeof i=="string")return i.replace(n,o);let a=Array(i.length);for(let s=0;s<i.length;s++)a[s]=i[s].replace(n,o);return a}})();function vj(e){e=e.slice();let t=e.length,r=[e.slice()],n=new Array(t).fill(0),o=1,i,a;for(;o<t;)n[o]<o?(i=o%2&&n[o],a=e[o],e[o]=e[i],e[i]=a,++n[o],o=1,r.push(e.slice())):(n[o]=0,++o);return r}var bK=(e,t)=>t?`<mark>${e}</mark>`:e,yK=(e,t)=>e+t;function _K(e,t,r=bK,n="",o=yK){n=o(n,r(e.substring(0,t[0]),!1))??n;for(let i=0;i<t.length;i+=2){let a=t[i],s=t[i+1];n=o(n,r(e.substring(a,s),!0))??n,i<t.length-3&&(n=o(n,r(e.substring(t[i+1],t[i+2]),!1))??n)}return n=o(n,r(e.substring(t[t.length-1]),!1))??n,n}yh.latinize=vK;yh.permute=e=>vj([...Array(e.length).keys()]).sort((r,n)=>{for(let o=0;o<r.length;o++)if(r[o]!=n[o])return r[o]-n[o];return 0}).map(r=>r.map(n=>e[n]));yh.highlight=_K;bj.exports=yh});var _j=y(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.nanoid=on.customAlphabet=on.customRandom=on.random=on.urlAlphabet=void 0;on.urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var xK=e=>crypto.getRandomValues(new Uint8Array(e));on.random=xK;var wK=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(i=t)=>{let a="";for(;;){let s=r(o),c=o;for(;c--;)if(a+=e[s[c]&n]||"",a.length===i)return a}}};on.customRandom=wK;var SK=(e,t=21)=>(0,on.customRandom)(e,t,on.random);on.customAlphabet=SK;var CK=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");on.nanoid=CK});var Wx=y(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.FileLocation=xt.UriLocation=xt.UriLocationRaw=xt.BlobLocation=xt.LocalPathLocation=xt.Region=xt.NoAssemblyRegion=xt.ElementId=void 0;var Ye=Me(),TK=_j();xt.ElementId=Ye.types.optional(Ye.types.identifier,()=>(0,TK.nanoid)());xt.NoAssemblyRegion=Ye.types.model("NoAssemblyRegion",{refName:Ye.types.string,start:Ye.types.number,end:Ye.types.number,reversed:Ye.types.optional(Ye.types.boolean,!1)}).actions(e=>({setRefName(t){e.refName=t}}));xt.Region=Ye.types.compose("Region",xt.NoAssemblyRegion,Ye.types.model({assemblyName:Ye.types.string}));xt.LocalPathLocation=Ye.types.model("LocalPathLocation",{locationType:Ye.types.literal("LocalPathLocation"),localPath:Ye.types.string});xt.BlobLocation=Ye.types.model("BlobLocation",{locationType:Ye.types.literal("BlobLocation"),name:Ye.types.string,blobId:Ye.types.string});xt.UriLocationRaw=Ye.types.model("UriLocation",{locationType:Ye.types.literal("UriLocation"),uri:Ye.types.string,baseUri:Ye.types.maybe(Ye.types.string),internetAccountId:Ye.types.maybe(Ye.types.string),internetAccountPreAuthorization:Ye.types.maybe(Ye.types.model("InternetAccountPreAuthorization",{internetAccountType:Ye.types.string,authInfo:Ye.types.frozen()}))});xt.UriLocation=Ye.types.snapshotProcessor(xt.UriLocationRaw,{postProcessor:e=>{let{baseUri:t,...r}=e;return t?e:r}});xt.FileLocation=Ye.types.snapshotProcessor(Ye.types.union(xt.LocalPathLocation,xt.UriLocation,xt.BlobLocation),{preProcessor(e){if(!e)return;let{locationType:t,...r}=e;if(!t){let{uri:n,localPath:o,blob:i}=r,a="";return n!==void 0?a="UriLocation":o!==void 0?a="LocalPathLocation":i!==void 0&&(a="BlobLocation"),{...r,locationType:a}}return e}})});var Cj=y(Ux=>{"use strict";Object.defineProperty(Ux,"__esModule",{value:!0});Ux.default=jK;var mt=Me(),kK=lo(),EK=Tf(),OK=Wx();function RK(){return!0}var MK={stringArray:mt.types.array(mt.types.string),stringArrayMap:mt.types.map(mt.types.array(mt.types.string)),numberMap:mt.types.map(mt.types.number),boolean:mt.types.boolean,color:mt.types.refinement("Color",mt.types.string,RK),integer:mt.types.integer,number:mt.types.number,string:mt.types.string,text:mt.types.string,fileLocation:OK.FileLocation,frozen:mt.types.frozen()},xj={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},$x=e=>({views:{get valueJSON(){return e.value}}}),wj=e=>({views:{get valueJSON(){return JSON.stringify(e.value)}}}),Sj={fileLocation:wj,number:$x,integer:$x,boolean:$x,frozen:wj,stringArray:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t){e.value.push(t)},removeAtIndex(t){e.value.splice(t,1)},setAtIndex(t,r){e.value[t]=r}}}),stringArrayMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)},addToKey(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.push(r)},removeAtKeyIndex(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.splice(r,1)},setAtKeyIndex(t,r,n){let o=e.value.get(t);if(!o)throw new Error(`${t} not found`);o[r]=n}}}),numberMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)}}})},PK=mt.types.refinement("JexlString",mt.types.string,e=>e.startsWith("jexl:"));function AK(e){return e?.toJSON?e.toJSON():`"${e}"`}function jK(e,{description:t="",model:r,type:n,defaultValue:o,contextVariable:i=[]}){if(!n)throw new Error("type name required");if(r||(r=MK[n]),!r)throw new Error(`no builtin config slot type "${n}", and no 'model' param provided`);if(o===void 0)throw new Error("no 'defaultValue' provided");let a=`${e.charAt(0).toUpperCase()}${e.slice(1)}ConfigSlot`,s=mt.types.model(a,{name:mt.types.literal(e),description:mt.types.literal(t),type:mt.types.literal(n),value:mt.types.optional(mt.types.union(PK,r),o)}).volatile(()=>({contextVariable:i})).views(l=>({get isCallback(){return String(l.value).startsWith("jexl:")}})).views(l=>({get expr(){if(l.isCallback){let{pluginManager:f}=(0,kK.getEnv)(l);return!f&&typeof jest>"u"&&console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,EK.stringToJexlExpression)(String(l.value),f?.jexl)}return{evalSync:()=>l.value}},get valueJSON(){if(!l.isCallback)return AK(l.value)}})).preProcessSnapshot(l=>typeof l=="object"&&l.name===e?l:{name:e,description:t,type:n,value:l}).postProcessSnapshot(l=>typeof l.value=="object"?JSON.stringify(l.value)!==JSON.stringify(o)?l.value:void 0:l.value!==o?l.value:void 0).actions(l=>({set(f){l.value=f},reset(){l.value=o},convertToCallback(){l.isCallback||(l.value=`jexl:${l.valueJSON||"''"}`)},convertToValue(){if(l.isCallback){try{let f=l.expr.evalSync();if(f!==void 0){l.value=f;return}}catch{}if(l.value=o,!(n in xj))throw new Error(`no fallbackDefault defined for type ${n}`);l.value=xj[n]}}}));Sj[n]&&(s=s.extend(Sj[n]));let u=mt.types.optional(s,{name:e,type:n,description:t,value:o});return Object.defineProperty(u,"isJBrowseConfigurationSlot",{value:!0}),u}});var kj=y(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.getSubType=Vx;ga.getUnionSubTypes=Tj;ga.getPropertyType=IK;ga.getDefaultValue=LK;ga.getEnumerationValues=DK;ga.resolveLateType=NK;var ha=Me();function Vx(e){let t;if((0,ha.isOptionalType)(e))t=e._subtype||e.type;else if((0,ha.isArrayType)(e)||(0,ha.isMapType)(e))t=e._subtype||e._subType||e.subType;else{if(typeof e.getSubType=="function")return e.getSubType();throw new TypeError("unsupported mst type")}if(!t)throw new Error("failed to get subtype");return t}function Tj(e){if(!(0,ha.isUnionType)(e))throw new TypeError("not an MST union type");let t=e._types||e.types||Vx(e)._types||Vx(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}function IK(e,t){return e.properties[t]}function LK(e){if(!(0,ha.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue}function DK(e){return Tj(e).map(r=>r.value)}function NK(e){return!(0,ha.isUnionType)(e)&&!(0,ha.isArrayType)(e)&&(0,ha.isLateType)(e)?e.getSubType():e}});var Gx=y(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.readConfObject=_h;Ri.getConf=FK;Ri.getTypeNamesFromExplicitlyTypedUnion=Ej;Ri.isBareConfigurationSchemaType=Oj;Ri.isConfigurationSchemaType=pc;Ri.isConfigurationModel=Rj;Ri.isConfigurationSlotType=qK;var At=Me(),va=kj();function _h(e,t,r={}){if(t){if(typeof t=="string"){let n=e[t];if(!n&&(0,At.isStateTreeNode)(e)&&(0,At.isMapType)((0,At.getType)(e))&&(n=e.get(t)),n){let o=n.expr?n.expr.evalSync(r):n;return(0,At.isStateTreeNode)(o)?JSON.parse(JSON.stringify((0,At.getSnapshot)(o))):o}else return}else if(Array.isArray(t)){let n=t[0];if(t.length>1){let o=t.slice(1),i=e[n];return!i&&(0,At.isStateTreeNode)(e)&&(0,At.isMapType)((0,At.getType)(e))&&(i=e.get(n)),i?_h(i,o,r):void 0}return _h(e,n,r)}}else return structuredClone((0,At.getSnapshot)(e));throw new TypeError("slotPath must be a string or array")}function FK(e,t,r){let{configuration:n}=e;if(Rj(n))return _h(n,t,r);throw new TypeError("cannot getConf on this model, it has no configuration")}function Ej(e){if((0,At.isType)(e)&&(e=(0,va.resolveLateType)(e),(0,At.isUnionType)(e))){let t=[];for(let r of(0,va.getUnionSubTypes)(e)){r=(0,va.resolveLateType)(r);let n=Ej(r);if(n.length||(n=[(0,va.getDefaultValue)(r).type]),!n[0])throw new Error(`invalid config schema type ${r}`);t.push(...n)}return t}return[]}function Oj(e){return!!((0,At.isType)(e)&&((0,At.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema"))||(0,At.isLateType)(e)))}function pc(e){return(0,At.isType)(e)?Oj(e)?!0:(0,At.isUnionType)(e)?(0,va.getUnionSubTypes)(e).every(t=>pc(t)||t.name==="undefined"):(0,At.isOptionalType)(e)&&pc((0,va.getSubType)(e))||(0,At.isArrayType)(e)&&pc((0,va.getSubType)(e))?!0:!!((0,At.isMapType)(e)&&pc((0,va.getSubType)(e))):!1}function Rj(e){return(0,At.isStateTreeNode)(e)&&pc((0,At.getType)(e))}function qK(e){return typeof e=="object"&&e!==null&&"isJBrowseConfigurationSlot"in e}});var Aj=y(mc=>{"use strict";var BK=mc&&mc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mc,"__esModule",{value:!0});mc.ConfigurationSchema=VK;mc.ConfigurationReference=GK;var Hn=Me(),zK=BK(Cj()),Mj=Gx(),Pj=Wx();function HK(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).length===0}function WK(e){return Array.isArray(e)&&e.length===0}function $K(e,t,r={}){var n;if(typeof e!="string")throw new Error("first arg must be string name of the model that this config schema goes with");let o=t,i=r;return!((n=r.baseConfiguration)===null||n===void 0)&&n.jbrowseSchemaDefinition&&(o={...r.baseConfiguration.jbrowseSchemaDefinition,...o},i={...r.baseConfiguration.jbrowseSchemaOptions,...r,baseConfiguration:void 0}),{schemaDefinition:o,options:i}}function UK(e,t,r){let n={},o;if(r.explicitlyTyped&&(n.type=Hn.types.optional(Hn.types.literal(e),e)),r.explicitIdentifier&&r.implicitIdentifier)throw new Error(`Cannot have both explicit and implicit identifiers in ${e}`);r.explicitIdentifier?typeof r.explicitIdentifier=="string"?(n[r.explicitIdentifier]=Hn.types.identifier,o=r.explicitIdentifier):(n.id=Hn.types.identifier,o="id"):r.implicitIdentifier&&(typeof r.implicitIdentifier=="string"?(n[r.implicitIdentifier]=Pj.ElementId,o=r.implicitIdentifier):(n.id=Pj.ElementId,o="id"));let i={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:r}};for(let[l,f]of Object.entries(t))if((0,Hn.isType)(f)&&(0,Hn.isLateType)(f)||(0,Mj.isConfigurationSchemaType)(f))n[l]=f;else if(typeof f=="string"||typeof f=="number")i[l]=f;else if(typeof f=="object"){if(!f.type)throw new Error(`no type set for config slot ${e}.${l}`);try{n[l]=(0,zK.default)(l,f)}catch(d){throw new Error(`invalid config slot definition for ${e}.${l}: ${d}`)}}else throw new Error(`invalid configuration schema definition, "${l}" must be either a valid configuration slot definition, a constant, or a nested configuration schema`);let a=Hn.types.model(`${e}ConfigurationSchema`,n).actions(l=>({setSubschema(f,d){if(!(0,Mj.isConfigurationSchemaType)(n[f]))throw new Error(`${f} is not a subschema, cannot replace`);let p=(0,Hn.isStateTreeNode)(d)?d:n[f].create(d);return l[f]=p,p}}));Object.keys(i).length&&(a=a.volatile(()=>i)),r.actions&&(a=a.actions(r.actions)),r.views&&(a=a.views(r.views)),r.extend&&(a=a.extend(r.extend));let s=o?{[o]:"placeholderId"}:{},c=r.explicitlyTyped?{type:e,...s}:s,u=(0,Hn.getSnapshot)(a.create(c));return a=a.postProcessSnapshot(l=>{let f={},d=!0;for(let[p,m]of Object.entries(l))d&&(typeof u[p]=="object"&&typeof m=="object"?JSON.stringify(u[p])!==JSON.stringify(m)&&(d=!1):u[p]!==m&&(d=!1)),m!==void 0&&i[p]===void 0&&!HK(m)&&!WK(m)&&(f[p]=m);return d?{}:f}),r.preProcessSnapshot&&(a=a.preProcessSnapshot(r.preProcessSnapshot)),Hn.types.optional(a,c)}function VK(e,t,r){let{schemaDefinition:n,options:o}=$K(e,t,r),i=UK(e,n,o);return i.isJBrowseConfigurationSchema=!0,i.jbrowseSchemaDefinition=n,i.jbrowseSchemaOptions=o,i}function GK(e){return Hn.types.union(Hn.types.reference(e),e)}});var Yx=y(fo=>{"use strict";var YK=fo&&fo.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),XK=fo&&fo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YK(t,e,r)};Object.defineProperty(fo,"__esModule",{value:!0});fo.ConfigurationSchema=fo.ConfigurationReference=void 0;var jj=Aj();Object.defineProperty(fo,"ConfigurationReference",{enumerable:!0,get:function(){return jj.ConfigurationReference}});Object.defineProperty(fo,"ConfigurationSchema",{enumerable:!0,get:function(){return jj.ConfigurationSchema}});XK(Gx(),fo)});var Ij=y(Zx=>{"use strict";Object.defineProperty(Zx,"__esModule",{value:!0});var Xx=class extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(let[r,n]of t)this.onEviction(r,n.value)}_deleteIfExpired(t,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,r.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,r){if(!this._deleteIfExpired(t,r))return r.value}_getItemValue(t,r){return r.expiry?this._getOrDeleteIfExpired(t,r):r.value}_peek(t,r){let n=r.get(t);return this._getItemValue(t,n)}_set(t,r){this.cache.set(t,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,r){this.oldCache.delete(t),this._set(t,r)}*_entriesAscending(){for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield t)}for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield t)}}get(t){if(this.cache.has(t)){let r=this.cache.get(t);return this._getItemValue(t,r)}if(this.oldCache.has(t)){let r=this.oldCache.get(t);if(!this._deleteIfExpired(t,r))return this._moveToRecent(t,r),r.value}}set(t,r,{maxAge:n=this.maxAge}={}){let o=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(t)?this.cache.set(t,{value:r,expiry:o}):this._set(t,{value:r,expiry:o})}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-t;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield[r,n.value])}for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield[r,n.value])}}*entriesDescending(){let t=[...this.cache];for(let r=t.length-1;r>=0;--r){let n=t[r],[o,i]=n;this._deleteIfExpired(o,i)||(yield[o,i.value])}t=[...this.oldCache];for(let r=t.length-1;r>=0;--r){let n=t[r],[o,i]=n;this.cache.has(o)||this._deleteIfExpired(o,i)||(yield[o,i.value])}}*entriesAscending(){for(let[t,r]of this._entriesAscending())yield[t,r.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,r=this){for(let[n,o]of this.entriesAscending())t.call(r,o,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};Zx.default=Xx});var Dj=y(dd=>{"use strict";var Lj=dd&&dd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dd,"__esModule",{value:!0});var ZK=Lj(yj()),Kx=Yx(),KK=Lj(Ij()),Jx=class{constructor(t){this.pluginManager=t,this.adapterCache=new KK.default({maxSize:15})}loadTextSearchAdapters(t){return Promise.all(this.relevantAdapters(t).map(async r=>{let n=(0,Kx.readConfObject)(r,"textSearchAdapterId"),o=this.adapterCache.get(n);if(o)return o;{let a=await this.pluginManager.getTextSearchAdapterType(r.type).getAdapterClass(),s=new a(r,void 0,this.pluginManager);return this.adapterCache.set(n,s),s}}))}relevantAdapters(t){let r=this.pluginManager.rootModel,{aggregateTextSearchAdapters:n}=r?.jbrowse,{tracks:o}=r?.session,{assemblyName:i}=t;return[...this.getAdaptersWithAssembly(i,n),...this.getTrackAdaptersWithAssembly(i,o)]}getAdaptersWithAssembly(t,r){return r.filter(n=>{var o;return(o=(0,Kx.readConfObject)(n,"assemblyNames"))===null||o===void 0?void 0:o.includes(t)})}getTrackAdaptersWithAssembly(t,r){return r.filter(n=>{var o;return(o=(0,Kx.readConfObject)(n,["textSearching","textSearchAdapter","assemblyNames"]))===null||o===void 0?void 0:o.includes(t)}).map(n=>n.textSearching.textSearchAdapter)}async search(t,r,n){return this.search2({args:t,searchScope:r,rankFn:n})}async search2({args:t,searchScope:r,rankFn:n}){let o=await this.loadTextSearchAdapters(r),i=await Promise.all(o.map(a=>a.searchIndex(t)));return this.sortResults2({args:t,results:i.flat(),rankFn:n})}sortResults2({results:t,rankFn:r,args:n}){let o=new ZK.default({}),i=t.map(u=>u.getDisplayString()),a=n.queryString,s=o.filter(i,a),c=[];if(s!=null&&s.length>0){let u=o.info(s,i,a),l=o.sort(u,i,a);for(let f of l)c.push(t[u.idx[f]])}return r(c)}};dd.default=Jx});var pd=y(qe=>{"use strict";var JK=qe&&qe.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),QK=qe&&qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JK(t,e,r)},eJ=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.TextSearchManager=qe.RetryError=qe.AuthNeededError=void 0;qe.isViewContainer=rJ;qe.isSessionModel=ba;qe.isSessionModelWithConfigEditing=nJ;qe.isSessionWithAddTracks=oJ;qe.isSessionWithShareURL=iJ;qe.isSessionModelWithWidgets=aJ;qe.isSessionModelWithConnections=sJ;qe.isSessionModelWithConnectionEditing=uJ;qe.isSessionWithSessionPlugins=cJ;qe.isSelectionContainer=lJ;qe.isViewModel=fJ;qe.isTrackModel=dJ;qe.isDisplayModel=pJ;qe.isTrackViewModel=mJ;qe.isAppRootModel=hJ;qe.isRootModelWithInternetAccounts=gJ;qe.isAbstractMenuManager=vJ;qe.isUriLocation=bJ;qe.isLocalPathLocation=yJ;qe.isBlobLocation=_J;qe.isAuthNeededException=xJ;qe.isRetryException=wJ;var tJ=Me();QK(dj(),qe);function rJ(e){return(0,tJ.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e}function ba(e){return typeof e=="object"&&e!==null&&"rpcManager"in e&&"configuration"in e}function nJ(e){return ba(e)&&"editConfiguration"in e}function oJ(e){return ba(e)&&"addTrackConf"in e&&!e.disableAddTracks}function iJ(e){return ba(e)&&"shareURL"in e&&!!e.shareURL}function aJ(e){return ba(e)&&"widgets"in e}function sJ(e){return ba(e)&&"makeConnection"in e}function uJ(e){return ba(e)&&"addConnectionConf"in e}function cJ(e){return ba(e)&&"sessionPlugins"in e}function lJ(e){return typeof e=="object"&&e!==null&&"selection"in e&&"setSelection"in e}function fJ(e){return typeof e=="object"&&e!==null&&"width"in e&&"setWidth"in e}function dJ(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.trackId}function pJ(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.displayId}function mJ(e){return typeof e=="object"&&e!==null&&"showTrack"in e&&"hideTrack"in e}function hJ(e){return typeof e=="object"&&e!==null&&"findAppropriateInternetAccount"in e}function gJ(e){return typeof e=="object"&&e!==null&&"internetAccounts"in e&&"findAppropriateInternetAccount"in e}function vJ(e){return typeof e=="object"&&e!==null&&"appendMenu"in e&&"appendToSubMenu"in e}function bJ(e){return typeof e=="object"&&e!==null&&"uri"in e&&!!e.uri}function yJ(e){return typeof e=="object"&&e!==null&&"localPath"in e&&!!e.localPath}function _J(e){return typeof e=="object"&&e!==null&&"blobId"in e&&!!e.blobId}var Qx=class e extends Error{constructor(t,r){super(t),this.message=t,this.url=r,this.name="AuthNeededError",Object.setPrototypeOf(this,e.prototype)}};qe.AuthNeededError=Qx;var ew=class extends Error{constructor(t,r){super(t),this.message=t,this.internetAccountId=r,this.name="RetryError"}};qe.RetryError=ew;function xJ(e){return e instanceof Error&&(e.name==="AuthNeededError"||e.url!==void 0)}function wJ(e){return e.name==="RetryError"||e.internetAccountId!==void 0}var SJ=Dj();Object.defineProperty(qe,"TextSearchManager",{enumerable:!0,get:function(){return eJ(SJ).default}})});var Bs=y((wPe,Nj)=>{Nj.exports=JBrowseExports.mobx});var Fj=y(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.when=void 0;var CJ=Bs();Object.defineProperty(xh,"when",{enumerable:!0,get:function(){return CJ.when}})});var tw=y(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.intersection2=TJ;md.doesIntersect2=kJ;md.isContainedWithin=EJ;function TJ(e,t,r,n){return t>r&&e<n&&n-r&&t-e?e>r?t<n?[e,t]:[e,n]:t<n?[r,t]:[r,n]:[]}function kJ(e,t,r,n){return t>r&&e<n}function EJ(e,t,r,n){return r<=e&&n>=t}});var qj=y(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.dedupe=OJ;function OJ(e,t=JSON.stringify){let r=[],n=new Set;for(let o of e){let i=t(o);n.has(i)||(r.push(o),n.add(i))}return r}});var aw=y((kPe,Wj)=>{"use strict";var wh={},Th={},hd={METHOD:"method",PROPERTY:"property"},Sh=class{constructor(t,r){this.inst=t,this.args=r}},nw=class extends Sh{constructor(t,r){super(t,r),this.type=hd.METHOD}execute(t){t[this.inst](...this.args)}},ow=class extends Sh{constructor(t,r){super(t,r),this.type=hd.PROPERTY}execute(t){t[this.inst]=this.args[0]}},RJ={[hd.METHOD]:nw,[hd.PROPERTY]:ow},Ch=class{constructor(t,r,n){return new RJ[t](r,n)}};Object.entries(hd).forEach(([e,t])=>{Object.defineProperty(Ch,e,{value:t,configurable:!1,enumerable:!0,writable:!1})});Th=Ch;var zj=Object.freeze({METHODS:["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearHitRegions","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","removeHitRegion","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["direction","fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),Qo=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")}),gd=class{constructor(t=null){this[Qo.sequence]=[],t&&this[Qo.fromJSON](t)}[Qo.fromJSON](t={sequence:[]}){t.sequence.forEach(({type:r,inst:n,args:o})=>{this[Qo.push](r,n,o)})}[Qo.push](t,r,n){this[Qo.sequence].push(new Th(t,r,n))}execute(t){t.save(),this[Qo.sequence].forEach(r=>r.execute(t)),t.restore()}toJSON(){return{sequence:this[Qo.sequence]}}};zj.METHODS.forEach(e=>{Object.defineProperty(gd.prototype,e,{value:function(...r){this[Qo.push](Th.METHOD,e,r)},writable:!1,enumerable:!0,configurable:!1})});zj.PROPERTIES.forEach(e=>{Object.defineProperty(gd.prototype,e,{get(){throw`Invalid canvas sequencer interaction, cannot get ${e}.`},set(t){this[Qo.push](Th.PROPERTY,e,[t])},enumerable:!0,configurable:!1})});wh=gd;var Hj={},Bj=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});function MJ(e,t){let r=e.replace(/^\{|\}$/gu,"");return r!==e?t.hasOwnProperty(r)?t[r]:r:e}var iw=class extends wh{build(t={}){let r=new wh;return this[Bj.sequence].forEach(({type:n,inst:o,args:i})=>{let a=i.map(s=>typeof s=="string"?MJ(s,t):s);r[Bj.push](n,o,a)}),r}execute(){throw new TypeError("Cannot execute a blueprint.")}};Hj=iw;Wj.exports={CanvasSequence:wh,CanvasBlueprint:Hj}});var Uj=y((EPe,$j)=>{$j.exports=!1});var sw=y(Or=>{"use strict";var PJ=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0});Or.ImageBitmapType=Or.createImageBitmap=Or.createCanvas=void 0;Or.drawImageOntoCanvasContext=jJ;var Gj=aw(),AJ=PJ(Uj());function jJ(e,t){e.serializedCommands?new Gj.CanvasSequence(e.serializedCommands).execute(t):t.drawImage(e,0,0)}var Vj={realOffscreenCanvas:typeof OffscreenCanvas=="function",node:AJ.default};Vj.realOffscreenCanvas?(Or.createCanvas=(e,t)=>new OffscreenCanvas(e,t),Or.createImageBitmap=window.createImageBitmap||self.createImageBitmap,Or.ImageBitmapType=window.ImageBitmap||self.ImageBitmap):Vj.node?(Or.createCanvas=(...e)=>nodeCreateCanvas(...e),Or.createImageBitmap=async e=>{let t=e.toDataURL(),r=new nodeImage;return new Promise((n,o)=>{r.onload=()=>{n(r)},r.onerror=o,r.src=t})}):(Or.createCanvas=(e,t)=>{let r=new Gj.CanvasSequence;return{width:e,height:t,getContext(){return r}}},Or.createImageBitmap=async e=>{let t=e.getContext("2d");return{height:e.height,width:e.width,serializedCommands:t.toJSON(),containsNoTransferables:!0}},Or.ImageBitmapType=String)});var cw=y(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});uw.blobToDataURL=IJ;function IJ(e){let t=new FileReader;return new Promise((r,n)=>{t.onload=o=>{o.target?r(o.target.result):n(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)})}});var Yj=y((MPe,kh)=>{(function(){"use strict";var e,t,r,n,o;function i(f,d){var p=Object.keys(d),m;for(m=0;m<p.length;m++)f=f.replace(new RegExp("\\{"+p[m]+"\\}","gi"),d[p[m]]);return f}function a(f){var d,p,m;if(!f)throw new Error("cannot create a random attribute name for an undefined object");d="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="";do for(p="",m=0;m<12;m++)p+=d[Math.floor(Math.random()*d.length)];while(f[p]);return p}function s(f,d){var p,m,h={},v,b;for(f=f.split(","),d=d||10,p=0;p<f.length;p+=2)m="&"+f[p+1]+";",v=parseInt(f[p],d),h[m]="&#"+v+";";return h["\\xa0"]="&#160;",h}function c(f){var d={left:"start",right:"end",center:"middle",start:"start",end:"end"};return d[f]||d.start}function u(f){var d={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return d[f]||d.alphabetic}o=s("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},r=function(f,d){this.__root=f,this.__ctx=d},r.prototype.addColorStop=function(f,d){var p=this.__ctx.__createElement("stop"),m,h;p.setAttribute("offset",f),d.indexOf("rgba")!==-1?(m=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,h=m.exec(d),p.setAttribute("stop-color",i("rgb({r},{g},{b})",{r:h[1],g:h[2],b:h[3]})),p.setAttribute("stop-opacity",h[4])):p.setAttribute("stop-color",d),this.__root.appendChild(p)},n=function(f,d){this.__root=f,this.__ctx=d},t=function(f){var d={width:500,height:500,enableMirroring:!1},p;if(arguments.length>1?(p=d,p.width=arguments[0],p.height=arguments[1]):f?p=f:p=d,!(this instanceof t))return new t(p);this.width=p.width||d.width,this.height=p.height||d.height,this.enableMirroring=p.enableMirroring!==void 0?p.enableMirroring:d.enableMirroring,this.canvas=this,this.__document=p.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},t.prototype.__createElement=function(f,d,p){typeof d>"u"&&(d={});var m=this.__document.createElementNS("http://www.w3.org/2000/svg",f),h=Object.keys(d),v,b;for(p&&(m.setAttribute("fill","none"),m.setAttribute("stroke","none")),v=0;v<h.length;v++)b=h[v],m.setAttribute(b,d[b]);return m},t.prototype.__setDefaultStyles=function(){var f=Object.keys(e),d,p;for(d=0;d<f.length;d++)p=f[d],this[p]=e[p].canvas},t.prototype.__applyStyleState=function(f){var d=Object.keys(f),p,m;for(p=0;p<d.length;p++)m=d[p],this[m]=f[m]},t.prototype.__getStyleState=function(){var f,d={},p=Object.keys(e),m;for(f=0;f<p.length;f++)m=p[f],d[m]=this[m];return d},t.prototype.__applyStyleToCurrentElement=function(f){var d=Object.keys(e),p,m,h,v,b,_;for(p=0;p<d.length;p++)if(m=e[d[p]],h=this[d[p]],m.apply)if(m.apply.indexOf("fill")!==-1&&h instanceof n){if(h.__ctx)for(;h.__ctx.__defs.childNodes.length;)v=h.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[v]=v,this.__defs.appendChild(h.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",i("url(#{id})",{id:h.__root.getAttribute("id")}))}else m.apply.indexOf("fill")!==-1&&h instanceof r?this.__currentElement.setAttribute("fill",i("url(#{id})",{id:h.__root.getAttribute("id")})):m.apply.indexOf(f)!==-1&&m.svg!==h&&((m.svgAttr==="stroke"||m.svgAttr==="fill")&&h.indexOf("rgba")!==-1?(b=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,_=b.exec(h),this.__currentElement.setAttribute(m.svgAttr,i("rgb({r},{g},{b})",{r:_[1],g:_[2],b:_[3]})),this.__currentElement.setAttribute(m.svgAttr+"-opacity",_[4])):this.__currentElement.setAttribute(m.svgAttr,h))},t.prototype.__closestGroupOrSvg=function(f){return f=f||this.__currentElement,f.nodeName==="g"||f.nodeName==="svg"?f:this.__closestGroupOrSvg(f.parentNode)},t.prototype.getSerializedSvg=function(f){var d=new XMLSerializer().serializeToString(this.__root),p,m,h,v,b,_;if(_=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,_.test(d)&&(d=d.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),f)for(p=Object.keys(o),m=0;m<p.length;m++)h=p[m],v=o[h],b=new RegExp(h,"gi"),b.test(d)&&(d=d.replace(b,v));return d},t.prototype.getSvg=function(){return this.__root},t.prototype.save=function(){var f=this.__createElement("g"),d=this.__closestGroupOrSvg();this.__groupStack.push(d),d.appendChild(f),this.__currentElement=f,this.__stack.push(this.__getStyleState())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var f=this.__stack.pop();this.__applyStyleState(f)},t.prototype.__addTransform=function(f){var d=this.__closestGroupOrSvg();if(d.childNodes.length>0){var p=this.__createElement("g");d.appendChild(p),this.__currentElement=p}var m=this.__currentElement.getAttribute("transform");m?m+=" ":m="",m+=f,this.__currentElement.setAttribute("transform",m)},t.prototype.scale=function(f,d){d===void 0&&(d=f),this.__addTransform(i("scale({x},{y})",{x:f,y:d}))},t.prototype.rotate=function(f){var d=f*180/Math.PI;this.__addTransform(i("rotate({angle},{cx},{cy})",{angle:d,cx:0,cy:0}))},t.prototype.translate=function(f,d){this.__addTransform(i("translate({x},{y})",{x:f,y:d}))},t.prototype.transform=function(f,d,p,m,h,v){this.__addTransform(i("matrix({a},{b},{c},{d},{e},{f})",{a:f,b:d,c:p,d:m,e:h,f:v}))},t.prototype.beginPath=function(){var f,d;this.__currentDefaultPath="",this.__currentPosition={},f=this.__createElement("path",{},!0),d=this.__closestGroupOrSvg(),d.appendChild(f),this.__currentElement=f},t.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var f=this.__currentDefaultPath;this.__currentElement.setAttribute("d",f)}else throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)},t.prototype.__addPathCommand=function(f){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=f},t.prototype.moveTo=function(f,d){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:f,y:d},this.__addPathCommand(i("M {x} {y}",{x:f,y:d}))},t.prototype.closePath=function(){this.__addPathCommand("Z")},t.prototype.lineTo=function(f,d){this.__currentPosition={x:f,y:d},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(i("L {x} {y}",{x:f,y:d})):this.__addPathCommand(i("M {x} {y}",{x:f,y:d}))},t.prototype.bezierCurveTo=function(f,d,p,m,h,v){this.__currentPosition={x:h,y:v},this.__addPathCommand(i("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:f,cp1y:d,cp2x:p,cp2y:m,x:h,y:v}))},t.prototype.quadraticCurveTo=function(f,d,p,m){this.__currentPosition={x:p,y:m},this.__addPathCommand(i("Q {cpx} {cpy} {x} {y}",{cpx:f,cpy:d,x:p,y:m}))};var l=function(f){var d=Math.sqrt(f[0]*f[0]+f[1]*f[1]);return[f[0]/d,f[1]/d]};t.prototype.arcTo=function(f,d,p,m,h){var v=this.__currentPosition&&this.__currentPosition.x,b=this.__currentPosition&&this.__currentPosition.y;if(!(typeof v>"u"||typeof b>"u")){if(h<0)throw new Error("IndexSizeError: The radius provided ("+h+") is negative.");if(v===f&&b===d||f===p&&d===m||h===0){this.lineTo(f,d);return}var _=l([v-f,b-d]),S=l([p-f,m-d]);if(_[0]*S[1]===_[1]*S[0]){this.lineTo(f,d);return}var w=_[0]*S[0]+_[1]*S[1],T=Math.acos(Math.abs(w)),O=l([_[0]+S[0],_[1]+S[1]]),C=h/Math.sin(T/2),M=f+C*O[0],R=d+C*O[1],k=[-_[1],_[0]],I=[S[1],-S[0]],B=function(N){var U=N[0],z=N[1];return z>=0?Math.acos(U):-Math.acos(U)},L=B(k),E=B(I);this.lineTo(M+k[0]*h,R+k[1]*h),this.arc(M,R,h,L,E)}},t.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(f,d,p,m){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(f,d),this.lineTo(f+p,d),this.lineTo(f+p,d+m),this.lineTo(f,d+m),this.lineTo(f,d),this.closePath()},t.prototype.fillRect=function(f,d,p,m){var h,v;h=this.__createElement("rect",{x:f,y:d,width:p,height:m},!0),v=this.__closestGroupOrSvg(),v.appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(f,d,p,m){var h,v;h=this.__createElement("rect",{x:f,y:d,width:p,height:m},!0),v=this.__closestGroupOrSvg(),v.appendChild(h),this.__currentElement=h,this.__applyStyleToCurrentElement("stroke")},t.prototype.clearRect=function(f,d,p,m){var h,v=this.__closestGroupOrSvg();h=this.__createElement("rect",{x:f,y:d,width:p,height:m,fill:"#FFFFFF"},!0),v.appendChild(h)},t.prototype.createLinearGradient=function(f,d,p,m){var h=this.__createElement("linearGradient",{id:a(this.__ids),x1:f+"px",x2:p+"px",y1:d+"px",y2:m+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(h),new r(h,this)},t.prototype.createRadialGradient=function(f,d,p,m,h,v){var b=this.__createElement("radialGradient",{id:a(this.__ids),cx:m+"px",cy:h+"px",r:v+"px",fx:f+"px",fy:d+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(b),new r(b,this)},t.prototype.__parseFont=function(){var f=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i,d=f.exec(this.font),p={style:d[1]||"normal",size:d[4]||"10px",family:d[6]||"sans-serif",weight:d[3]||"normal",decoration:d[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(p.decoration="underline"),this.__fontHref&&(p.href=this.__fontHref),p},t.prototype.__wrapTextLink=function(f,d){if(f.href){var p=this.__createElement("a");return p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.href),p.appendChild(d),p}return d},t.prototype.__applyText=function(f,d,p,m){var h=this.__parseFont(),v=this.__closestGroupOrSvg(),b=this.__createElement("text",{"font-family":h.family,"font-size":h.size,"font-style":h.style,"font-weight":h.weight,"text-decoration":h.decoration,x:d,y:p,"text-anchor":c(this.textAlign),"dominant-baseline":u(this.textBaseline)},!0);b.appendChild(this.__document.createTextNode(f)),this.__currentElement=b,this.__applyStyleToCurrentElement(m),v.appendChild(this.__wrapTextLink(h,b))},t.prototype.fillText=function(f,d,p){this.__applyText(f,d,p,"fill")},t.prototype.strokeText=function(f,d,p){this.__applyText(f,d,p,"stroke")},t.prototype.measureText=function(f){return this.__ctx.font=this.font,this.__ctx.measureText(f)},t.prototype.arc=function(f,d,p,m,h,v){if(m!==h){m=m%(2*Math.PI),h=h%(2*Math.PI),m===h&&(h=(h+2*Math.PI-.001*(v?-1:1))%(2*Math.PI));var b=f+p*Math.cos(h),_=d+p*Math.sin(h),S=f+p*Math.cos(m),w=d+p*Math.sin(m),T=v?0:1,O=0,C=h-m;C<0&&(C+=2*Math.PI),v?O=C>Math.PI?0:1:O=C>Math.PI?1:0,this.lineTo(S,w),this.__addPathCommand(i("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:p,xAxisRotation:0,largeArcFlag:O,sweepFlag:T,endX:b,endY:_})),this.__currentPosition={x:b,y:_}}},t.prototype.clip=function(){var f=this.__closestGroupOrSvg(),d=this.__createElement("clipPath"),p=a(this.__ids),m=this.__createElement("g");f.removeChild(this.__currentElement),d.setAttribute("id",p),d.appendChild(this.__currentElement),this.__defs.appendChild(d),f.setAttribute("clip-path",i("url(#{id})",{id:p})),f.appendChild(m),this.__currentElement=m},t.prototype.drawImage=function(){var f=Array.prototype.slice.call(arguments),d=f[0],p,m,h,v,b=0,_=0,S,w,T,O,C,M,R,k,I,B,L;if(f.length===3)p=f[1],m=f[2],S=d.width,w=d.height,h=S,v=w;else if(f.length===5)p=f[1],m=f[2],h=f[3],v=f[4],S=d.width,w=d.height;else if(f.length===9)b=f[1],_=f[2],S=f[3],w=f[4],p=f[5],m=f[6],h=f[7],v=f[8];else throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);if(T=this.__closestGroupOrSvg(),R=this.__currentElement,d instanceof t){for(O=d.getSvg(),C=O.childNodes[0];C.childNodes.length;)L=C.childNodes[0].getAttribute("id"),this.__ids[L]=L,this.__defs.appendChild(C.childNodes[0]);M=O.childNodes[1],T.appendChild(M),this.__currentElement=M,this.translate(p,m),this.__currentElement=R}else(d.nodeName==="CANVAS"||d.nodeName==="IMG")&&(k=this.__createElement("image"),k.setAttribute("width",h),k.setAttribute("height",v),k.setAttribute("preserveAspectRatio","none"),(b||_||S!==d.width||w!==d.height)&&(I=this.__document.createElement("canvas"),I.width=h,I.height=v,B=I.getContext("2d"),B.drawImage(d,b,_,S,w,0,0,h,v),d=I),k.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.nodeName==="CANVAS"?d.toDataURL():d.getAttribute("src")),T.appendChild(k),this.__currentElement=k,this.translate(p,m),this.__currentElement=R)},t.prototype.createPattern=function(f,d){var p=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),m=a(this.__ids),h;return p.setAttribute("id",m),p.setAttribute("width",f.width),p.setAttribute("height",f.height),f.nodeName==="CANVAS"||f.nodeName==="IMG"?(h=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),h.setAttribute("width",f.width),h.setAttribute("height",f.height),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.nodeName==="CANVAS"?f.toDataURL():f.getAttribute("src")),p.appendChild(h),this.__defs.appendChild(p)):f instanceof t&&(p.appendChild(f.__root.childNodes[1]),this.__defs.appendChild(p)),new n(p,this)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.getImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=t),typeof kh=="object"&&typeof kh.exports=="object"&&(kh.exports=t)})()});var Kj=y(po=>{"use strict";var LJ=po&&po.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),DJ=po&&po.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),NJ=po&&po.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&LJ(r,t,n[o]);return DJ(r,t),r}})();Object.defineProperty(po,"__esModule",{value:!0});po.renderToAbstractCanvas=BJ;po.getSerializedSvg=zJ;po.ReactRendering=HJ;var Xj=F(),FJ=$(),Zj=aw(),qJ=cw(),lw=sw();async function BJ(e,t,r,n){let{exportSVG:o,highResolutionScaling:i=1}=r;if(o)if(o.rasterizeLayers){let a=o.scale||i,s=(0,lw.createCanvas)(Math.ceil(e*a),t*a),c=s.getContext("2d");if(!c)throw new Error("2d canvas rendering not supported on this platform");return c.scale(a,a),{...await n(c),reactElement:(0,Xj.jsx)("image",{width:e,height:t,xlinkHref:"convertToBlob"in s?await(0,qJ.blobToDataURL)(await s.convertToBlob({type:"image/png"})):s.toDataURL("image/png")})}}else{let a=new Zj.CanvasSequence;return{...await n(a),canvasRecordedData:a.toJSON()}}else{let a=i,s=(0,lw.createCanvas)(Math.ceil(e*a),t*a),c=s.getContext("2d");if(!c)throw new Error("2d canvas rendering not supported on this platform");return c.scale(a,a),{...await n(c),imageData:await(0,lw.createImageBitmap)(s)}}}async function zJ(e){let{width:t,height:r,canvasRecordedData:n}=e,o=await Promise.resolve().then(()=>NJ(Yj())),i=new o.default(t,r);return new Zj.CanvasSequence(n).execute(i),i.getSvg().innerHTML}function HJ({rendering:e}){return(0,FJ.isValidElement)(e.reactElement)?e.reactElement:(0,Xj.jsx)("g",{dangerouslySetInnerHTML:{__html:e.html||""}})}});var Qj=y(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.isFeature=WJ;function WJ(e){return typeof e=="object"&&e!==null&&typeof e.get=="function"&&typeof e.id=="function"}function Jj(e){return"uniqueId"in e&&typeof e.data!="object"}var fw=class e{constructor(t){var r;Jj(t)?this.data=t:(this.data=t.data,this.parentHandle=t.parent);let n=Jj(t)?t.uniqueId:t.id;if(n==null)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(n),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error(`invalid feature data, end less than start. end: ${this.data.end} start: ${this.data.start}`);this.data.subfeatures&&(this.subfeatures=(r=this.data.subfeatures)===null||r===void 0?void 0:r.map((o,i)=>typeof o.get!="function"?new e({id:o.uniqueId||`${n}-${i}`,data:{strand:this.data.strand,...o},parent:this}):o))}get(t){return t==="subfeatures"?this.subfeatures:t==="parent"?this.parent():this.data[t]}set(t,r){this.data[t]=r}tags(){return Object.keys(this.data)}id(){return this.uniqueId}parent(){return this.parentHandle}children(){return this.get("subfeatures")}toJSON(){let t={...this.data,uniqueId:this.id()},r=this.parent();r&&(t.parentId=r.id());let n=this.children();return n&&(t.subfeatures=n.map(o=>o.toJSON())),t}static fromJSON(t){return new e({...t})}};Eh.default=fw});var Qe=y(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.isFunction=void 0;function $J(e){return typeof e=="function"}Oh.isFunction=$J});var ya=y(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.createErrorClass=void 0;function UJ(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}Rh.createErrorClass=UJ});var dw=y(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.UnsubscriptionError=void 0;var VJ=ya();Mh.UnsubscriptionError=VJ.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});var Mi=y(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.arrRemove=void 0;function GJ(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}Ph.arrRemove=GJ});var Sn=y(an=>{"use strict";var e2=an&&an.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t2=an&&an.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},r2=an&&an.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(an,"__esModule",{value:!0});an.isSubscription=an.EMPTY_SUBSCRIPTION=an.Subscription=void 0;var vd=Qe(),pw=dw(),n2=Mi(),mw=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=e2(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(vd.isFunction(l))try{l()}catch(h){i=h instanceof pw.UnsubscriptionError?h.errors:[h]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=e2(f),p=d.next();!p.done;p=d.next()){var m=p.value;try{o2(m)}catch(h){i=i??[],h instanceof pw.UnsubscriptionError?i=r2(r2([],t2(i)),t2(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}if(i)throw new pw.UnsubscriptionError(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)o2(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&n2.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&n2.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})();an.Subscription=mw;an.EMPTY_SUBSCRIPTION=mw.EMPTY;function YJ(e){return e instanceof mw||e&&"closed"in e&&vd.isFunction(e.remove)&&vd.isFunction(e.add)&&vd.isFunction(e.unsubscribe)}an.isSubscription=YJ;function o2(e){vd.isFunction(e)?e():e.unsubscribe()}});var hc=y(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.config=void 0;Ah.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var hw=y(ei=>{"use strict";var i2=ei&&ei.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},a2=ei&&ei.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ei,"__esModule",{value:!0});ei.timeoutProvider=void 0;ei.timeoutProvider={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ei.timeoutProvider.delegate;return o?.setTimeout?o.setTimeout.apply(o,a2([e,t],i2(r))):setTimeout.apply(void 0,a2([e,t],i2(r)))},clearTimeout:function(e){var t=ei.timeoutProvider.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});var gw=y(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.reportUnhandledError=void 0;var XJ=hc(),ZJ=hw();function KJ(e){ZJ.timeoutProvider.setTimeout(function(){var t=XJ.config.onUnhandledError;if(t)t(e);else throw e})}jh.reportUnhandledError=KJ});var yr=y(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.noop=void 0;function JJ(){}Ih.noop=JJ});var s2=y(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.createNotification=ti.nextNotification=ti.errorNotification=ti.COMPLETE_NOTIFICATION=void 0;ti.COMPLETE_NOTIFICATION=(function(){return Lh("C",void 0,void 0)})();function QJ(e){return Lh("E",void 0,e)}ti.errorNotification=QJ;function eQ(e){return Lh("N",e,void 0)}ti.nextNotification=eQ;function Lh(e,t,r){return{kind:e,value:t,error:r}}ti.createNotification=Lh});var Dh=y(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.captureError=gc.errorContext=void 0;var u2=hc(),zs=null;function tQ(e){if(u2.config.useDeprecatedSynchronousErrorHandling){var t=!zs;if(t&&(zs={errorThrown:!1,error:null}),e(),t){var r=zs,n=r.errorThrown,o=r.error;if(zs=null,n)throw o}}else e()}gc.errorContext=tQ;function rQ(e){u2.config.useDeprecatedSynchronousErrorHandling&&zs&&(zs.errorThrown=!0,zs.error=e)}gc.captureError=rQ});var vc=y(mo=>{"use strict";var f2=mo&&mo.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(mo,"__esModule",{value:!0});mo.EMPTY_OBSERVER=mo.SafeSubscriber=mo.Subscriber=void 0;var nQ=Qe(),c2=Sn(),_w=hc(),oQ=gw(),l2=yr(),vw=s2(),iQ=hw(),aQ=Dh(),d2=(function(e){f2(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,c2.isSubscription(r)&&r.add(n)):n.destination=mo.EMPTY_OBSERVER,n}return t.create=function(r,n,o){return new p2(r,n,o)},t.prototype.next=function(r){this.isStopped?yw(vw.nextNotification(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?yw(vw.errorNotification(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?yw(vw.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(c2.Subscription);mo.Subscriber=d2;var sQ=Function.prototype.bind;function bw(e,t){return sQ.call(e,t)}var uQ=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Nh(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Nh(n)}else Nh(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Nh(r)}},e})(),p2=(function(e){f2(t,e);function t(r,n,o){var i=e.call(this)||this,a;if(nQ.isFunction(r)||!r)a={next:r??void 0,error:n??void 0,complete:o??void 0};else{var s;i&&_w.config.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&bw(r.next,s),error:r.error&&bw(r.error,s),complete:r.complete&&bw(r.complete,s)}):a=r}return i.destination=new uQ(a),i}return t})(d2);mo.SafeSubscriber=p2;function Nh(e){_w.config.useDeprecatedSynchronousErrorHandling?aQ.captureError(e):oQ.reportUnhandledError(e)}function cQ(e){throw e}function yw(e,t){var r=_w.config.onStoppedNotification;r&&iQ.timeoutProvider.setTimeout(function(){return r(e,t)})}mo.EMPTY_OBSERVER={closed:!0,next:l2.noop,error:cQ,complete:l2.noop}});var bd=y(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.observable=void 0;Fh.observable=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})()});var _r=y(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.identity=void 0;function lQ(e){return e}qh.identity=lQ});var yd=y(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.pipeFromArray=bc.pipe=void 0;var fQ=_r();function dQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m2(e)}bc.pipe=dQ;function m2(e){return e.length===0?fQ.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}bc.pipeFromArray=m2});var nt=y(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Observable=void 0;var ww=vc(),pQ=Sn(),mQ=bd(),hQ=yd(),gQ=hc(),xw=Qe(),vQ=Dh(),bQ=(function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=_Q(t)?t:new ww.SafeSubscriber(t,r,n);return vQ.errorContext(function(){var a=o,s=a.operator,c=a.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=h2(r),new r(function(o,i){var a=new ww.SafeSubscriber({next:function(s){try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[mQ.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hQ.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=h2(t),new t(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},e.create=function(t){return new e(t)},e})();Bh.Observable=bQ;function h2(e){var t;return(t=e??gQ.config.Promise)!==null&&t!==void 0?t:Promise}function yQ(e){return e&&xw.isFunction(e.next)&&xw.isFunction(e.error)&&xw.isFunction(e.complete)}function _Q(e){return e&&e instanceof ww.Subscriber||yQ(e)&&pQ.isSubscription(e)}});var J=y(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.operate=yc.hasLift=void 0;var xQ=Qe();function g2(e){return xQ.isFunction(e?.lift)}yc.hasLift=g2;function wQ(e){return function(t){if(g2(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}yc.operate=wQ});var le=y(_a=>{"use strict";var SQ=_a&&_a.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(_a,"__esModule",{value:!0});_a.OperatorSubscriber=_a.createOperatorSubscriber=void 0;var CQ=vc();function TQ(e,t,r,n,o){return new v2(e,t,r,n,o)}_a.createOperatorSubscriber=TQ;var v2=(function(e){SQ(t,e);function t(r,n,o,i,a,s){var c=e.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t})(CQ.Subscriber);_a.OperatorSubscriber=v2});var Sw=y(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.refCount=void 0;var kQ=J(),EQ=le();function OQ(){return kQ.operate(function(e,t){var r=null;e._refCount++;var n=EQ.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}zh.refCount=OQ});var _d=y(_c=>{"use strict";var RQ=_c&&_c.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(_c,"__esModule",{value:!0});_c.ConnectableObservable=void 0;var MQ=nt(),b2=Sn(),PQ=Sw(),AQ=le(),jQ=J(),IQ=(function(e){RQ(t,e);function t(r,n){var o=e.call(this)||this;return o.source=r,o.subjectFactory=n,o._subject=null,o._refCount=0,o._connection=null,jQ.hasLift(r)&&(o.lift=r.lift),o}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new b2.Subscription;var o=this.getSubject();n.add(this.source.subscribe(AQ.createOperatorSubscriber(o,void 0,function(){r._teardown(),o.complete()},function(i){r._teardown(),o.error(i)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=b2.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return PQ.refCount()(this)},t})(MQ.Observable);_c.ConnectableObservable=IQ});var y2=y(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.performanceTimestampProvider=void 0;xd.performanceTimestampProvider={now:function(){return(xd.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Cw=y(ho=>{"use strict";var _2=ho&&ho.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},x2=ho&&ho.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ho,"__esModule",{value:!0});ho.animationFrameProvider=void 0;var LQ=Sn();ho.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=ho.animationFrameProvider.delegate;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);var o=t(function(i){r=void 0,e(i)});return new LQ.Subscription(function(){return r?.(o)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ho.animationFrameProvider.delegate;return(r?.requestAnimationFrame||requestAnimationFrame).apply(void 0,x2([],_2(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ho.animationFrameProvider.delegate;return(r?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,x2([],_2(e)))},delegate:void 0}});var C2=y(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.animationFrames=void 0;var DQ=nt(),NQ=y2(),w2=Cw();function FQ(e){return e?S2(e):qQ}Hh.animationFrames=FQ;function S2(e){return new DQ.Observable(function(t){var r=e||NQ.performanceTimestampProvider,n=r.now(),o=0,i=function(){t.closed||(o=w2.animationFrameProvider.requestAnimationFrame(function(a){o=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),i()}))};return i(),function(){o&&w2.animationFrameProvider.cancelAnimationFrame(o)}})}var qQ=S2()});var Tw=y(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.ObjectUnsubscribedError=void 0;var BQ=ya();Wh.ObjectUnsubscribedError=BQ.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var xr=y(ri=>{"use strict";var k2=ri&&ri.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zQ=ri&&ri.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ri,"__esModule",{value:!0});ri.AnonymousSubject=ri.Subject=void 0;var T2=nt(),Ew=Sn(),HQ=Tw(),WQ=Mi(),kw=Dh(),E2=(function(e){k2(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Ow(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new HQ.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;kw.errorContext(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=zQ(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(r)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;kw.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;kw.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?Ew.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Ew.Subscription(function(){n.currentObservers=null,WQ.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?r.error(i):a&&r.complete()},t.prototype.asObservable=function(){var r=new T2.Observable;return r.source=this,r},t.create=function(r,n){return new Ow(r,n)},t})(T2.Observable);ri.Subject=E2;var Ow=(function(e){k2(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:Ew.EMPTY_SUBSCRIPTION},t})(E2);ri.AnonymousSubject=Ow});var Rw=y(xc=>{"use strict";var $Q=xc&&xc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(xc,"__esModule",{value:!0});xc.BehaviorSubject=void 0;var UQ=xr(),VQ=(function(e){$Q(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,i=r._value;if(n)throw o;return this._throwIfClosed(),i},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t})(UQ.Subject);xc.BehaviorSubject=VQ});var $h=y(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.dateTimestampProvider=void 0;wd.dateTimestampProvider={now:function(){return(wd.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Uh=y(wc=>{"use strict";var GQ=wc&&wc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(wc,"__esModule",{value:!0});wc.ReplaySubject=void 0;var YQ=xr(),XQ=$h(),ZQ=(function(e){GQ(t,e);function t(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=XQ.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return t.prototype.next=function(r){var n=this,o=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,c=n._windowTime;o||(i.push(r),!a&&i.push(s.now()+c)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),c=0;c<s.length&&!r.closed;c+=i?1:2)r.next(s[c]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,i=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var c=o.now(),u=0,l=1;l<i.length&&i[l]<=c;l+=2)u=l;u&&i.splice(0,u+1)}},t})(YQ.Subject);wc.ReplaySubject=ZQ});var Vh=y(Sc=>{"use strict";var KQ=Sc&&Sc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.AsyncSubject=void 0;var JQ=xr(),QQ=(function(e){KQ(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n._hasValue,a=n._value,s=n.thrownError,c=n.isStopped,u=n._isComplete;o?r.error(s):(c||u)&&(i&&r.next(a),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,o=r._value,i=r._isComplete;i||(this._isComplete=!0,n&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t})(JQ.Subject);Sc.AsyncSubject=QQ});var O2=y(Cc=>{"use strict";var eee=Cc&&Cc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.Action=void 0;var tee=Sn(),ree=(function(e){eee(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},t})(tee.Subscription);Cc.Action=ree});var P2=y(ni=>{"use strict";var R2=ni&&ni.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},M2=ni&&ni.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ni,"__esModule",{value:!0});ni.intervalProvider=void 0;ni.intervalProvider={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ni.intervalProvider.delegate;return o?.setInterval?o.setInterval.apply(o,M2([e,t],R2(r))):setInterval.apply(void 0,M2([e,t],R2(r)))},clearInterval:function(e){var t=ni.intervalProvider.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0}});var kc=y(Tc=>{"use strict";var nee=Tc&&Tc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.AsyncAction=void 0;var oee=O2(),A2=P2(),iee=Mi(),aee=(function(e){nee(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),A2.intervalProvider.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&A2.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,iee.arrRemove(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t})(oee.Action);Tc.AsyncAction=aee});var I2=y(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.TestTools=Ec.Immediate=void 0;var see=1,Mw,Gh={};function j2(e){return e in Gh?(delete Gh[e],!0):!1}Ec.Immediate={setImmediate:function(e){var t=see++;return Gh[t]=!0,Mw||(Mw=Promise.resolve()),Mw.then(function(){return j2(t)&&e()}),t},clearImmediate:function(e){j2(e)}};Ec.TestTools={pending:function(){return Object.keys(Gh).length}}});var D2=y(oi=>{"use strict";var uee=oi&&oi.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},cee=oi&&oi.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(oi,"__esModule",{value:!0});oi.immediateProvider=void 0;var L2=I2(),lee=L2.Immediate.setImmediate,fee=L2.Immediate.clearImmediate;oi.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=oi.immediateProvider.delegate;return(r?.setImmediate||lee).apply(void 0,cee([],uee(e)))},clearImmediate:function(e){var t=oi.immediateProvider.delegate;return(t?.clearImmediate||fee)(e)},delegate:void 0}});var F2=y(Oc=>{"use strict";var dee=Oc&&Oc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.AsapAction=void 0;var pee=kc(),N2=D2(),mee=(function(e){dee(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=N2.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var a=r.actions;n!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==n&&(N2.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},t})(pee.AsyncAction);Oc.AsapAction=mee});var Pw=y(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Scheduler=void 0;var hee=$h(),gee=(function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=hee.dateTimestampProvider.now,e})();Yh.Scheduler=gee});var Mc=y(Rc=>{"use strict";var vee=Rc&&Rc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.AsyncScheduler=void 0;var q2=Pw(),bee=(function(e){vee(t,e);function t(r,n){n===void 0&&(n=q2.Scheduler.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t})(q2.Scheduler);Rc.AsyncScheduler=bee});var B2=y(Pc=>{"use strict";var yee=Pc&&Pc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.AsapScheduler=void 0;var _ee=Mc(),xee=(function(e){yee(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var o=this.actions,i;r=r||o.shift();do if(i=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,i){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw i}},t})(_ee.AsyncScheduler);Pc.AsapScheduler=xee});var z2=y(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.asap=Hs.asapScheduler=void 0;var wee=F2(),See=B2();Hs.asapScheduler=new See.AsapScheduler(wee.AsapAction);Hs.asap=Hs.asapScheduler});var sn=y(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.async=Ws.asyncScheduler=void 0;var Cee=kc(),Tee=Mc();Ws.asyncScheduler=new Tee.AsyncScheduler(Cee.AsyncAction);Ws.async=Ws.asyncScheduler});var H2=y(Ac=>{"use strict";var kee=Ac&&Ac.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.QueueAction=void 0;var Eee=kc(),Oee=(function(e){kee(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.flush(this),0)},t})(Eee.AsyncAction);Ac.QueueAction=Oee});var W2=y(jc=>{"use strict";var Ree=jc&&jc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(jc,"__esModule",{value:!0});jc.QueueScheduler=void 0;var Mee=Mc(),Pee=(function(e){Ree(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Mee.AsyncScheduler);jc.QueueScheduler=Pee});var $2=y($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.queue=$s.queueScheduler=void 0;var Aee=H2(),jee=W2();$s.queueScheduler=new jee.QueueScheduler(Aee.QueueAction);$s.queue=$s.queueScheduler});var V2=y(Ic=>{"use strict";var Iee=Ic&&Ic.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.AnimationFrameAction=void 0;var Lee=kc(),U2=Cw(),Dee=(function(e){Iee(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=U2.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var a=r.actions;n!=null&&n===r._scheduled&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==n&&(U2.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t})(Lee.AsyncAction);Ic.AnimationFrameAction=Dee});var G2=y(Lc=>{"use strict";var Nee=Lc&&Lc.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.AnimationFrameScheduler=void 0;var Fee=Mc(),qee=(function(e){Nee(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n;r?n=r.id:(n=this._scheduled,this._scheduled=void 0);var o=this.actions,i;r=r||o.shift();do if(i=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,i){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw i}},t})(Fee.AsyncScheduler);Lc.AnimationFrameScheduler=qee});var Y2=y(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.animationFrame=Us.animationFrameScheduler=void 0;var Bee=V2(),zee=G2();Us.animationFrameScheduler=new zee.AnimationFrameScheduler(Bee.AnimationFrameAction);Us.animationFrame=Us.animationFrameScheduler});var K2=y(xa=>{"use strict";var X2=xa&&xa.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(xa,"__esModule",{value:!0});xa.VirtualAction=xa.VirtualTimeScheduler=void 0;var Hee=kc(),Wee=Sn(),$ee=Mc(),Uee=(function(e){X2(t,e);function t(r,n){r===void 0&&(r=Z2),n===void 0&&(n=1/0);var o=e.call(this,r,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var r=this,n=r.actions,o=r.maxFrames,i,a;(a=n[0])&&a.delay<=o&&(n.shift(),this.frame=a.delay,!(i=a.execute(a.state,a.delay))););if(i){for(;a=n.shift();)a.unsubscribe();throw i}},t.frameTimeFactor=10,t})($ee.AsyncScheduler);xa.VirtualTimeScheduler=Uee;var Z2=(function(e){X2(t,e);function t(r,n,o){o===void 0&&(o=r.index+=1);var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.index=o,i.active=!0,i.index=r.index=o,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)}else return Wee.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,o){o===void 0&&(o=0),this.delay=r.frame+o;var i=r.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,o){o===void 0&&(o=0)},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t})(Hee.AsyncAction);xa.VirtualAction=Z2});var go=y(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.empty=Vs.EMPTY=void 0;var J2=nt();Vs.EMPTY=new J2.Observable(function(e){return e.complete()});function Vee(e){return e?Gee(e):Vs.EMPTY}Vs.empty=Vee;function Gee(e){return new J2.Observable(function(t){return e.schedule(function(){return t.complete()})})}});var Sd=y(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.isScheduler=void 0;var Yee=Qe();function Xee(e){return e&&Yee.isFunction(e.schedule)}Xh.isScheduler=Xee});var un=y(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.popNumber=wa.popScheduler=wa.popResultSelector=void 0;var Zee=Qe(),Kee=Sd();function Aw(e){return e[e.length-1]}function Jee(e){return Zee.isFunction(Aw(e))?e.pop():void 0}wa.popResultSelector=Jee;function Qee(e){return Kee.isScheduler(Aw(e))?e.pop():void 0}wa.popScheduler=Qee;function ete(e,t){return typeof Aw(e)=="number"?e.pop():t}wa.popNumber=ete});var Kh=y(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.isArrayLike=void 0;Zh.isArrayLike=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"})});var jw=y(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.isPromise=void 0;var tte=Qe();function rte(e){return tte.isFunction(e?.then)}Jh.isPromise=rte});var Iw=y(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.isInteropObservable=void 0;var nte=bd(),ote=Qe();function ite(e){return ote.isFunction(e[nte.observable])}Qh.isInteropObservable=ite});var Lw=y(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.isAsyncIterable=void 0;var ate=Qe();function ste(e){return Symbol.asyncIterator&&ate.isFunction(e?.[Symbol.asyncIterator])}eg.isAsyncIterable=ste});var Dw=y(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.createInvalidObservableTypeError=void 0;function ute(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}tg.createInvalidObservableTypeError=ute});var Nw=y(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.iterator=Dc.getSymbolIterator=void 0;function Q2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Dc.getSymbolIterator=Q2;Dc.iterator=Q2()});var Fw=y(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.isIterable=void 0;var cte=Nw(),lte=Qe();function fte(e){return lte.isFunction(e?.[cte.iterator])}rg.isIterable=fte});var ng=y(Wn=>{"use strict";var dte=Wn&&Wn.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Nc=Wn&&Wn.__await||function(e){return this instanceof Nc?(this.v=e,this):new Nc(e)},pte=Wn&&Wn.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){n[d]&&(o[d]=function(p){return new Promise(function(m,h){i.push([d,p,m,h])>1||s(d,p)})})}function s(d,p){try{c(n[d](p))}catch(m){f(i[0][3],m)}}function c(d){d.value instanceof Nc?Promise.resolve(d.value.v).then(u,l):f(i[0][2],d)}function u(d){s("next",d)}function l(d){s("throw",d)}function f(d,p){d(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.isReadableStreamLike=Wn.readableStreamLikeToAsyncGenerator=void 0;var mte=Qe();function hte(e){return pte(this,arguments,function(){var r,n,o,i;return dte(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Nc(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,Nc(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Nc(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}Wn.readableStreamLikeToAsyncGenerator=hte;function gte(e){return mte.isFunction(e?.getReader)}Wn.isReadableStreamLike=gte});var je=y(ht=>{"use strict";var vte=ht&&ht.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{u(n.next(l))}catch(f){a(f)}}function c(l){try{u(n.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):o(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},bte=ht&&ht.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yte=ht&&ht.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof qw=="function"?qw(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},a)}},qw=ht&&ht.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ht,"__esModule",{value:!0});ht.fromReadableStreamLike=ht.fromAsyncIterable=ht.fromIterable=ht.fromPromise=ht.fromArrayLike=ht.fromInteropObservable=ht.innerFrom=void 0;var _te=Kh(),xte=jw(),Fc=nt(),wte=Iw(),Ste=Lw(),Cte=Dw(),Tte=Fw(),eI=ng(),kte=Qe(),Ete=gw(),Ote=bd();function Rte(e){if(e instanceof Fc.Observable)return e;if(e!=null){if(wte.isInteropObservable(e))return tI(e);if(_te.isArrayLike(e))return rI(e);if(xte.isPromise(e))return nI(e);if(Ste.isAsyncIterable(e))return Bw(e);if(Tte.isIterable(e))return oI(e);if(eI.isReadableStreamLike(e))return iI(e)}throw Cte.createInvalidObservableTypeError(e)}ht.innerFrom=Rte;function tI(e){return new Fc.Observable(function(t){var r=e[Ote.observable]();if(kte.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}ht.fromInteropObservable=tI;function rI(e){return new Fc.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}ht.fromArrayLike=rI;function nI(e){return new Fc.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Ete.reportUnhandledError)})}ht.fromPromise=nI;function oI(e){return new Fc.Observable(function(t){var r,n;try{for(var o=qw(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}ht.fromIterable=oI;function Bw(e){return new Fc.Observable(function(t){Mte(e,t).catch(function(r){return t.error(r)})})}ht.fromAsyncIterable=Bw;function iI(e){return Bw(eI.readableStreamLikeToAsyncGenerator(e))}ht.fromReadableStreamLike=iI;function Mte(e,t){var r,n,o,i;return vte(this,void 0,void 0,function(){var a,s;return bte(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=yte(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}});var Pi=y(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.executeSchedule=void 0;function Pte(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}og.executeSchedule=Pte});var Cd=y(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.observeOn=void 0;var zw=Pi(),Ate=J(),jte=le();function Ite(e,t){return t===void 0&&(t=0),Ate.operate(function(r,n){r.subscribe(jte.createOperatorSubscriber(n,function(o){return zw.executeSchedule(n,e,function(){return n.next(o)},t)},function(){return zw.executeSchedule(n,e,function(){return n.complete()},t)},function(o){return zw.executeSchedule(n,e,function(){return n.error(o)},t)}))})}ig.observeOn=Ite});var Td=y(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.subscribeOn=void 0;var Lte=J();function Dte(e,t){return t===void 0&&(t=0),Lte.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}ag.subscribeOn=Dte});var aI=y(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.scheduleObservable=void 0;var Nte=je(),Fte=Cd(),qte=Td();function Bte(e,t){return Nte.innerFrom(e).pipe(qte.subscribeOn(t),Fte.observeOn(t))}sg.scheduleObservable=Bte});var sI=y(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.schedulePromise=void 0;var zte=je(),Hte=Cd(),Wte=Td();function $te(e,t){return zte.innerFrom(e).pipe(Wte.subscribeOn(t),Hte.observeOn(t))}ug.schedulePromise=$te});var uI=y(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.scheduleArray=void 0;var Ute=nt();function Vte(e,t){return new Ute.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}cg.scheduleArray=Vte});var Hw=y(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.scheduleIterable=void 0;var Gte=nt(),Yte=Nw(),Xte=Qe(),cI=Pi();function Zte(e,t){return new Gte.Observable(function(r){var n;return cI.executeSchedule(r,t,function(){n=e[Yte.iterator](),cI.executeSchedule(r,t,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(s){r.error(s);return}a?r.complete():r.next(i)},0,!0)}),function(){return Xte.isFunction(n?.return)&&n.return()}})}lg.scheduleIterable=Zte});var Ww=y(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.scheduleAsyncIterable=void 0;var Kte=nt(),lI=Pi();function Jte(e,t){if(!e)throw new Error("Iterable cannot be null");return new Kte.Observable(function(r){lI.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();lI.executeSchedule(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}fg.scheduleAsyncIterable=Jte});var fI=y(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.scheduleReadableStreamLike=void 0;var Qte=Ww(),ere=ng();function tre(e,t){return Qte.scheduleAsyncIterable(ere.readableStreamLikeToAsyncGenerator(e),t)}dg.scheduleReadableStreamLike=tre});var $w=y(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.scheduled=void 0;var rre=aI(),nre=sI(),ore=uI(),ire=Hw(),are=Ww(),sre=Iw(),ure=jw(),cre=Kh(),lre=Fw(),fre=Lw(),dre=Dw(),pre=ng(),mre=fI();function hre(e,t){if(e!=null){if(sre.isInteropObservable(e))return rre.scheduleObservable(e,t);if(cre.isArrayLike(e))return ore.scheduleArray(e,t);if(ure.isPromise(e))return nre.schedulePromise(e,t);if(fre.isAsyncIterable(e))return are.scheduleAsyncIterable(e,t);if(lre.isIterable(e))return ire.scheduleIterable(e,t);if(pre.isReadableStreamLike(e))return mre.scheduleReadableStreamLike(e,t)}throw dre.createInvalidObservableTypeError(e)}pg.scheduled=hre});var Ai=y(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.from=void 0;var gre=$w(),vre=je();function bre(e,t){return t?gre.scheduled(e,t):vre.innerFrom(e)}mg.from=bre});var gg=y(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.of=void 0;var yre=un(),_re=Ai();function xre(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=yre.popScheduler(e);return _re.from(e,r)}hg.of=xre});var Uw=y(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.throwError=void 0;var wre=nt(),Sre=Qe();function Cre(e,t){var r=Sre.isFunction(e)?e:function(){return e},n=function(o){return o.error(r())};return new wre.Observable(t?function(o){return t.schedule(n,0,o)}:n)}vg.throwError=Cre});var bg=y(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.observeNotification=ji.Notification=ji.NotificationKind=void 0;var Tre=go(),kre=gg(),Ere=Uw(),Ore=Qe(),Rre;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Rre=ji.NotificationKind||(ji.NotificationKind={}));var Mre=(function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){return dI(this,t)},e.prototype.do=function(t,r,n){var o=this,i=o.kind,a=o.value,s=o.error;return i==="N"?t?.(a):i==="E"?r?.(s):n?.()},e.prototype.accept=function(t,r,n){var o;return Ore.isFunction((o=t)===null||o===void 0?void 0:o.next)?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this,r=t.kind,n=t.value,o=t.error,i=r==="N"?kre.of(n):r==="E"?Ere.throwError(function(){return o}):r==="C"?Tre.EMPTY:0;if(!i)throw new TypeError("Unexpected notification kind "+r);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();ji.Notification=Mre;function dI(e,t){var r,n,o,i=e,a=i.kind,s=i.value,c=i.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=t.next)===null||r===void 0||r.call(t,s):a==="E"?(n=t.error)===null||n===void 0||n.call(t,c):(o=t.complete)===null||o===void 0||o.call(t)}ji.observeNotification=dI});var mI=y(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.isObservable=void 0;var Pre=nt(),pI=Qe();function Are(e){return!!e&&(e instanceof Pre.Observable||pI.isFunction(e.lift)&&pI.isFunction(e.subscribe))}yg.isObservable=Are});var Sa=y(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.EmptyError=void 0;var jre=ya();_g.EmptyError=jre.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});var hI=y(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.lastValueFrom=void 0;var Ire=Sa();function Lre(e,t){var r=typeof t=="object";return new Promise(function(n,o){var i=!1,a;e.subscribe({next:function(s){a=s,i=!0},error:o,complete:function(){i?n(a):r?n(t.defaultValue):o(new Ire.EmptyError)}})})}xg.lastValueFrom=Lre});var gI=y(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.firstValueFrom=void 0;var Dre=Sa(),Nre=vc();function Fre(e,t){var r=typeof t=="object";return new Promise(function(n,o){var i=new Nre.SafeSubscriber({next:function(a){n(a),i.unsubscribe()},error:o,complete:function(){r?n(t.defaultValue):o(new Dre.EmptyError)}});e.subscribe(i)})}wg.firstValueFrom=Fre});var Vw=y(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.ArgumentOutOfRangeError=void 0;var qre=ya();Sg.ArgumentOutOfRangeError=qre.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var Gw=y(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.NotFoundError=void 0;var Bre=ya();Cg.NotFoundError=Bre.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}})});var Yw=y(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.SequenceError=void 0;var zre=ya();Tg.SequenceError=zre.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}})});var Eg=y(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.isValidDate=void 0;function Hre(e){return e instanceof Date&&!isNaN(e)}kg.isValidDate=Hre});var Og=y(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.timeout=Gs.TimeoutError=void 0;var Wre=sn(),$re=Eg(),Ure=J(),Vre=je(),Gre=ya(),Yre=le(),Xre=Pi();Gs.TimeoutError=Gre.createErrorClass(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Zre(e,t){var r=$re.isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,o=r.each,i=r.with,a=i===void 0?Kre:i,s=r.scheduler,c=s===void 0?t??Wre.asyncScheduler:s,u=r.meta,l=u===void 0?null:u;if(n==null&&o==null)throw new TypeError("No timeout provided.");return Ure.operate(function(f,d){var p,m,h=null,v=0,b=function(_){m=Xre.executeSchedule(d,c,function(){try{p.unsubscribe(),Vre.innerFrom(a({meta:l,lastValue:h,seen:v})).subscribe(d)}catch(S){d.error(S)}},_)};p=f.subscribe(Yre.createOperatorSubscriber(d,function(_){m?.unsubscribe(),v++,d.next(h=_),o>0&&b(o)},void 0,void 0,function(){m?.closed||m?.unsubscribe(),h=null})),!v&&b(n!=null?typeof n=="number"?n:+n-c.now():o)})}Gs.timeout=Zre;function Kre(e){throw new Gs.TimeoutError(e)}});var Ca=y(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.map=void 0;var Jre=J(),Qre=le();function ene(e,t){return Jre.operate(function(r,n){var o=0;r.subscribe(Qre.createOperatorSubscriber(n,function(i){n.next(e.call(t,i,o++))}))})}Rg.map=ene});var ka=y(Ta=>{"use strict";var tne=Ta&&Ta.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},rne=Ta&&Ta.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.mapOneOrManyArgs=void 0;var nne=Ca(),one=Array.isArray;function ine(e,t){return one(t)?e.apply(void 0,rne([],tne(t))):e(t)}function ane(e){return nne.map(function(t){return ine(e,t)})}Ta.mapOneOrManyArgs=ane});var Zw=y(Ea=>{"use strict";var sne=Ea&&Ea.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},vI=Ea&&Ea.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.bindCallbackInternals=void 0;var une=Sd(),cne=nt(),lne=Td(),fne=ka(),dne=Cd(),pne=Vh();function Xw(e,t,r,n){if(r)if(une.isScheduler(r))n=r;else return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return Xw(e,t,n).apply(this,o).pipe(fne.mapOneOrManyArgs(r))};return n?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return Xw(e,t).apply(this,o).pipe(lne.subscribeOn(n),dne.observeOn(n))}:function(){for(var o=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=new pne.AsyncSubject,c=!0;return new cne.Observable(function(u){var l=s.subscribe(u);if(c){c=!1;var f=!1,d=!1;t.apply(o,vI(vI([],sne(i)),[function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(e){var h=p.shift();if(h!=null){s.error(h);return}}s.next(1<p.length?p:p[0]),d=!0,f&&s.complete()}])),d&&s.complete(),f=!0}return l})}}Ea.bindCallbackInternals=Xw});var bI=y(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.bindCallback=void 0;var mne=Zw();function hne(e,t,r){return mne.bindCallbackInternals(!1,e,t,r)}Mg.bindCallback=hne});var yI=y(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.bindNodeCallback=void 0;var gne=Zw();function vne(e,t,r){return gne.bindCallbackInternals(!0,e,t,r)}Pg.bindNodeCallback=vne});var Kw=y(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.argsArgArrayOrObject=void 0;var bne=Array.isArray,yne=Object.getPrototypeOf,_ne=Object.prototype,xne=Object.keys;function wne(e){if(e.length===1){var t=e[0];if(bne(t))return{args:t,keys:null};if(Sne(t)){var r=xne(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}Ag.argsArgArrayOrObject=wne;function Sne(e){return e&&typeof e=="object"&&yne(e)===_ne}});var Jw=y(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.createObject=void 0;function Cne(e,t){return e.reduce(function(r,n,o){return r[n]=t[o],r},{})}jg.createObject=Cne});var Ig=y(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.combineLatestInit=qc.combineLatest=void 0;var Tne=nt(),kne=Kw(),wI=Ai(),SI=_r(),Ene=ka(),_I=un(),One=Jw(),Rne=le(),Mne=Pi();function Pne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=_I.popScheduler(e),n=_I.popResultSelector(e),o=kne.argsArgArrayOrObject(e),i=o.args,a=o.keys;if(i.length===0)return wI.from([],r);var s=new Tne.Observable(CI(i,r,a?function(c){return One.createObject(a,c)}:SI.identity));return n?s.pipe(Ene.mapOneOrManyArgs(n)):s}qc.combineLatest=Pne;function CI(e,t,r){return r===void 0&&(r=SI.identity),function(n){xI(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,c=function(l){xI(t,function(){var f=wI.from(e[l],t),d=!1;f.subscribe(Rne.createOperatorSubscriber(n,function(p){i[l]=p,d||(d=!0,s--),s||n.next(r(i.slice()))},function(){--a||n.complete()}))},n)},u=0;u<o;u++)c(u)},n)}}qc.combineLatestInit=CI;function xI(e,t,r){e?Mne.executeSchedule(r,e,t):t()}});var Dg=y(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.mergeInternals=void 0;var Ane=je(),jne=Pi(),TI=le();function Ine(e,t,r,n,o,i,a,s){var c=[],u=0,l=0,f=!1,d=function(){f&&!c.length&&!u&&t.complete()},p=function(h){return u<n?m(h):c.push(h)},m=function(h){i&&t.next(h),u++;var v=!1;Ane.innerFrom(r(h,l++)).subscribe(TI.createOperatorSubscriber(t,function(b){o?.(b),i?p(b):t.next(b)},function(){v=!0},void 0,function(){if(v)try{u--;for(var b=function(){var _=c.shift();a?jne.executeSchedule(t,a,function(){return m(_)}):m(_)};c.length&&u<n;)b();d()}catch(_){t.error(_)}}))};return e.subscribe(TI.createOperatorSubscriber(t,p,function(){f=!0,d()})),function(){s?.()}}Lg.mergeInternals=Ine});var Ii=y(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.mergeMap=void 0;var Lne=Ca(),Dne=je(),Nne=J(),Fne=Dg(),qne=Qe();function kI(e,t,r){return r===void 0&&(r=1/0),qne.isFunction(t)?kI(function(n,o){return Lne.map(function(i,a){return t(n,i,o,a)})(Dne.innerFrom(e(n,o)))},r):(typeof t=="number"&&(r=t),Nne.operate(function(n,o){return Fne.mergeInternals(n,o,e,r)}))}Ng.mergeMap=kI});var kd=y(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.mergeAll=void 0;var Bne=Ii(),zne=_r();function Hne(e){return e===void 0&&(e=1/0),Bne.mergeMap(zne.identity,e)}Fg.mergeAll=Hne});var Bg=y(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.concatAll=void 0;var Wne=kd();function $ne(){return Wne.mergeAll(1)}qg.concatAll=$ne});var Ed=y(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.concat=void 0;var Une=Bg(),Vne=un(),Gne=Ai();function Yne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Une.concatAll()(Gne.from(e,Vne.popScheduler(e)))}zg.concat=Yne});var Od=y(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.defer=void 0;var Xne=nt(),Zne=je();function Kne(e){return new Xne.Observable(function(t){Zne.innerFrom(e()).subscribe(t)})}Hg.defer=Kne});var EI=y(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.connectable=void 0;var Jne=xr(),Qne=nt(),eoe=Od(),toe={connector:function(){return new Jne.Subject},resetOnDisconnect:!0};function roe(e,t){t===void 0&&(t=toe);var r=null,n=t.connector,o=t.resetOnDisconnect,i=o===void 0?!0:o,a=n(),s=new Qne.Observable(function(c){return a.subscribe(c)});return s.connect=function(){return(!r||r.closed)&&(r=eoe.defer(function(){return e}).subscribe(a),i&&r.add(function(){return a=n()})),r},s}Wg.connectable=roe});var OI=y($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.forkJoin=void 0;var noe=nt(),ooe=Kw(),ioe=je(),aoe=un(),soe=le(),uoe=ka(),coe=Jw();function loe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=aoe.popResultSelector(e),n=ooe.argsArgArrayOrObject(e),o=n.args,i=n.keys,a=new noe.Observable(function(s){var c=o.length;if(!c){s.complete();return}for(var u=new Array(c),l=c,f=c,d=function(m){var h=!1;ioe.innerFrom(o[m]).subscribe(soe.createOperatorSubscriber(s,function(v){h||(h=!0,f--),u[m]=v},function(){return l--},void 0,function(){(!l||!h)&&(f||s.next(i?coe.createObject(i,u):u),s.complete())}))},p=0;p<c;p++)d(p)});return r?a.pipe(uoe.mapOneOrManyArgs(r)):a}$g.forkJoin=loe});var MI=y(Bc=>{"use strict";var foe=Bc&&Bc.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.fromEvent=void 0;var doe=je(),poe=nt(),moe=Ii(),hoe=Kh(),Ys=Qe(),goe=ka(),voe=["addListener","removeListener"],boe=["addEventListener","removeEventListener"],yoe=["on","off"];function Qw(e,t,r,n){if(Ys.isFunction(r)&&(n=r,r=void 0),n)return Qw(e,t,r).pipe(goe.mapOneOrManyArgs(n));var o=foe(woe(e)?boe.map(function(s){return function(c){return e[s](t,c,r)}}):_oe(e)?voe.map(RI(e,t)):xoe(e)?yoe.map(RI(e,t)):[],2),i=o[0],a=o[1];if(!i&&hoe.isArrayLike(e))return moe.mergeMap(function(s){return Qw(s,t,r)})(doe.innerFrom(e));if(!i)throw new TypeError("Invalid event target");return new poe.Observable(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return i(c),function(){return a(c)}})}Bc.fromEvent=Qw;function RI(e,t){return function(r){return function(n){return e[r](t,n)}}}function _oe(e){return Ys.isFunction(e.addListener)&&Ys.isFunction(e.removeListener)}function xoe(e){return Ys.isFunction(e.on)&&Ys.isFunction(e.off)}function woe(e){return Ys.isFunction(e.addEventListener)&&Ys.isFunction(e.removeEventListener)}});var AI=y(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.fromEventPattern=void 0;var Soe=nt(),Coe=Qe(),Toe=ka();function PI(e,t,r){return r?PI(e,t).pipe(Toe.mapOneOrManyArgs(r)):new Soe.Observable(function(n){var o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},i=e(o);return Coe.isFunction(t)?function(){return t(o,i)}:void 0})}Ug.fromEventPattern=PI});var II=y(zc=>{"use strict";var koe=zc&&zc.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(zc,"__esModule",{value:!0});zc.generate=void 0;var jI=_r(),Eoe=Sd(),Ooe=Od(),Roe=Hw();function Moe(e,t,r,n,o){var i,a,s,c;arguments.length===1?(i=e,c=i.initialState,t=i.condition,r=i.iterate,a=i.resultSelector,s=a===void 0?jI.identity:a,o=i.scheduler):(c=e,!n||Eoe.isScheduler(n)?(s=jI.identity,o=n):s=n);function u(){var l;return koe(this,function(f){switch(f.label){case 0:l=c,f.label=1;case 1:return!t||t(l)?[4,s(l)]:[3,4];case 2:f.sent(),f.label=3;case 3:return l=r(l),[3,1];case 4:return[2]}})}return Ooe.defer(o?function(){return Roe.scheduleIterable(u(),o)}:u)}zc.generate=Moe});var LI=y(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.iif=void 0;var Poe=Od();function Aoe(e,t,r){return Poe.defer(function(){return e()?t:r})}Vg.iif=Aoe});var Oa=y(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.timer=void 0;var joe=nt(),Ioe=sn(),Loe=Sd(),Doe=Eg();function Noe(e,t,r){e===void 0&&(e=0),r===void 0&&(r=Ioe.async);var n=-1;return t!=null&&(Loe.isScheduler(t)?r=t:n=t),new joe.Observable(function(o){var i=Doe.isValidDate(e)?+e-r.now():e;i<0&&(i=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}Gg.timer=Noe});var eS=y(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.interval=void 0;var Foe=sn(),qoe=Oa();function Boe(e,t){return e===void 0&&(e=0),t===void 0&&(t=Foe.asyncScheduler),e<0&&(e=0),qoe.timer(e,e,t)}Yg.interval=Boe});var NI=y(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.merge=void 0;var zoe=kd(),Hoe=je(),Woe=go(),DI=un(),$oe=Ai();function Uoe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=DI.popScheduler(e),n=DI.popNumber(e,1/0),o=e;return o.length?o.length===1?Hoe.innerFrom(o[0]):zoe.mergeAll(n)($oe.from(o,r)):Woe.EMPTY}Xg.merge=Uoe});var tS=y(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.never=Xs.NEVER=void 0;var Voe=nt(),Goe=yr();Xs.NEVER=new Voe.Observable(Goe.noop);function Yoe(){return Xs.NEVER}Xs.never=Yoe});var Hc=y(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.argsOrArgArray=void 0;var Xoe=Array.isArray;function Zoe(e){return e.length===1&&Xoe(e[0])?e[0]:e}Zg.argsOrArgArray=Zoe});var rS=y(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.onErrorResumeNext=void 0;var Koe=nt(),Joe=Hc(),Qoe=le(),FI=yr(),eie=je();function tie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Joe.argsOrArgArray(e);return new Koe.Observable(function(n){var o=0,i=function(){if(o<r.length){var a=void 0;try{a=eie.innerFrom(r[o++])}catch{i();return}var s=new Qoe.OperatorSubscriber(n,void 0,FI.noop,FI.noop);a.subscribe(s),s.add(i)}else n.complete()};i()})}Kg.onErrorResumeNext=tie});var qI=y(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.pairs=void 0;var rie=Ai();function nie(e,t){return rie.from(Object.entries(e),t)}Jg.pairs=nie});var BI=y(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.not=void 0;function oie(e,t){return function(r,n){return!e.call(t,r,n)}}Qg.not=oie});var Zs=y(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.filter=void 0;var iie=J(),aie=le();function sie(e,t){return iie.operate(function(r,n){var o=0;r.subscribe(aie.createOperatorSubscriber(n,function(i){return e.call(t,i,o++)&&n.next(i)}))})}ev.filter=sie});var WI=y(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.partition=void 0;var uie=BI(),zI=Zs(),HI=je();function cie(e,t,r){return[zI.filter(t,r)(HI.innerFrom(e)),zI.filter(uie.not(t,r))(HI.innerFrom(e))]}tv.partition=cie});var nS=y(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.raceInit=Wc.race=void 0;var lie=nt(),$I=je(),fie=Hc(),die=le();function pie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=fie.argsOrArgArray(e),e.length===1?$I.innerFrom(e[0]):new lie.Observable(UI(e))}Wc.race=pie;function UI(e){return function(t){for(var r=[],n=function(i){r.push($I.innerFrom(e[i]).subscribe(die.createOperatorSubscriber(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==i&&r[s].unsubscribe();r=null}t.next(a)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}Wc.raceInit=UI});var VI=y(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.range=void 0;var mie=nt(),hie=go();function gie(e,t,r){if(t==null&&(t=e,e=0),t<=0)return hie.EMPTY;var n=t+e;return new mie.Observable(r?function(o){var i=e;return r.schedule(function(){i<n?(o.next(i++),this.schedule()):o.complete()})}:function(o){for(var i=e;i<n&&!o.closed;)o.next(i++);o.complete()})}rv.range=gie});var GI=y(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.using=void 0;var vie=nt(),bie=je(),yie=go();function _ie(e,t){return new vie.Observable(function(r){var n=e(),o=t(n),i=o?bie.innerFrom(o):yie.EMPTY;return i.subscribe(r),function(){n&&n.unsubscribe()}})}nv.using=_ie});var ov=y(Ra=>{"use strict";var xie=Ra&&Ra.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},wie=Ra&&Ra.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.zip=void 0;var Sie=nt(),Cie=je(),Tie=Hc(),kie=go(),Eie=le(),Oie=un();function Rie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Oie.popResultSelector(e),n=Tie.argsOrArgArray(e);return n.length?new Sie.Observable(function(o){var i=n.map(function(){return[]}),a=n.map(function(){return!1});o.add(function(){i=a=null});for(var s=function(u){Cie.innerFrom(n[u]).subscribe(Eie.createOperatorSubscriber(o,function(l){if(i[u].push(l),i.every(function(d){return d.length})){var f=i.map(function(d){return d.shift()});o.next(r?r.apply(void 0,wie([],xie(f))):f),i.some(function(d,p){return!d.length&&a[p]})&&o.complete()}},function(){a[u]=!0,!i[u].length&&o.complete()}))},c=0;!o.closed&&c<n.length;c++)s(c);return function(){i=a=null}}):kie.EMPTY}Ra.zip=Rie});var XI=y(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0})});var oS=y(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.audit=void 0;var Mie=J(),Pie=je(),ZI=le();function Aie(e){return Mie.operate(function(t,r){var n=!1,o=null,i=null,a=!1,s=function(){if(i?.unsubscribe(),i=null,n){n=!1;var u=o;o=null,r.next(u)}a&&r.complete()},c=function(){i=null,a&&r.complete()};t.subscribe(ZI.createOperatorSubscriber(r,function(u){n=!0,o=u,i||Pie.innerFrom(e(u)).subscribe(i=ZI.createOperatorSubscriber(r,s,c))},function(){a=!0,(!n||!i||i.closed)&&r.complete()}))})}iv.audit=Aie});var KI=y(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.auditTime=void 0;var jie=sn(),Iie=oS(),Lie=Oa();function Die(e,t){return t===void 0&&(t=jie.asyncScheduler),Iie.audit(function(){return Lie.timer(e,t)})}av.auditTime=Die});var QI=y(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.buffer=void 0;var Nie=J(),Fie=yr(),JI=le(),qie=je();function Bie(e){return Nie.operate(function(t,r){var n=[];return t.subscribe(JI.createOperatorSubscriber(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),qie.innerFrom(e).subscribe(JI.createOperatorSubscriber(r,function(){var o=n;n=[],r.next(o)},Fie.noop)),function(){n=null}})}sv.buffer=Bie});var eL=y($c=>{"use strict";var iS=$c&&$c.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($c,"__esModule",{value:!0});$c.bufferCount=void 0;var zie=J(),Hie=le(),Wie=Mi();function $ie(e,t){return t===void 0&&(t=null),t=t??e,zie.operate(function(r,n){var o=[],i=0;r.subscribe(Hie.createOperatorSubscriber(n,function(a){var s,c,u,l,f=null;i++%t===0&&o.push([]);try{for(var d=iS(o),p=d.next();!p.done;p=d.next()){var m=p.value;m.push(a),e<=m.length&&(f=f??[],f.push(m))}}catch(b){s={error:b}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}if(f)try{for(var h=iS(f),v=h.next();!v.done;v=h.next()){var m=v.value;Wie.arrRemove(o,m),n.next(m)}}catch(b){u={error:b}}finally{try{v&&!v.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var c=iS(o),u=c.next();!u.done;u=c.next()){var l=u.value;n.next(l)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}n.complete()},void 0,function(){o=null}))})}$c.bufferCount=$ie});var rL=y(Uc=>{"use strict";var Uie=Uc&&Uc.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.bufferTime=void 0;var Vie=Sn(),Gie=J(),Yie=le(),Xie=Mi(),Zie=sn(),Kie=un(),tL=Pi();function Jie(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=(t=Kie.popScheduler(n))!==null&&t!==void 0?t:Zie.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return Gie.operate(function(c,u){var l=[],f=!1,d=function(h){var v=h.buffer,b=h.subs;b.unsubscribe(),Xie.arrRemove(l,h),u.next(v),f&&p()},p=function(){if(l){var h=new Vie.Subscription;u.add(h);var v=[],b={buffer:v,subs:h};l.push(b),tL.executeSchedule(h,i,function(){return d(b)},e)}};a!==null&&a>=0?tL.executeSchedule(u,i,p,a,!0):f=!0,p();var m=Yie.createOperatorSubscriber(u,function(h){var v,b,_=l.slice();try{for(var S=Uie(_),w=S.next();!w.done;w=S.next()){var T=w.value,O=T.buffer;O.push(h),s<=O.length&&d(T)}}catch(C){v={error:C}}finally{try{w&&!w.done&&(b=S.return)&&b.call(S)}finally{if(v)throw v.error}}},function(){for(;l?.length;)u.next(l.shift().buffer);m?.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return l=null});c.subscribe(m)})}Uc.bufferTime=Jie});var iL=y(Vc=>{"use strict";var Qie=Vc&&Vc.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.bufferToggle=void 0;var eae=Sn(),tae=J(),nL=je(),aS=le(),oL=yr(),rae=Mi();function nae(e,t){return tae.operate(function(r,n){var o=[];nL.innerFrom(e).subscribe(aS.createOperatorSubscriber(n,function(i){var a=[];o.push(a);var s=new eae.Subscription,c=function(){rae.arrRemove(o,a),n.next(a),s.unsubscribe()};s.add(nL.innerFrom(t(i)).subscribe(aS.createOperatorSubscriber(n,c,oL.noop)))},oL.noop)),r.subscribe(aS.createOperatorSubscriber(n,function(i){var a,s;try{for(var c=Qie(o),u=c.next();!u.done;u=c.next()){var l=u.value;l.push(i)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}},function(){for(;o.length>0;)n.next(o.shift());n.complete()}))})}Vc.bufferToggle=nae});var sL=y(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.bufferWhen=void 0;var oae=J(),iae=yr(),aL=le(),aae=je();function sae(e){return oae.operate(function(t,r){var n=null,o=null,i=function(){o?.unsubscribe();var a=n;n=[],a&&r.next(a),aae.innerFrom(e()).subscribe(o=aL.createOperatorSubscriber(r,i,iae.noop))};i(),t.subscribe(aL.createOperatorSubscriber(r,function(a){return n?.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=o=null}))})}uv.bufferWhen=sae});var cL=y(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.catchError=void 0;var uae=je(),cae=le(),lae=J();function uL(e){return lae.operate(function(t,r){var n=null,o=!1,i;n=t.subscribe(cae.createOperatorSubscriber(r,void 0,void 0,function(a){i=uae.innerFrom(e(a,uL(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}cv.catchError=uL});var sS=y(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.scanInternals=void 0;var fae=le();function dae(e,t,r,n,o){return function(i,a){var s=r,c=t,u=0;i.subscribe(fae.createOperatorSubscriber(a,function(l){var f=u++;c=s?e(c,l,f):(s=!0,l),n&&a.next(c)},o&&(function(){s&&a.next(c),a.complete()})))}}lv.scanInternals=dae});var Gc=y(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.reduce=void 0;var pae=sS(),mae=J();function hae(e,t){return mae.operate(pae.scanInternals(e,t,arguments.length>=2,!1,!0))}fv.reduce=hae});var uS=y(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.toArray=void 0;var gae=Gc(),vae=J(),bae=function(e,t){return e.push(t),e};function yae(){return vae.operate(function(e,t){gae.reduce(bae,[])(e).subscribe(t)})}dv.toArray=yae});var cS=y(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.joinAllInternals=void 0;var _ae=_r(),xae=ka(),wae=yd(),Sae=Ii(),Cae=uS();function Tae(e,t){return wae.pipe(Cae.toArray(),Sae.mergeMap(function(r){return e(r)}),t?xae.mapOneOrManyArgs(t):_ae.identity)}pv.joinAllInternals=Tae});var lS=y(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.combineLatestAll=void 0;var kae=Ig(),Eae=cS();function Oae(e){return Eae.joinAllInternals(kae.combineLatest,e)}mv.combineLatestAll=Oae});var lL=y(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.combineAll=void 0;var Rae=lS();hv.combineAll=Rae.combineLatestAll});var mL=y(Ma=>{"use strict";var fL=Ma&&Ma.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},dL=Ma&&Ma.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.combineLatest=void 0;var Mae=Ig(),Pae=J(),Aae=Hc(),jae=ka(),Iae=yd(),Lae=un();function pL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Lae.popResultSelector(e);return r?Iae.pipe(pL.apply(void 0,dL([],fL(e))),jae.mapOneOrManyArgs(r)):Pae.operate(function(n,o){Mae.combineLatestInit(dL([n],fL(Aae.argsOrArgArray(e))))(o)})}Ma.combineLatest=pL});var hL=y(Pa=>{"use strict";var Dae=Pa&&Pa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Nae=Pa&&Pa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.combineLatestWith=void 0;var Fae=mL();function qae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fae.combineLatest.apply(void 0,Nae([],Dae(e)))}Pa.combineLatestWith=qae});var fS=y(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.concatMap=void 0;var gL=Ii(),Bae=Qe();function zae(e,t){return Bae.isFunction(t)?gL.mergeMap(e,t,1):gL.mergeMap(e,1)}gv.concatMap=zae});var bL=y(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.concatMapTo=void 0;var vL=fS(),Hae=Qe();function Wae(e,t){return Hae.isFunction(t)?vL.concatMap(function(){return e},t):vL.concatMap(function(){return e})}vv.concatMapTo=Wae});var yL=y(Aa=>{"use strict";var $ae=Aa&&Aa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Uae=Aa&&Aa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.concat=void 0;var Vae=J(),Gae=Bg(),Yae=un(),Xae=Ai();function Zae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Yae.popScheduler(e);return Vae.operate(function(n,o){Gae.concatAll()(Xae.from(Uae([n],$ae(e)),r)).subscribe(o)})}Aa.concat=Zae});var _L=y(ja=>{"use strict";var Kae=ja&&ja.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Jae=ja&&ja.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ja,"__esModule",{value:!0});ja.concatWith=void 0;var Qae=yL();function ese(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qae.concat.apply(void 0,Jae([],Kae(e)))}ja.concatWith=ese});var xL=y(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.fromSubscribable=void 0;var tse=nt();function rse(e){return new tse.Observable(function(t){return e.subscribe(t)})}bv.fromSubscribable=rse});var _v=y(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.connect=void 0;var nse=xr(),ose=je(),ise=J(),ase=xL(),sse={connector:function(){return new nse.Subject}};function use(e,t){t===void 0&&(t=sse);var r=t.connector;return ise.operate(function(n,o){var i=r();ose.innerFrom(e(ase.fromSubscribable(i))).subscribe(o),o.add(n.subscribe(i))})}yv.connect=use});var wL=y(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.count=void 0;var cse=Gc();function lse(e){return cse.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}xv.count=lse});var CL=y(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.debounce=void 0;var fse=J(),dse=yr(),SL=le(),pse=je();function mse(e){return fse.operate(function(t,r){var n=!1,o=null,i=null,a=function(){if(i?.unsubscribe(),i=null,n){n=!1;var s=o;o=null,r.next(s)}};t.subscribe(SL.createOperatorSubscriber(r,function(s){i?.unsubscribe(),n=!0,o=s,i=SL.createOperatorSubscriber(r,a,dse.noop),pse.innerFrom(e(s)).subscribe(i)},function(){a(),r.complete()},void 0,function(){o=i=null}))})}wv.debounce=mse});var TL=y(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.debounceTime=void 0;var hse=sn(),gse=J(),vse=le();function bse(e,t){return t===void 0&&(t=hse.asyncScheduler),gse.operate(function(r,n){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,n.next(u)}};function c(){var u=a+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),n.add(o);return}s()}r.subscribe(vse.createOperatorSubscriber(n,function(u){i=u,a=t.now(),o||(o=t.schedule(c,e),n.add(o))},function(){s(),n.complete()},void 0,function(){i=o=null}))})}Sv.debounceTime=bse});var Rd=y(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.defaultIfEmpty=void 0;var yse=J(),_se=le();function xse(e){return yse.operate(function(t,r){var n=!1;t.subscribe(_se.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){n||r.next(e),r.complete()}))})}Cv.defaultIfEmpty=xse});var Md=y(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.take=void 0;var wse=go(),Sse=J(),Cse=le();function Tse(e){return e<=0?function(){return wse.EMPTY}:Sse.operate(function(t,r){var n=0;t.subscribe(Cse.createOperatorSubscriber(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}Tv.take=Tse});var dS=y(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.ignoreElements=void 0;var kse=J(),Ese=le(),Ose=yr();function Rse(){return kse.operate(function(e,t){e.subscribe(Ese.createOperatorSubscriber(t,Ose.noop))})}kv.ignoreElements=Rse});var pS=y(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.mapTo=void 0;var Mse=Ca();function Pse(e){return Mse.map(function(){return e})}Ev.mapTo=Pse});var mS=y(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.delayWhen=void 0;var Ase=Ed(),kL=Md(),jse=dS(),Ise=pS(),Lse=Ii(),Dse=je();function EL(e,t){return t?function(r){return Ase.concat(t.pipe(kL.take(1),jse.ignoreElements()),r.pipe(EL(e)))}:Lse.mergeMap(function(r,n){return Dse.innerFrom(e(r,n)).pipe(kL.take(1),Ise.mapTo(r))})}Ov.delayWhen=EL});var OL=y(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.delay=void 0;var Nse=sn(),Fse=mS(),qse=Oa();function Bse(e,t){t===void 0&&(t=Nse.asyncScheduler);var r=qse.timer(e,t);return Fse.delayWhen(function(){return r})}Rv.delay=Bse});var RL=y(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.dematerialize=void 0;var zse=bg(),Hse=J(),Wse=le();function $se(){return Hse.operate(function(e,t){e.subscribe(Wse.createOperatorSubscriber(t,function(r){return zse.observeNotification(r,t)}))})}Mv.dematerialize=$se});var PL=y(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.distinct=void 0;var Use=J(),ML=le(),Vse=yr(),Gse=je();function Yse(e,t){return Use.operate(function(r,n){var o=new Set;r.subscribe(ML.createOperatorSubscriber(n,function(i){var a=e?e(i):i;o.has(a)||(o.add(a),n.next(i))})),t&&Gse.innerFrom(t).subscribe(ML.createOperatorSubscriber(n,function(){return o.clear()},Vse.noop))})}Pv.distinct=Yse});var hS=y(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.distinctUntilChanged=void 0;var Xse=_r(),Zse=J(),Kse=le();function Jse(e,t){return t===void 0&&(t=Xse.identity),e=e??Qse,Zse.operate(function(r,n){var o,i=!0;r.subscribe(Kse.createOperatorSubscriber(n,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,n.next(a))}))})}Av.distinctUntilChanged=Jse;function Qse(e,t){return e===t}});var AL=y(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.distinctUntilKeyChanged=void 0;var eue=hS();function tue(e,t){return eue.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}jv.distinctUntilKeyChanged=tue});var Pd=y(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.throwIfEmpty=void 0;var rue=Sa(),nue=J(),oue=le();function iue(e){return e===void 0&&(e=aue),nue.operate(function(t,r){var n=!1;t.subscribe(oue.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){return n?r.complete():r.error(e())}))})}Iv.throwIfEmpty=iue;function aue(){return new rue.EmptyError}});var IL=y(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.elementAt=void 0;var jL=Vw(),sue=Zs(),uue=Pd(),cue=Rd(),lue=Md();function fue(e,t){if(e<0)throw new jL.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(sue.filter(function(o,i){return i===e}),lue.take(1),r?cue.defaultIfEmpty(t):uue.throwIfEmpty(function(){return new jL.ArgumentOutOfRangeError}))}}Lv.elementAt=fue});var LL=y(Ia=>{"use strict";var due=Ia&&Ia.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},pue=Ia&&Ia.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.endWith=void 0;var mue=Ed(),hue=gg();function gue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return mue.concat(r,hue.of.apply(void 0,pue([],due(e))))}}Ia.endWith=gue});var DL=y(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.every=void 0;var vue=J(),bue=le();function yue(e,t){return vue.operate(function(r,n){var o=0;r.subscribe(bue.createOperatorSubscriber(n,function(i){e.call(t,i,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}Dv.every=yue});var gS=y(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.exhaustMap=void 0;var _ue=Ca(),NL=je(),xue=J(),FL=le();function qL(e,t){return t?function(r){return r.pipe(qL(function(n,o){return NL.innerFrom(e(n,o)).pipe(_ue.map(function(i,a){return t(n,i,o,a)}))}))}:xue.operate(function(r,n){var o=0,i=null,a=!1;r.subscribe(FL.createOperatorSubscriber(n,function(s){i||(i=FL.createOperatorSubscriber(n,void 0,function(){i=null,a&&n.complete()}),NL.innerFrom(e(s,o++)).subscribe(i))},function(){a=!0,!i&&n.complete()}))})}Nv.exhaustMap=qL});var vS=y(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.exhaustAll=void 0;var wue=gS(),Sue=_r();function Cue(){return wue.exhaustMap(Sue.identity)}Fv.exhaustAll=Cue});var BL=y(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.exhaust=void 0;var Tue=vS();qv.exhaust=Tue.exhaustAll});var zL=y(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.expand=void 0;var kue=J(),Eue=Dg();function Oue(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,kue.operate(function(n,o){return Eue.mergeInternals(n,o,e,t,void 0,!0,r)})}Bv.expand=Oue});var HL=y(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.finalize=void 0;var Rue=J();function Mue(e){return Rue.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}zv.finalize=Mue});var bS=y(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.createFind=Yc.find=void 0;var Pue=J(),Aue=le();function jue(e,t){return Pue.operate(WL(e,t,"value"))}Yc.find=jue;function WL(e,t,r){var n=r==="index";return function(o,i){var a=0;o.subscribe(Aue.createOperatorSubscriber(i,function(s){var c=a++;e.call(t,s,c,o)&&(i.next(n?c:s),i.complete())},function(){i.next(n?-1:void 0),i.complete()}))}}Yc.createFind=WL});var $L=y(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.findIndex=void 0;var Iue=J(),Lue=bS();function Due(e,t){return Iue.operate(Lue.createFind(e,t,"index"))}Hv.findIndex=Due});var UL=y(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.first=void 0;var Nue=Sa(),Fue=Zs(),que=Md(),Bue=Rd(),zue=Pd(),Hue=_r();function Wue(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Fue.filter(function(o,i){return e(o,i,n)}):Hue.identity,que.take(1),r?Bue.defaultIfEmpty(t):zue.throwIfEmpty(function(){return new Nue.EmptyError}))}}Wv.first=Wue});var GL=y($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.groupBy=void 0;var $ue=nt(),Uue=je(),Vue=xr(),Gue=J(),VL=le();function Yue(e,t,r,n){return Gue.operate(function(o,i){var a;!t||typeof t=="function"?a=t:(r=t.duration,a=t.element,n=t.connector);var s=new Map,c=function(m){s.forEach(m),m(i)},u=function(m){return c(function(h){return h.error(m)})},l=0,f=!1,d=new VL.OperatorSubscriber(i,function(m){try{var h=e(m),v=s.get(h);if(!v){s.set(h,v=n?n():new Vue.Subject);var b=p(h,v);if(i.next(b),r){var _=VL.createOperatorSubscriber(v,function(){v.complete(),_?.unsubscribe()},void 0,void 0,function(){return s.delete(h)});d.add(Uue.innerFrom(r(b)).subscribe(_))}}v.next(a?a(m):m)}catch(S){u(S)}},function(){return c(function(m){return m.complete()})},u,function(){return s.clear()},function(){return f=!0,l===0});o.subscribe(d);function p(m,h){var v=new $ue.Observable(function(b){l++;var _=h.subscribe(b);return function(){_.unsubscribe(),--l===0&&f&&d.unsubscribe()}});return v.key=m,v}})}$v.groupBy=Yue});var YL=y(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.isEmpty=void 0;var Xue=J(),Zue=le();function Kue(){return Xue.operate(function(e,t){e.subscribe(Zue.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}Uv.isEmpty=Kue});var yS=y(Xc=>{"use strict";var Jue=Xc&&Xc.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.takeLast=void 0;var Que=go(),ece=J(),tce=le();function rce(e){return e<=0?function(){return Que.EMPTY}:ece.operate(function(t,r){var n=[];t.subscribe(tce.createOperatorSubscriber(r,function(o){n.push(o),e<n.length&&n.shift()},function(){var o,i;try{for(var a=Jue(n),s=a.next();!s.done;s=a.next()){var c=s.value;r.next(c)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}r.complete()},void 0,function(){n=null}))})}Xc.takeLast=rce});var XL=y(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.last=void 0;var nce=Sa(),oce=Zs(),ice=yS(),ace=Pd(),sce=Rd(),uce=_r();function cce(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?oce.filter(function(o,i){return e(o,i,n)}):uce.identity,ice.takeLast(1),r?sce.defaultIfEmpty(t):ace.throwIfEmpty(function(){return new nce.EmptyError}))}}Vv.last=cce});var ZL=y(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.materialize=void 0;var _S=bg(),lce=J(),fce=le();function dce(){return lce.operate(function(e,t){e.subscribe(fce.createOperatorSubscriber(t,function(r){t.next(_S.Notification.createNext(r))},function(){t.next(_S.Notification.createComplete()),t.complete()},function(r){t.next(_S.Notification.createError(r)),t.complete()}))})}Gv.materialize=dce});var KL=y(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.max=void 0;var pce=Gc(),mce=Qe();function hce(e){return pce.reduce(mce.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}Yv.max=hce});var JL=y(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.flatMap=void 0;var gce=Ii();Xv.flatMap=gce.mergeMap});var eD=y(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.mergeMapTo=void 0;var QL=Ii(),vce=Qe();function bce(e,t,r){return r===void 0&&(r=1/0),vce.isFunction(t)?QL.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),QL.mergeMap(function(){return e},r))}Zv.mergeMapTo=bce});var tD=y(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.mergeScan=void 0;var yce=J(),_ce=Dg();function xce(e,t,r){return r===void 0&&(r=1/0),yce.operate(function(n,o){var i=t;return _ce.mergeInternals(n,o,function(a,s){return e(i,a,s)},r,function(a){i=a},!1,void 0,function(){return i=null})})}Kv.mergeScan=xce});var nD=y(La=>{"use strict";var wce=La&&La.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Sce=La&&La.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(La,"__esModule",{value:!0});La.merge=void 0;var Cce=J(),Tce=kd(),rD=un(),kce=Ai();function Ece(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=rD.popScheduler(e),n=rD.popNumber(e,1/0);return Cce.operate(function(o,i){Tce.mergeAll(n)(kce.from(Sce([o],wce(e)),r)).subscribe(i)})}La.merge=Ece});var oD=y(Da=>{"use strict";var Oce=Da&&Da.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Rce=Da&&Da.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Da,"__esModule",{value:!0});Da.mergeWith=void 0;var Mce=nD();function Pce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Mce.merge.apply(void 0,Rce([],Oce(e)))}Da.mergeWith=Pce});var iD=y(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.min=void 0;var Ace=Gc(),jce=Qe();function Ice(e){return Ace.reduce(jce.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}Jv.min=Ice});var eb=y(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.multicast=void 0;var Lce=_d(),aD=Qe(),Dce=_v();function Nce(e,t){var r=aD.isFunction(e)?e:function(){return e};return aD.isFunction(t)?Dce.connect(t,{connector:r}):function(n){return new Lce.ConnectableObservable(n,r)}}Qv.multicast=Nce});var uD=y(ii=>{"use strict";var Fce=ii&&ii.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},qce=ii&&ii.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(ii,"__esModule",{value:!0});ii.onErrorResumeNext=ii.onErrorResumeNextWith=void 0;var Bce=Hc(),zce=rS();function sD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Bce.argsOrArgArray(e);return function(n){return zce.onErrorResumeNext.apply(void 0,qce([n],Fce(r)))}}ii.onErrorResumeNextWith=sD;ii.onErrorResumeNext=sD});var cD=y(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.pairwise=void 0;var Hce=J(),Wce=le();function $ce(){return Hce.operate(function(e,t){var r,n=!1;e.subscribe(Wce.createOperatorSubscriber(t,function(o){var i=r;r=o,n&&t.next([i,o]),n=!0}))})}tb.pairwise=$ce});var lD=y(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.pluck=void 0;var Uce=Ca();function Vce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return Uce.map(function(n){for(var o=n,i=0;i<r;i++){var a=o?.[e[i]];if(typeof a<"u")o=a;else return}return o})}rb.pluck=Vce});var fD=y(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.publish=void 0;var Gce=xr(),Yce=eb(),Xce=_v();function Zce(e){return e?function(t){return Xce.connect(e)(t)}:function(t){return Yce.multicast(new Gce.Subject)(t)}}nb.publish=Zce});var dD=y(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.publishBehavior=void 0;var Kce=Rw(),Jce=_d();function Qce(e){return function(t){var r=new Kce.BehaviorSubject(e);return new Jce.ConnectableObservable(t,function(){return r})}}ob.publishBehavior=Qce});var pD=y(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.publishLast=void 0;var ele=Vh(),tle=_d();function rle(){return function(e){var t=new ele.AsyncSubject;return new tle.ConnectableObservable(e,function(){return t})}}ib.publishLast=rle});var hD=y(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.publishReplay=void 0;var nle=Uh(),ole=eb(),mD=Qe();function ile(e,t,r,n){r&&!mD.isFunction(r)&&(n=r);var o=mD.isFunction(r)?r:void 0;return function(i){return ole.multicast(new nle.ReplaySubject(e,t,n),o)(i)}}ab.publishReplay=ile});var gD=y(Na=>{"use strict";var ale=Na&&Na.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},sle=Na&&Na.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Na,"__esModule",{value:!0});Na.raceWith=void 0;var ule=nS(),cle=J(),lle=_r();function fle(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?cle.operate(function(r,n){ule.raceInit(sle([r],ale(e)))(n)}):lle.identity}Na.raceWith=fle});var bD=y(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.repeat=void 0;var dle=go(),ple=J(),vD=le(),mle=je(),hle=Oa();function gle(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return dle.EMPTY}:ple.operate(function(o,i){var a=0,s,c=function(){if(s?.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?hle.timer(n):mle.innerFrom(n(a)),f=vD.createOperatorSubscriber(i,function(){f.unsubscribe(),u()});l.subscribe(f)}else u()},u=function(){var l=!1;s=o.subscribe(vD.createOperatorSubscriber(i,void 0,function(){++a<r?s?c():l=!0:i.complete()})),l&&c()};u()})}sb.repeat=gle});var _D=y(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.repeatWhen=void 0;var vle=je(),ble=xr(),yle=J(),yD=le();function _le(e){return yle.operate(function(t,r){var n,o=!1,i,a=!1,s=!1,c=function(){return s&&a&&(r.complete(),!0)},u=function(){return i||(i=new ble.Subject,vle.innerFrom(e(i)).subscribe(yD.createOperatorSubscriber(r,function(){n?l():o=!0},function(){a=!0,c()}))),i},l=function(){s=!1,n=t.subscribe(yD.createOperatorSubscriber(r,void 0,function(){s=!0,!c()&&u().next()})),o&&(n.unsubscribe(),n=null,o=!1,l())};l()})}ub.repeatWhen=_le});var wD=y(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.retry=void 0;var xle=J(),xD=le(),wle=_r(),Sle=Oa(),Cle=je();function Tle(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,o=t.delay,i=t.resetOnSuccess,a=i===void 0?!1:i;return n<=0?wle.identity:xle.operate(function(s,c){var u=0,l,f=function(){var d=!1;l=s.subscribe(xD.createOperatorSubscriber(c,function(p){a&&(u=0),c.next(p)},void 0,function(p){if(u++<n){var m=function(){l?(l.unsubscribe(),l=null,f()):d=!0};if(o!=null){var h=typeof o=="number"?Sle.timer(o):Cle.innerFrom(o(p,u)),v=xD.createOperatorSubscriber(c,function(){v.unsubscribe(),m()},function(){c.complete()});h.subscribe(v)}else m()}else c.error(p)})),d&&(l.unsubscribe(),l=null,f())};f()})}cb.retry=Tle});var CD=y(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.retryWhen=void 0;var kle=je(),Ele=xr(),Ole=J(),SD=le();function Rle(e){return Ole.operate(function(t,r){var n,o=!1,i,a=function(){n=t.subscribe(SD.createOperatorSubscriber(r,void 0,void 0,function(s){i||(i=new Ele.Subject,kle.innerFrom(e(i)).subscribe(SD.createOperatorSubscriber(r,function(){return n?a():o=!0}))),i&&i.next(s)})),o&&(n.unsubscribe(),n=null,o=!1,a())};a()})}lb.retryWhen=Rle});var xS=y(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.sample=void 0;var Mle=je(),Ple=J(),Ale=yr(),TD=le();function jle(e){return Ple.operate(function(t,r){var n=!1,o=null;t.subscribe(TD.createOperatorSubscriber(r,function(i){n=!0,o=i})),Mle.innerFrom(e).subscribe(TD.createOperatorSubscriber(r,function(){if(n){n=!1;var i=o;o=null,r.next(i)}},Ale.noop))})}fb.sample=jle});var kD=y(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.sampleTime=void 0;var Ile=sn(),Lle=xS(),Dle=eS();function Nle(e,t){return t===void 0&&(t=Ile.asyncScheduler),Lle.sample(Dle.interval(e,t))}db.sampleTime=Nle});var ED=y(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.scan=void 0;var Fle=J(),qle=sS();function Ble(e,t){return Fle.operate(qle.scanInternals(e,t,arguments.length>=2,!0))}pb.scan=Ble});var RD=y(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.sequenceEqual=void 0;var zle=J(),Hle=le(),Wle=je();function $le(e,t){return t===void 0&&(t=function(r,n){return r===n}),zle.operate(function(r,n){var o=OD(),i=OD(),a=function(c){n.next(c),n.complete()},s=function(c,u){var l=Hle.createOperatorSubscriber(n,function(f){var d=u.buffer,p=u.complete;d.length===0?p?a(!1):c.buffer.push(f):!t(f,d.shift())&&a(!1)},function(){c.complete=!0;var f=u.complete,d=u.buffer;f&&a(d.length===0),l?.unsubscribe()});return l};r.subscribe(s(o,i)),Wle.innerFrom(e).subscribe(s(i,o))})}mb.sequenceEqual=$le;function OD(){return{buffer:[],complete:!1}}});var SS=y(Fa=>{"use strict";var Ule=Fa&&Fa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Vle=Fa&&Fa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.share=void 0;var MD=je(),Gle=xr(),PD=vc(),Yle=J();function Xle(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Gle.Subject}:t,n=e.resetOnError,o=n===void 0?!0:n,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,c=s===void 0?!0:s;return function(u){var l,f,d,p=0,m=!1,h=!1,v=function(){f?.unsubscribe(),f=void 0},b=function(){v(),l=d=void 0,m=h=!1},_=function(){var S=l;b(),S?.unsubscribe()};return Yle.operate(function(S,w){p++,!h&&!m&&v();var T=d=d??r();w.add(function(){p--,p===0&&!h&&!m&&(f=wS(_,c))}),T.subscribe(w),!l&&p>0&&(l=new PD.SafeSubscriber({next:function(O){return T.next(O)},error:function(O){h=!0,v(),f=wS(b,o,O),T.error(O)},complete:function(){m=!0,v(),f=wS(b,a),T.complete()}}),MD.innerFrom(S).subscribe(l))})(u)}}Fa.share=Xle;function wS(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var o=new PD.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return MD.innerFrom(t.apply(void 0,Vle([],Ule(r)))).subscribe(o)}}});var AD=y(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.shareReplay=void 0;var Zle=Uh(),Kle=SS();function Jle(e,t,r){var n,o,i,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,s=i===void 0?!1:i,r=e.scheduler):a=e??1/0,Kle.share({connector:function(){return new Zle.ReplaySubject(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}hb.shareReplay=Jle});var jD=y(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.single=void 0;var Qle=Sa(),efe=Yw(),tfe=Gw(),rfe=J(),nfe=le();function ofe(e){return rfe.operate(function(t,r){var n=!1,o,i=!1,a=0;t.subscribe(nfe.createOperatorSubscriber(r,function(s){i=!0,(!e||e(s,a++,t))&&(n&&r.error(new efe.SequenceError("Too many matching values")),n=!0,o=s)},function(){n?(r.next(o),r.complete()):r.error(i?new tfe.NotFoundError("No matching values"):new Qle.EmptyError)}))})}gb.single=ofe});var ID=y(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.skip=void 0;var ife=Zs();function afe(e){return ife.filter(function(t,r){return e<=r})}vb.skip=afe});var LD=y(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.skipLast=void 0;var sfe=_r(),ufe=J(),cfe=le();function lfe(e){return e<=0?sfe.identity:ufe.operate(function(t,r){var n=new Array(e),o=0;return t.subscribe(cfe.createOperatorSubscriber(r,function(i){var a=o++;if(a<e)n[a]=i;else{var s=a%e,c=n[s];n[s]=i,r.next(c)}})),function(){n=null}})}bb.skipLast=lfe});var ND=y(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.skipUntil=void 0;var ffe=J(),DD=le(),dfe=je(),pfe=yr();function mfe(e){return ffe.operate(function(t,r){var n=!1,o=DD.createOperatorSubscriber(r,function(){o?.unsubscribe(),n=!0},pfe.noop);dfe.innerFrom(e).subscribe(o),t.subscribe(DD.createOperatorSubscriber(r,function(i){return n&&r.next(i)}))})}yb.skipUntil=mfe});var FD=y(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.skipWhile=void 0;var hfe=J(),gfe=le();function vfe(e){return hfe.operate(function(t,r){var n=!1,o=0;t.subscribe(gfe.createOperatorSubscriber(r,function(i){return(n||(n=!e(i,o++)))&&r.next(i)}))})}_b.skipWhile=vfe});var BD=y(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.startWith=void 0;var qD=Ed(),bfe=un(),yfe=J();function _fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=bfe.popScheduler(e);return yfe.operate(function(n,o){(r?qD.concat(e,n,r):qD.concat(e,n)).subscribe(o)})}xb.startWith=_fe});var Ad=y(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.switchMap=void 0;var xfe=je(),wfe=J(),zD=le();function Sfe(e,t){return wfe.operate(function(r,n){var o=null,i=0,a=!1,s=function(){return a&&!o&&n.complete()};r.subscribe(zD.createOperatorSubscriber(n,function(c){o?.unsubscribe();var u=0,l=i++;xfe.innerFrom(e(c,l)).subscribe(o=zD.createOperatorSubscriber(n,function(f){return n.next(t?t(c,f,l,u++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}wb.switchMap=Sfe});var HD=y(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.switchAll=void 0;var Cfe=Ad(),Tfe=_r();function kfe(){return Cfe.switchMap(Tfe.identity)}Sb.switchAll=kfe});var $D=y(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.switchMapTo=void 0;var WD=Ad(),Efe=Qe();function Ofe(e,t){return Efe.isFunction(t)?WD.switchMap(function(){return e},t):WD.switchMap(function(){return e})}Cb.switchMapTo=Ofe});var UD=y(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.switchScan=void 0;var Rfe=Ad(),Mfe=J();function Pfe(e,t){return Mfe.operate(function(r,n){var o=t;return Rfe.switchMap(function(i,a){return e(o,i,a)},function(i,a){return o=a,a})(r).subscribe(n),function(){o=null}})}Tb.switchScan=Pfe});var VD=y(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.takeUntil=void 0;var Afe=J(),jfe=le(),Ife=je(),Lfe=yr();function Dfe(e){return Afe.operate(function(t,r){Ife.innerFrom(e).subscribe(jfe.createOperatorSubscriber(r,function(){return r.complete()},Lfe.noop)),!r.closed&&t.subscribe(r)})}kb.takeUntil=Dfe});var GD=y(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.takeWhile=void 0;var Nfe=J(),Ffe=le();function qfe(e,t){return t===void 0&&(t=!1),Nfe.operate(function(r,n){var o=0;r.subscribe(Ffe.createOperatorSubscriber(n,function(i){var a=e(i,o++);(a||t)&&n.next(i),!a&&n.complete()}))})}Eb.takeWhile=qfe});var YD=y(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.tap=void 0;var Bfe=Qe(),zfe=J(),Hfe=le(),Wfe=_r();function $fe(e,t,r){var n=Bfe.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?zfe.operate(function(o,i){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;o.subscribe(Hfe.createOperatorSubscriber(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Wfe.identity}Ob.tap=$fe});var CS=y(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.throttle=void 0;var Ufe=J(),XD=le(),Vfe=je();function Gfe(e,t){return Ufe.operate(function(r,n){var o=t??{},i=o.leading,a=i===void 0?!0:i,s=o.trailing,c=s===void 0?!1:s,u=!1,l=null,f=null,d=!1,p=function(){f?.unsubscribe(),f=null,c&&(v(),d&&n.complete())},m=function(){f=null,d&&n.complete()},h=function(b){return f=Vfe.innerFrom(e(b)).subscribe(XD.createOperatorSubscriber(n,p,m))},v=function(){if(u){u=!1;var b=l;l=null,n.next(b),!d&&h(b)}};r.subscribe(XD.createOperatorSubscriber(n,function(b){u=!0,l=b,!(f&&!f.closed)&&(a?v():h(b))},function(){d=!0,!(c&&u&&f&&!f.closed)&&n.complete()}))})}Rb.throttle=Gfe});var ZD=y(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.throttleTime=void 0;var Yfe=sn(),Xfe=CS(),Zfe=Oa();function Kfe(e,t,r){t===void 0&&(t=Yfe.asyncScheduler);var n=Zfe.timer(e,t);return Xfe.throttle(function(){return n},r)}Mb.throttleTime=Kfe});var JD=y(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.TimeInterval=Zc.timeInterval=void 0;var Jfe=sn(),Qfe=J(),ede=le();function tde(e){return e===void 0&&(e=Jfe.asyncScheduler),Qfe.operate(function(t,r){var n=e.now();t.subscribe(ede.createOperatorSubscriber(r,function(o){var i=e.now(),a=i-n;n=i,r.next(new KD(o,a))}))})}Zc.timeInterval=tde;var KD=(function(){function e(t,r){this.value=t,this.interval=r}return e})();Zc.TimeInterval=KD});var QD=y(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.timeoutWith=void 0;var rde=sn(),nde=Eg(),ode=Og();function ide(e,t,r){var n,o,i;if(r=r??rde.async,nde.isValidDate(e)?n=e:typeof e=="number"&&(o=e),t)i=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&o==null)throw new TypeError("No timeout provided.");return ode.timeout({first:n,each:o,scheduler:r,with:i})}Pb.timeoutWith=ide});var eN=y(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.timestamp=void 0;var ade=$h(),sde=Ca();function ude(e){return e===void 0&&(e=ade.dateTimestampProvider),sde.map(function(t){return{value:t,timestamp:e.now()}})}Ab.timestamp=ude});var nN=y(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.window=void 0;var tN=xr(),cde=J(),rN=le(),lde=yr(),fde=je();function dde(e){return cde.operate(function(t,r){var n=new tN.Subject;r.next(n.asObservable());var o=function(i){n.error(i),r.error(i)};return t.subscribe(rN.createOperatorSubscriber(r,function(i){return n?.next(i)},function(){n.complete(),r.complete()},o)),fde.innerFrom(e).subscribe(rN.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new tN.Subject)},lde.noop,o)),function(){n?.unsubscribe(),n=null}})}jb.window=dde});var iN=y(Kc=>{"use strict";var pde=Kc&&Kc.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.windowCount=void 0;var oN=xr(),mde=J(),hde=le();function gde(e,t){t===void 0&&(t=0);var r=t>0?t:e;return mde.operate(function(n,o){var i=[new oN.Subject],a=[],s=0;o.next(i[0].asObservable()),n.subscribe(hde.createOperatorSubscriber(o,function(c){var u,l;try{for(var f=pde(i),d=f.next();!d.done;d=f.next()){var p=d.value;p.next(c)}}catch(v){u={error:v}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}var m=s-e+1;if(m>=0&&m%r===0&&i.shift().complete(),++s%r===0){var h=new oN.Subject;i.push(h),o.next(h.asObservable())}},function(){for(;i.length>0;)i.shift().complete();o.complete()},function(c){for(;i.length>0;)i.shift().error(c);o.error(c)},function(){a=null,i=null}))})}Kc.windowCount=gde});var sN=y(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.windowTime=void 0;var vde=xr(),bde=sn(),yde=Sn(),_de=J(),xde=le(),wde=Mi(),Sde=un(),aN=Pi();function Cde(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=(t=Sde.popScheduler(n))!==null&&t!==void 0?t:bde.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return _de.operate(function(c,u){var l=[],f=!1,d=function(v){var b=v.window,_=v.subs;b.complete(),_.unsubscribe(),wde.arrRemove(l,v),f&&p()},p=function(){if(l){var v=new yde.Subscription;u.add(v);var b=new vde.Subject,_={window:b,subs:v,seen:0};l.push(_),u.next(b.asObservable()),aN.executeSchedule(v,i,function(){return d(_)},e)}};a!==null&&a>=0?aN.executeSchedule(u,i,p,a,!0):f=!0,p();var m=function(v){return l.slice().forEach(v)},h=function(v){m(function(b){var _=b.window;return v(_)}),v(u),u.unsubscribe()};return c.subscribe(xde.createOperatorSubscriber(u,function(v){m(function(b){b.window.next(v),s<=++b.seen&&d(b)})},function(){return h(function(v){return v.complete()})},function(v){return h(function(b){return b.error(v)})})),function(){l=null}})}Ib.windowTime=Cde});var lN=y(Jc=>{"use strict";var Tde=Jc&&Jc.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.windowToggle=void 0;var kde=xr(),Ede=Sn(),Ode=J(),uN=je(),TS=le(),cN=yr(),Rde=Mi();function Mde(e,t){return Ode.operate(function(r,n){var o=[],i=function(a){for(;0<o.length;)o.shift().error(a);n.error(a)};uN.innerFrom(e).subscribe(TS.createOperatorSubscriber(n,function(a){var s=new kde.Subject;o.push(s);var c=new Ede.Subscription,u=function(){Rde.arrRemove(o,s),s.complete(),c.unsubscribe()},l;try{l=uN.innerFrom(t(a))}catch(f){i(f);return}n.next(s.asObservable()),c.add(l.subscribe(TS.createOperatorSubscriber(n,u,cN.noop,i)))},cN.noop)),r.subscribe(TS.createOperatorSubscriber(n,function(a){var s,c,u=o.slice();try{for(var l=Tde(u),f=l.next();!f.done;f=l.next()){var d=f.value;d.next(a)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();n.complete()},i,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}Jc.windowToggle=Mde});var dN=y(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.windowWhen=void 0;var Pde=xr(),Ade=J(),fN=le(),jde=je();function Ide(e){return Ade.operate(function(t,r){var n,o,i=function(s){n.error(s),r.error(s)},a=function(){o?.unsubscribe(),n?.complete(),n=new Pde.Subject,r.next(n.asObservable());var s;try{s=jde.innerFrom(e())}catch(c){i(c);return}s.subscribe(o=fN.createOperatorSubscriber(r,a,a,i))};a(),t.subscribe(fN.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},i,function(){o?.unsubscribe(),n=null}))})}Lb.windowWhen=Ide});var gN=y(qa=>{"use strict";var pN=qa&&qa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},mN=qa&&qa.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(qa,"__esModule",{value:!0});qa.withLatestFrom=void 0;var Lde=J(),hN=le(),Dde=je(),Nde=_r(),Fde=yr(),qde=un();function Bde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=qde.popResultSelector(e);return Lde.operate(function(n,o){for(var i=e.length,a=new Array(i),s=e.map(function(){return!1}),c=!1,u=function(f){Dde.innerFrom(e[f]).subscribe(hN.createOperatorSubscriber(o,function(d){a[f]=d,!c&&!s[f]&&(s[f]=!0,(c=s.every(Nde.identity))&&(s=null))},Fde.noop))},l=0;l<i;l++)u(l);n.subscribe(hN.createOperatorSubscriber(o,function(f){if(c){var d=mN([f],pN(a));o.next(r?r.apply(void 0,mN([],pN(d))):d)}}))})}qa.withLatestFrom=Bde});var vN=y(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.zipAll=void 0;var zde=ov(),Hde=cS();function Wde(e){return Hde.joinAllInternals(zde.zip,e)}Db.zipAll=Wde});var bN=y(Ba=>{"use strict";var $de=Ba&&Ba.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Ude=Ba&&Ba.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.zip=void 0;var Vde=ov(),Gde=J();function Yde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gde.operate(function(r,n){Vde.zip.apply(void 0,Ude([r],$de(e))).subscribe(n)})}Ba.zip=Yde});var yN=y(za=>{"use strict";var Xde=za&&za.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Zde=za&&za.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(za,"__esModule",{value:!0});za.zipWith=void 0;var Kde=bN();function Jde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Kde.zip.apply(void 0,Zde([],Xde(e)))}za.zipWith=Jde});var kN=y(x=>{"use strict";var Qde=x&&x.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),epe=x&&x.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qde(t,e,r)};Object.defineProperty(x,"__esModule",{value:!0});x.interval=x.iif=x.generate=x.fromEventPattern=x.fromEvent=x.from=x.forkJoin=x.empty=x.defer=x.connectable=x.concat=x.combineLatest=x.bindNodeCallback=x.bindCallback=x.UnsubscriptionError=x.TimeoutError=x.SequenceError=x.ObjectUnsubscribedError=x.NotFoundError=x.EmptyError=x.ArgumentOutOfRangeError=x.firstValueFrom=x.lastValueFrom=x.isObservable=x.identity=x.noop=x.pipe=x.NotificationKind=x.Notification=x.Subscriber=x.Subscription=x.Scheduler=x.VirtualAction=x.VirtualTimeScheduler=x.animationFrameScheduler=x.animationFrame=x.queueScheduler=x.queue=x.asyncScheduler=x.async=x.asapScheduler=x.asap=x.AsyncSubject=x.ReplaySubject=x.BehaviorSubject=x.Subject=x.animationFrames=x.observable=x.ConnectableObservable=x.Observable=void 0;x.filter=x.expand=x.exhaustMap=x.exhaustAll=x.exhaust=x.every=x.endWith=x.elementAt=x.distinctUntilKeyChanged=x.distinctUntilChanged=x.distinct=x.dematerialize=x.delayWhen=x.delay=x.defaultIfEmpty=x.debounceTime=x.debounce=x.count=x.connect=x.concatWith=x.concatMapTo=x.concatMap=x.concatAll=x.combineLatestWith=x.combineLatestAll=x.combineAll=x.catchError=x.bufferWhen=x.bufferToggle=x.bufferTime=x.bufferCount=x.buffer=x.auditTime=x.audit=x.config=x.NEVER=x.EMPTY=x.scheduled=x.zip=x.using=x.timer=x.throwError=x.range=x.race=x.partition=x.pairs=x.onErrorResumeNext=x.of=x.never=x.merge=void 0;x.switchMap=x.switchAll=x.subscribeOn=x.startWith=x.skipWhile=x.skipUntil=x.skipLast=x.skip=x.single=x.shareReplay=x.share=x.sequenceEqual=x.scan=x.sampleTime=x.sample=x.refCount=x.retryWhen=x.retry=x.repeatWhen=x.repeat=x.reduce=x.raceWith=x.publishReplay=x.publishLast=x.publishBehavior=x.publish=x.pluck=x.pairwise=x.onErrorResumeNextWith=x.observeOn=x.multicast=x.min=x.mergeWith=x.mergeScan=x.mergeMapTo=x.mergeMap=x.flatMap=x.mergeAll=x.max=x.materialize=x.mapTo=x.map=x.last=x.isEmpty=x.ignoreElements=x.groupBy=x.first=x.findIndex=x.find=x.finalize=void 0;x.zipWith=x.zipAll=x.withLatestFrom=x.windowWhen=x.windowToggle=x.windowTime=x.windowCount=x.window=x.toArray=x.timestamp=x.timeoutWith=x.timeout=x.timeInterval=x.throwIfEmpty=x.throttleTime=x.throttle=x.tap=x.takeWhile=x.takeUntil=x.takeLast=x.take=x.switchScan=x.switchMapTo=void 0;var tpe=nt();Object.defineProperty(x,"Observable",{enumerable:!0,get:function(){return tpe.Observable}});var rpe=_d();Object.defineProperty(x,"ConnectableObservable",{enumerable:!0,get:function(){return rpe.ConnectableObservable}});var npe=bd();Object.defineProperty(x,"observable",{enumerable:!0,get:function(){return npe.observable}});var ope=C2();Object.defineProperty(x,"animationFrames",{enumerable:!0,get:function(){return ope.animationFrames}});var ipe=xr();Object.defineProperty(x,"Subject",{enumerable:!0,get:function(){return ipe.Subject}});var ape=Rw();Object.defineProperty(x,"BehaviorSubject",{enumerable:!0,get:function(){return ape.BehaviorSubject}});var spe=Uh();Object.defineProperty(x,"ReplaySubject",{enumerable:!0,get:function(){return spe.ReplaySubject}});var upe=Vh();Object.defineProperty(x,"AsyncSubject",{enumerable:!0,get:function(){return upe.AsyncSubject}});var _N=z2();Object.defineProperty(x,"asap",{enumerable:!0,get:function(){return _N.asap}});Object.defineProperty(x,"asapScheduler",{enumerable:!0,get:function(){return _N.asapScheduler}});var xN=sn();Object.defineProperty(x,"async",{enumerable:!0,get:function(){return xN.async}});Object.defineProperty(x,"asyncScheduler",{enumerable:!0,get:function(){return xN.asyncScheduler}});var wN=$2();Object.defineProperty(x,"queue",{enumerable:!0,get:function(){return wN.queue}});Object.defineProperty(x,"queueScheduler",{enumerable:!0,get:function(){return wN.queueScheduler}});var SN=Y2();Object.defineProperty(x,"animationFrame",{enumerable:!0,get:function(){return SN.animationFrame}});Object.defineProperty(x,"animationFrameScheduler",{enumerable:!0,get:function(){return SN.animationFrameScheduler}});var CN=K2();Object.defineProperty(x,"VirtualTimeScheduler",{enumerable:!0,get:function(){return CN.VirtualTimeScheduler}});Object.defineProperty(x,"VirtualAction",{enumerable:!0,get:function(){return CN.VirtualAction}});var cpe=Pw();Object.defineProperty(x,"Scheduler",{enumerable:!0,get:function(){return cpe.Scheduler}});var lpe=Sn();Object.defineProperty(x,"Subscription",{enumerable:!0,get:function(){return lpe.Subscription}});var fpe=vc();Object.defineProperty(x,"Subscriber",{enumerable:!0,get:function(){return fpe.Subscriber}});var TN=bg();Object.defineProperty(x,"Notification",{enumerable:!0,get:function(){return TN.Notification}});Object.defineProperty(x,"NotificationKind",{enumerable:!0,get:function(){return TN.NotificationKind}});var dpe=yd();Object.defineProperty(x,"pipe",{enumerable:!0,get:function(){return dpe.pipe}});var ppe=yr();Object.defineProperty(x,"noop",{enumerable:!0,get:function(){return ppe.noop}});var mpe=_r();Object.defineProperty(x,"identity",{enumerable:!0,get:function(){return mpe.identity}});var hpe=mI();Object.defineProperty(x,"isObservable",{enumerable:!0,get:function(){return hpe.isObservable}});var gpe=hI();Object.defineProperty(x,"lastValueFrom",{enumerable:!0,get:function(){return gpe.lastValueFrom}});var vpe=gI();Object.defineProperty(x,"firstValueFrom",{enumerable:!0,get:function(){return vpe.firstValueFrom}});var bpe=Vw();Object.defineProperty(x,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return bpe.ArgumentOutOfRangeError}});var ype=Sa();Object.defineProperty(x,"EmptyError",{enumerable:!0,get:function(){return ype.EmptyError}});var _pe=Gw();Object.defineProperty(x,"NotFoundError",{enumerable:!0,get:function(){return _pe.NotFoundError}});var xpe=Tw();Object.defineProperty(x,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return xpe.ObjectUnsubscribedError}});var wpe=Yw();Object.defineProperty(x,"SequenceError",{enumerable:!0,get:function(){return wpe.SequenceError}});var Spe=Og();Object.defineProperty(x,"TimeoutError",{enumerable:!0,get:function(){return Spe.TimeoutError}});var Cpe=dw();Object.defineProperty(x,"UnsubscriptionError",{enumerable:!0,get:function(){return Cpe.UnsubscriptionError}});var Tpe=bI();Object.defineProperty(x,"bindCallback",{enumerable:!0,get:function(){return Tpe.bindCallback}});var kpe=yI();Object.defineProperty(x,"bindNodeCallback",{enumerable:!0,get:function(){return kpe.bindNodeCallback}});var Epe=Ig();Object.defineProperty(x,"combineLatest",{enumerable:!0,get:function(){return Epe.combineLatest}});var Ope=Ed();Object.defineProperty(x,"concat",{enumerable:!0,get:function(){return Ope.concat}});var Rpe=EI();Object.defineProperty(x,"connectable",{enumerable:!0,get:function(){return Rpe.connectable}});var Mpe=Od();Object.defineProperty(x,"defer",{enumerable:!0,get:function(){return Mpe.defer}});var Ppe=go();Object.defineProperty(x,"empty",{enumerable:!0,get:function(){return Ppe.empty}});var Ape=OI();Object.defineProperty(x,"forkJoin",{enumerable:!0,get:function(){return Ape.forkJoin}});var jpe=Ai();Object.defineProperty(x,"from",{enumerable:!0,get:function(){return jpe.from}});var Ipe=MI();Object.defineProperty(x,"fromEvent",{enumerable:!0,get:function(){return Ipe.fromEvent}});var Lpe=AI();Object.defineProperty(x,"fromEventPattern",{enumerable:!0,get:function(){return Lpe.fromEventPattern}});var Dpe=II();Object.defineProperty(x,"generate",{enumerable:!0,get:function(){return Dpe.generate}});var Npe=LI();Object.defineProperty(x,"iif",{enumerable:!0,get:function(){return Npe.iif}});var Fpe=eS();Object.defineProperty(x,"interval",{enumerable:!0,get:function(){return Fpe.interval}});var qpe=NI();Object.defineProperty(x,"merge",{enumerable:!0,get:function(){return qpe.merge}});var Bpe=tS();Object.defineProperty(x,"never",{enumerable:!0,get:function(){return Bpe.never}});var zpe=gg();Object.defineProperty(x,"of",{enumerable:!0,get:function(){return zpe.of}});var Hpe=rS();Object.defineProperty(x,"onErrorResumeNext",{enumerable:!0,get:function(){return Hpe.onErrorResumeNext}});var Wpe=qI();Object.defineProperty(x,"pairs",{enumerable:!0,get:function(){return Wpe.pairs}});var $pe=WI();Object.defineProperty(x,"partition",{enumerable:!0,get:function(){return $pe.partition}});var Upe=nS();Object.defineProperty(x,"race",{enumerable:!0,get:function(){return Upe.race}});var Vpe=VI();Object.defineProperty(x,"range",{enumerable:!0,get:function(){return Vpe.range}});var Gpe=Uw();Object.defineProperty(x,"throwError",{enumerable:!0,get:function(){return Gpe.throwError}});var Ype=Oa();Object.defineProperty(x,"timer",{enumerable:!0,get:function(){return Ype.timer}});var Xpe=GI();Object.defineProperty(x,"using",{enumerable:!0,get:function(){return Xpe.using}});var Zpe=ov();Object.defineProperty(x,"zip",{enumerable:!0,get:function(){return Zpe.zip}});var Kpe=$w();Object.defineProperty(x,"scheduled",{enumerable:!0,get:function(){return Kpe.scheduled}});var Jpe=go();Object.defineProperty(x,"EMPTY",{enumerable:!0,get:function(){return Jpe.EMPTY}});var Qpe=tS();Object.defineProperty(x,"NEVER",{enumerable:!0,get:function(){return Qpe.NEVER}});epe(XI(),x);var eme=hc();Object.defineProperty(x,"config",{enumerable:!0,get:function(){return eme.config}});var tme=oS();Object.defineProperty(x,"audit",{enumerable:!0,get:function(){return tme.audit}});var rme=KI();Object.defineProperty(x,"auditTime",{enumerable:!0,get:function(){return rme.auditTime}});var nme=QI();Object.defineProperty(x,"buffer",{enumerable:!0,get:function(){return nme.buffer}});var ome=eL();Object.defineProperty(x,"bufferCount",{enumerable:!0,get:function(){return ome.bufferCount}});var ime=rL();Object.defineProperty(x,"bufferTime",{enumerable:!0,get:function(){return ime.bufferTime}});var ame=iL();Object.defineProperty(x,"bufferToggle",{enumerable:!0,get:function(){return ame.bufferToggle}});var sme=sL();Object.defineProperty(x,"bufferWhen",{enumerable:!0,get:function(){return sme.bufferWhen}});var ume=cL();Object.defineProperty(x,"catchError",{enumerable:!0,get:function(){return ume.catchError}});var cme=lL();Object.defineProperty(x,"combineAll",{enumerable:!0,get:function(){return cme.combineAll}});var lme=lS();Object.defineProperty(x,"combineLatestAll",{enumerable:!0,get:function(){return lme.combineLatestAll}});var fme=hL();Object.defineProperty(x,"combineLatestWith",{enumerable:!0,get:function(){return fme.combineLatestWith}});var dme=Bg();Object.defineProperty(x,"concatAll",{enumerable:!0,get:function(){return dme.concatAll}});var pme=fS();Object.defineProperty(x,"concatMap",{enumerable:!0,get:function(){return pme.concatMap}});var mme=bL();Object.defineProperty(x,"concatMapTo",{enumerable:!0,get:function(){return mme.concatMapTo}});var hme=_L();Object.defineProperty(x,"concatWith",{enumerable:!0,get:function(){return hme.concatWith}});var gme=_v();Object.defineProperty(x,"connect",{enumerable:!0,get:function(){return gme.connect}});var vme=wL();Object.defineProperty(x,"count",{enumerable:!0,get:function(){return vme.count}});var bme=CL();Object.defineProperty(x,"debounce",{enumerable:!0,get:function(){return bme.debounce}});var yme=TL();Object.defineProperty(x,"debounceTime",{enumerable:!0,get:function(){return yme.debounceTime}});var _me=Rd();Object.defineProperty(x,"defaultIfEmpty",{enumerable:!0,get:function(){return _me.defaultIfEmpty}});var xme=OL();Object.defineProperty(x,"delay",{enumerable:!0,get:function(){return xme.delay}});var wme=mS();Object.defineProperty(x,"delayWhen",{enumerable:!0,get:function(){return wme.delayWhen}});var Sme=RL();Object.defineProperty(x,"dematerialize",{enumerable:!0,get:function(){return Sme.dematerialize}});var Cme=PL();Object.defineProperty(x,"distinct",{enumerable:!0,get:function(){return Cme.distinct}});var Tme=hS();Object.defineProperty(x,"distinctUntilChanged",{enumerable:!0,get:function(){return Tme.distinctUntilChanged}});var kme=AL();Object.defineProperty(x,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return kme.distinctUntilKeyChanged}});var Eme=IL();Object.defineProperty(x,"elementAt",{enumerable:!0,get:function(){return Eme.elementAt}});var Ome=LL();Object.defineProperty(x,"endWith",{enumerable:!0,get:function(){return Ome.endWith}});var Rme=DL();Object.defineProperty(x,"every",{enumerable:!0,get:function(){return Rme.every}});var Mme=BL();Object.defineProperty(x,"exhaust",{enumerable:!0,get:function(){return Mme.exhaust}});var Pme=vS();Object.defineProperty(x,"exhaustAll",{enumerable:!0,get:function(){return Pme.exhaustAll}});var Ame=gS();Object.defineProperty(x,"exhaustMap",{enumerable:!0,get:function(){return Ame.exhaustMap}});var jme=zL();Object.defineProperty(x,"expand",{enumerable:!0,get:function(){return jme.expand}});var Ime=Zs();Object.defineProperty(x,"filter",{enumerable:!0,get:function(){return Ime.filter}});var Lme=HL();Object.defineProperty(x,"finalize",{enumerable:!0,get:function(){return Lme.finalize}});var Dme=bS();Object.defineProperty(x,"find",{enumerable:!0,get:function(){return Dme.find}});var Nme=$L();Object.defineProperty(x,"findIndex",{enumerable:!0,get:function(){return Nme.findIndex}});var Fme=UL();Object.defineProperty(x,"first",{enumerable:!0,get:function(){return Fme.first}});var qme=GL();Object.defineProperty(x,"groupBy",{enumerable:!0,get:function(){return qme.groupBy}});var Bme=dS();Object.defineProperty(x,"ignoreElements",{enumerable:!0,get:function(){return Bme.ignoreElements}});var zme=YL();Object.defineProperty(x,"isEmpty",{enumerable:!0,get:function(){return zme.isEmpty}});var Hme=XL();Object.defineProperty(x,"last",{enumerable:!0,get:function(){return Hme.last}});var Wme=Ca();Object.defineProperty(x,"map",{enumerable:!0,get:function(){return Wme.map}});var $me=pS();Object.defineProperty(x,"mapTo",{enumerable:!0,get:function(){return $me.mapTo}});var Ume=ZL();Object.defineProperty(x,"materialize",{enumerable:!0,get:function(){return Ume.materialize}});var Vme=KL();Object.defineProperty(x,"max",{enumerable:!0,get:function(){return Vme.max}});var Gme=kd();Object.defineProperty(x,"mergeAll",{enumerable:!0,get:function(){return Gme.mergeAll}});var Yme=JL();Object.defineProperty(x,"flatMap",{enumerable:!0,get:function(){return Yme.flatMap}});var Xme=Ii();Object.defineProperty(x,"mergeMap",{enumerable:!0,get:function(){return Xme.mergeMap}});var Zme=eD();Object.defineProperty(x,"mergeMapTo",{enumerable:!0,get:function(){return Zme.mergeMapTo}});var Kme=tD();Object.defineProperty(x,"mergeScan",{enumerable:!0,get:function(){return Kme.mergeScan}});var Jme=oD();Object.defineProperty(x,"mergeWith",{enumerable:!0,get:function(){return Jme.mergeWith}});var Qme=iD();Object.defineProperty(x,"min",{enumerable:!0,get:function(){return Qme.min}});var ehe=eb();Object.defineProperty(x,"multicast",{enumerable:!0,get:function(){return ehe.multicast}});var the=Cd();Object.defineProperty(x,"observeOn",{enumerable:!0,get:function(){return the.observeOn}});var rhe=uD();Object.defineProperty(x,"onErrorResumeNextWith",{enumerable:!0,get:function(){return rhe.onErrorResumeNextWith}});var nhe=cD();Object.defineProperty(x,"pairwise",{enumerable:!0,get:function(){return nhe.pairwise}});var ohe=lD();Object.defineProperty(x,"pluck",{enumerable:!0,get:function(){return ohe.pluck}});var ihe=fD();Object.defineProperty(x,"publish",{enumerable:!0,get:function(){return ihe.publish}});var ahe=dD();Object.defineProperty(x,"publishBehavior",{enumerable:!0,get:function(){return ahe.publishBehavior}});var she=pD();Object.defineProperty(x,"publishLast",{enumerable:!0,get:function(){return she.publishLast}});var uhe=hD();Object.defineProperty(x,"publishReplay",{enumerable:!0,get:function(){return uhe.publishReplay}});var che=gD();Object.defineProperty(x,"raceWith",{enumerable:!0,get:function(){return che.raceWith}});var lhe=Gc();Object.defineProperty(x,"reduce",{enumerable:!0,get:function(){return lhe.reduce}});var fhe=bD();Object.defineProperty(x,"repeat",{enumerable:!0,get:function(){return fhe.repeat}});var dhe=_D();Object.defineProperty(x,"repeatWhen",{enumerable:!0,get:function(){return dhe.repeatWhen}});var phe=wD();Object.defineProperty(x,"retry",{enumerable:!0,get:function(){return phe.retry}});var mhe=CD();Object.defineProperty(x,"retryWhen",{enumerable:!0,get:function(){return mhe.retryWhen}});var hhe=Sw();Object.defineProperty(x,"refCount",{enumerable:!0,get:function(){return hhe.refCount}});var ghe=xS();Object.defineProperty(x,"sample",{enumerable:!0,get:function(){return ghe.sample}});var vhe=kD();Object.defineProperty(x,"sampleTime",{enumerable:!0,get:function(){return vhe.sampleTime}});var bhe=ED();Object.defineProperty(x,"scan",{enumerable:!0,get:function(){return bhe.scan}});var yhe=RD();Object.defineProperty(x,"sequenceEqual",{enumerable:!0,get:function(){return yhe.sequenceEqual}});var _he=SS();Object.defineProperty(x,"share",{enumerable:!0,get:function(){return _he.share}});var xhe=AD();Object.defineProperty(x,"shareReplay",{enumerable:!0,get:function(){return xhe.shareReplay}});var whe=jD();Object.defineProperty(x,"single",{enumerable:!0,get:function(){return whe.single}});var She=ID();Object.defineProperty(x,"skip",{enumerable:!0,get:function(){return She.skip}});var Che=LD();Object.defineProperty(x,"skipLast",{enumerable:!0,get:function(){return Che.skipLast}});var The=ND();Object.defineProperty(x,"skipUntil",{enumerable:!0,get:function(){return The.skipUntil}});var khe=FD();Object.defineProperty(x,"skipWhile",{enumerable:!0,get:function(){return khe.skipWhile}});var Ehe=BD();Object.defineProperty(x,"startWith",{enumerable:!0,get:function(){return Ehe.startWith}});var Ohe=Td();Object.defineProperty(x,"subscribeOn",{enumerable:!0,get:function(){return Ohe.subscribeOn}});var Rhe=HD();Object.defineProperty(x,"switchAll",{enumerable:!0,get:function(){return Rhe.switchAll}});var Mhe=Ad();Object.defineProperty(x,"switchMap",{enumerable:!0,get:function(){return Mhe.switchMap}});var Phe=$D();Object.defineProperty(x,"switchMapTo",{enumerable:!0,get:function(){return Phe.switchMapTo}});var Ahe=UD();Object.defineProperty(x,"switchScan",{enumerable:!0,get:function(){return Ahe.switchScan}});var jhe=Md();Object.defineProperty(x,"take",{enumerable:!0,get:function(){return jhe.take}});var Ihe=yS();Object.defineProperty(x,"takeLast",{enumerable:!0,get:function(){return Ihe.takeLast}});var Lhe=VD();Object.defineProperty(x,"takeUntil",{enumerable:!0,get:function(){return Lhe.takeUntil}});var Dhe=GD();Object.defineProperty(x,"takeWhile",{enumerable:!0,get:function(){return Dhe.takeWhile}});var Nhe=YD();Object.defineProperty(x,"tap",{enumerable:!0,get:function(){return Nhe.tap}});var Fhe=CS();Object.defineProperty(x,"throttle",{enumerable:!0,get:function(){return Fhe.throttle}});var qhe=ZD();Object.defineProperty(x,"throttleTime",{enumerable:!0,get:function(){return qhe.throttleTime}});var Bhe=Pd();Object.defineProperty(x,"throwIfEmpty",{enumerable:!0,get:function(){return Bhe.throwIfEmpty}});var zhe=JD();Object.defineProperty(x,"timeInterval",{enumerable:!0,get:function(){return zhe.timeInterval}});var Hhe=Og();Object.defineProperty(x,"timeout",{enumerable:!0,get:function(){return Hhe.timeout}});var Whe=QD();Object.defineProperty(x,"timeoutWith",{enumerable:!0,get:function(){return Whe.timeoutWith}});var $he=eN();Object.defineProperty(x,"timestamp",{enumerable:!0,get:function(){return $he.timestamp}});var Uhe=uS();Object.defineProperty(x,"toArray",{enumerable:!0,get:function(){return Uhe.toArray}});var Vhe=nN();Object.defineProperty(x,"window",{enumerable:!0,get:function(){return Vhe.window}});var Ghe=iN();Object.defineProperty(x,"windowCount",{enumerable:!0,get:function(){return Ghe.windowCount}});var Yhe=sN();Object.defineProperty(x,"windowTime",{enumerable:!0,get:function(){return Yhe.windowTime}});var Xhe=lN();Object.defineProperty(x,"windowToggle",{enumerable:!0,get:function(){return Xhe.windowToggle}});var Zhe=dN();Object.defineProperty(x,"windowWhen",{enumerable:!0,get:function(){return Zhe.windowWhen}});var Khe=gN();Object.defineProperty(x,"withLatestFrom",{enumerable:!0,get:function(){return Khe.withLatestFrom}});var Jhe=vN();Object.defineProperty(x,"zipAll",{enumerable:!0,get:function(){return Jhe.zipAll}});var Qhe=yN();Object.defineProperty(x,"zipWith",{enumerable:!0,get:function(){return Qhe.zipWith}})});var ES=y(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.checkAbortSignal=ON;Ks.abortBreakPoint=tge;Ks.makeAbortError=RN;Ks.observeAbortSignal=rge;Ks.isAbortException=nge;var EN=kN(),kS=class extends Error{};function ON(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw RN()}}function ege(e){return new Promise(t=>setTimeout(t,e))}async function tge(e){await ege(1),ON(e)}function RN(){if(typeof DOMException<"u")return new DOMException("aborted","AbortError");let e=new kS("aborted");return e.code="ERR_ABORTED",e}function rge(e){return e?(0,EN.fromEvent)(e,"abort"):new EN.Observable}function nge(e){return e instanceof Error&&(e.name==="AbortError"||e.code==="ERR_ABORTED"||/\b(aborted|aborterror)\b/i.test(e.message))}});var MN=y(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.makeAbortableReaction=age;var oge=Bs(),jd=Me(),ige=ES(),OS=ma();function age(e,t,r,n,o,i,a){let s;function c(u){(0,ige.isAbortException)(u)||(console.error(u),(0,jd.isAlive)(e)&&a(u))}(0,jd.addDisposer)(e,(0,oge.reaction)(()=>{try{return t(e)}catch(u){c(u);return}},async(u,l)=>{if(s&&(0,OS.stopStopToken)(s),!!(0,jd.isAlive)(e)){s=(0,OS.createStopToken)(),o(s);try{let f=await r(u,s,e,l);(0,jd.isAlive)(e)&&i(f)}catch(f){c(f)}}},n)),(0,jd.addDisposer)(e,()=>{s&&(0,OS.stopStopToken)(s)})}});var lo=y(q=>{"use strict";var sge=q&&q.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Qs=q&&q.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sge(t,e,r)},PN=q&&q.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(q,"__esModule",{value:!0});q.makeAbortableReaction=q.blobToDataURL=q.isFeature=q.SimpleFeature=q.defaultCodonTable=q.defaultStops=q.defaultStarts=q.rIC=q.complementTable=q.isElectron=void 0;q.useDebounce=dge;q.useWidthSetter=pge;q.useDebouncedCallback=mge;q.findParentThat=jN;q.springAnimate=hge;q.findParentThatIs=Ld;q.getSession=gge;q.getContainingView=IN;q.getContainingTrack=vge;q.getContainingDisplay=bge;q.assembleLocString=yge;q.assembleLocStringFast=LN;q.parseLocStringOneBased=DN;q.parseLocString=MS;q.compareLocs=NN;q.compareLocStrings=_ge;q.clamp=xge;q.bpToPx=PS;q.radToDeg=Tge;q.degToRad=kge;q.polarToCartesian=Ege;q.cartesianToPolar=Oge;q.featureSpanPx=Rge;q.bpSpanPx=FN;q.iterMap=Mge;q.findLastIndex=Pge;q.findLast=Age;q.renameRegionIfNeeded=qN;q.renameRegionsIfNeeded=jge;q.minmax=Ige;q.shorten=BN;q.shorten2=Lge;q.stringify=Dge;q.revcom=Nge;q.reverse=Fge;q.complement=qge;q.measureText=zN;q.getFrame=zge;q.generateCodonTable=Hge;q.updateStatus=AS;q.updateStatus2=Wge;q.hashCode=HN;q.objectHash=$ge;q.bytesForRegions=Uge;q.isSupportedIndexingAdapter=Vge;q.getBpDisplayStr=Gge;q.getProgressDisplayStr=Yge;q.toLocale=Qc;q.getTickDisplayStr=Xge;q.getViewParams=Zge;q.getLayoutId=Kge;q.useLocalStorage=Jge;q.getUriLink=WN;q.getStr=$N;q.coarseStripHTML=UN;q.linkify=Qge;q.measureGridWidth=eve;q.getEnv=tve;q.localStorageGetItem=IS;q.localStorageSetItem=VN;q.max=GN;q.min=rve;q.sum=YN;q.avg=nve;q.groupBy=ove;q.notEmpty=ive;q.mergeIntervals=XN;q.gatherOverlaps=ave;q.stripAlpha=sve;q.getStrokeProps=uve;q.getFillProps=cve;q.renderToStaticMarkup=lve;q.isGzip=ZN;q.fetchAndMaybeUnzip=KN;q.fetchAndMaybeUnzipText=fve;q.isObject=JN;q.localStorageGetNumber=dve;q.localStorageGetBoolean=pve;q.localStorageSetBoolean=mve;q.forEachWithStopTokenCheck=hve;q.testAdapter=gve;var Js=$(),uge=HA(),cge=PN(WA()),vo=Me(),lge=lc(),fge=VA(),jS=ld(),AN=ma(),Id=pd();Qs(pd(),q);Qs(Fj(),q);Qs(tw(),q);Qs(qj(),q);Qs(sw(),q);Qs(Kj(),q);function dge(e,t){let[r,n]=(0,Js.useState)(e);return(0,Js.useEffect)(()=>{let o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}function pge(e,t){let[r,{width:n}]=(0,cge.default)();return(0,Js.useEffect)(()=>{let o;return n&&(0,vo.isAlive)(e)&&(o=requestAnimationFrame(()=>{e.setWidth(n)})),()=>{o&&cancelAnimationFrame(o)}},[t,e,n]),r}function mge(e,t=400){let r=(0,Js.useRef)(null),n=(0,Js.useRef)(null);return(0,Js.useEffect)(()=>{n.current&&clearTimeout(n.current)},[]),function(...i){r.current=i,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current&&e(...r.current)},t)}}function jN(e,t){if(!(0,vo.hasParent)(e))throw new Error("node does not have parent");let r=(0,vo.getParent)(e);for(;r&&(0,vo.isAlive)(r);){if(t(r))return r;if((0,vo.hasParent)(r))r=(0,vo.getParent)(r);else break}throw new Error("no matching node found")}function hge(e,t,r,n=()=>{},o=0,i=400,a=20,s=!0){o||(o=Math.abs(t-e)/1e3);let u;function l(f){let d=Date.now(),p=f.lastPosition,m=f.lastTime||d,h=f.lastVelocity||0;d>m+64&&(m=d);let v=Math.floor(d-m);for(let T=0;T<v;++T){let O=-i*(p-t),C=-a*h,M=(O+C)/1;h+=M*1/1e3,p+=h*1/1e3}let b=Math.abs(h)<=o,_=i!==0?Math.abs(t-p)<=o:!0;(s&&i!==0?e<t?p>t:p<t:!1)||b&&_?(r(t),n()):(r(p),u=requestAnimationFrame(()=>{l({lastPosition:p,lastTime:d,lastVelocity:h})}))}return[()=>{l({lastPosition:e})},()=>{cancelAnimationFrame(u)}]}function Ld(e,t){return jN(e,t)}function gge(e){try{return Ld(e,Id.isSessionModel)}catch{throw new Error("no session model found!")}}function IN(e){try{return Ld(e,Id.isViewModel)}catch{throw new Error("no containing view found")}}function vge(e){try{return Ld(e,Id.isTrackModel)}catch{throw new Error("no containing track found")}}function bge(e){try{return Ld(e,Id.isDisplayModel)}catch{throw new Error("no containing display found")}}function yge(e){return LN(e,Qc)}function LN(e,t=r=>r){let{assemblyName:r,refName:n,start:o,end:i,reversed:a}=e,s=r?`{${r}}`:"",c;o!==void 0?c=`:${t(o+1)}`:i!==void 0?c=":1":c="";let u;i!==void 0?u=o!==void 0&&o+1===i?"":`..${t(i)}`:u=o!==void 0?"..":"";let l="";return a&&(l="[rev]"),`${s}${n}${c}${u}${l}`}function DN(e,t){if(!e)throw new Error("no location string provided, could not parse");let r=!1;e.endsWith("[rev]")&&(r=!0,e=e.replace(/\[rev]$/,"")),e=e.replace(/\s/,"");let n=/({(.+)})?(.+)/.exec(e);if(!n)throw new Error(`invalid location string: "${e}"`);let[,,o,i]=n,a=o,s=i;if(!a&&s.startsWith("{}"))throw new Error(`no assembly name was provided in location "${s}"`);let c=s.lastIndexOf(":");if(c===-1){if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`Unknown reference sequence "${s}"`)}let u=s.slice(0,c),l=s.slice(c+1);if(t(u,a)&&t(s,a))throw new Error(`ambiguous location string: "${e}"`);if(t(u,a))if(l){let f=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/.exec(l),d=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/.exec(l);if(f){let[,p,,,,m]=f;if(p!==void 0&&m!==void 0)return{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+m.replaceAll(",",""),reversed:r}}else if(d){let[,p,,,m]=d;if(p!==void 0)return m?{assemblyName:a,refName:u,start:+p.replaceAll(",",""),reversed:r}:{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+p.replaceAll(",",""),reversed:r}}else throw new Error(`could not parse range "${l}" on location "${e}"`)}else return{assemblyName:a,refName:u,reversed:r};else if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`unknown reference sequence name in location "${e}"`)}function MS(e,t){let r=DN(e,t);return typeof r.start=="number"&&(r.start-=1),r}function NN(e,t){let r=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(r)return r;let n=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(n)return n;if(e.start!==void 0&&t.start!==void 0){let o=e.start-t.start;if(o)return o}if(e.end!==void 0&&t.end!==void 0){let o=e.end-t.end;if(o)return o}return 0}function _ge(e,t,r){let n=MS(e,r),o=MS(t,r);return NN(n,o)}function xge(e,t,r){return e<t?t:e>r?r:e}function wge(e){return Math.round(e*10)/10}function PS(e,{reversed:t,end:r=0,start:n=0},o){return wge((t?r-e:e-n)/o)}var Sge=180/Math.PI,Cge=Math.PI/180;function Tge(e){return e*Sge%360}function kge(e){return e*Cge%(2*Math.PI)}function Ege(e,t){return[e*Math.cos(t),e*Math.sin(t)]}function Oge(e,t){let r=Math.sqrt(e*e+t*t),n=Math.atan(t/e);return[r,n]}function Rge(e,t,r){return FN(e.get("start"),e.get("end"),t,r)}function FN(e,t,r,n){let o=PS(e,r,n),i=PS(t,r,n);return r.reversed?[i,o]:[o,i]}function Mge(e,t,r){let n=Array.from({length:r||0}),o=0;for(let i of e)n[o]=t(i),o+=1;return n}function Pge(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return r;return-1}function Age(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return e[r]}function qN(e,t){if((0,vo.isStateTreeNode)(t)&&!(0,vo.isAlive)(t))return t;if(e?.[t.refName]){t=(0,vo.isStateTreeNode)(t)?{...(0,vo.getSnapshot)(t)}:{...t};let r=e[t.refName];if(r)return{...t,refName:r,originalRefName:t.refName}}return t}async function jge(e,t){let{regions:r=[],adapterConfig:n}=t;if(!t.sessionId)throw new Error("sessionId is required");let o=r.map(a=>a.assemblyName),i=Object.fromEntries(await Promise.all([...new Set(o)].map(async a=>[a,await e.getRefNameMapForAdapter(n,a,t)])));return{...t,regions:r.map((a,s)=>qN(i[o[s]],a))}}function Ige(e,t){return[Math.min(e,t),Math.max(e,t)]}function BN(e,t=70,r=30){return e.length>t?`${e.slice(0,r)}...${e.slice(-r)}`:e}function Lge(e,t=70){return e.length>t?`${e.slice(0,t)}...`:e}function Dge({refName:e,coord:t,assemblyName:r,oob:n},o){return[r&&o?`{${r}}`:"",e?`${BN(e)}:${Qc(t)}${n?" (out of bounds)":""}`:""].join("")}q.isElectron=/electron/i.test(typeof navigator<"u"?navigator.userAgent:"");q.complementTable={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"};function Nge(e){var t;let r=[];for(let n=e.length-1;n>=0;n--)r.push((t=q.complementTable[e[n]])!==null&&t!==void 0?t:e[n]);return r.join("")}function Fge(e){let t=[];for(let r=e.length-1;r>=0;r--)t.push(e[r]);return t.join("")}function qge(e){var t;let r=[];for(let n=0,o=e.length;n<o;n++)r.push((t=q.complementTable[e[n]])!==null&&t!==void 0?t:e[n]);return r.join("")}q.rIC=typeof jest>"u"?typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout(()=>{e()},1):e=>{e()};var Bge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];function zN(e,t=10){var r;let n=.5279276315789471,o=String(e),i=0;for(let a=0;a<o.length;a++){let s=o.charCodeAt(a);i+=(r=Bge[s])!==null&&r!==void 0?r:n}return i*t}function zge(e,t,r,n){return r===1?(e+n)%3+1:-1*((t-n)%3)-1}q.defaultStarts=["ATG"];q.defaultStops=["TAA","TAG","TGA"];q.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"};function Hge(e){let t={};for(let r of Object.keys(e)){let n=e[r],o=[];for(let i=0;i<3;i++){let a=r.charAt(i);o[i]=[],o[i][0]=a.toUpperCase(),o[i][1]=a.toLowerCase()}for(let i=0;i<2;i++){let a=o[0][i];for(let s=0;s<2;s++){let c=o[1][s];for(let u=0;u<2;u++){let l=o[2][u],f=a+c+l;t[f]=n}}}}return t}async function AS(e,t,r){t(e);let n=await r();return t(""),n}async function Wge(e,t,r,n){t(e);let o=await n();return(0,AN.checkStopToken)(r),t(""),o}function HN(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}function $ge(e){return`${HN(JSON.stringify(e))}`}async function Uge(e,t){return(await Promise.all(e.map(n=>t.blocksForRange(n.refName,n.start,n.end)))).flat().map(n=>({start:n.minv.blockPosition,end:n.maxv.blockPosition+65535})).reduce((n,o)=>n+o.end-o.start,0)}function Vge(e=""){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(e)}function Gge(e){return Math.floor(e/1e6)>0?`${Ha(e/1e6)}Mbp`:Math.floor(e/1e3)>0?`${Ha(e/1e3)}Kbp`:`${Math.floor(e)}bp`}function Ha(e){return Qc(Number.parseFloat(e.toPrecision(3)))}function Yge(e,t){return Math.floor(t/1e6)>0?`${Ha(e/1e6)}/${Ha(t/1e6)}Mb`:Math.floor(t/1e3)>0?`${Ha(e/1e3)}/${Ha(t/1e3)}Kb`:`${Ha(e)}/${Ha(t)}}bytes`}function Qc(e){return e.toLocaleString("en-US")}function Xge(e,t){return Math.floor(t/1e3)>0?`${Qc(Number.parseFloat((e/1e6).toFixed(2)))}M`:Qc(Math.floor(e))}function Zge(e,t){let{dynamicBlocks:r,staticBlocks:n,offsetPx:o}=IN(e),i=r?.contentBlocks[0]||{},a=n?.contentBlocks[0]||{},s=n?.contentBlocks[1]||{};return{offsetPx:t?0:o-a.offsetPx,offsetPx1:t?0:o-s.offsetPx,start:i.start,end:i.end}}function Kge({sessionId:e,layoutId:t}){return`${e}-${t}`}function Jge(e,t){let[r,n]=(0,Js.useState)(()=>{if(typeof window>"u")return t;try{let i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.error(i),t}});return[r,i=>{try{let a=i instanceof Function?i(r):i;n(a),typeof window<"u"&&window.localStorage.setItem(e,JSON.stringify(a))}catch(a){console.error(a)}}]}function WN(e){let{uri:t,baseUri:r=""}=e,n;try{n=new URL(t,r).href}catch{n=t}return n}function $N(e){return JN(e)?(0,Id.isUriLocation)(e)?WN(e):JSON.stringify(e):String(e)}function UN(e){return e.replaceAll(/(<([^>]+)>)/gi,"")}function Qge(e){let t=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[-A-Z0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\u0026@#/%=~()_|])/gi;return e.replaceAll(t,`$1<a href='$2' target="_blank">$2</a>`)}function eve(e,t){let{padding:r=30,minWidth:n=80,fontSize:o=12,maxWidth:i=1e3,stripHTML:a=!1}=t||{};return GN(e.map(s=>$N(s)).map(s=>a?UN(s):s).map(s=>zN(s,o)).map(s=>Math.min(Math.max(s+r,n),i)))}function tve(e){return(0,vo.getEnv)(e)}function IS(e){return typeof localStorage<"u"?localStorage.getItem(e):void 0}function VN(e,t){typeof localStorage<"u"&&localStorage.setItem(e,t)}function GN(e,t=Number.NEGATIVE_INFINITY){let r=t;for(let n of e)r=Math.max(n,r);return r}function rve(e,t=Number.POSITIVE_INFINITY){let r=t;for(let n of e)r=Math.min(n,r);return r}function YN(e){let t=0;for(let r of e)t+=r;return t}function nve(e){return YN(e)/e.length}function ove(e,t){let r={};for(let n of e){let o=t(n);r[o]||(r[o]=[]),r[o].push(n)}return r}function ive(e){return e!=null}function XN(e,t=5e3){if(e.length<=1)return e;let r=[],n=null;e=e.sort((o,i)=>o.start-i.start),r.push(e[0]);for(let o=1;o<e.length;o++)n=r.at(-1),n.end+t<e[o].start-t?r.push(e[o]):n.end<e[o].end&&(n.end=Math.max(n.end,e[o].end),r.pop(),r.push(n));return r}function ave(e,t=5e3){let r={};for(let n of e)r[n.refName]||(r[n.refName]=[]),r[n.refName].push(n);return Object.values(r).flatMap(n=>XN(n.sort((o,i)=>o.start-i.start),t))}function sve(e){return(0,jS.colord)(e).alpha(1).toHex()}function uve(e){if(e){let t=(0,jS.colord)(e);return{strokeOpacity:t.alpha(),stroke:t.alpha(1).toHex()}}else return{}}function cve(e){if(e){let t=(0,jS.colord)(e);return{fillOpacity:t.alpha(),fill:t.alpha(1).toHex()}}else return{}}function lve(e){let t=document.createElement("div");return(0,lge.flushSync)(()=>{(0,fge.createRoot)(t).render(e)}),t.innerHTML.replaceAll(/\brgba\((.+?),[^,]+?\)/g,"rgb($1)")}function ZN(e){return e[0]===31&&e[1]===139&&e[2]===8}async function KN(e,t={}){let{statusCallback:r=()=>{}}=t,n=await AS("Downloading file",r,()=>e.readFile(t));return ZN(n)?await AS("Unzipping",r,()=>(0,uge.unzip)(n)):n}async function fve(e,t){let r=await KN(e,t);if(r.length>536870888)throw new Error("Data exceeds maximum string length (512MB)");return new TextDecoder("utf8",{fatal:!0}).decode(r)}function JN(e){return typeof e=="object"&&e!==null}function dve(e,t){var r;return+((r=IS(e))!==null&&r!==void 0?r:t)}function pve(e,t){return!!JSON.parse(IS(e)||JSON.stringify(t))}function mve(e,t){VN(e,JSON.stringify(t))}function hve(e,t,r,n=400){let o=performance.now(),i=0;for(let a of e)performance.now()-o>n&&((0,AN.checkStopToken)(t),o=performance.now()),r(a,i++)}function gve(e,t,r,n){return t.test(e)&&!r||r===n}var QN=Qj();Object.defineProperty(q,"SimpleFeature",{enumerable:!0,get:function(){return PN(QN).default}});Object.defineProperty(q,"isFeature",{enumerable:!0,get:function(){return QN.isFeature}});var vve=cw();Object.defineProperty(q,"blobToDataURL",{enumerable:!0,get:function(){return vve.blobToDataURL}});var bve=MN();Object.defineProperty(q,"makeAbortableReaction",{enumerable:!0,get:function(){return bve.makeAbortableReaction}});Qs(ES(),q)});var nF=y(Dd=>{"use strict";var rF=Dd&&Dd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=kve;var yve=F(),_ve=$(),eF=rF(iP()),xve=rF(sP()),wve=lo(),Sve=["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","sup","sub","td","tfoot","th","thead","tr","u","ul"],tF=!1,Cve=new RegExp(Sve.map(e=>String.raw`<${e}\b[^>]*>`).join("|"),"i");function Tve(e){return Cve.test(e)}function kve({html:e,className:t}){let r=(0,wve.linkify)(`${e}`),n=Tve(r)?r:(0,xve.default)(r);return(0,_ve.useEffect)(()=>{tF||(tF=!0,eF.default.addHook("afterSanitizeAttributes",o=>{o.tagName==="A"&&(o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"))}))},[]),(0,yve.jsx)("span",{className:t,dangerouslySetInnerHTML:{__html:eF.default.sanitize(n)}})}});var Hf=y(Nd=>{"use strict";var LS=Nd&&Nd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nd,"__esModule",{value:!0});var bo=F(),Eve=$(),Ove=R_(),Rve=LS(A_()),Wa=Q(),Mve=re(),Pve=me(),Ave=LS(UM()),jve=LS(nF()),oF=(0,Pve.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},errorBox:{width:800,margin:40}}));function Ive({error:e}){let{classes:t}=oF();return(0,bo.jsx)("div",{className:t.errorBox,children:(0,bo.jsx)(Ave.default,{error:e})})}var Lve=(0,Mve.observer)(function(e){let{classes:t}=oF(),{titleNode:r,...n}=e,{title:o,header:i,children:a,onClose:s}=n,c=(0,Wa.useTheme)();return(0,bo.jsx)(Wa.Dialog,{...n,children:(0,bo.jsxs)(Wa.ScopedCssBaseline,{children:[(0,Eve.isValidElement)(i)?i:(0,bo.jsxs)(Wa.DialogTitle,{children:[r||(0,bo.jsx)(jve.default,{html:o||""}),s?(0,bo.jsx)(Wa.IconButton,{className:t.closeButton,onClick:()=>{s()},children:(0,bo.jsx)(Rve.default,{})}):null]}),(0,bo.jsx)(Wa.Divider,{}),(0,bo.jsx)(Ove.ErrorBoundary,{FallbackComponent:Ive,children:(0,bo.jsx)(Wa.ThemeProvider,{theme:(0,Wa.createTheme)(c,{components:{MuiInputBase:{styleOverrides:{input:{boxSizing:"content-box!important"}}}}}),children:a})})]})})});Nd.default=Lve});var uF={};rt(uF,{default:()=>Nve});var $n,iF,aF,sF,Un,Dve,Nve,cF=A(()=>{$n=g(F()),iF=g($()),aF=g(xe()),sF=g(Hf()),Un=g(Q()),Dve=({tracks:e,onClose:t})=>{let[r,n]=(0,iF.useState)(()=>`MultiWiggle ${Date.now()}`),o=e.every(i=>i.type==="QuantitativeTrack");return(0,$n.jsxs)(sF.default,{open:!0,onClose:()=>{t(!1)},title:"Confirm multi-wiggle track create",children:[(0,$n.jsxs)(Un.DialogContent,{children:[(0,$n.jsxs)(Un.Typography,{children:[o?null:"Not every track looks like a QuantitativeTrack. This could have unexpected behavior, confirm if it looks ok.","Listing:"]}),(0,$n.jsx)("ul",{children:e.map(i=>(0,$n.jsxs)("li",{children:[(0,aF.readConfObject)(i,"name")," - ",i.type]},i.trackId))}),(0,$n.jsx)(Un.TextField,{value:r,onChange:i=>{n(i.target.value)},helperText:"Track name"}),(0,$n.jsx)(Un.Typography,{children:"Confirm creation of track?"})]}),(0,$n.jsxs)(Un.DialogActions,{children:[(0,$n.jsx)(Un.Button,{onClick:()=>{t(!1)},color:"primary",children:"Cancel"}),(0,$n.jsx)(Un.Button,{onClick:()=>{t(!0,{name:r})},color:"primary",variant:"contained",autoFocus:!0,children:"Submit"})]})]})},Nve=Dve});var pF=y((GIe,dF)=>{dF.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType"]});var wF=A(()=>{});var SF=A(()=>{wF()});function yo(e=0){return+e.toPrecision(6)}var $a,Vn=A(()=>{SF();$a=5});var NS=y((RLe,CF)=>{CF.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/DisplayType"]});var Ee,ct=A(()=>{"use client";Ee=g(M_(),1)});var TF,Uve,Ua,FS=A(()=>{TF=g(xe()),Uve=(0,TF.ConfigurationSchema)("BaseLinearDisplay",{maxFeatureScreenDensity:{type:"number",description:"maximum features per pixel that is displayed in the view, used if byte size estimates not available",defaultValue:.3},fetchSizeLimit:{type:"number",defaultValue:1e6,description:"maximum data to attempt to download for a given track, used if adapter doesn't specify one"},height:{type:"number",defaultValue:100,description:"default height for the track"},mouseover:{type:"string",description:"text to display when the cursor hovers over a feature",defaultValue:"jexl:join('<br/>',get(feature,'_mouseOver')||get(feature,'name')||get(feature,'id'),mouseoverExtraInformation||'')",contextVariable:["feature","mouseoverExtraInformation"]},jexlFilters:{type:"stringArray",description:"default set of jexl filters to apply to a track. note: these do not use the jexl prefix because they have a deferred evaluation system",defaultValue:[]}},{explicitIdentifier:"displayId"}),Ua=Uve});var eu=y((ALe,kF)=>{kF.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/models"]});var EF=y(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});var qS=class{constructor(t){this.submaps=t}has(t){for(let r of this.submaps.values())if(r.has(t))return!0;return!1}get(t){for(let r of this.submaps.values())if(r.has(t))return r.get(t)}*values(){for(let t of this.keys())yield this.get(t)}*keys(){let t=new Set;for(let r of this.submaps.values())for(let n of r.keys())t.add(n);for(let r of t)yield r}find(t){for(let r of this.submaps.values())for(let n of r.values())if(t(n))return n}*[Symbol.iterator](){for(let t of this.keys())yield[t,this.get(t)]}*entries(){for(let t of this.keys())yield[t,this.get(t)]}};BS.default=qS});var OF,RF,MF=A(()=>{"use client";ct();OF=g(F(),1),RF=(0,Ee.createSvgIcon)((0,OF.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m-7 7H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2z"}),"CenterFocusStrong")});var PF,Nb,zS=A(()=>{"use client";ct();PF=g(F(),1),Nb=(0,Ee.createSvgIcon)((0,PF.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")});var AF,jF,IF=A(()=>{"use client";ct();AF=g(F(),1),jF=(0,Ee.createSvgIcon)((0,AF.jsx)("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen")});async function WS(e){var t;try{let r=(0,Fb.getContainingView)(e);if(!r.initialized||!r.staticBlocks.contentBlocks.length||r.bpPerPx===e.currStatsBpPerPx||e.error)return;if(((t=e.featureDensityStats)===null||t===void 0?void 0:t.featureDensity)!==void 0){e.setCurrStatsBpPerPx(r.bpPerPx);return}e.clearFeatureDensityStats(),e.setCurrStatsBpPerPx(r.bpPerPx);let n=await e.getFeatureDensityStats();(0,HS.isAlive)(e)&&e.setFeatureDensityStats(n)}catch(r){console.error(r),(0,HS.isAlive)(e)&&!(0,Fb.isAbortException)(r)&&e.setError(r)}}var Fb,HS,LF=A(()=>{Fb=g(Z()),HS=g(Me())});function FF(e){return Math.floor(e/1e6)>0?`${Number.parseFloat((e/1e6).toPrecision(3))} Mb`:Math.floor(e/1e3)>0?`${Number.parseFloat((e/1e3).toPrecision(3))} Kb`:`${Math.floor(e)} bytes`}function qF(e,t){let r=typeof jest>"u";return["clip",r?e:"jest",t,r?Math.random():""].filter(n=>!!n).join("-")}async function BF(e){let r=(0,qb.getContainingView)(e).staticBlocks.contentBlocks,{rpcManager:n}=(0,qb.getSession)(e),{adapterConfig:o}=e;if(!o)return{};let i=(0,DF.getRpcSessionId)(e);return n.call(i,"CoreGetFeatureDensityStats",{sessionId:i,regions:r,adapterConfig:o,statusCallback:a=>{(0,NF.isAlive)(e)&&e.setMessage(a)}})}var qb,DF,NF,$S=A(()=>{qb=g(Z()),DF=g(bn()),NF=g(Me())});function ai({message:e,severity:t,action:r}){let{classes:n}=Vve();return(0,Bb.jsx)(zb.Alert,{severity:t,action:r,classes:{message:n.ellipses},onMouseDown:o=>{o.stopPropagation()},onClick:o=>{o.stopPropagation()},children:(0,Bb.jsx)(zb.Tooltip,{title:e,children:(0,Bb.jsx)("div",{children:e})})})}var Bb,zb,zF,Vve,qd=A(()=>{Bb=g(F()),zb=g(Q()),zF=g(me()),Vve=(0,zF.makeStyles)()({ellipses:{textOverflow:"ellipsis",overflow:"hidden"}})});var US,HF,WF,$F,Gve,Hb,VS=A(()=>{US=g(F()),HF=g(Q()),WF=g(re()),$F=g(Me());qd();Gve=(0,WF.observer)(function({model:e}){let{regionTooLargeReason:t}=e;return(0,US.jsx)(ai,{severity:"warning",action:(0,US.jsx)(HF.Button,{onClick:()=>{(0,$F.isAlive)(e)&&(e.setFeatureDensityStatsLimit(e.featureDensityStats),e.reload())},children:"Force load"}),message:[t,"Zoom in to see features or force load (may be slow)"].filter(r=>!!r).join(". ")})}),Hb=Gve});function zd(){return si.types.model({userBpPerPxLimit:si.types.maybe(si.types.number),userByteSizeLimit:si.types.maybe(si.types.number)}).volatile(()=>({featureDensityStatsP:void 0,featureDensityStats:void 0,currStatsBpPerPx:0})).views(e=>({get currentBytesRequested(){var t;return((t=e.featureDensityStats)===null||t===void 0?void 0:t.bytes)||0},get currentFeatureScreenDensity(){var t;let r=(0,Bd.getContainingView)(e);return(((t=e.featureDensityStats)===null||t===void 0?void 0:t.featureDensity)||0)*r.bpPerPx},get maxFeatureScreenDensity(){return(0,GS.getConf)(e,"maxFeatureScreenDensity")},get featureDensityStatsReady(){let t=(0,Bd.getContainingView)(e);return e.currStatsBpPerPx===t.bpPerPx&&(!!e.featureDensityStats||!!e.userBpPerPxLimit)},get maxAllowableBytes(){var t;return e.userByteSizeLimit||((t=e.featureDensityStats)===null||t===void 0?void 0:t.fetchSizeLimit)||(0,GS.getConf)(e,"fetchSizeLimit")}})).actions(e=>({afterAttach(){(0,si.addDisposer)(e,(0,VF.autorun)(()=>WS(e)))}})).actions(e=>({setCurrStatsBpPerPx(t){e.currStatsBpPerPx=t},setFeatureDensityStatsLimit(t){let r=(0,Bd.getContainingView)(e);t?.bytes?e.userByteSizeLimit=t.bytes:e.userBpPerPxLimit=r.bpPerPx},getFeatureDensityStats(){return e.featureDensityStatsP||(e.featureDensityStatsP=BF(e).catch(t=>{throw(0,si.isAlive)(e)&&this.setFeatureDensityStatsP(void 0),t})),e.featureDensityStatsP},setFeatureDensityStatsP(t){e.featureDensityStatsP=t},setFeatureDensityStats(t){e.featureDensityStats=t},clearFeatureDensityStats(){e.featureDensityStatsP=void 0,e.featureDensityStats=void 0}})).views(e=>({get regionTooLarge(){let t=(0,Bd.getContainingView)(e);return!e.featureDensityStatsReady||t.dynamicBlocks.totalBp<2e4?!1:e.currentBytesRequested>e.maxAllowableBytes||(e.userBpPerPxLimit?t.bpPerPx>e.userBpPerPxLimit:e.currentFeatureScreenDensity>e.maxFeatureScreenDensity)},get regionTooLargeReason(){let t=e.currentBytesRequested,r=e.maxAllowableBytes;return t&&t>r?`Requested too much data (${FF(t)})`:""}})).views(e=>({get statsReadyAndRegionNotTooLarge(){return e.featureDensityStatsReady&&!e.regionTooLarge},regionCannotBeRenderedText(t){return e.regionTooLarge?"Force load to see features":""},regionCannotBeRendered(t){return e.regionTooLarge?(0,UF.jsx)(Hb,{model:e}):null}}))}var UF,GS,Bd,VF,si,YS=A(()=>{UF=g(F()),GS=g(xe()),Bd=g(Z()),VF=g(Bs()),si=g(Me());LF();$S();VS()});function Wd(){return Hd.types.model({heightPreConfig:Hd.types.maybe(Hd.types.refinement("displayHeight",Hd.types.number,e=>e>=GF))}).volatile(()=>({scrollTop:0})).views(e=>({get height(){var t;return(t=e.heightPreConfig)!==null&&t!==void 0?t:(0,YF.getConf)(e,"height")}})).actions(e=>({setScrollTop(t){e.scrollTop=t},setHeight(t){return e.heightPreConfig=Math.max(t,GF),e.height},resizeHeight(t){let r=e.height;return this.setHeight(e.height+t)-r}}))}var YF,Hd,GF,XS=A(()=>{YF=g(xe()),Hd=g(Me()),GF=20});var ZS,XF,ZF,KF,JF,Yve,Xve,QF,eq=A(()=>{ZS=g(F()),XF=g(He()),ZF=g(re()),KF=g(Me()),JF=g(me()),Yve=(0,JF.makeStyles)()(e=>{let t=e.palette.action.disabledBackground;return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${t} 5px, ${t} 10px)`,textAlign:"center"}}}),Xve=(0,ZF.observer)(function({model:e}){let{classes:t}=Yve(),{status:r}=e,{message:n}=(0,KF.getParent)(e,2),o=n||r;return(0,ZS.jsx)("div",{className:t.loading,children:(0,ZS.jsx)(XF.LoadingEllipses,{message:o})})}),QF=Xve});var tq,rq,nq=A(()=>{"use client";ct();tq=g(F(),1),rq=(0,Ee.createSvgIcon)((0,tq.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")});var oq,iq,aq=A(()=>{"use client";ct();oq=g(F(),1),iq=(0,Ee.createSvgIcon)((0,oq.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")});var lq={};rt(lq,{default:()=>Kve});var Gn,sq,uq,el,cq,Zve,Kve,fq=A(()=>{Gn=g(F()),sq=g(w1()),uq=g(Z());nq();aq();el=g(Q()),cq=g(re());qd();Zve=(0,cq.observer)(function({model:e}){return(0,Gn.jsx)(ai,{message:`${e.error}`,severity:"error",action:(0,Gn.jsxs)(Gn.Fragment,{children:[(0,Gn.jsx)(el.Tooltip,{title:"Reload track",children:(0,Gn.jsx)(el.IconButton,{"data-testid":"reload_button",onClick:()=>{e.reload()},children:(0,Gn.jsx)(rq,{})})}),(0,Gn.jsx)(el.Tooltip,{title:"Show stack trace",children:(0,Gn.jsx)(el.IconButton,{onClick:()=>{(0,uq.getSession)(e).queueDialog(t=>[sq.default,{onClose:t,error:e.error}])},children:(0,Gn.jsx)(iq,{})})})]})})}),Kve=Zve});var $d,tl,dq,Jve,Qve,KS,pq=A(()=>{$d=g(F()),tl=g($()),dq=g(re());eq();qd();Jve=(0,tl.lazy)(()=>Promise.resolve().then(()=>(fq(),lq))),Qve=(0,dq.observer)(function({model:e}){return e.error?(0,$d.jsx)(tl.Suspense,{fallback:null,children:(0,$d.jsx)(Jve,{model:e})}):e.message?(0,tl.isValidElement)(e.message)?e.message:(0,$d.jsx)(ai,{message:`${e.message}`,severity:"info"}):e.filled?e.reactElement:(0,$d.jsx)(QF,{model:e})}),KS=Qve});function Wb(e,t){try{let r=t||(0,$r.getContainingDisplay)(e),{assemblyManager:n,rpcManager:o}=(0,$r.getSession)(r),{adapterConfig:i,rendererType:a,error:s,parentTrack:c}=r,u=(0,$b.getTrackAssemblyNames)(c),l=e.region.assemblyName;if(!u.includes(l)&&!u.some(v=>{var b;return(b=n.get(v))===null||b===void 0?void 0:b.hasName(l)}))throw new Error(`region assembly (${l}) does not match track assemblies (${u})`);let f=r.renderProps(),{config:d}=f;(0,mq.readConfObject)(d);let p=(0,$b.getRpcSessionId)(r),m=(0,$r.getContainingTrack)(r).id,h=r.regionCannotBeRendered(e.region);return{rendererType:a,rpcManager:o,renderProps:f,cannotBeRenderedReason:h,displayError:s,renderArgs:{statusCallback:v=>{(0,Yn.isAlive)(e)&&e.setStatus(v)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:i,rendererType:a.name,sessionId:p,layoutId:m,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(r){return{displayError:r}}}async function tbe(e,t,r){if(!e)return;let{rendererType:n,renderProps:o,rpcManager:i,renderArgs:a,cannotBeRenderedReason:s,displayError:c}=e;if((0,Yn.isAlive)(r))if(c){r.setError(c);return}else if(s){r.setMessage(s);return}else{if(o.notReady)return;{let{reactElement:u,features:l,layout:f,maxHeightReached:d}=await n.renderInClient(i,{...a,...o,viewParams:(0,$r.getViewParams)(r),stopToken:t});return{reactElement:u,features:l,layout:f,maxHeightReached:d,renderProps:o}}}else return}var mq,$r,Ud,$b,hq,Yn,ebe,Vd,JS=A(()=>{mq=g(xe()),$r=g(Z()),Ud=g(ma()),$b=g(bn()),hq=g(pd()),Yn=g(Me());pq();ebe=Yn.types.model("BlockState",{key:Yn.types.string,region:Yn.types.frozen(),reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile(()=>({stopToken:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:KS,renderProps:void 0})).actions(e=>({doReload(){e.reloadFlag=e.reloadFlag+1},afterAttach(){let t=(0,$r.getContainingDisplay)(e);setTimeout(()=>{(0,Yn.isAlive)(e)&&(0,$r.makeAbortableReaction)(e,Wb,tbe,{name:`${t.id}/${(0,$r.assembleLocString)(e.region)} rendering`,delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)},t.renderDelay)},setStatus(t){e.status=t},setLoading(t){e.stopToken!==void 0&&(0,Ud.stopStopToken)(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=t},setMessage(t){e.stopToken!==void 0&&(0,Ud.stopStopToken)(e.stopToken),e.filled=!1,e.message=t,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=void 0},setRendered(t){if(!t)return;let{reactElement:r,features:n,layout:o,maxHeightReached:i,renderProps:a}=t;e.filled=!0,e.message=void 0,e.reactElement=r,e.features=n,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=a,e.stopToken=void 0},setError(t){console.error(t),e.stopToken!==void 0&&(0,Ud.stopStopToken)(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=t,e.renderProps=void 0,e.stopToken=void 0,(0,hq.isRetryException)(t)&&this.reload()},reload(){e.stopToken=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=KS,e.renderProps=void 0,(0,Yn.getParent)(e,2).reload()},beforeDestroy(){(async()=>{try{e.stopToken!==void 0&&(0,Ud.stopStopToken)(e.stopToken);let t=(0,$r.getContainingDisplay)(e),{rpcManager:r}=(0,$r.getSession)(e),{rendererType:n}=t,{renderArgs:o}=Wb((0,Yn.cast)(e));o&&await n.freeResourcesInClient(r,JSON.parse(JSON.stringify(o)))}catch(t){console.error("Error while destroying block",t)}})()}})),Vd=ebe});function Ub(){return typeof window<"u"}function ui(e){return Vb(e)?(e.nodeName||"").toLowerCase():"#document"}function wr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xo(e){var t;return(t=(Vb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vb(e){return Ub()?e instanceof Node||e instanceof wr(e).Node:!1}function ot(e){return Ub()?e instanceof Element||e instanceof wr(e).Element:!1}function gt(e){return Ub()?e instanceof HTMLElement||e instanceof wr(e).HTMLElement:!1}function rl(e){return!Ub()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wr(e).ShadowRoot}function nl(e){let{overflow:t,overflowX:r,overflowY:n,display:o}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rbe.has(o)}function gq(e){return nbe.has(ui(e))}function Gd(e){return obe.some(t=>{try{return e.matches(t)}catch{return!1}})}function Gb(e){let t=ol(),r=ot(e)?Ur(e):e;return ibe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||abe.some(n=>(r.willChange||"").includes(n))||sbe.some(n=>(r.contain||"").includes(n))}function vq(e){let t=_o(e);for(;gt(t)&&!wo(t);){if(Gb(t))return t;if(Gd(t))return null;t=_o(t)}return null}function ol(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wo(e){return ube.has(ui(e))}function Ur(e){return wr(e).getComputedStyle(e)}function Yd(e){return ot(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _o(e){if(ui(e)==="html")return e;let t=e.assignedSlot||e.parentNode||rl(e)&&e.host||xo(e);return rl(t)?t.host:t}function bq(e){let t=_o(e);return wo(t)?e.ownerDocument?e.ownerDocument.body:e.body:gt(t)&&nl(t)?t:bq(t)}function cn(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);let o=bq(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=wr(o);if(i){let s=Yb(a);return t.concat(a,a.visualViewport||[],nl(o)?o:[],s&&r?cn(s):[])}return t.concat(o,cn(o,[],r))}function Yb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var rbe,nbe,obe,ibe,abe,sbe,ube,Xd=A(()=>{rbe=new Set(["inline","contents"]);nbe=new Set(["table","td","th"]);obe=[":popover-open",":modal"];ibe=["transform","translate","scale","rotate","perspective"],abe=["transform","translate","scale","rotate","perspective","filter"],sbe=["paint","layout","strict","content"];ube=new Set(["html","body","#document"])});function Xb(e,t,r){return Tt(e,Vr(t,r))}function ln(e,t){return typeof e=="function"?e(t):e}function fn(e){return e.split("-")[0]}function Xn(e){return e.split("-")[1]}function Zb(e){return e==="x"?"y":"x"}function Kb(e){return e==="y"?"height":"width"}function Zn(e){return fbe.has(fn(e))?"y":"x"}function Jb(e){return Zb(Zn(e))}function tC(e,t,r){r===void 0&&(r=!1);let n=Xn(e),o=Jb(e),i=Kb(o),a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Kd(a)),[a,Kd(a)]}function wq(e){let t=Kd(e);return[Zd(e),t,Zd(t)]}function Zd(e){return e.replace(/start|end/g,t=>lbe[t])}function mbe(e,t,r){switch(e){case"top":case"bottom":return r?t?xq:_q:t?_q:xq;case"left":case"right":return t?dbe:pbe;default:return[]}}function Sq(e,t,r,n){let o=Xn(e),i=mbe(fn(e),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Zd)))),i}function Kd(e){return e.replace(/left|right|bottom|top/g,t=>cbe[t])}function hbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qb(e){return typeof e!="number"?hbe(e):{top:e,right:e,bottom:e,left:e}}function Di(e){let{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}var QS,yq,eC,Vr,Tt,tu,Va,So,cbe,lbe,fbe,_q,xq,dbe,pbe,il=A(()=>{QS=["top","right","bottom","left"],yq=["start","end"],eC=QS.reduce((e,t)=>e.concat(t,t+"-"+yq[0],t+"-"+yq[1]),[]),Vr=Math.min,Tt=Math.max,tu=Math.round,Va=Math.floor,So=e=>({x:e,y:e}),cbe={left:"right",right:"left",bottom:"top",top:"bottom"},lbe={start:"end",end:"start"};fbe=new Set(["top","bottom"]);_q=["left","right"],xq=["right","left"],dbe=["top","bottom"],pbe=["bottom","top"]});var gbe,ey,Tq,al,ty,Jd,vbe,kq,ry,Eq,Oq,bbe,ybe,Rq,_be,xbe,wbe,Sbe,Cbe,Tbe,kbe,Cq,Ebe,Obe,rC,nC,Rbe,Mq,sl,Pq,oC,iC=A(()=>{gbe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ey=gbe.join(","),Tq=typeof Element>"u",al=Tq?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ty=!Tq&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Jd=function(t,r){var n;r===void 0&&(r=!0);var o=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),i=o===""||o==="true",a=i||r&&t&&Jd(t.parentNode);return a},vbe=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},kq=function(t,r,n){if(Jd(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(ey));return r&&al.call(t,ey)&&o.unshift(t),o=o.filter(n),o},ry=function(t,r,n){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!Jd(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),c=s.length?s:a.children,u=ry(c,!0,n);n.flatten?o.push.apply(o,u):o.push({scopeParent:a,candidates:u})}else{var l=al.call(a,ey);l&&n.filter(a)&&(r||!t.includes(a))&&o.push(a);var f=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),d=!Jd(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(f&&d){var p=ry(f===!0?a.children:f.children,!0,n);n.flatten?o.push.apply(o,p):o.push({scopeParent:a,candidates:p})}else i.unshift.apply(i,a.children)}}return o},Eq=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Oq=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||vbe(t))&&!Eq(t)?0:t.tabIndex},bbe=function(t,r){var n=Oq(t);return n<0&&r&&!Eq(t)?0:n},ybe=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},Rq=function(t){return t.tagName==="INPUT"},_be=function(t){return Rq(t)&&t.type==="hidden"},xbe=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},wbe=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},Sbe=function(t){if(!t.name)return!0;var r=t.form||ty(t),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(t.name));else try{o=n(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=wbe(o,t.form);return!i||i===t},Cbe=function(t){return Rq(t)&&t.type==="radio"},Tbe=function(t){return Cbe(t)&&!Sbe(t)},kbe=function(t){var r,n=t&&ty(t),o=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==t){var a,s,c;for(i=!!((a=o)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var u,l,f;n=ty(o),o=(u=n)===null||u===void 0?void 0:u.host,i=!!((l=o)!==null&&l!==void 0&&(f=l.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},Cq=function(t){var r=t.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},Ebe=function(t,r){var n=r.displayCheck,o=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in t){var i=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(t).visibility==="hidden")return!0;var a=al.call(t,"details>summary:first-of-type"),s=a?t.parentElement:t;if(al.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,l=ty(t);if(u&&!u.shadowRoot&&o(u)===!0)return Cq(t);t.assignedSlot?t=t.assignedSlot:!u&&l!==t.ownerDocument?t=l.host:t=u}t=c}if(kbe(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Cq(t);return!1},Obe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return al.call(r,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}r=r.parentElement}return!1},rC=function(t,r){return!(r.disabled||Jd(r)||_be(r)||Ebe(r,t)||xbe(r)||Obe(r))},nC=function(t,r){return!(Tbe(r)||Oq(r)<0||!rC(t,r))},Rbe=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Mq=function(t){var r=[],n=[];return t.forEach(function(o,i){var a=!!o.scopeParent,s=a?o.scopeParent:o,c=bbe(s,a),u=a?Mq(o.candidates):s;c===0?a?r.push.apply(r,u):r.push(s):n.push({documentOrder:i,tabIndex:c,item:o,isScope:a,content:u})}),n.sort(ybe).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(r)},sl=function(t,r){r=r||{};var n;return r.getShadowRoot?n=ry([t],r.includeContainer,{filter:nC.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Rbe}):n=kq(t,r.includeContainer,nC.bind(null,r)),Mq(n)},Pq=function(t,r){r=r||{};var n;return r.getShadowRoot?n=ry([t],r.includeContainer,{filter:rC.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=kq(t,r.includeContainer,rC.bind(null,r)),n},oC=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return al.call(t,ey)===!1?!1:nC(r,t)}});function oy(){let e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function iy(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function cC(){return/apple/i.test(navigator.vendor)}function uC(){let e=/android/i;return e.test(oy())||e.test(iy())}function Iq(){return oy().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Lq(){return iy().includes("jsdom/")}function Co(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Vt(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&rl(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function To(e){return"composedPath"in e?e.composedPath()[0]:e.target}function ay(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);let r=e;return r.target!=null&&t.contains(r.target)}function Dq(e){return e.matches("html,body")}function sr(e){return e?.ownerDocument||document}function sy(e){return gt(e)&&e.matches(Mbe)}function uy(e){return e?e.getAttribute("role")==="combobox"&&sy(e):!1}function Nq(e){if(!e||Lq())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Qd(e){return e?e.hasAttribute(Aq)?e:e.querySelector("["+Aq+"]")||e:null}function Ga(e,t,r){return r===void 0&&(r=!0),e.filter(o=>{var i;return o.parentId===t&&(!r||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...Ga(e,o.id,r)])}function Fq(e,t){let r,n=-1;function o(i,a){a>n&&(r=i,n=a),Ga(e,i).forEach(c=>{o(c.id,a+1)})}return o(t,0),e.find(i=>i.id===r)}function lC(e,t){var r;let n=[],o=(r=e.find(i=>i.id===t))==null?void 0:r.parentId;for(;o;){let i=e.find(a=>a.id===o);o=i?.parentId,i&&(n=n.concat(i))}return n}function ar(e){e.preventDefault(),e.stopPropagation()}function qq(e){return"nativeEvent"in e}function fC(e){return e.mozInputSource===0&&e.isTrusted?!0:uC()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function dC(e){return Lq()?!1:!uC()&&e.width===0&&e.height===0||uC()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function nu(e,t){let r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}function Gt(e){let t=ul.useRef(e);return De(()=>{t.current=e}),t}function st(e){let t=ul.useRef(()=>{});return Nbe(()=>{t.current=e}),ul.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function ny(e,t,r){return Math.floor(e/t)!==r}function ru(e,t){return t<0||t>=e.current.length}function ep(e,t){return ir(e,{disabledIndices:t})}function cy(e,t){return ir(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ir(e,t){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t,a=r;do a+=n?-i:i;while(a>=0&&a<=e.current.length-1&&Ya(e,a,o));return a}function pC(e,t){let{event:r,orientation:n,loop:o,rtl:i,cols:a,disabledIndices:s,minIndex:c,maxIndex:u,prevIndex:l,stopEvent:f=!1}=t,d=l;if(r.key===Pbe){if(f&&ar(r),l===-1)d=u;else if(d=ir(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),o&&(l-a<c||d<0)){let p=l%a,m=u%a,h=u-(m-p);m===p?d=u:d=m>p?h:h-a}ru(e,d)&&(d=l)}if(r.key===Abe&&(f&&ar(r),l===-1?d=c:(d=ir(e,{startingIndex:l,amount:a,disabledIndices:s}),o&&l+a>u&&(d=ir(e,{startingIndex:l%a-a,amount:a,disabledIndices:s}))),ru(e,d)&&(d=l)),n==="both"){let p=Va(l/a);r.key===(i?aC:sC)&&(f&&ar(r),l%a!==a-1?(d=ir(e,{startingIndex:l,disabledIndices:s}),o&&ny(d,a,p)&&(d=ir(e,{startingIndex:l-l%a-1,disabledIndices:s}))):o&&(d=ir(e,{startingIndex:l-l%a-1,disabledIndices:s})),ny(d,a,p)&&(d=l)),r.key===(i?sC:aC)&&(f&&ar(r),l%a!==0?(d=ir(e,{startingIndex:l,decrement:!0,disabledIndices:s}),o&&ny(d,a,p)&&(d=ir(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s}))):o&&(d=ir(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s})),ny(d,a,p)&&(d=l));let m=Va(u/a)===p;ru(e,d)&&(o&&m?d=r.key===(i?sC:aC)?u:ir(e,{startingIndex:l-l%a-1,disabledIndices:s}):d=l)}return d}function mC(e,t,r){let n=[],o=0;return e.forEach((i,a)=>{let{width:s,height:c}=i;s>t;let u=!1;for(r&&(o=0);!u;){let l=[];for(let f=0;f<s;f++)for(let d=0;d<c;d++)l.push(o+f+d*t);o%t+s<=t&&l.every(f=>n[f]==null)?(l.forEach(f=>{n[f]=a}),u=!0):o++}}),[...n]}function hC(e,t,r,n,o){if(e===-1)return-1;let i=r.indexOf(e),a=t[e];switch(o){case"tl":return i;case"tr":return a?i+a.width-1:i;case"bl":return a?i+(a.height-1)*n:i;case"br":return r.lastIndexOf(e)}}function gC(e,t){return t.flatMap((r,n)=>e.includes(r)?[n]:[])}function Ya(e,t,r){if(typeof r=="function")return r(t);if(r)return r.includes(t);let n=e.current[t];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}function Bq(e,t){let r=sl(e,cl()),n=r.length;if(n===0)return;let o=Co(sr(e)),i=r.indexOf(o),a=i===-1?t===1?0:n-1:i+t;return r[a]}function vC(e){return Bq(sr(e).body,1)||e}function bC(e){return Bq(sr(e).body,-1)||e}function ll(e,t){let r=t||e.currentTarget,n=e.relatedTarget;return!n||!Vt(r,n)}function zq(e){sl(e,cl()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function yC(e){e.querySelectorAll("[data-tabindex]").forEach(r=>{let n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}var ul,jq,Aq,Mbe,aC,sC,Pbe,Abe,jbe,Ibe,De,Lbe,Dbe,Nbe,cl,Hq=A(()=>{Xd();ul=g($(),1),jq=g($(),1);il();iC();Aq="data-floating-ui-focusable",Mbe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",aC="ArrowLeft",sC="ArrowRight",Pbe="ArrowUp",Abe="ArrowDown";jbe=typeof document<"u",Ibe=function(){},De=jbe?jq.useLayoutEffect:Ibe,Lbe={...ul};Dbe=Lbe.useInsertionEffect,Nbe=Dbe||(e=>e());cl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"})});function Wq(e,t,r){let{reference:n,floating:o}=e,i=Zn(t),a=Jb(t),s=Kb(a),c=fn(t),u=i==="y",l=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,d=n[s]/2-o[s]/2,p;switch(c){case"top":p={x:l,y:n.y-o.height};break;case"bottom":p={x:l,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Xn(t)){case"start":p[a]-=d*(r&&u?-1:1);break;case"end":p[a]+=d*(r&&u?-1:1);break}return p}async function Xa(e,t){var r;t===void 0&&(t={});let{x:n,y:o,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=ln(t,e),m=Qb(p),v=s[d?f==="floating"?"reference":"floating":f],b=Di(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:l,strategy:c})),_=f==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=Di(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:S,strategy:c}):_);return{top:(b.top-T.top+m.top)/w.y,bottom:(T.bottom-b.bottom+m.bottom)/w.y,left:(b.left-T.left+m.left)/w.x,right:(T.right-b.right+m.right)/w.x}}function Fbe(e,t,r){return(e?[...r.filter(o=>Xn(o)===e),...r.filter(o=>Xn(o)!==e)]:r.filter(o=>fn(o)===o)).filter(o=>e?Xn(o)===e||(t?Zd(o)!==o:!1):!0)}function $q(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Uq(e){return QS.some(t=>e[t]>=0)}function Kq(e){let t=Vr(...e.map(i=>i.left)),r=Vr(...e.map(i=>i.top)),n=Tt(...e.map(i=>i.right)),o=Tt(...e.map(i=>i.bottom));return{x:t,y:r,width:n-t,height:o-r}}function qbe(e){let t=e.slice().sort((o,i)=>o.y-i.y),r=[],n=null;for(let o=0;o<t.length;o++){let i=t[o];!n||i.y-n.y>n.height/2?r.push([i]):r[r.length-1].push(i),n=i}return r.map(o=>Di(Kq(o)))}async function Bbe(e,t){let{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=fn(r),s=Xn(r),c=Zn(r)==="y",u=Qq.has(a)?-1:1,l=i&&c?-1:1,f=ln(t,e),{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),c?{x:p*l,y:d*u}:{x:d*u,y:p*l}}var Vq,Gq,Yq,Xq,Zq,Jq,Qq,e5,t5,r5,n5,o5=A(()=>{il();il();Vq=async(e,t,r)=>{let{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:f}=Wq(u,n,c),d=n,p={},m=0;for(let h=0;h<s.length;h++){let{name:v,fn:b}=s[h],{x:_,y:S,data:w,reset:T}=await b({x:l,y:f,initialPlacement:n,placement:d,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});l=_??l,f=S??f,p={...p,[v]:{...p[v],...w}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:l,y:f}=Wq(u,d,c)),h=-1)}return{x:l,y:f,placement:d,strategy:o,middlewareData:p}};Gq=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:c}=t,{element:u,padding:l=0}=ln(e,t)||{};if(u==null)return{};let f=Qb(l),d={x:r,y:n},p=Jb(o),m=Kb(p),h=await a.getDimensions(u),v=p==="y",b=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[p]-d[p]-i.floating[m],T=d[p]-i.reference[p],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u)),C=O?O[S]:0;(!C||!await(a.isElement==null?void 0:a.isElement(O)))&&(C=s.floating[S]||i.floating[m]);let M=w/2-T/2,R=C/2-h[m]/2-1,k=Vr(f[b],R),I=Vr(f[_],R),B=k,L=C-h[m]-I,E=C/2-h[m]/2+M,N=Xb(B,E,L),U=!c.arrow&&Xn(o)!=null&&E!==N&&i.reference[m]/2-(E<B?k:I)-h[m]/2<0,z=U?E<B?E-B:E-L:0;return{[p]:d[p]+z,data:{[p]:N,centerOffset:E-N-z,...U&&{alignmentOffset:z}},reset:U}}});Yq=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,n,o;let{rects:i,middlewareData:a,placement:s,platform:c,elements:u}=t,{crossAxis:l=!1,alignment:f,allowedPlacements:d=eC,autoAlignment:p=!0,...m}=ln(e,t),h=f!==void 0||d===eC?Fbe(f||null,p,d):d,v=await Xa(t,m),b=((r=a.autoPlacement)==null?void 0:r.index)||0,_=h[b];if(_==null)return{};let S=tC(_,i,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(s!==_)return{reset:{placement:h[0]}};let w=[v[fn(_)],v[S[0]],v[S[1]]],T=[...((n=a.autoPlacement)==null?void 0:n.overflows)||[],{placement:_,overflows:w}],O=h[b+1];if(O)return{data:{index:b+1,overflows:T},reset:{placement:O}};let C=T.map(k=>{let I=Xn(k.placement);return[k.placement,I&&l?k.overflows.slice(0,2).reduce((B,L)=>B+L,0):k.overflows[0],k.overflows]}).sort((k,I)=>k[1]-I[1]),R=((o=C.filter(k=>k[2].slice(0,Xn(k[0])?2:3).every(I=>I<=0))[0])==null?void 0:o[0])||C[0][0];return R!==s?{data:{index:b+1,overflows:T},reset:{placement:R}}:{}}}},Xq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;let{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=ln(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};let b=fn(o),_=Zn(s),S=fn(s)===s,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=d||(S||!h?[Kd(s)]:wq(s)),O=m!=="none";!d&&O&&T.push(...Sq(s,h,m,w));let C=[s,...T],M=await Xa(t,v),R=[],k=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&R.push(M[b]),f){let E=tC(o,a,w);R.push(M[E[0]],M[E[1]])}if(k=[...k,{placement:o,overflows:R}],!R.every(E=>E<=0)){var I,B;let E=(((I=i.flip)==null?void 0:I.index)||0)+1,N=C[E];if(N&&(!(f==="alignment"?_!==Zn(N):!1)||k.every(D=>Zn(D.placement)===_?D.overflows[0]>0:!0)))return{data:{index:E,overflows:k},reset:{placement:N}};let U=(B=k.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:B.placement;if(!U)switch(p){case"bestFit":{var L;let z=(L=k.filter(D=>{if(O){let W=Zn(D.placement);return W===_||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,te)=>W+te,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:L[0];z&&(U=z);break}case"initialPlacement":U=s;break}if(o!==U)return{reset:{placement:U}}}return{}}}};Zq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...o}=ln(e,t);switch(n){case"referenceHidden":{let i=await Xa(t,{...o,elementContext:"reference"}),a=$q(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Uq(a)}}}case"escaped":{let i=await Xa(t,{...o,altBoundary:!0}),a=$q(i,r.floating);return{data:{escapedOffsets:a,escaped:Uq(a)}}}default:return{}}}}};Jq=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){let{placement:r,elements:n,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:c,y:u}=ln(e,t),l=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(n.reference))||[]),f=qbe(l),d=Di(Kq(l)),p=Qb(s);function m(){if(f.length===2&&f[0].left>f[1].right&&c!=null&&u!=null)return f.find(v=>c>v.left-p.left&&c<v.right+p.right&&u>v.top-p.top&&u<v.bottom+p.bottom)||d;if(f.length>=2){if(Zn(r)==="y"){let k=f[0],I=f[f.length-1],B=fn(r)==="top",L=k.top,E=I.bottom,N=B?k.left:I.left,U=B?k.right:I.right,z=U-N,D=E-L;return{top:L,bottom:E,left:N,right:U,width:z,height:D,x:N,y:L}}let v=fn(r)==="left",b=Tt(...f.map(k=>k.right)),_=Vr(...f.map(k=>k.left)),S=f.filter(k=>v?k.left===_:k.right===b),w=S[0].top,T=S[S.length-1].bottom,O=_,C=b,M=C-O,R=T-w;return{top:w,bottom:T,left:O,right:C,width:M,height:R,x:O,y:w}}return d}let h=await i.getElementRects({reference:{getBoundingClientRect:m},floating:n.floating,strategy:a});return o.reference.x!==h.reference.x||o.reference.y!==h.reference.y||o.reference.width!==h.reference.width||o.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}},Qq=new Set(["left","top"]);e5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:o,y:i,placement:a,middlewareData:s}=t,c=await Bbe(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},t5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...c}=ln(e,t),u={x:r,y:n},l=await Xa(t,c),f=Zn(fn(o)),d=Zb(f),p=u[d],m=u[f];if(i){let v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",_=p+l[v],S=p-l[b];p=Xb(_,p,S)}if(a){let v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=m+l[v],S=m-l[b];m=Xb(_,m,S)}let h=s.fn({...t,[d]:p,[f]:m});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[d]:i,[f]:a}}}}}},r5=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=ln(e,t),l={x:r,y:n},f=Zn(o),d=Zb(f),p=l[d],m=l[f],h=ln(s,t),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let S=d==="y"?"height":"width",w=i.reference[d]-i.floating[S]+v.mainAxis,T=i.reference[d]+i.reference[S]-v.mainAxis;p<w?p=w:p>T&&(p=T)}if(u){var b,_;let S=d==="y"?"width":"height",w=Qq.has(fn(o)),T=i.reference[f]-i.floating[S]+(w&&((b=a.offset)==null?void 0:b[f])||0)+(w?0:v.crossAxis),O=i.reference[f]+i.reference[S]+(w?0:((_=a.offset)==null?void 0:_[f])||0)-(w?v.crossAxis:0);m<T?m=T:m>O&&(m=O)}return{[d]:p,[f]:m}}}},n5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;let{placement:o,rects:i,platform:a,elements:s}=t,{apply:c=()=>{},...u}=ln(e,t),l=await Xa(t,u),f=fn(o),d=Xn(o),p=Zn(o)==="y",{width:m,height:h}=i.floating,v,b;f==="top"||f==="bottom"?(v=f,b=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=d==="end"?"top":"bottom");let _=h-l.top-l.bottom,S=m-l.left-l.right,w=Vr(h-l[v],_),T=Vr(m-l[b],S),O=!t.middlewareData.shift,C=w,M=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=_),O&&!d){let k=Tt(l.left,0),I=Tt(l.right,0),B=Tt(l.top,0),L=Tt(l.bottom,0);p?M=m-2*(k!==0||I!==0?k+I:Tt(l.left,l.right)):C=h-2*(B!==0||L!==0?B+L:Tt(l.top,l.bottom))}await c({...t,availableWidth:M,availableHeight:C});let R=await a.getDimensions(s.floating);return m!==R.width||h!==R.height?{reset:{rects:!0}}:{}}}}});function u5(e){let t=Ur(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,o=gt(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=tu(r)!==i||tu(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function xC(e){return ot(e)?e:e.contextElement}function fl(e){let t=xC(e);if(!gt(t))return So(1);let r=t.getBoundingClientRect(),{width:n,height:o,$:i}=u5(t),a=(i?tu(r.width):r.width)/n,s=(i?tu(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}function c5(e){let t=wr(e);return!ol()||!t.visualViewport?zbe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hbe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wr(e)?!1:t}function ou(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);let o=e.getBoundingClientRect(),i=xC(e),a=So(1);t&&(n?ot(n)&&(a=fl(n)):a=fl(e));let s=Hbe(i,r,n)?c5(i):So(0),c=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,l=o.width/a.x,f=o.height/a.y;if(i){let d=wr(i),p=n&&ot(n)?wr(n):n,m=d,h=Yb(m);for(;h&&n&&p!==m;){let v=fl(h),b=h.getBoundingClientRect(),_=Ur(h),S=b.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,w=b.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,u*=v.y,l*=v.x,f*=v.y,c+=S,u+=w,m=wr(h),h=Yb(m)}}return Di({width:l,height:f,x:c,y:u})}function ly(e,t){let r=Yd(e).scrollLeft;return t?t.left+r:ou(xo(e)).left+r}function l5(e,t){let r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ly(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function Wbe(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e,i=o==="fixed",a=xo(n),s=t?Gd(t.floating):!1;if(n===a||s&&i)return r;let c={scrollLeft:0,scrollTop:0},u=So(1),l=So(0),f=gt(n);if((f||!f&&!i)&&((ui(n)!=="body"||nl(a))&&(c=Yd(n)),gt(n))){let p=ou(n);u=fl(n),l.x=p.x+n.clientLeft,l.y=p.y+n.clientTop}let d=a&&!f&&!i?l5(a,c):So(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+l.x+d.x,y:r.y*u.y-c.scrollTop*u.y+l.y+d.y}}function $be(e){return Array.from(e.getClientRects())}function Ube(e){let t=xo(e),r=Yd(e),n=e.ownerDocument.body,o=Tt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Tt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+ly(e),s=-r.scrollTop;return Ur(n).direction==="rtl"&&(a+=Tt(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function Vbe(e,t){let r=wr(e),n=xo(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=ol();(!l||l&&t==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}let u=ly(n);if(u<=0){let l=n.ownerDocument,f=l.body,d=getComputedStyle(f),p=l.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,m=Math.abs(n.clientWidth-f.clientWidth-p);m<=i5&&(i-=m)}else u<=i5&&(i+=u);return{width:i,height:a,x:s,y:c}}function Ybe(e,t){let r=ou(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=gt(e)?fl(e):So(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,c=o*i.x,u=n*i.y;return{width:a,height:s,x:c,y:u}}function a5(e,t,r){let n;if(t==="viewport")n=Vbe(e,r);else if(t==="document")n=Ube(xo(e));else if(ot(t))n=Ybe(t,r);else{let o=c5(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Di(n)}function f5(e,t){let r=_o(e);return r===t||!ot(r)||wo(r)?!1:Ur(r).position==="fixed"||f5(r,t)}function Xbe(e,t){let r=t.get(e);if(r)return r;let n=cn(e,[],!1).filter(s=>ot(s)&&ui(s)!=="body"),o=null,i=Ur(e).position==="fixed",a=i?_o(e):e;for(;ot(a)&&!wo(a);){let s=Ur(a),c=Gb(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&Gbe.has(o.position)||nl(a)&&!c&&f5(e,a))?n=n.filter(l=>l!==a):o=s,a=_o(a)}return t.set(e,n),n}function Zbe(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[...r==="clippingAncestors"?Gd(t)?[]:Xbe(t,this._c):[].concat(r),n],s=a[0],c=a.reduce((u,l)=>{let f=a5(t,l,o);return u.top=Tt(f.top,u.top),u.right=Vr(f.right,u.right),u.bottom=Vr(f.bottom,u.bottom),u.left=Tt(f.left,u.left),u},a5(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kbe(e){let{width:t,height:r}=u5(e);return{width:t,height:r}}function Jbe(e,t,r){let n=gt(t),o=xo(t),i=r==="fixed",a=ou(e,!0,i,t),s={scrollLeft:0,scrollTop:0},c=So(0);function u(){c.x=ly(o)}if(n||!n&&!i)if((ui(t)!=="body"||nl(o))&&(s=Yd(t)),n){let p=ou(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&u();i&&!n&&o&&u();let l=o&&!n&&!i?l5(o,s):So(0),f=a.left+s.scrollLeft-c.x-l.x,d=a.top+s.scrollTop-c.y-l.y;return{x:f,y:d,width:a.width,height:a.height}}function _C(e){return Ur(e).position==="static"}function s5(e,t){if(!gt(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xo(e)===r&&(r=r.ownerDocument.body),r}function d5(e,t){let r=wr(e);if(Gd(e))return r;if(!gt(e)){let o=_o(e);for(;o&&!wo(o);){if(ot(o)&&!_C(o))return o;o=_o(o)}return r}let n=s5(e,t);for(;n&&gq(n)&&_C(n);)n=s5(n,t);return n&&wo(n)&&_C(n)&&!Gb(n)?r:n||vq(e)||r}function eye(e){return Ur(e).direction==="rtl"}function p5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tye(e,t){let r=null,n,o=xo(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let u=e.getBoundingClientRect(),{left:l,top:f,width:d,height:p}=u;if(s||t(),!d||!p)return;let m=Va(f),h=Va(o.clientWidth-(l+d)),v=Va(o.clientHeight-(f+p)),b=Va(l),S={rootMargin:-m+"px "+-h+"px "+-v+"px "+-b+"px",threshold:Tt(0,Vr(1,c))||1},w=!0;function T(O){let C=O[0].intersectionRatio;if(C!==c){if(!w)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!p5(u,e.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver(T,{...S,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,S)}r.observe(e)}return a(!0),i}function wC(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=xC(e),l=o||i?[...u?cn(u):[],...cn(t)]:[];l.forEach(b=>{o&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});let f=u&&s?tye(u,r):null,d=-1,p=null;a&&(p=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,h=c?ou(e):null;c&&v();function v(){let b=ou(e);h&&!p5(h,b)&&r(),h=b,m=requestAnimationFrame(v)}return r(),()=>{var b;l.forEach(_=>{o&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),f?.(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var zbe,i5,Gbe,Qbe,fy,iu,m5,h5,g5,v5,b5,y5,SC,_5,x5,tp,CC=A(()=>{o5();il();Xd();Xd();zbe=So(0);i5=25;Gbe=new Set(["absolute","fixed"]);Qbe=async function(e){let t=this.getOffsetParent||d5,r=this.getDimensions,n=await r(e.floating);return{reference:Jbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};fy={convertOffsetParentRelativeRectToViewportRelativeRect:Wbe,getDocumentElement:xo,getClippingRect:Zbe,getOffsetParent:d5,getElementRects:Qbe,getClientRects:$be,getDimensions:Kbe,getScale:fl,isElement:ot,isRTL:eye};iu=Xa,m5=e5,h5=Yq,g5=t5,v5=Xq,b5=n5,y5=Zq,SC=Gq,_5=Jq,x5=r5,tp=(e,t,r)=>{let n=new Map,o={platform:fy,...r},i={...o.platform,_c:n};return Vq(e,t,{...o,platform:i})}});function py(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!py(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){let i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!py(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function T5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w5(e,t){let r=T5(e);return Math.round(t*r)/r}function TC(e){let t=Ft.useRef(e);return dy(()=>{t.current=e}),t}function k5(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[l,f]=Ft.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=Ft.useState(n);py(d,n)||p(n);let[m,h]=Ft.useState(null),[v,b]=Ft.useState(null),_=Ft.useCallback(D=>{D!==O.current&&(O.current=D,h(D))},[]),S=Ft.useCallback(D=>{D!==C.current&&(C.current=D,b(D))},[]),w=i||m,T=a||v,O=Ft.useRef(null),C=Ft.useRef(null),M=Ft.useRef(l),R=c!=null,k=TC(c),I=TC(o),B=TC(u),L=Ft.useCallback(()=>{if(!O.current||!C.current)return;let D={placement:t,strategy:r,middleware:d};I.current&&(D.platform=I.current),tp(O.current,C.current,D).then(W=>{let te={...W,isPositioned:B.current!==!1};E.current&&!py(M.current,te)&&(M.current=te,C5.flushSync(()=>{f(te)}))})},[d,t,r,I,B]);dy(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);let E=Ft.useRef(!1);dy(()=>(E.current=!0,()=>{E.current=!1}),[]),dy(()=>{if(w&&(O.current=w),T&&(C.current=T),w&&T){if(k.current)return k.current(w,T,L);L()}},[w,T,L,k,R]);let N=Ft.useMemo(()=>({reference:O,floating:C,setReference:_,setFloating:S}),[_,S]),U=Ft.useMemo(()=>({reference:w,floating:T}),[w,T]),z=Ft.useMemo(()=>{let D={position:r,left:0,top:0};if(!U.floating)return D;let W=w5(U.floating,l.x),te=w5(U.floating,l.y);return s?{...D,transform:"translate("+W+"px, "+te+"px)",...T5(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:te}},[r,s,U.floating,l.x,l.y]);return Ft.useMemo(()=>({...l,update:L,refs:N,elements:U,floatingStyles:z}),[l,L,N,U,z])}var Ft,S5,C5,rye,nye,dy,oye,my,E5,O5,R5,M5,P5,A5,j5,I5,kC=A(()=>{CC();CC();Ft=g($(),1),S5=g($(),1),C5=g(lc(),1),rye=typeof document<"u",nye=function(){},dy=rye?S5.useLayoutEffect:nye;oye=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?SC({element:n.current,padding:o}).fn(r):{}:n?SC({element:n,padding:o}).fn(r):{}}}},my=(e,t)=>({...m5(e),options:[e,t]}),E5=(e,t)=>({...g5(e),options:[e,t]}),O5=(e,t)=>({...x5(e),options:[e,t]}),R5=(e,t)=>({...v5(e),options:[e,t]}),M5=(e,t)=>({...b5(e),options:[e,t]}),P5=(e,t)=>({...h5(e),options:[e,t]}),A5=(e,t)=>({...y5(e),options:[e,t]}),j5=(e,t)=>({..._5(e),options:[e,t]}),I5=(e,t)=>({...oye(e),options:[e,t]})});var TB={};rt(TB,{Composite:()=>sye,CompositeItem:()=>uye,FloatingArrow:()=>pye,FloatingDelayGroup:()=>bye,FloatingFocusManager:()=>Aye,FloatingList:()=>aB,FloatingNode:()=>hye,FloatingOverlay:()=>Iye,FloatingPortal:()=>Eye,FloatingTree:()=>gye,NextFloatingDelayGroup:()=>_ye,arrow:()=>I5,autoPlacement:()=>P5,autoUpdate:()=>wC,computePosition:()=>tp,detectOverflow:()=>iu,flip:()=>R5,getOverflowAncestors:()=>cn,hide:()=>A5,inline:()=>j5,inner:()=>Jye,limitShift:()=>O5,offset:()=>my,platform:()=>fy,safePolygon:()=>t0e,shift:()=>E5,size:()=>M5,useClick:()=>Dye,useClientPoint:()=>Fye,useDelayGroup:()=>yye,useDelayGroupContext:()=>gB,useDismiss:()=>zye,useFloating:()=>Hye,useFloatingNodeId:()=>mye,useFloatingParentNodeId:()=>cu,useFloatingPortalNode:()=>_B,useFloatingRootContext:()=>wB,useFloatingTree:()=>lu,useFocus:()=>Wye,useHover:()=>vye,useId:()=>ml,useInnerOffset:()=>Qye,useInteractions:()=>$ye,useListItem:()=>sB,useListNavigation:()=>Vye,useMergeRefs:()=>oB,useNextDelayGroup:()=>xye,useRole:()=>Yye,useTransitionStatus:()=>SB,useTransitionStyles:()=>Zye,useTypeahead:()=>Kye});function oB(e){let t=j.useRef(void 0),r=j.useCallback(n=>{let o=e.map(i=>{if(i!=null){if(typeof i=="function"){let a=i,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return i.current=n,()=>{i.current=null}}});return()=>{o.forEach(i=>i?.())}},e);return j.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function iye(e,t){let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function aB(e){let{children:t,elementsRef:r,labelsRef:n}=e,[o,i]=j.useState(()=>new Set),a=j.useCallback(u=>{i(l=>new Set(l).add(u))},[]),s=j.useCallback(u=>{i(l=>{let f=new Set(l);return f.delete(u),f})},[]),c=j.useMemo(()=>{let u=new Map;return Array.from(o.keys()).sort(iye).forEach((f,d)=>{u.set(f,d)}),u},[o]);return(0,it.jsx)(iB.Provider,{value:j.useMemo(()=>({register:a,unregister:s,map:c,elementsRef:r,labelsRef:n}),[a,s,c,r,n]),children:t})}function sB(e){e===void 0&&(e={});let{label:t}=e,{register:r,unregister:n,map:o,elementsRef:i,labelsRef:a}=j.useContext(iB),[s,c]=j.useState(null),u=j.useRef(null),l=j.useCallback(f=>{if(u.current=f,s!==null&&(i.current[s]=f,a)){var d;let p=t!==void 0;a.current[s]=p?t:(d=f?.textContent)!=null?d:null}},[s,i,a,t]);return De(()=>{let f=u.current;if(f)return r(f),()=>{n(f)}},[r,n]),De(()=>{let f=u.current?o.get(u.current):null;f!=null&&c(f)},[o]),j.useMemo(()=>({ref:l,index:s??-1}),[s,l])}function uB(e,t){return typeof e=="function"?e(t):e?j.cloneElement(e,t):(0,it.jsx)("div",{...t})}function fye(){let[e,t]=j.useState(()=>N5?F5():void 0);return De(()=>{e==null&&t(F5())},[]),j.useEffect(()=>{N5=!0},[]),e}function dB(){let e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(o=>o(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}function mye(e){let t=ml(),r=lu(),n=cu(),o=e||n;return De(()=>{if(!t)return;let i={id:t,parentId:o};return r?.addNode(i),()=>{r?.removeNode(i)}},[r,t,o]),t}function hye(e){let{children:t,id:r}=e,n=cu();return(0,it.jsx)(pB.Provider,{value:j.useMemo(()=>({id:r,parentId:n}),[r,n]),children:t})}function gye(e){let{children:t}=e,r=j.useRef([]),n=j.useCallback(a=>{r.current=[...r.current,a]},[]),o=j.useCallback(a=>{r.current=r.current.filter(s=>s!==a)},[]),[i]=j.useState(()=>dB());return(0,it.jsx)(mB.Provider,{value:j.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:i}),[n,o,i]),children:t})}function uu(e){return"data-floating-ui-"+e}function ur(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}function rp(e,t,r){if(r&&!nu(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){let n=e();return typeof n=="number"?n:n?.[t]}return e?.[t]}function OC(e){return typeof e=="function"?e():e}function vye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:o,events:i,elements:a}=e,{enabled:s=!0,delay:c=0,handleClose:u=null,mouseOnly:l=!1,restMs:f=0,move:d=!0}=t,p=lu(),m=cu(),h=Gt(u),v=Gt(c),b=Gt(r),_=Gt(f),S=j.useRef(),w=j.useRef(-1),T=j.useRef(),O=j.useRef(-1),C=j.useRef(!0),M=j.useRef(!1),R=j.useRef(()=>{}),k=j.useRef(!1),I=st(()=>{var z;let D=(z=o.current.openEvent)==null?void 0:z.type;return D?.includes("mouse")&&D!=="mousedown"});j.useEffect(()=>{if(!s)return;function z(D){let{open:W}=D;W||(ur(w),ur(O),C.current=!0,k.current=!1)}return i.on("openchange",z),()=>{i.off("openchange",z)}},[s,i]),j.useEffect(()=>{if(!s||!h.current||!r)return;function z(W){I()&&n(!1,W,"hover")}let D=sr(a.floating).documentElement;return D.addEventListener("mouseleave",z),()=>{D.removeEventListener("mouseleave",z)}},[a.floating,r,n,s,h,I]);let B=j.useCallback(function(z,D,W){D===void 0&&(D=!0),W===void 0&&(W="hover");let te=rp(v.current,"close",S.current);te&&!T.current?(ur(w),w.current=window.setTimeout(()=>n(!1,z,W),te)):D&&(ur(w),n(!1,z,W))},[v,n]),L=st(()=>{R.current(),T.current=void 0}),E=st(()=>{if(M.current){let z=sr(a.floating).body;z.style.pointerEvents="",z.removeAttribute(q5),M.current=!1}}),N=st(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);j.useEffect(()=>{if(!s)return;function z(ge){if(ur(w),C.current=!1,l&&!nu(S.current)||OC(_.current)>0&&!rp(v.current,"open"))return;let Y=rp(v.current,"open",S.current);Y?w.current=window.setTimeout(()=>{b.current||n(!0,ge,"hover")},Y):r||n(!0,ge,"hover")}function D(ge){if(N()){E();return}R.current();let Y=sr(a.floating);if(ur(O),k.current=!1,h.current&&o.current.floatingContext){r||ur(w),T.current=h.current({...o.current.floatingContext,tree:p,x:ge.clientX,y:ge.clientY,onClose(){E(),L(),N()||B(ge,!0,"safe-polygon")}});let H=T.current;Y.addEventListener("mousemove",H),R.current=()=>{Y.removeEventListener("mousemove",H)};return}(S.current==="touch"?!Vt(a.floating,ge.relatedTarget):!0)&&B(ge)}function W(ge){N()||o.current.floatingContext&&(h.current==null||h.current({...o.current.floatingContext,tree:p,x:ge.clientX,y:ge.clientY,onClose(){E(),L(),N()||B(ge)}})(ge))}function te(){ur(w)}function Ce(ge){N()||B(ge,!1)}if(ot(a.domReference)){let ge=a.domReference,Y=a.floating;return r&&ge.addEventListener("mouseleave",W),d&&ge.addEventListener("mousemove",z,{once:!0}),ge.addEventListener("mouseenter",z),ge.addEventListener("mouseleave",D),Y&&(Y.addEventListener("mouseleave",W),Y.addEventListener("mouseenter",te),Y.addEventListener("mouseleave",Ce)),()=>{r&&ge.removeEventListener("mouseleave",W),d&&ge.removeEventListener("mousemove",z),ge.removeEventListener("mouseenter",z),ge.removeEventListener("mouseleave",D),Y&&(Y.removeEventListener("mouseleave",W),Y.removeEventListener("mouseenter",te),Y.removeEventListener("mouseleave",Ce))}}},[a,s,e,l,d,B,L,E,n,r,b,p,v,h,o,N,_]),De(()=>{var z;if(s&&r&&(z=h.current)!=null&&(z=z.__options)!=null&&z.blockPointerEvents&&I()){M.current=!0;let W=a.floating;if(ot(a.domReference)&&W){var D;let te=sr(a.floating).body;te.setAttribute(q5,"");let Ce=a.domReference,ge=p==null||(D=p.nodesRef.current.find(Y=>Y.id===m))==null||(D=D.context)==null?void 0:D.elements.floating;return ge&&(ge.style.pointerEvents=""),te.style.pointerEvents="none",Ce.style.pointerEvents="auto",W.style.pointerEvents="auto",()=>{te.style.pointerEvents="",Ce.style.pointerEvents="",W.style.pointerEvents=""}}}},[s,r,m,a,p,h,I]),De(()=>{r||(S.current=void 0,k.current=!1,L(),E())},[r,L,E]),j.useEffect(()=>()=>{L(),ur(w),ur(O),E()},[s,a.domReference,L,E]);let U=j.useMemo(()=>{function z(D){S.current=D.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove(D){let{nativeEvent:W}=D;function te(){!C.current&&!b.current&&n(!0,W,"hover")}l&&!nu(S.current)||r||OC(_.current)===0||k.current&&D.movementX**2+D.movementY**2<2||(ur(O),S.current==="touch"?te():(k.current=!0,O.current=window.setTimeout(te,OC(_.current))))}}},[l,n,r,b,_]);return j.useMemo(()=>s?{reference:U}:{},[s,U])}function bye(e){let{children:t,delay:r,timeoutMs:n=0}=e,[o,i]=j.useReducer((c,u)=>({...c,...u}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),a=j.useRef(null),s=j.useCallback(c=>{i({currentId:c})},[]);return De(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),(0,it.jsx)(hB.Provider,{value:j.useMemo(()=>({...o,setState:i,setCurrentId:s}),[o,s]),children:t})}function yye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:o}=e,{id:i,enabled:a=!0}=t,s=i??o,c=gB(),{currentId:u,setCurrentId:l,initialDelay:f,setState:d,timeoutMs:p}=c;return De(()=>{a&&u&&(d({delay:{open:1,close:rp(f,"close")}}),u!==s&&n(!1))},[a,s,n,d,u,f]),De(()=>{function m(){n(!1),d({delay:f,currentId:null})}if(a&&u&&!r&&u===s){if(p){let h=window.setTimeout(m,p);return()=>{clearTimeout(h)}}m()}},[a,r,d,u,s,n,f,p]),De(()=>{a&&(l===IC||!r||l(s))},[a,r,l,s]),c}function _ye(e){let{children:t,delay:r,timeoutMs:n=0}=e,o=j.useRef(r),i=j.useRef(r),a=j.useRef(null),s=j.useRef(null),c=j.useRef(-1);return(0,it.jsx)(vB.Provider,{value:j.useMemo(()=>({hasProvider:!0,delayRef:o,initialDelayRef:i,currentIdRef:a,timeoutMs:n,currentContextRef:s,timeoutIdRef:c}),[n]),children:t})}function xye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:o}=e,{enabled:i=!0}=t,a=j.useContext(vB),{currentIdRef:s,delayRef:c,timeoutMs:u,initialDelayRef:l,currentContextRef:f,hasProvider:d,timeoutIdRef:p}=a,[m,h]=j.useState(!1);return De(()=>{function v(){var b;h(!1),(b=f.current)==null||b.setIsInstantPhase(!1),s.current=null,f.current=null,c.current=l.current}if(i&&s.current&&!r&&s.current===o){if(h(!1),u)return p.current=window.setTimeout(v,u),()=>{clearTimeout(p.current)};v()}},[i,r,o,s,c,u,l,f,p]),De(()=>{if(!i||!r)return;let v=f.current,b=s.current;f.current={onOpenChange:n,setIsInstantPhase:h},s.current=o,c.current={open:0,close:rp(l.current,"close")},b!==null&&b!==o?(ur(p),h(!0),v?.setIsInstantPhase(!0),v?.onOpenChange(!1)):(h(!1),v?.setIsInstantPhase(!1))},[i,r,o,n,s,c,u,l,f,p]),De(()=>()=>{f.current=null},[f]),j.useMemo(()=>({hasProvider:d,delayRef:c,isInstantPhase:m}),[d,c,m])}function au(e,t){t===void 0&&(t={});let{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=t;n&&cancelAnimationFrame(B5);let i=()=>e?.focus({preventScroll:r});o?i():B5=requestAnimationFrame(i)}function RC(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&rl(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function wye(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Sye(e){return e?.ownerDocument||document}function z5(e){return e==="inert"?pl.inert:e==="aria-hidden"?pl["aria-hidden"]:pl.none}function kye(e,t,r,n){let o="data-floating-ui-inert",i=n?"inert":r?"aria-hidden":null,a=Tye(t,e),s=new Set,c=new Set(a),u=[];gy[o]||(gy[o]=new WeakMap);let l=gy[o];a.forEach(f),d(t),s.clear();function f(p){!p||s.has(p)||(s.add(p),p.parentNode&&f(p.parentNode))}function d(p){!p||c.has(p)||[].forEach.call(p.children,m=>{if(ui(m)!=="script")if(s.has(m))d(m);else{let h=i?m.getAttribute(i):null,v=h!==null&&h!=="false",b=z5(i),_=(b.get(m)||0)+1,S=(l.get(m)||0)+1;b.set(m,_),l.set(m,S),u.push(m),_===1&&v&&hy.add(m),S===1&&m.setAttribute(o,""),!v&&i&&m.setAttribute(i,i==="inert"?"":"true")}})}return MC++,()=>{u.forEach(p=>{let m=z5(i),v=(m.get(p)||0)-1,b=(l.get(p)||0)-1;m.set(p,v),l.set(p,b),v||(!hy.has(p)&&i&&p.removeAttribute(i),hy.delete(p)),b||p.removeAttribute(o)}),MC--,MC||(pl.inert=new WeakMap,pl["aria-hidden"]=new WeakMap,pl.none=new WeakMap,hy=new WeakSet,gy={})}}function H5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);let n=Sye(e[0]).body;return kye(e.concat(Array.from(n.querySelectorAll('[aria-live],[role="status"],output'))),n,t,r)}function _B(e){e===void 0&&(e={});let{id:t,root:r}=e,n=ml(),o=xB(),[i,a]=j.useState(null),s=j.useRef(null);return De(()=>()=>{i?.remove(),queueMicrotask(()=>{s.current=null})},[i]),De(()=>{if(!n||s.current)return;let c=t?document.getElementById(t):null;if(!c)return;let u=document.createElement("div");u.id=n,u.setAttribute(W5,""),c.appendChild(u),s.current=u,a(u)},[t,n]),De(()=>{if(r===null||!n||s.current)return;let c=r||o?.portalNode;c&&!Vb(c)&&(c=c.current),c=c||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,c.appendChild(u));let l=document.createElement("div");l.id=n,l.setAttribute(W5,""),c=u||c,c.appendChild(l),s.current=l,a(l)},[t,r,n,o]),i}function Eye(e){let{children:t,id:r,root:n,preserveTabOrder:o=!0}=e,i=_B({id:r,root:n}),[a,s]=j.useState(null),c=j.useRef(null),u=j.useRef(null),l=j.useRef(null),f=j.useRef(null),d=a?.modal,p=a?.open,m=!!a&&!a.modal&&a.open&&o&&!!(n||i);return j.useEffect(()=>{if(!i||!o||d)return;function h(v){i&&ll(v)&&(v.type==="focusin"?yC:zq)(i)}return i.addEventListener("focusin",h,!0),i.addEventListener("focusout",h,!0),()=>{i.removeEventListener("focusin",h,!0),i.removeEventListener("focusout",h,!0)}},[i,o,d]),j.useEffect(()=>{i&&(p||yC(i))},[p,i]),(0,it.jsxs)(yB.Provider,{value:j.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:l,afterInsideRef:f,portalNode:i,setFocusManagerState:s}),[o,i]),children:[m&&i&&(0,it.jsx)(yy,{"data-type":"outside",ref:c,onFocus:h=>{if(ll(h,i)){var v;(v=l.current)==null||v.focus()}else{let b=a?a.domReference:null,_=bC(b);_?.focus()}}}),m&&i&&(0,it.jsx)("span",{"aria-owns":i.id,style:_y}),i&&su.createPortal(t,i),m&&i&&(0,it.jsx)(yy,{"data-type":"outside",ref:u,onFocus:h=>{if(ll(h,i)){var v;(v=f.current)==null||v.focus()}else{let b=a?a.domReference:null,_=vC(b);_?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,h.nativeEvent,"focus-out")}}})]})}function $5(e){return j.useMemo(()=>t=>{e.forEach(r=>{r&&(r.current=t)})},e)}function LC(){Za=Za.filter(e=>e.isConnected)}function Rye(e){LC(),e&&ui(e)!=="body"&&(Za.push(e),Za.length>Oye&&(Za=Za.slice(-20)))}function U5(){return LC(),Za[Za.length-1]}function Mye(e){let t=cl();return oC(e,t)?e:sl(e,t)[0]||e}function V5(e,t){var r;if(!t.current.includes("floating")&&!((r=e.getAttribute("role"))!=null&&r.includes("dialog")))return;let n=cl(),i=Pq(e,n).filter(s=>{let c=s.getAttribute("data-tabindex")||"";return oC(s,n)||s.hasAttribute("data-tabindex")&&!c.startsWith("-")}),a=e.getAttribute("tabindex");t.current.includes("floating")||i.length===0?a!=="0"&&e.setAttribute("tabindex","0"):(a!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function Aye(e){let{context:t,children:r,disabled:n=!1,order:o=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:f=!0,outsideElementsInert:d=!1,getInsideElements:p=()=>[]}=e,{open:m,onOpenChange:h,events:v,dataRef:b,elements:{domReference:_,floating:S}}=t,w=st(()=>{var ie;return(ie=b.current.floatingContext)==null?void 0:ie.nodeId}),T=st(p),O=typeof a=="number"&&a<0,C=uy(_)&&O,M=Cye(),R=M?i:!0,k=!R||M&&d,I=Gt(o),B=Gt(a),L=Gt(s),E=lu(),N=xB(),U=j.useRef(null),z=j.useRef(null),D=j.useRef(!1),W=j.useRef(!1),te=j.useRef(-1),Ce=j.useRef(-1),ge=N!=null,Y=Qd(S),ze=st(function(ie){return ie===void 0&&(ie=Y),ie?sl(ie,cl()):[]}),H=st(ie=>{let ye=ze(ie);return I.current.map(ce=>_&&ce==="reference"?_:Y&&ce==="floating"?Y:ye).filter(Boolean).flat()});j.useEffect(()=>{if(n||!u)return;function ie(ce){if(ce.key==="Tab"){Vt(Y,Co(sr(Y)))&&ze().length===0&&!C&&ar(ce);let Te=H(),Ae=To(ce);I.current[0]==="reference"&&Ae===_&&(ar(ce),ce.shiftKey?au(Te[Te.length-1]):au(Te[1])),I.current[1]==="floating"&&Ae===Y&&ce.shiftKey&&(ar(ce),au(Te[0]))}}let ye=sr(Y);return ye.addEventListener("keydown",ie),()=>{ye.removeEventListener("keydown",ie)}},[n,_,Y,u,I,C,ze,H]),j.useEffect(()=>{if(n||!S)return;function ie(ye){let ce=To(ye),Ae=ze().indexOf(ce);Ae!==-1&&(te.current=Ae)}return S.addEventListener("focusin",ie),()=>{S.removeEventListener("focusin",ie)}},[n,S,ze]),j.useEffect(()=>{if(n||!f)return;function ie(){W.current=!0,setTimeout(()=>{W.current=!1})}function ye(Ae){let pe=Ae.relatedTarget,ee=Ae.currentTarget,_e=To(Ae);queueMicrotask(()=>{let Oe=w(),ke=!(Vt(_,pe)||Vt(S,pe)||Vt(pe,S)||Vt(N?.portalNode,pe)||pe!=null&&pe.hasAttribute(uu("focus-guard"))||E&&(Ga(E.nodesRef.current,Oe).find(G=>{var K,X;return Vt((K=G.context)==null?void 0:K.elements.floating,pe)||Vt((X=G.context)==null?void 0:X.elements.domReference,pe)})||lC(E.nodesRef.current,Oe).find(G=>{var K,X,Se;return[(K=G.context)==null?void 0:K.elements.floating,Qd((X=G.context)==null?void 0:X.elements.floating)].includes(pe)||((Se=G.context)==null?void 0:Se.elements.domReference)===pe})));if(ee===_&&Y&&V5(Y,I),c&&ee!==_&&!(_e!=null&&_e.isConnected)&&Co(sr(Y))===sr(Y).body){gt(Y)&&Y.focus();let G=te.current,K=ze(),X=K[G]||K[K.length-1]||Y;gt(X)&&X.focus()}if(b.current.insideReactTree){b.current.insideReactTree=!1;return}(C||!u)&&pe&&ke&&!W.current&&pe!==U5()&&(D.current=!0,h(!1,Ae,"focus-out"))})}let ce=!!(!E&&N);function Te(){ur(Ce),b.current.insideReactTree=!0,Ce.current=window.setTimeout(()=>{b.current.insideReactTree=!1})}if(S&&gt(_))return _.addEventListener("focusout",ye),_.addEventListener("pointerdown",ie),S.addEventListener("focusout",ye),ce&&S.addEventListener("focusout",Te,!0),()=>{_.removeEventListener("focusout",ye),_.removeEventListener("pointerdown",ie),S.removeEventListener("focusout",ye),ce&&S.removeEventListener("focusout",Te,!0)}},[n,_,S,Y,u,E,N,h,f,c,ze,C,w,I,b]);let ae=j.useRef(null),we=j.useRef(null),be=$5([ae,N?.beforeInsideRef]),ne=$5([we,N?.afterInsideRef]);j.useEffect(()=>{var ie,ye;if(n||!S)return;let ce=Array.from((N==null||(ie=N.portalNode)==null?void 0:ie.querySelectorAll("["+uu("portal")+"]"))||[]),Ae=(ye=(E?lC(E.nodesRef.current,w()):[]).find(_e=>{var Oe;return uy(((Oe=_e.context)==null?void 0:Oe.elements.domReference)||null)}))==null||(ye=ye.context)==null?void 0:ye.elements.domReference,pe=[S,Ae,...ce,...T(),U.current,z.current,ae.current,we.current,N?.beforeOutsideRef.current,N?.afterOutsideRef.current,I.current.includes("reference")||C?_:null].filter(_e=>_e!=null),ee=u||C?H5(pe,!k,k):H5(pe);return()=>{ee()}},[n,_,S,u,I,N,C,R,k,E,w,T]),De(()=>{if(n||!gt(Y))return;let ie=sr(Y),ye=Co(ie);queueMicrotask(()=>{let ce=H(Y),Te=B.current,Ae=(typeof Te=="number"?ce[Te]:Te.current)||Y,pe=Vt(Y,ye);!O&&!pe&&m&&au(Ae,{preventScroll:Ae===Y})})},[n,m,Y,O,H,B]),De(()=>{if(n||!Y)return;let ie=sr(Y),ye=Co(ie);Rye(ye);function ce(pe){let{reason:ee,event:_e,nested:Oe}=pe;if(["hover","safe-polygon"].includes(ee)&&_e.type==="mouseleave"&&(D.current=!0),ee==="outside-press")if(Oe)D.current=!1;else if(fC(_e)||dC(_e))D.current=!1;else{let ke=!1;document.createElement("div").focus({get preventScroll(){return ke=!0,!1}}),ke?D.current=!1:D.current=!0}}v.on("openchange",ce);let Te=ie.createElement("span");Te.setAttribute("tabindex","-1"),Te.setAttribute("aria-hidden","true"),Object.assign(Te.style,_y),ge&&_&&_.insertAdjacentElement("afterend",Te);function Ae(){if(typeof L.current=="boolean"){let pe=_||U5();return pe&&pe.isConnected?pe:Te}return L.current.current||Te}return()=>{v.off("openchange",ce);let pe=Co(ie),ee=Vt(S,pe)||E&&Ga(E.nodesRef.current,w(),!1).some(Oe=>{var ke;return Vt((ke=Oe.context)==null?void 0:ke.elements.floating,pe)}),_e=Ae();queueMicrotask(()=>{let Oe=Mye(_e);L.current&&!D.current&&gt(Oe)&&(!(Oe!==pe&&pe!==ie.body)||ee)&&Oe.focus({preventScroll:!0}),Te.remove()})}},[n,S,Y,L,b,v,E,ge,_,w]),j.useEffect(()=>(queueMicrotask(()=>{D.current=!1}),()=>{queueMicrotask(LC)}),[n]),De(()=>{if(!n&&N)return N.setFocusManagerState({modal:u,closeOnFocusOut:f,open:m,onOpenChange:h,domReference:_}),()=>{N.setFocusManagerState(null)}},[n,N,u,m,h,f,_]),De(()=>{n||Y&&V5(Y,I)},[n,Y,I]);function de(ie){return n||!l||!u?null:(0,it.jsx)(Pye,{ref:ie==="start"?U:z,onClick:ye=>h(!1,ye.nativeEvent),children:typeof l=="string"?l:"Dismiss"})}let Pe=!n&&R&&(u?!C:!0)&&(ge||u);return(0,it.jsxs)(it.Fragment,{children:[Pe&&(0,it.jsx)(yy,{"data-type":"inside",ref:be,onFocus:ie=>{if(u){let ce=H();au(o[0]==="reference"?ce[0]:ce[ce.length-1])}else if(N!=null&&N.preserveTabOrder&&N.portalNode)if(D.current=!1,ll(ie,N.portalNode)){let ce=vC(_);ce?.focus()}else{var ye;(ye=N.beforeOutsideRef.current)==null||ye.focus()}}}),!C&&de("start"),r,de("end"),Pe&&(0,it.jsx)(yy,{"data-type":"inside",ref:ne,onFocus:ie=>{if(u)au(H()[0]);else if(N!=null&&N.preserveTabOrder&&N.portalNode)if(f&&(D.current=!0),ll(ie,N.portalNode)){let ce=bC(_);ce?.focus()}else{var ye;(ye=N.afterOutsideRef.current)==null||ye.focus()}}})]})}function jye(){let e=oy(),t=/iP(hone|ad|od)|iOS/.test(e)||e==="MacIntel"&&navigator.maxTouchPoints>1,r=document.body.style,o=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,a=r.left?parseFloat(r.left):window.scrollX,s=r.top?parseFloat(r.top):window.scrollY;if(r.overflow="hidden",r.setProperty(G5,i+"px"),i&&(r[o]=i+"px"),t){var c,u;let l=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,f=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(r,{position:"fixed",top:-(s-Math.floor(f))+"px",left:-(a-Math.floor(l))+"px",right:"0"})}return()=>{Object.assign(r,{overflow:"",[o]:""}),r.removeProperty(G5),t&&(Object.assign(r,{position:"",top:"",left:"",right:""}),window.scrollTo(a,s))}}function X5(e){return gt(e.target)&&e.target.tagName==="BUTTON"}function Lye(e){return gt(e.target)&&e.target.tagName==="A"}function Z5(e){return sy(e)}function Dye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:o,elements:{domReference:i}}=e,{enabled:a=!0,event:s="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:l=!0,stickIfOpen:f=!0}=t,d=j.useRef(),p=j.useRef(!1),m=j.useMemo(()=>({onPointerDown(h){d.current=h.pointerType},onMouseDown(h){let v=d.current;h.button===0&&s!=="click"&&(nu(v,!0)&&u||(r&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="mousedown")?n(!1,h.nativeEvent,"click"):(h.preventDefault(),n(!0,h.nativeEvent,"click"))))},onClick(h){let v=d.current;if(s==="mousedown"&&d.current){d.current=void 0;return}nu(v,!0)&&u||(r&&c&&(!(o.current.openEvent&&f)||o.current.openEvent.type==="click")?n(!1,h.nativeEvent,"click"):n(!0,h.nativeEvent,"click"))},onKeyDown(h){d.current=void 0,!(h.defaultPrevented||!l||X5(h))&&(h.key===" "&&!Z5(i)&&(h.preventDefault(),p.current=!0),!Lye(h)&&h.key==="Enter"&&n(!(r&&c),h.nativeEvent,"click"))},onKeyUp(h){h.defaultPrevented||!l||X5(h)||Z5(i)||h.key===" "&&p.current&&(p.current=!1,n(!(r&&c),h.nativeEvent,"click"))}}),[o,i,s,u,l,n,r,f,c]);return j.useMemo(()=>a?{reference:m}:{},[a,m])}function Nye(e,t){let r=null,n=null,o=!1;return{contextElement:e||void 0,getBoundingClientRect(){var i;let a=e?.getBoundingClientRect()||{width:0,height:0,x:0,y:0},s=t.axis==="x"||t.axis==="both",c=t.axis==="y"||t.axis==="both",u=["mouseenter","mousemove"].includes(((i=t.dataRef.current.openEvent)==null?void 0:i.type)||"")&&t.pointerType!=="touch",l=a.width,f=a.height,d=a.x,p=a.y;return r==null&&t.x&&s&&(r=a.x-t.x),n==null&&t.y&&c&&(n=a.y-t.y),d-=r||0,p-=n||0,l=0,f=0,!o||u?(l=t.axis==="y"?a.width:0,f=t.axis==="x"?a.height:0,d=s&&t.x!=null?t.x:d,p=c&&t.y!=null?t.y:p):o&&!u&&(f=t.axis==="x"?a.height:f,l=t.axis==="y"?a.width:l),o=!0,{width:l,height:f,x:d,y:p,top:p,right:d+l,bottom:p+f,left:d}}}}function K5(e){return e!=null&&e.clientX!=null}function Fye(e,t){t===void 0&&(t={});let{open:r,dataRef:n,elements:{floating:o,domReference:i},refs:a}=e,{enabled:s=!0,axis:c="both",x:u=null,y:l=null}=t,f=j.useRef(!1),d=j.useRef(null),[p,m]=j.useState(),[h,v]=j.useState([]),b=st((O,C)=>{f.current||n.current.openEvent&&!K5(n.current.openEvent)||a.setPositionReference(Nye(i,{x:O,y:C,axis:c,dataRef:n,pointerType:p}))}),_=st(O=>{u!=null||l!=null||(r?d.current||v([]):b(O.clientX,O.clientY))}),S=nu(p)?o:r,w=j.useCallback(()=>{if(!S||!s||u!=null||l!=null)return;let O=wr(o);function C(M){let R=To(M);Vt(o,R)?(O.removeEventListener("mousemove",C),d.current=null):b(M.clientX,M.clientY)}if(!n.current.openEvent||K5(n.current.openEvent)){O.addEventListener("mousemove",C);let M=()=>{O.removeEventListener("mousemove",C),d.current=null};return d.current=M,M}a.setPositionReference(i)},[S,s,u,l,o,n,a,i,b]);j.useEffect(()=>w(),[w,h]),j.useEffect(()=>{s&&!o&&(f.current=!1)},[s,o]),j.useEffect(()=>{!s&&r&&(f.current=!0)},[s,r]),De(()=>{s&&(u!=null||l!=null)&&(f.current=!1,b(u,l))},[s,u,l,b]);let T=j.useMemo(()=>{function O(C){let{pointerType:M}=C;m(M)}return{onPointerDown:O,onPointerEnter:O,onMouseMove:_,onMouseEnter:_}},[_]);return j.useMemo(()=>s?{reference:T}:{},[s,T])}function zye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:l=!1,referencePressEvent:f="pointerdown",ancestorScroll:d=!1,bubbles:p,capture:m}=t,h=lu(),v=st(typeof c=="function"?c:()=>!1),b=typeof c=="function"?v:c,_=j.useRef(!1),{escapeKey:S,outsidePress:w}=J5(p),{escapeKey:T,outsidePress:O}=J5(m),C=j.useRef(!1),M=st(E=>{var N;if(!r||!a||!s||E.key!=="Escape"||C.current)return;let U=(N=i.current.floatingContext)==null?void 0:N.nodeId,z=h?Ga(h.nodesRef.current,U):[];if(!S&&(E.stopPropagation(),z.length>0)){let D=!0;if(z.forEach(W=>{var te;if((te=W.context)!=null&&te.open&&!W.context.dataRef.current.__escapeKeyBubbles){D=!1;return}}),!D)return}n(!1,qq(E)?E.nativeEvent:E,"escape-key")}),R=st(E=>{var N;let U=()=>{var z;M(E),(z=To(E))==null||z.removeEventListener("keydown",U)};(N=To(E))==null||N.addEventListener("keydown",U)}),k=st(E=>{var N;let U=i.current.insideReactTree;i.current.insideReactTree=!1;let z=_.current;if(_.current=!1,u==="click"&&z||U||typeof b=="function"&&!b(E))return;let D=To(E),W="["+uu("inert")+"]",te=sr(o.floating).querySelectorAll(W),Ce=ot(D)?D:null;for(;Ce&&!wo(Ce);){let H=_o(Ce);if(wo(H)||!ot(H))break;Ce=H}if(te.length&&ot(D)&&!Dq(D)&&!Vt(D,o.floating)&&Array.from(te).every(H=>!Vt(Ce,H)))return;if(gt(D)&&L){let H=wo(D),ae=Ur(D),we=/auto|scroll/,be=H||we.test(ae.overflowX),ne=H||we.test(ae.overflowY),de=be&&D.clientWidth>0&&D.scrollWidth>D.clientWidth,Pe=ne&&D.clientHeight>0&&D.scrollHeight>D.clientHeight,ie=ae.direction==="rtl",ye=Pe&&(ie?E.offsetX<=D.offsetWidth-D.clientWidth:E.offsetX>D.clientWidth),ce=de&&E.offsetY>D.clientHeight;if(ye||ce)return}let ge=(N=i.current.floatingContext)==null?void 0:N.nodeId,Y=h&&Ga(h.nodesRef.current,ge).some(H=>{var ae;return ay(E,(ae=H.context)==null?void 0:ae.elements.floating)});if(ay(E,o.floating)||ay(E,o.domReference)||Y)return;let ze=h?Ga(h.nodesRef.current,ge):[];if(ze.length>0){let H=!0;if(ze.forEach(ae=>{var we;if((we=ae.context)!=null&&we.open&&!ae.context.dataRef.current.__outsidePressBubbles){H=!1;return}}),!H)return}n(!1,E,"outside-press")}),I=st(E=>{var N;let U=()=>{var z;k(E),(z=To(E))==null||z.removeEventListener(u,U)};(N=To(E))==null||N.addEventListener(u,U)});j.useEffect(()=>{if(!r||!a)return;i.current.__escapeKeyBubbles=S,i.current.__outsidePressBubbles=w;let E=-1;function N(te){n(!1,te,"ancestor-scroll")}function U(){window.clearTimeout(E),C.current=!0}function z(){E=window.setTimeout(()=>{C.current=!1},ol()?5:0)}let D=sr(o.floating);s&&(D.addEventListener("keydown",T?R:M,T),D.addEventListener("compositionstart",U),D.addEventListener("compositionend",z)),b&&D.addEventListener(u,O?I:k,O);let W=[];return d&&(ot(o.domReference)&&(W=cn(o.domReference)),ot(o.floating)&&(W=W.concat(cn(o.floating))),!ot(o.reference)&&o.reference&&o.reference.contextElement&&(W=W.concat(cn(o.reference.contextElement)))),W=W.filter(te=>{var Ce;return te!==((Ce=D.defaultView)==null?void 0:Ce.visualViewport)}),W.forEach(te=>{te.addEventListener("scroll",N,{passive:!0})}),()=>{s&&(D.removeEventListener("keydown",T?R:M,T),D.removeEventListener("compositionstart",U),D.removeEventListener("compositionend",z)),b&&D.removeEventListener(u,O?I:k,O),W.forEach(te=>{te.removeEventListener("scroll",N)}),window.clearTimeout(E)}},[i,o,s,b,u,r,n,d,a,S,w,M,T,R,k,O,I]),j.useEffect(()=>{i.current.insideReactTree=!1},[i,b,u]);let B=j.useMemo(()=>({onKeyDown:M,...l&&{[qye[f]]:E=>{n(!1,E.nativeEvent,"reference-press")},...f!=="click"&&{onClick(E){n(!1,E.nativeEvent,"reference-press")}}}}),[M,n,l,f]),L=j.useMemo(()=>({onKeyDown:M,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[Bye[u]]:()=>{i.current.insideReactTree=!0}}),[M,u,i]);return j.useMemo(()=>a?{reference:B,floating:L}:{},[a,B,L])}function wB(e){let{open:t=!1,onOpenChange:r,elements:n}=e,o=ml(),i=j.useRef({}),[a]=j.useState(()=>dB()),s=cu()!=null,[c,u]=j.useState(n.reference),l=st((p,m,h)=>{i.current.openEvent=p?m:void 0,a.emit("openchange",{open:p,event:m,reason:h,nested:s}),r?.(p,m,h)}),f=j.useMemo(()=>({setPositionReference:u}),[]),d=j.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return j.useMemo(()=>({dataRef:i,open:t,onOpenChange:l,elements:d,events:a,floatingId:o,refs:f}),[t,l,d,a,o,f])}function Hye(e){e===void 0&&(e={});let{nodeId:t}=e,r=wB({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,o=n.elements,[i,a]=j.useState(null),[s,c]=j.useState(null),l=o?.domReference||i,f=j.useRef(null),d=lu();De(()=>{l&&(f.current=l)},[l]);let p=k5({...e,elements:{...o,...s&&{reference:s}}}),m=j.useCallback(S=>{let w=ot(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(w),p.refs.setReference(w)},[p.refs]),h=j.useCallback(S=>{(ot(S)||S===null)&&(f.current=S,a(S)),(ot(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!ot(S))&&p.refs.setReference(S)},[p.refs]),v=j.useMemo(()=>({...p.refs,setReference:h,setPositionReference:m,domReference:f}),[p.refs,h,m]),b=j.useMemo(()=>({...p.elements,domReference:l}),[p.elements,l]),_=j.useMemo(()=>({...p,...n,refs:v,elements:b,nodeId:t}),[p,v,b,t,n]);return De(()=>{n.dataRef.current.floatingContext=_;let S=d?.nodesRef.current.find(w=>w.id===t);S&&(S.context=_)}),j.useMemo(()=>({...p,context:_,refs:v,elements:b}),[p,v,b,_])}function PC(){return Iq()&&cC()}function Wye(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,events:o,dataRef:i,elements:a}=e,{enabled:s=!0,visibleOnly:c=!0}=t,u=j.useRef(!1),l=j.useRef(-1),f=j.useRef(!0);j.useEffect(()=>{if(!s)return;let p=wr(a.domReference);function m(){!r&&gt(a.domReference)&&a.domReference===Co(sr(a.domReference))&&(u.current=!0)}function h(){f.current=!0}function v(){f.current=!1}return p.addEventListener("blur",m),PC()&&(p.addEventListener("keydown",h,!0),p.addEventListener("pointerdown",v,!0)),()=>{p.removeEventListener("blur",m),PC()&&(p.removeEventListener("keydown",h,!0),p.removeEventListener("pointerdown",v,!0))}},[a.domReference,r,s]),j.useEffect(()=>{if(!s)return;function p(m){let{reason:h}=m;(h==="reference-press"||h==="escape-key")&&(u.current=!0)}return o.on("openchange",p),()=>{o.off("openchange",p)}},[o,s]),j.useEffect(()=>()=>{ur(l)},[]);let d=j.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(p){if(u.current)return;let m=To(p.nativeEvent);if(c&&ot(m)){if(PC()&&!p.relatedTarget){if(!f.current&&!sy(m))return}else if(!Nq(m))return}n(!0,p.nativeEvent,"focus")},onBlur(p){u.current=!1;let m=p.relatedTarget,h=p.nativeEvent,v=ot(m)&&m.hasAttribute(uu("focus-guard"))&&m.getAttribute("data-type")==="outside";l.current=window.setTimeout(()=>{var b;let _=Co(a.domReference?a.domReference.ownerDocument:document);!m&&_===a.domReference||Vt((b=i.current.floatingContext)==null?void 0:b.refs.floating.current,_)||Vt(a.domReference,_)||v||n(!1,h,"focus")})}}),[i,a.domReference,n,c]);return j.useMemo(()=>s?{reference:d}:{},[s,d])}function AC(e,t,r){let n=new Map,o=r==="item",i=e;if(o&&e){let{[L5]:a,[D5]:s,...c}=e;i=c}return{...r==="floating"&&{tabIndex:-1,[aye]:""},...i,...t.map(a=>{let s=a?a[r]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(c=>{let[u,l]=c;if(!(o&&[L5,D5].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof l=="function"){var f;(f=n.get(u))==null||f.push(l),a[u]=function(){for(var d,p=arguments.length,m=new Array(p),h=0;h<p;h++)m[h]=arguments[h];return(d=n.get(u))==null?void 0:d.map(v=>v(...m)).find(v=>v!==void 0)}}}else a[u]=l}),a),{})}}function $ye(e){e===void 0&&(e=[]);let t=e.map(s=>s?.reference),r=e.map(s=>s?.floating),n=e.map(s=>s?.item),o=j.useCallback(s=>AC(s,e,"reference"),t),i=j.useCallback(s=>AC(s,e,"floating"),r),a=j.useCallback(s=>AC(s,e,"item"),n);return j.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a}),[o,i,a])}function xy(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function by(e,t){return xy(t,e===np||e===Ka,e===Ja||e===Qa)}function jC(e,t,r){return xy(t,e===Ka,r?e===Ja:e===Qa)||e==="Enter"||e===" "||e===""}function Q5(e,t,r){return xy(t,r?e===Ja:e===Qa,e===Ka)}function eB(e,t,r,n){let o=r?e===Qa:e===Ja,i=e===np;return t==="both"||t==="horizontal"&&n&&n>1?e===Uye:xy(t,o,i)}function Vye(e,t){let{open:r,onOpenChange:n,elements:o,floatingId:i}=e,{listRef:a,activeIndex:s,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:l=null,allowEscape:f=!1,loop:d=!1,nested:p=!1,rtl:m=!1,virtual:h=!1,focusItemOnOpen:v="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:_=!0,disabledIndices:S=void 0,orientation:w="vertical",parentOrientation:T,cols:O=1,scrollItemIntoView:C=!0,virtualItemRef:M,itemSizes:R,dense:k=!1}=t,I=Qd(o.floating),B=Gt(I),L=cu(),E=lu();De(()=>{e.dataRef.current.orientation=w},[e,w]);let N=st(()=>{c(D.current===-1?null:D.current)}),U=uy(o.domReference),z=j.useRef(v),D=j.useRef(l??-1),W=j.useRef(null),te=j.useRef(!0),Ce=j.useRef(N),ge=j.useRef(!!o.floating),Y=j.useRef(r),ze=j.useRef(!1),H=j.useRef(!1),ae=Gt(S),we=Gt(r),be=Gt(C),ne=Gt(l),[de,Pe]=j.useState(),[ie,ye]=j.useState(),ce=st(()=>{function G(Re){if(h){var Be;(Be=Re.id)!=null&&Be.endsWith("-fui-option")&&(Re.id=i+"-"+Math.random().toString(16).slice(2,10)),Pe(Re.id),E?.events.emit("virtualfocus",Re),M&&(M.current=Re)}else au(Re,{sync:ze.current,preventScroll:!0})}let K=a.current[D.current],X=H.current;K&&G(K),(ze.current?Re=>Re():requestAnimationFrame)(()=>{let Re=a.current[D.current]||K;if(!Re)return;K||G(Re);let Be=be.current;Be&&Ae&&(X||!te.current)&&(Re.scrollIntoView==null||Re.scrollIntoView(typeof Be=="boolean"?{block:"nearest",inline:"nearest"}:Be))})});De(()=>{u&&(r&&o.floating?z.current&&l!=null&&(H.current=!0,D.current=l,N()):ge.current&&(D.current=-1,Ce.current()))},[u,r,o.floating,l,N]),De(()=>{if(u&&r&&o.floating)if(s==null){if(ze.current=!1,ne.current!=null)return;if(ge.current&&(D.current=-1,ce()),(!Y.current||!ge.current)&&z.current&&(W.current!=null||z.current===!0&&W.current==null)){let G=0,K=()=>{a.current[0]==null?(G<2&&(G?requestAnimationFrame:queueMicrotask)(K),G++):(D.current=W.current==null||jC(W.current,w,m)||p?ep(a,ae.current):cy(a,ae.current),W.current=null,N())};K()}}else ru(a,s)||(D.current=s,ce(),H.current=!1)},[u,r,o.floating,s,ne,p,a,w,m,N,ce,ae]),De(()=>{var G;if(!u||o.floating||!E||h||!ge.current)return;let K=E.nodesRef.current,X=(G=K.find(Be=>Be.id===L))==null||(G=G.context)==null?void 0:G.elements.floating,Se=Co(sr(o.floating)),Re=K.some(Be=>Be.context&&Vt(Be.context.elements.floating,Se));X&&!Re&&te.current&&X.focus({preventScroll:!0})},[u,o.floating,E,L,h]),De(()=>{if(!u||!E||!h||L)return;function G(K){ye(K.id),M&&(M.current=K)}return E.events.on("virtualfocus",G),()=>{E.events.off("virtualfocus",G)}},[u,E,h,L,M]),De(()=>{Ce.current=N,Y.current=r,ge.current=!!o.floating}),De(()=>{r||(W.current=null,z.current=v)},[r,v]);let Te=s!=null,Ae=j.useMemo(()=>{function G(X){if(!we.current)return;let Se=a.current.indexOf(X);Se!==-1&&D.current!==Se&&(D.current=Se,N())}return{onFocus(X){let{currentTarget:Se}=X;ze.current=!0,G(Se)},onClick:X=>{let{currentTarget:Se}=X;return Se.focus({preventScroll:!0})},onMouseMove(X){let{currentTarget:Se}=X;ze.current=!0,H.current=!1,b&&G(Se)},onPointerLeave(X){let{pointerType:Se}=X;if(!(!te.current||Se==="touch")&&(ze.current=!0,!!b&&(D.current=-1,N(),!h))){var Re;(Re=B.current)==null||Re.focus({preventScroll:!0})}}}},[we,B,b,a,N,h]),pe=j.useCallback(()=>{var G;return T??(E==null||(G=E.nodesRef.current.find(K=>K.id===L))==null||(G=G.context)==null||(G=G.dataRef)==null?void 0:G.current.orientation)},[L,E,T]),ee=st(G=>{if(te.current=!1,ze.current=!0,G.which===229||!we.current&&G.currentTarget===B.current)return;if(p&&eB(G.key,w,m,O)){by(G.key,pe())||ar(G),n(!1,G.nativeEvent,"list-navigation"),gt(o.domReference)&&(h?E?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}let K=D.current,X=ep(a,S),Se=cy(a,S);if(U||(G.key==="Home"&&(ar(G),D.current=X,N()),G.key==="End"&&(ar(G),D.current=Se,N())),O>1){let Re=R||Array.from({length:a.current.length},()=>({width:1,height:1})),Be=mC(Re,O,k),at=Be.findIndex(Ie=>Ie!=null&&!Ya(a,Ie,S)),Ir=Be.reduce((Ie,tr,Mn)=>tr!=null&&!Ya(a,tr,S)?Mn:Ie,-1),dr=Be[pC({current:Be.map(Ie=>Ie!=null?a.current[Ie]:null)},{event:G,orientation:w,loop:d,rtl:m,cols:O,disabledIndices:gC([...(typeof S!="function"?S:null)||a.current.map((Ie,tr)=>Ya(a,tr,S)?tr:void 0),void 0],Be),minIndex:at,maxIndex:Ir,prevIndex:hC(D.current>Se?X:D.current,Re,Be,O,G.key===Ka?"bl":G.key===(m?Ja:Qa)?"tr":"tl"),stopEvent:!0})];if(dr!=null&&(D.current=dr,N()),w==="both")return}if(by(G.key,w)){if(ar(G),r&&!h&&Co(G.currentTarget.ownerDocument)===G.currentTarget){D.current=jC(G.key,w,m)?X:Se,N();return}jC(G.key,w,m)?d?D.current=K>=Se?f&&K!==a.current.length?-1:X:ir(a,{startingIndex:K,disabledIndices:S}):D.current=Math.min(Se,ir(a,{startingIndex:K,disabledIndices:S})):d?D.current=K<=X?f&&K!==-1?a.current.length:Se:ir(a,{startingIndex:K,decrement:!0,disabledIndices:S}):D.current=Math.max(X,ir(a,{startingIndex:K,decrement:!0,disabledIndices:S})),ru(a,D.current)&&(D.current=-1),N()}}),_e=j.useMemo(()=>h&&r&&Te&&{"aria-activedescendant":ie||de},[h,r,Te,ie,de]),Oe=j.useMemo(()=>({"aria-orientation":w==="both"?void 0:w,...U?{}:_e,onKeyDown:ee,onPointerMove(){te.current=!0}}),[_e,ee,w,U]),ke=j.useMemo(()=>{function G(X){v==="auto"&&fC(X.nativeEvent)&&(z.current=!0)}function K(X){z.current=v,v==="auto"&&dC(X.nativeEvent)&&(z.current=!0)}return{..._e,onKeyDown(X){te.current=!1;let Se=X.key.startsWith("Arrow"),Re=["Home","End"].includes(X.key),Be=Se||Re,at=Q5(X.key,w,m),Ir=eB(X.key,w,m,O),dr=Q5(X.key,pe(),m),Ie=by(X.key,w),tr=(p?dr:Ie)||X.key==="Enter"||X.key.trim()==="";if(h&&r){let Ht=E?.nodesRef.current.find(Ke=>Ke.parentId==null),$e=E&&Ht?Fq(E.nodesRef.current,Ht.id):null;if(Be&&$e&&M){let Ke=new KeyboardEvent("keydown",{key:X.key,bubbles:!0});if(at||Ir){var Mn,Lo;let Pn=((Mn=$e.context)==null?void 0:Mn.elements.domReference)===X.currentTarget,Ct=Ir&&!Pn?(Lo=$e.context)==null?void 0:Lo.elements.domReference:at?a.current.find(no=>no?.id===de):null;Ct&&(ar(X),Ct.dispatchEvent(Ke),ye(void 0))}if((Ie||Re)&&$e.context&&$e.context.open&&$e.parentId&&X.currentTarget!==$e.context.elements.domReference){var Lr;ar(X),(Lr=$e.context.elements.domReference)==null||Lr.dispatchEvent(Ke);return}}return ee(X)}if(!(!r&&!_&&Se)){if(tr){let Ht=by(X.key,pe());W.current=p&&Ht?null:X.key}if(p){dr&&(ar(X),r?(D.current=ep(a,ae.current),N()):n(!0,X.nativeEvent,"list-navigation"));return}Ie&&(l!=null&&(D.current=l),ar(X),!r&&_?n(!0,X.nativeEvent,"list-navigation"):ee(X),r&&N())}},onFocus(){r&&!h&&(D.current=-1,N())},onPointerDown:K,onPointerEnter:K,onMouseDown:G,onClick:G}},[de,_e,O,ee,ae,v,a,p,N,n,r,_,w,pe,m,l,E,h,M]);return j.useMemo(()=>u?{reference:ke,floating:Oe,item:Ae}:{},[u,ke,Oe,Ae])}function Yye(e,t){var r,n;t===void 0&&(t={});let{open:o,elements:i,floatingId:a}=e,{enabled:s=!0,role:c="dialog"}=t,u=ml(),l=((r=i.domReference)==null?void 0:r.id)||u,f=j.useMemo(()=>{var _;return((_=Qd(i.floating))==null?void 0:_.id)||a},[i.floating,a]),d=(n=Gye.get(c))!=null?n:c,m=cu()!=null,h=j.useMemo(()=>d==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:o?f:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":d==="alertdialog"?"dialog":d,"aria-controls":o?f:void 0,...d==="listbox"&&{role:"combobox"},...d==="menu"&&{id:l},...d==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[d,f,m,o,l,c]),v=j.useMemo(()=>{let _={id:f,...d&&{role:d}};return d==="tooltip"||c==="label"?_:{..._,...d==="menu"&&{"aria-labelledby":l}}},[d,f,l,c]),b=j.useCallback(_=>{let{active:S,selected:w}=_,T={role:"option",...S&&{id:f+"-fui-option"}};switch(c){case"select":case"combobox":return{...T,"aria-selected":w}}return{}},[f,c]);return j.useMemo(()=>s?{reference:h,floating:v,item:b}:{},[s,h,v,b])}function dl(e,t){return typeof e=="function"?e(t):e}function Xye(e,t){let[r,n]=j.useState(e);return e&&!r&&n(!0),j.useEffect(()=>{if(!e&&r){let o=setTimeout(()=>n(!1),t);return()=>clearTimeout(o)}},[e,r,t]),r}function SB(e,t){t===void 0&&(t={});let{open:r,elements:{floating:n}}=e,{duration:o=250}=t,a=(typeof o=="number"?o:o.close)||0,[s,c]=j.useState("unmounted"),u=Xye(r,a);return!u&&s==="close"&&c("unmounted"),De(()=>{if(n){if(r){c("initial");let l=requestAnimationFrame(()=>{su.flushSync(()=>{c("open")})});return()=>{cancelAnimationFrame(l)}}c("close")}},[r,n]),{isMounted:u,status:s}}function Zye(e,t){t===void 0&&(t={});let{initial:r={opacity:0},open:n,close:o,common:i,duration:a=250}=t,s=e.placement,c=s.split("-")[0],u=j.useMemo(()=>({side:c,placement:s}),[c,s]),l=typeof a=="number",f=(l?a:a.open)||0,d=(l?a:a.close)||0,[p,m]=j.useState(()=>({...dl(i,u),...dl(r,u)})),{isMounted:h,status:v}=SB(e,{duration:a}),b=Gt(r),_=Gt(n),S=Gt(o),w=Gt(i);return De(()=>{let T=dl(b.current,u),O=dl(S.current,u),C=dl(w.current,u),M=dl(_.current,u)||Object.keys(T).reduce((R,k)=>(R[k]="",R),{});if(v==="initial"&&m(R=>({transitionProperty:R.transitionProperty,...C,...T})),v==="open"&&m({transitionProperty:Object.keys(M).map(tB).join(","),transitionDuration:f+"ms",...C,...M}),v==="close"){let R=O||T;m({transitionProperty:Object.keys(R).map(tB).join(","),transitionDuration:d+"ms",...C,...R})}},[d,S,b,_,w,f,v,u]),{isMounted:h,styles:p}}function Kye(e,t){var r;let{open:n,dataRef:o}=e,{listRef:i,activeIndex:a,onMatch:s,onTypingChange:c,enabled:u=!0,findMatch:l=null,resetMs:f=750,ignoreKeys:d=[],selectedIndex:p=null}=t,m=j.useRef(-1),h=j.useRef(""),v=j.useRef((r=p??a)!=null?r:-1),b=j.useRef(null),_=st(s),S=st(c),w=Gt(l),T=Gt(d);De(()=>{n&&(ur(m),b.current=null,h.current="")},[n]),De(()=>{if(n&&h.current===""){var k;v.current=(k=p??a)!=null?k:-1}},[n,p,a]);let O=st(k=>{k?o.current.typing||(o.current.typing=k,S(k)):o.current.typing&&(o.current.typing=k,S(k))}),C=st(k=>{function I(U,z,D){let W=w.current?w.current(z,D):z.find(te=>te?.toLocaleLowerCase().indexOf(D.toLocaleLowerCase())===0);return W?U.indexOf(W):-1}let B=i.current;if(h.current.length>0&&h.current[0]!==" "&&(I(B,B,h.current)===-1?O(!1):k.key===" "&&ar(k)),B==null||T.current.includes(k.key)||k.key.length!==1||k.ctrlKey||k.metaKey||k.altKey)return;n&&k.key!==" "&&(ar(k),O(!0)),B.every(U=>{var z,D;return U?((z=U[0])==null?void 0:z.toLocaleLowerCase())!==((D=U[1])==null?void 0:D.toLocaleLowerCase()):!0})&&h.current===k.key&&(h.current="",v.current=b.current),h.current+=k.key,ur(m),m.current=window.setTimeout(()=>{h.current="",v.current=b.current,O(!1)},f);let E=v.current,N=I(B,[...B.slice((E||0)+1),...B.slice(0,(E||0)+1)],h.current);N!==-1?(_(N),b.current=N):k.key!==" "&&(h.current="",O(!1))}),M=j.useMemo(()=>({onKeyDown:C}),[C]),R=j.useMemo(()=>({onKeyDown:C,onKeyUp(k){k.key===" "&&O(!1)}}),[C,O]);return j.useMemo(()=>u?{reference:M,floating:R}:{},[u,M,R])}function rB(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function Qye(e,t){let{open:r,elements:n}=e,{enabled:o=!0,overflowRef:i,scrollRef:a,onChange:s}=t,c=st(s),u=j.useRef(!1),l=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{if(!o)return;function p(h){if(h.ctrlKey||!m||i.current==null)return;let v=h.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,S=m.scrollHeight-m.clientHeight,w=v<0?-1:1,T=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&v>0||!_&&v<0?(h.preventDefault(),su.flushSync(()=>{c(O=>O+Math[T](v,S*w))})):/firefox/i.test(iy())&&(m.scrollTop+=v))}let m=a?.current||n.floating;if(r&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{l.current=m.scrollTop,i.current!=null&&(f.current={...i.current})}),()=>{l.current=null,f.current=null,m.removeEventListener("wheel",p)}},[o,r,n.floating,i,a,c]);let d=j.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let p=a?.current||n.floating;if(!(!i.current||!p||!u.current)){if(l.current!==null){let m=p.scrollTop-l.current;(i.current.bottom<-.5&&m<-1||i.current.top<-.5&&m>1)&&su.flushSync(()=>c(h=>h+m))}requestAnimationFrame(()=>{l.current=p.scrollTop})}}}),[n.floating,c,i,a]);return j.useMemo(()=>o?{floating:d}:{},[o,d])}function CB(e,t,r){return r===void 0&&(r=!0),e.filter(o=>{var i;return o.parentId===t&&(!r||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...CB(e,o.id,r)])}function nB(e,t){let[r,n]=e,o=!1,i=t.length;for(let a=0,s=i-1;a<i;s=a++){let[c,u]=t[a]||[0,0],[l,f]=t[s]||[0,0];u>=n!=f>=n&&r<=(l-c)*(n-u)/(f-u)+c&&(o=!o)}return o}function e0e(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function t0e(e){e===void 0&&(e={});let{buffer:t=.5,blockPointerEvents:r=!1,requireIntent:n=!0}=e,o={current:-1},i=!1,a=null,s=null,c=typeof performance<"u"?performance.now():0;function u(f,d){let p=performance.now(),m=p-c;if(a===null||s===null||m===0)return a=f,s=d,c=p,null;let h=f-a,v=d-s,_=Math.sqrt(h*h+v*v)/m;return a=f,s=d,c=p,_}let l=f=>{let{x:d,y:p,placement:m,elements:h,onClose:v,nodeId:b,tree:_}=f;return function(w){function T(){ur(o),v()}if(ur(o),!h.domReference||!h.floating||m==null||d==null||p==null)return;let{clientX:O,clientY:C}=w,M=[O,C],R=wye(w),k=w.type==="mouseleave",I=RC(h.floating,R),B=RC(h.domReference,R),L=h.domReference.getBoundingClientRect(),E=h.floating.getBoundingClientRect(),N=m.split("-")[0],U=d>E.right-E.width/2,z=p>E.bottom-E.height/2,D=e0e(M,L),W=E.width>L.width,te=E.height>L.height,Ce=(W?L:E).left,ge=(W?L:E).right,Y=(te?L:E).top,ze=(te?L:E).bottom;if(I&&(i=!0,!k))return;if(B&&(i=!1),B&&!k){i=!0;return}if(k&&ot(w.relatedTarget)&&RC(h.floating,w.relatedTarget)||_&&CB(_.nodesRef.current,b).length)return;if(N==="top"&&p>=L.bottom-1||N==="bottom"&&p<=L.top+1||N==="left"&&d>=L.right-1||N==="right"&&d<=L.left+1)return T();let H=[];switch(N){case"top":H=[[Ce,L.top+1],[Ce,E.bottom-1],[ge,E.bottom-1],[ge,L.top+1]];break;case"bottom":H=[[Ce,E.top+1],[Ce,L.bottom-1],[ge,L.bottom-1],[ge,E.top+1]];break;case"left":H=[[E.right-1,ze],[E.right-1,Y],[L.left+1,Y],[L.left+1,ze]];break;case"right":H=[[L.right-1,ze],[L.right-1,Y],[E.left+1,Y],[E.left+1,ze]];break}function ae(we){let[be,ne]=we;switch(N){case"top":{let de=[W?be+t/2:U?be+t*4:be-t*4,ne+t+1],Pe=[W?be-t/2:U?be+t*4:be-t*4,ne+t+1],ie=[[E.left,U||W?E.bottom-t:E.top],[E.right,U?W?E.bottom-t:E.top:E.bottom-t]];return[de,Pe,...ie]}case"bottom":{let de=[W?be+t/2:U?be+t*4:be-t*4,ne-t],Pe=[W?be-t/2:U?be+t*4:be-t*4,ne-t],ie=[[E.left,U||W?E.top+t:E.bottom],[E.right,U?W?E.top+t:E.bottom:E.top+t]];return[de,Pe,...ie]}case"left":{let de=[be+t+1,te?ne+t/2:z?ne+t*4:ne-t*4],Pe=[be+t+1,te?ne-t/2:z?ne+t*4:ne-t*4];return[...[[z||te?E.right-t:E.left,E.top],[z?te?E.right-t:E.left:E.right-t,E.bottom]],de,Pe]}case"right":{let de=[be-t,te?ne+t/2:z?ne+t*4:ne-t*4],Pe=[be-t,te?ne-t/2:z?ne+t*4:ne-t*4],ie=[[z||te?E.left+t:E.right,E.top],[z?te?E.left+t:E.right:E.left+t,E.bottom]];return[de,Pe,...ie]}}}if(!nB([O,C],H)){if(i&&!D)return T();if(!k&&n){let we=u(w.clientX,w.clientY);if(we!==null&&we<.1)return T()}nB([O,C],ae([d,p]))?!i&&n&&(o.current=window.setTimeout(T,40)):T()}}};return l.__options={blockPointerEvents:r},l}var j,it,su,iB,aye,L5,D5,Ja,Qa,np,Ka,cB,lB,fB,EC,sye,uye,cye,N5,lye,F5,dye,ml,pye,pB,mB,cu,lu,q5,IC,hB,gB,vB,B5,pl,hy,gy,MC,Cye,bB,Tye,_y,yy,yB,W5,xB,Oye,Za,Pye,vy,G5,Y5,Iye,qye,Bye,J5,Uye,Gye,tB,Jye,kB=A(()=>{j=g($());Hq();it=g(F());Xd();iC();su=g(lc());kC();kC();il();iB=j.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});aye="data-floating-ui-focusable",L5="active",D5="selected",Ja="ArrowLeft",Qa="ArrowRight",np="ArrowUp",Ka="ArrowDown";cB=j.createContext({activeIndex:0,onNavigate:()=>{}}),lB=[Ja,Qa],fB=[np,Ka],EC=[...lB,...fB],sye=j.forwardRef(function(t,r){let{render:n,orientation:o="both",loop:i=!0,rtl:a=!1,cols:s=1,disabledIndices:c,activeIndex:u,onNavigate:l,itemSizes:f,dense:d=!1,...p}=t,[m,h]=j.useState(0),v=u??m,b=st(l??h),_=j.useRef([]),S=n&&typeof n!="function"?n.props:{},w=j.useMemo(()=>({activeIndex:v,onNavigate:b}),[v,b]),T=s>1;function O(M){if(!EC.includes(M.key))return;let R=v,k=ep(_,c),I=cy(_,c),B=a?Ja:Qa,L=a?Qa:Ja;if(T){let D=f||Array.from({length:_.current.length},()=>({width:1,height:1})),W=mC(D,s,d),te=W.findIndex(Y=>Y!=null&&!Ya(_,Y,c)),Ce=W.reduce((Y,ze,H)=>ze!=null&&!Ya(_,ze,c)?H:Y,-1),ge=W[pC({current:W.map(Y=>Y?_.current[Y]:null)},{event:M,orientation:o,loop:i,rtl:a,cols:s,disabledIndices:gC([...(typeof c!="function"?c:null)||_.current.map((Y,ze)=>Ya(_,ze,c)?ze:void 0),void 0],W),minIndex:te,maxIndex:Ce,prevIndex:hC(v>I?k:v,D,W,s,M.key===Ka?"bl":M.key===B?"tr":"tl")})];ge!=null&&(R=ge)}let E={horizontal:[B],vertical:[Ka],both:[B,Ka]}[o],N={horizontal:[L],vertical:[np],both:[L,np]}[o],U=T?EC:{horizontal:lB,vertical:fB,both:EC}[o];if(R===v&&[...E,...N].includes(M.key)&&(i&&R===I&&E.includes(M.key)?R=k:i&&R===k&&N.includes(M.key)?R=I:R=ir(_,{startingIndex:R,decrement:N.includes(M.key),disabledIndices:c})),R!==v&&!ru(_,R)){var z;M.stopPropagation(),U.includes(M.key)&&M.preventDefault(),b(R),(z=_.current[R])==null||z.focus()}}let C={...p,...S,ref:r,"aria-orientation":o==="both"?void 0:o,onKeyDown(M){p.onKeyDown==null||p.onKeyDown(M),S.onKeyDown==null||S.onKeyDown(M),O(M)}};return(0,it.jsx)(cB.Provider,{value:w,children:(0,it.jsx)(aB,{elementsRef:_,children:uB(n,C)})})}),uye=j.forwardRef(function(t,r){let{render:n,...o}=t,i=n&&typeof n!="function"?n.props:{},{activeIndex:a,onNavigate:s}=j.useContext(cB),{ref:c,index:u}=sB(),l=oB([c,r,i.ref]),f=a===u,d={...o,...i,ref:l,tabIndex:f?0:-1,"data-active":f?"":void 0,onFocus(p){o.onFocus==null||o.onFocus(p),i.onFocus==null||i.onFocus(p),s(u)}};return uB(n,d)}),cye={...j},N5=!1,lye=0,F5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lye++;dye=cye.useId,ml=dye||fye,pye=j.forwardRef(function(t,r){let{context:{placement:n,elements:{floating:o},middlewareData:{arrow:i,shift:a}},width:s=14,height:c=7,tipRadius:u=0,strokeWidth:l=0,staticOffset:f,stroke:d,d:p,style:{transform:m,...h}={},...v}=t,b=ml(),[_,S]=j.useState(!1);if(De(()=>{if(!o)return;Ur(o).direction==="rtl"&&S(!0)},[o]),!o)return null;let[w,T]=n.split("-"),O=w==="top"||w==="bottom",C=f;(O&&a!=null&&a.x||!O&&a!=null&&a.y)&&(C=null);let M=l*2,R=M/2,k=s/2*(u/-8+1),I=c/2*u/4,B=!!p,L=C&&T==="end"?"bottom":"top",E=C&&T==="end"?"right":"left";C&&_&&(E=T==="end"?"left":"right");let N=i?.x!=null?C||i.x:"",U=i?.y!=null?C||i.y:"",z=p||"M0,0"+(" H"+s)+(" L"+(s-k)+","+(c-I))+(" Q"+s/2+","+c+" "+k+","+(c-I))+" Z",D={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[w];return(0,it.jsxs)("svg",{...v,"aria-hidden":!0,ref:r,width:B?s:s+M,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[E]:N,[L]:U,[w]:O||B?"100%":"calc(100% - "+M/2+"px)",transform:[D,m].filter(W=>!!W).join(" "),...h},children:[M>0&&(0,it.jsx)("path",{clipPath:"url(#"+b+")",fill:"none",stroke:d,strokeWidth:M+(p?0:1),d:z}),(0,it.jsx)("path",{stroke:M&&!p?v.fill:"none",d:z}),(0,it.jsx)("clipPath",{id:b,children:(0,it.jsx)("rect",{x:-R,y:R*(B?-1:1),width:s+M,height:s})})]})});pB=j.createContext(null),mB=j.createContext(null),cu=()=>{var e;return((e=j.useContext(pB))==null?void 0:e.id)||null},lu=()=>j.useContext(mB);q5=uu("safe-polygon");IC=()=>{},hB=j.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:IC,setState:IC,isInstantPhase:!1}),gB=()=>j.useContext(hB);vB=j.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});B5=0;pl={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};hy=new WeakSet,gy={},MC=0,Cye=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,bB=e=>e&&(e.host||bB(e.parentNode)),Tye=(e,t)=>t.map(r=>{if(e.contains(r))return r;let n=bB(r);return e.contains(n)?n:null}).filter(r=>r!=null);_y={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},yy=j.forwardRef(function(t,r){let[n,o]=j.useState();De(()=>{cC()&&o("button")},[]);let i={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[uu("focus-guard")]:"",style:_y};return(0,it.jsx)("span",{...t,...i})}),yB=j.createContext(null),W5=uu("portal");xB=()=>j.useContext(yB);Oye=20,Za=[];Pye=j.forwardRef(function(t,r){return(0,it.jsx)("button",{...t,type:"button",ref:r,tabIndex:-1,style:_y})});vy=0,G5="--floating-ui-scrollbar-width";Y5=()=>{},Iye=j.forwardRef(function(t,r){let{lockScroll:n=!1,...o}=t;return De(()=>{if(n)return vy++,vy===1&&(Y5=jye()),()=>{vy--,vy===0&&Y5()}},[n]),(0,it.jsx)("div",{ref:r,...o,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}})});qye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Bye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},J5=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};Uye="Escape";Gye=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);tB=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,r)=>(r?"-":"")+t.toLowerCase());Jye=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:o,offset:i=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:c=0,scrollRef:u,...l}=ln(e,t),{rects:f,elements:{floating:d}}=t,p=r.current[a],m=u?.current||d,h=d.clientTop||m.clientTop,v=d.clientTop!==0,b=m.clientTop!==0,_=d===m;if(!p)return{};let S={...t,...await my(-p.offsetTop-d.clientTop-f.reference.height/2-p.offsetHeight/2-i).fn(t)},w=await iu(rB(S,m.scrollHeight+h+d.clientTop),l),T=await iu(S,{...l,elementContext:"reference"}),O=Tt(0,w.top),C=S.y+O,k=(m.scrollHeight>m.clientHeight?I=>I:tu)(Tt(0,m.scrollHeight+(v&&_||b?h*2:0)-O-Tt(0,w.bottom)));if(m.style.maxHeight=k+"px",m.scrollTop=O,o){let I=m.offsetHeight<p.offsetHeight*Vr(s,r.current.length)-1||T.top>=-c||T.bottom>=-c;su.flushSync(()=>o(I))}return n&&(n.current=await iu(rB({...S,y:C},m.offsetHeight+h+d.clientTop),l)),{y:C}}})});var FC=y(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.default=i0e;var EB=F(),wy=(kB(),f_(TB)),DC=Q(),r0e=me();function n0e(e){return Math.round(e*1e5)/1e5}var o0e=(0,r0e.makeStyles)()(e=>({tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:(0,DC.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.fontSize,lineHeight:`${n0e(14/10)}em`,maxWidth:300,wordWrap:"break-word"}}));function i0e({clientPoint:e,children:t,placement:r="right"}){var n,o;let a=(n=(0,DC.useTheme)().components)===null||n===void 0?void 0:n.MuiPopper,{classes:s}=o0e(),{refs:c,floatingStyles:u,context:l}=(0,wy.useFloating)({placement:r,strategy:"fixed",middleware:[(0,wy.offset)(5)]}),f=(0,wy.useClientPoint)(l,e),{getFloatingProps:d}=(0,wy.useInteractions)([f]);return(0,EB.jsx)(DC.Portal,{container:(o=a?.defaultProps)===null||o===void 0?void 0:o.container,children:(0,EB.jsx)("div",{className:s.tooltip,ref:c.setFloating,style:{...u,zIndex:1e5,visibility:u.transform==="translate(0px, 0px)"?"hidden":void 0,pointerEvents:"none"},...d(),children:t})})}});var AB={};rt(AB,{default:()=>qC});var op,Sy,OB,RB,MB,PB,a0e,s0e,qC,BC=A(()=>{op=g(F()),Sy=g($()),OB=g(xe()),RB=g(He()),MB=g(FC()),PB=g(re()),a0e=(0,Sy.forwardRef)(function({message:t},r){return(0,op.jsx)("div",{ref:r,children:(0,Sy.isValidElement)(t)?t:t?(0,op.jsx)(RB.SanitizedHTML,{html:String(t)}):null})}),s0e=(0,PB.observer)(function({model:e,clientMouseCoord:t}){let{featureUnderMouse:r,mouseoverExtraInformation:n}=e,o=t[0]+15,i=t[1],a=r?(0,OB.getConf)(e,"mouseover",{feature:r,mouseoverExtraInformation:n}):void 0;return r&&a?(0,op.jsx)(MB.default,{clientPoint:{x:o,y:i},children:(0,op.jsx)(a0e,{message:a})}):null}),qC=s0e});var IB={};rt(IB,{renderBaseLinearDisplaySvg:()=>u0e});async function u0e(e,t){let{height:r,id:n}=e,{overrideHeight:o}=t,i=(0,hl.getContainingView)(e),{offsetPx:a,roundedDynamicBlocks:s,width:c}=i,u=await Promise.all(s.map(async l=>{let f=Vd.create({key:l.key,region:l}),d=e.regionCannotBeRenderedText(l)||e.regionCannotBeRendered(l);if(d)return[l,{reactElement:(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("rect",{x:0,y:0,width:c,height:20,fill:"#aaa"}),(0,Mr.jsx)("text",{x:0,y:15,children:d})]})}];let{rpcManager:p,renderArgs:m,renderProps:h,rendererType:v}=Wb(f,e);return[l,await v.renderInClient(p,{...m,...h,viewParams:(0,hl.getViewParams)(e,!0),exportSVG:t,theme:t.theme||h.theme})]}));return(0,Mr.jsx)(Mr.Fragment,{children:u.map(([l,f],d)=>{let{offsetPx:p,widthPx:m}=l,h=p-a,v=qF(n,d);return(0,Mr.jsxs)(jB.Fragment,{children:[(0,Mr.jsx)("defs",{children:(0,Mr.jsx)("clipPath",{id:v,children:(0,Mr.jsx)("rect",{x:0,y:0,width:m,height:o||r})})}),(0,Mr.jsx)("g",{transform:`translate(${h} 0)`,children:(0,Mr.jsx)("g",{clipPath:`url(#${v})`,children:(0,Mr.jsx)(hl.ReactRendering,{rendering:f})})})]},`frag-${d}`)})})}var Mr,jB,hl,LB=A(()=>{Mr=g(F()),jB=g($()),hl=g(Z());JS();$S()});function l0e(){return es.types.compose("BaseLinearDisplay",NB.BaseDisplay,Wd(),zd(),es.types.model({blockState:es.types.map(Vd),configuration:(0,Cy.ConfigurationReference)(Ua)})).volatile(()=>({mouseoverExtraInformation:void 0,featureIdUnderMouse:void 0,contextMenuFeature:void 0})).views(e=>({get DisplayMessageComponent(){},get blockType(){return"staticBlocks"},get blockDefinitions(){let t=(0,Yt.getContainingView)(e);if(!t.initialized)throw new Error("view not initialized yet");return t[this.blockType]}})).views(e=>({get renderDelay(){return 50},get TooltipComponent(){return c0e},get selectedFeatureId(){if((0,es.isAlive)(e)){let{selection:t}=(0,Yt.getSession)(e);if((0,Yt.isFeature)(t))return t.id()}},copyInfoToClipboard(t){let{uniqueId:r,...n}=t.toJSON(),o=(0,Yt.getSession)(e);(0,FB.default)(JSON.stringify(n,null,4)),o.notify("Copied to clipboard","success")}})).views(e=>({get features(){let t=[];for(let r of e.blockState.values())r.features&&t.push(r.features);return new zC.default(t)},get featureUnderMouse(){let t=e.featureIdUnderMouse;return t?this.features.get(t):void 0},get layoutFeatures(){let t=[];for(let r of e.blockState.values())r.layout&&t.push(r.layout.rectangles);return new zC.default(t)},getFeatureOverlapping(t,r,n){var o,i;return(i=(o=e.blockState.get(t))===null||o===void 0?void 0:o.layout)===null||i===void 0?void 0:i.getByCoord(r,n)},getFeatureByID(t,r){var n,o;return(o=(n=e.blockState.get(t))===null||n===void 0?void 0:n.layout)===null||o===void 0?void 0:o.getByID(r)},searchFeatureByID(t){var r;let n;for(let o of e.blockState.values()){let i=(r=o.layout)===null||r===void 0?void 0:r.getByID(t);i&&(n=i)}return n}})).actions(e=>({addBlock(t,r){e.blockState.set(t,Vd.create({key:t,region:r.toRegion()}))},deleteBlock(t){e.blockState.delete(t)},selectFeature(t){let r=(0,Yt.getSession)(e);if((0,Yt.isSessionModelWithWidgets)(r)){let{rpcManager:n}=r,o=(0,Ty.getRpcSessionId)(e),i=(0,Yt.getContainingTrack)(e),a=(0,Yt.getContainingView)(e),s=(0,Cy.getConf)(i,"adapter");(async()=>{try{let c=await n.call(o,"CoreGetMetadata",{adapterConfig:s});r.showWidget(r.addWidget("BaseFeatureWidget","baseFeature",{featureData:t.toJSON(),view:a,track:i,descriptions:c}))}catch(c){console.error(c),(0,Yt.getSession)(c).notifyError(`${c}`,c)}})()}(0,Yt.isSelectionContainer)(r)&&r.setSelection(t)},navToFeature(t){(0,Yt.getContainingView)(e).navTo({refName:t.get("refName"),start:t.get("start"),end:t.get("end")})},clearFeatureSelection(){(0,Yt.getSession)(e).clearSelection()},setFeatureIdUnderMouse(t){e.featureIdUnderMouse=t},setContextMenuFeature(t){e.contextMenuFeature=t},setMouseoverExtraInformation(t){e.mouseoverExtraInformation=t}})).actions(e=>{let{reload:t}=e;return{async reload(){e.setError(),e.setCurrStatsBpPerPx(0),e.clearFeatureDensityStats();for(let r of e.blockState.values())r.doReload();t()}}}).views(e=>({trackMenuItems(){return[]},contextMenuItems(){let t=e.contextMenuFeature;return t?[{label:"Open feature details",icon:jF,onClick:()=>{e.selectFeature(t)}},{label:"Zoom to feature",icon:RF,onClick:()=>{e.navToFeature(t)}},{label:"Copy info to clipboard",icon:Nb,onClick:()=>{e.copyInfoToClipboard(t)}}]:[]},renderProps(){return{...(0,Ty.getParentRenderProps)(e),notReady:!e.featureDensityStatsReady,rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick(t,r){let n=r||e.featureIdUnderMouse;if(!n)e.clearFeatureSelection();else{let o=e.features.get(n);o&&e.selectFeature(o)}},onClick(){e.clearFeatureSelection()},onFeatureContextMenu(t,r){let n=r||e.featureIdUnderMouse;n?e.setContextMenuFeature(e.features.get(n)):e.clearFeatureSelection()},onMouseMove(t,r,n){e.setFeatureIdUnderMouse(r),e.setMouseoverExtraInformation(n)},onMouseLeave(t){e.setFeatureIdUnderMouse(void 0),e.setMouseoverExtraInformation(void 0)},onContextMenu(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}}}})).actions(e=>({async renderSvg(t){let{renderBaseLinearDisplaySvg:r}=await Promise.resolve().then(()=>(LB(),IB));return r(e,t)},afterAttach(){(0,es.addDisposer)(e,(0,qB.autorun)(()=>{let t={};if((0,Yt.getContainingView)(e).initialized){for(let n of e.blockDefinitions.contentBlocks)t[n.key]=!0,e.blockState.has(n.key)||e.addBlock(n.key,n);for(let n of e.blockState.keys())t[n]||e.deleteBlock(n)}}))}})).preProcessSnapshot(e=>{if(!e)return e;let{height:t,...r}=e;return{heightPreConfig:t,...r}}).postProcessSnapshot(e=>{let t=e,{blockState:r,...n}=t;return n})}var DB,Cy,NB,Yt,zC,Ty,FB,qB,es,c0e,gl,BB=A(()=>{DB=g($()),Cy=g(xe()),NB=g(eu()),Yt=g(Z()),zC=g(EF()),Ty=g(bn());MF();zS();IF();FB=g(kf()),qB=g(Bs()),es=g(Me());YS();XS();FS();JS();c0e=(0,DB.lazy)(()=>Promise.resolve().then(()=>(BC(),AB)));gl=l0e()});function bl({width:e}){let{classes:t}=HC();return(0,ky.jsx)("div",{className:t.elidedBlock,style:{width:e}})}function yl({boundary:e,width:t,style:r={}}){let{classes:n}=HC();return(0,ky.jsx)("div",{style:{...r,width:t},className:e?n.boundaryPaddingBlock:n.interRegionPaddingBlock})}var ky,zB,HB,HC,vl,ip=A(()=>{ky=g(F()),zB=g(re()),HB=g(me()),HC=(0,HB.makeStyles)()(e=>({contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.disabled},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}})),vl=(0,zB.observer)(function({block:e,children:t}){let{classes:r}=HC(),{widthPx:n}=e;return(0,ky.jsx)("div",{style:{width:n},className:r.contentBlock,children:t})})});function WC({top:e}){let{classes:t}=f0e();return(0,WB.jsx)("div",{className:t.heightOverflowed,style:{top:e,pointerEvents:"none",height:16},children:"Max height reached"})}var WB,$B,f0e,UB=A(()=>{WB=g(F()),$B=g(me()),f0e=(0,$B.makeStyles)()({heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:999,boxSizing:"border-box"}})});var fu,VB,d0e,GB,YB=A(()=>{fu=g(F()),VB=g(re());ip();UB();d0e=(0,VB.observer)(function({model:e}){let{blockDefinitions:t,blockState:r}=e;return t.map(n=>{let o=`${e.id}-${n.key}`;if(n.type==="ContentBlock"){let i=r.get(n.key);return(0,fu.jsxs)(vl,{block:n,children:[i?.ReactComponent?(0,fu.jsx)(i.ReactComponent,{model:i}):null,i?.maxHeightReached?(0,fu.jsx)(WC,{top:i.layout.getTotalHeight()-16}):null]},o)}else{if(n.type==="ElidedBlock")return(0,fu.jsx)(bl,{width:n.widthPx},o);if(n.type==="InterRegionPaddingBlock")return(0,fu.jsx)(yl,{width:n.widthPx,style:{background:"none"},boundary:n.variant==="boundary"},o)}throw new Error(`invalid block type ${JSON.stringify(n)}`)})}),GB=d0e});var $C,XB,ZB,KB,p0e,m0e,JB,QB=A(()=>{$C=g(F()),XB=g(Z()),ZB=g(re()),KB=g(me());YB();p0e=(0,KB.makeStyles)()({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"}}),m0e=(0,ZB.observer)(function({model:e}){let{classes:t}=p0e(),{blockDefinitions:r}=e,n=(0,XB.getContainingView)(e);return(0,$C.jsx)("div",{className:t.linearBlocks,style:{left:r.offsetPx-n.offsetPx},children:(0,$C.jsx)(GB,{model:e})})}),JB=m0e});var e3,t3,r3,h0e,n3,o3=A(()=>{e3=g(F()),t3=g(He()),r3=g(re()),h0e=(0,r3.observer)(function({onClose:e,contextCoord:t,model:r}){let n=r.contextMenuItems();return(0,e3.jsx)(t3.Menu,{open:n.length>0,onMenuItemClick:(o,i)=>{i(),e()},onClose:()=>{e(),r.setContextMenuFeature(void 0)},slotProps:{transition:{onExit:()=>{e(),r.setContextMenuFeature(void 0)}}},anchorReference:"anchorPosition",anchorPosition:{top:t[1],left:t[0]},menuItems:n})}),n3=h0e});var ts,Ni,i3,a3,s3,g0e,v0e,du,u3=A(()=>{ts=g(F()),Ni=g($()),i3=g(xe()),a3=g(re()),s3=g(me());QB();o3();BC();qd();g0e=(0,s3.makeStyles)()({display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"}}),v0e=(0,a3.observer)(function(e){let{classes:t}=g0e(),r=(0,Ni.useRef)(null),[n,o]=(0,Ni.useState)(),[i,a]=(0,Ni.useState)([0,0]),[s,c]=(0,Ni.useState)([0,0]),[u,l]=(0,Ni.useState)(),{model:f,children:d}=e,{TooltipComponent:p,DisplayMessageComponent:m,height:h}=f;return(0,ts.jsxs)("div",{ref:r,"data-testid":`display-${(0,i3.getConf)(f,"displayId")}`,className:t.display,onContextMenu:v=>{v.preventDefault(),u?l(void 0):r.current&&l([v.clientX,v.clientY])},onMouseMove:v=>{if(!r.current)return;let b=r.current.getBoundingClientRect(),{left:_,top:S}=b;a([v.clientX-_,v.clientY-S]),c([v.clientX,v.clientY]),o(b)},children:[m?(0,ts.jsx)(m,{model:f}):(0,ts.jsx)(JB,{...e}),d,(0,ts.jsx)(Ni.Suspense,{fallback:null,children:(0,ts.jsx)(p,{model:f,height:h,offsetMouseCoord:i,clientMouseCoord:s,clientRect:n,mouseCoord:i})}),u?(0,ts.jsx)(n3,{contextCoord:u,model:f,onClose:()=>{l(void 0)}}):null]})}),du=v0e});var Fi=A(()=>{FS();BB();u3();XS();YS();VS()});var b0e,y0e,c3=A(()=>{b0e=g(xe()),y0e=g(An())});var l3,f3=A(()=>{l3=g(An());c3()});var _0e,x0e,d3=A(()=>{_0e=g(xe()),x0e=g(An())});var p3,m3=A(()=>{p3=g(An());d3()});var sp=y(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.RefSequenceResult=void 0;var Ey=class{constructor(t){this.label=t.label,this.locString=t.locString,this.renderingComponent=t.renderingComponent,this.displayString=t.displayString,this.matchedAttribute=t.matchedAttribute,this.matchedObject=t.matchedObject,this.textSearchAdapter=t.textSearchAdapter,this.relevance=t.relevance,this.trackId=t.trackId,this.score=t.score||1,this.results=t.results||[]}getLabel(){return this.label}getDisplayString(){return this.displayString||this.label}getRenderingComponent(){return this.renderingComponent}getTrackId(){return this.trackId}getScore(){return this.score}updateScore(t){return this.score=t,this.score}getId(){return`${this.getLabel()}-${this.getLocation()}-${this.getTrackId()}`}hasLocation(){return!!this.locString}getLocation(){return this.locString}getComboResults(){return this.results}};ap.default=Ey;var UC=class extends Ey{constructor(t){var r;super(t),this.refName=(r=t.refName)!==null&&r!==void 0?r:""}getLocation(){return this.refName}};ap.RefSequenceResult=UC});async function pu({option:e,model:t,assemblyName:r}){let n=e.getLocation(),o=e.getTrackId();n&&(await t.navToLocString(n,r,.2),o&&t.showTrack(o))}async function _l({input:e,model:t,assembly:r}){let n=r.allRefNamesWithLowerCase||[],o=r.name;if(e.split(" ").every(i=>w0e(i,n)))await t.navToLocString(e,r.name);else{let i=t.searchScope(o),{textSearchManager:a}=(0,Oy.getSession)(t),s=await S0e({queryString:e,searchType:"exact",searchScope:i,rankSearchResults:t.rankSearchResults,textSearchManager:a,assembly:r});s.length>1?t.setSearchResults(s,e.toLowerCase(),o):s.length===1?await pu({option:s[0],model:t,assemblyName:o}):await t.navToLocString(e,o)}}function w0e(e,t){let[r,n]=C0e(e,":");return t.includes(e)||t.includes(r)&&!Number.isNaN(Number.parseInt(n,10))}async function S0e({queryString:e,searchType:t,searchScope:r,rankSearchResults:n,textSearchManager:o,assembly:i}){var a;o||console.warn("No text search manager");let s=await o?.search({queryString:e,searchType:t},r,n),c=(a=i?.allRefNames)===null||a===void 0?void 0:a.filter(u=>u.toLowerCase().startsWith(e.toLowerCase())).slice(0,10).map(u=>new h3.default({label:u}));return(0,Oy.dedupe)([...c||[],...s||[]],u=>u.getId())}function C0e(e,t){let r=e.lastIndexOf(t);if(r===-1)return[e,""];let n=e.slice(0,r),o=e.slice(r+1);return[n,o]}var h3,Oy,xl=A(()=>{h3=g(sp()),Oy=g(Z())});var g3,v3=A(()=>{g3=g(Z());xl()});var T0e,VC=A(()=>{T0e=g(xe());Fi()});var b3,k0e,E0e,O0e,GC=A(()=>{b3=g(xe()),k0e=g(Z()),E0e=g(bn()),O0e=g(Me());Fi()});var R0e,YC=A(()=>{R0e=g(An());VC();GC();Fi();VC();GC()});var M0e,XC=A(()=>{M0e=g(xe());Fi()});var T3={};rt(T3,{default:()=>j0e});var ci,x3,w3,ko,S3,C3,P0e,A0e,j0e,k3=A(()=>{ci=g(F()),x3=g($()),w3=g(He()),ko=g(Q()),S3=g(re()),C3=g(me()),P0e=(0,C3.makeStyles)()({root:{width:500}}),A0e=(0,S3.observer)(function({model:e,handleClose:t}){let{classes:r}=P0e(),{maxHeight:n=""}=e,[o,i]=(0,x3.useState)(`${n}`),a=o!==""&&!Number.isNaN(+o);return(0,ci.jsxs)(w3.Dialog,{open:!0,onClose:t,title:"Set max height",children:[(0,ci.jsxs)(ko.DialogContent,{className:r.root,children:[(0,ci.jsx)(ko.Typography,{children:'Set max height for the track. For example, you can increase this if the layout says "Max height reached"'}),(0,ci.jsx)(ko.TextField,{value:o,onChange:s=>{i(s.target.value)},placeholder:"Enter max score"}),a?null:(0,ci.jsx)("div",{style:{color:"red"},children:"Invalid number"})]}),(0,ci.jsxs)(ko.DialogActions,{children:[(0,ci.jsx)(ko.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!a,onClick:()=>{e.setMaxHeight(+o),t()},children:"Submit"}),(0,ci.jsx)(ko.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),j0e=A0e});var P3={};rt(P3,{default:()=>N0e});function L0e(e){(0,O3.stringToJexlExpression)(e)}var Xt,up,E3,O3,qi,R3,M3,I0e,D0e,N0e,A3=A(()=>{Xt=g(F()),up=g($()),E3=g(He()),O3=g(Tf()),qi=g(Q()),R3=g(re()),M3=g(me()),I0e=(0,M3.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},error:{color:"red",fontSize:"0.8em"}});D0e=(0,R3.observer)(function({model:e,handleClose:t}){let{classes:r}=I0e(),{activeFilters:n}=e,[o,i]=(0,up.useState)(n.join(`
`)),[a,s]=(0,up.useState)();return(0,up.useEffect)(()=>{try{o.split(`
`).map(c=>c.trim()).filter(c=>!!c).map(c=>{L0e(c.trim())}),s(void 0)}catch(c){console.error(c),s(c)}},[o]),(0,Xt.jsxs)(E3.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Add track filters",children:[(0,Xt.jsxs)(qi.DialogContent,{children:[(0,Xt.jsxs)("div",{children:["Add filters, in jexl format, one per line, starting with the string jexl:. Examples:"," ",(0,Xt.jsxs)("ul",{children:[(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'name')=='BRCA1'"})," - show only feature where the name attribute is BRCA1"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'type')=='gene'"})," - show only gene type features in a GFF that has many other feature types"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'score') > 400"})," - show only features that have a score greater than 400"]}),(0,Xt.jsxs)("li",{children:[(0,Xt.jsx)("code",{children:"jexl:get(feature,'end') - get(feature,'start') < 1000000"})," ","- show only features with length less than 1Mbp"]})]})]}),a?(0,Xt.jsx)("p",{className:r.error,children:`${a}`}):null,(0,Xt.jsx)(qi.TextField,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,className:r.dialogContent,fullWidth:!0,value:o,onChange:c=>{i(c.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})]}),(0,Xt.jsxs)(qi.DialogActions,{children:[(0,Xt.jsx)(qi.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!!a,onClick:()=>{e.setJexlFilters(o.split(`
`)),t()},children:"Submit"}),(0,Xt.jsx)(qi.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),N0e=D0e});var ZC,j3,F0e,q0e,KC,LNe,DNe,JC=A(()=>{ZC=g($()),j3=g(xe()),F0e=g(Jp()),q0e=g(Z()),KC=g(Me());Fi();LNe=(0,ZC.lazy)(()=>Promise.resolve().then(()=>(k3(),T3))),DNe=(0,ZC.lazy)(()=>Promise.resolve().then(()=>(A3(),P3)))});var B0e,QC=A(()=>{B0e=g(An());Fi();XC();JC();JC();XC()});var N3=y(($Ne,D3)=>{D3.exports=JBrowseExports["@mui/material/SvgIcon"]});var My=y(ns=>{"use strict";var z0e=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ns,"__esModule",{value:!0});ns.Indexing=H0e;ns.TrackSelector=W0e;ns.DNA=$0e;ns.Cable=U0e;var rs=F(),Ry=z0e(N3());function H0e(e){return(0,rs.jsx)(Ry.default,{...e,children:(0,rs.jsx)("path",{d:"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z"})})}function W0e(e){return(0,rs.jsx)(Ry.default,{...e,children:(0,rs.jsx)("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"})})}function $0e(e){return(0,rs.jsx)(Ry.default,{...e,children:(0,rs.jsx)("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"})})}function U0e(e){return(0,rs.jsx)(Ry.default,{...e,children:(0,rs.jsx)("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"})})}});var F3=y(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.moveTo=G0e;wl.pxToBp=Y0e;wl.bpToPx=X0e;wl.bpToPxMap=Z0e;function V0e(e,t,r){let n=0,{displayedRegions:o}=e;if(t.index===r.index)n+=r.offset-t.offset;else{let i=o[t.index];if(n+=i.end-i.start-t.offset,r.index-t.index>=2)for(let a=t.index+1;a<r.index;a++){let s=o[a],c=s.end-s.start;n+=c}n+=r.offset}return n}function G0e(e,t,r){if(!t||!r)return;let{width:n,interRegionPaddingWidth:o,displayedRegions:i,bpPerPx:a,minimumBlockWidth:s}=e,c=V0e(e,t,r),u=0;for(let m=t.index;m<r.index;m++){let h=i[m];(h.end-h.start)/a>s&&u++}let l=c/(n-o*u),f=e.zoomTo(l),d=0;l<f&&(d=(f-l)*e.width/2);let p=-d;for(let m=0;m<e.displayedRegions.length;m++){let h=e.displayedRegions[m];if(t.index===m){p+=t.offset;break}else p+=h.end-h.start}e.scrollTo(Math.round(p/e.bpPerPx))}function eT(e,t){return Math.floor(e.reversed?e.end-t:e.start+t)+1}function Y0e(e,t){var r;let n=0,{bpPerPx:o,offsetPx:i,displayedRegions:a,interRegionPaddingWidth:s,staticBlocks:c}=e,u=c.contentBlocks,l=(i+t)*o;if(l<0){let p=a[0];return{...p,oob:!0,coord:eT(p,l),offset:l,index:0}}let f=s*o,d=0;for(let p=0;p<a.length;p++){let m=a[p],h=m.end-m.start,v=l-n;if(h+n>l&&n<=l)return{...m,oob:!1,offset:v,coord:eT(m,v),index:p};((r=u[d])===null||r===void 0?void 0:r.regionNumber)===p?(n+=h+f,d++):n+=h}if(l>=n&&a.length>0){let p=a.at(-1),m=p.end-p.start,h=l-n+m;return{...p,oob:!0,offset:h,coord:eT(p,h),index:a.length-1}}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}}function X0e({refName:e,coord:t,regionNumber:r,self:n}){var o;let i=0,{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:c,staticBlocks:u}=n,l=u.contentBlocks,f=a*s,d=0,p=0;for(;p<c.length;p++){let h=c[p],v=h.end-h.start;if(e===h.refName&&t>=h.start&&t<=h.end&&(!r||r===p)){i+=h.reversed?h.end-t:t-h.start;break}((o=l[d])===null||o===void 0?void 0:o.regionNumber)===p?(i+=v+f,d++):i+=v}if(c[p])return{index:p,offsetPx:Math.round(i/s)}}function Z0e({refName:e,coord:t,regionNumber:r,self:n}){var o;let i=0,{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:c,staticBlocks:u}=n,l=u.contentBlocks,f=a*s,d={},p=0,m=0;for(;m<c.length;m++){let v=c[m],b=v.end-v.start;if(e===v.refName&&t>=v.start&&t<=v.end&&(r===void 0||r===m)){i+=v.reversed?v.end-t:t-v.start;break}((o=l[p])===null||o===void 0?void 0:o.regionNumber)===m?(i+=b+f,p++):i+=b}return c[m]?{index:m,offsetPx:Math.round(i/s)}:d}});var Py=y((GNe,q3)=>{q3.exports=JBrowseExports["@jbrowse/core/util/Base1DViewModel"]});var aT=y(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.InterRegionPaddingBlock=Kn.ElidedBlock=Kn.ContentBlock=Kn.BaseBlock=Kn.BlockSet=void 0;var tT=lo(),rT=class{constructor(t=[]){this.blocks=t}push(t){if(t.type==="ElidedBlock"&&this.blocks.length>0){let r=this.blocks.at(-1);if(r?.type==="ElidedBlock"){r.push(t);return}}this.blocks.push(t)}getBlocks(){return this.blocks}getRegions(){return this.blocks.map(t=>t.toRegion())}map(t,r){return this.blocks.map(t,r)}forEach(t,r){this.blocks.forEach(t,r)}get length(){return this.blocks.length}get totalWidthPx(){return this.blocks.length>0?(0,tT.sum)(this.blocks.map(t=>t.widthPx)):0}get totalWidthPxWithoutBorders(){return this.blocks.length>0?(0,tT.sum)(this.blocks.filter(t=>t.variant!=="boundary").map(t=>t.widthPx)):0}get offsetPx(){return this.blocks.length>0?this.blocks[0].offsetPx:0}get contentBlocks(){return this.blocks.filter(t=>t.type==="ContentBlock")}get totalBp(){return(0,tT.sum)(this.contentBlocks.map(t=>t.end-t.start))}};Kn.BlockSet=rT;var Sl=class{constructor(t){this.type="BaseBlock",this.widthPx=0,Object.assign(this,t),this.assemblyName=t.assemblyName,this.refName=t.refName,this.start=t.start,this.end=t.end,this.key=t.key,this.offsetPx=t.offsetPx}toRegion(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}};Kn.BaseBlock=Sl;var nT=class extends Sl{constructor(){super(...arguments),this.type="ContentBlock"}};Kn.ContentBlock=nT;var oT=class extends Sl{constructor(t){super(t),this.type="ElidedBlock",this.elidedBlockCount=0,this.widthPx=t.widthPx}push(t){this.elidedBlockCount+=1,this.refName="",this.start=0,this.end=0,this.widthPx+=t.widthPx}};Kn.ElidedBlock=oT;var iT=class extends Sl{constructor(){super(...arguments),this.type="InterRegionPaddingBlock"}};Kn.InterRegionPaddingBlock=iT});var z3=y(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});sT.default=Q0e;var B3=Me(),K0e=lo(),Cl=aT(),J0e=tw();function Q0e(e,t=!0,r=!0){let{offsetPx:n,displayedRegions:o,bpPerPx:i,width:a,minimumBlockWidth:s,interRegionPaddingWidth:c}=e;if(!a)throw new Error("view has no width, cannot calculate displayed blocks");let u=new Cl.BlockSet,l=0,f=n,d=f+a;for(let p=0;p<o.length;p++){let m=o[p],{assemblyName:h,refName:v,start:b,end:_,reversed:S}=m,w=l+(_-b)/i,T=(_-b)/i,O=(0,B3.isStateTreeNode)(m)?(0,B3.getSnapshot)(m):m,[C,M]=(0,J0e.intersection2)(f,d,l,w);if(C!==void 0&&M!==void 0){let R,k,I,B,L;S?(R=Math.max(b,_-(M-l)*i),k=_-(C-l)*i,I=k===_,B=R===b,L=l+(_-k)/i):(R=(C-l)*i+b,k=Math.min(_,(M-l)*i+b),I=R===b,B=k===_,L=l+(R-b)/i);let E=(k-R)/i,N={assemblyName:h,refName:v,start:R,end:k,reversed:S,offsetPx:L,parentRegion:O,regionNumber:p,widthPx:E,isLeftEndOfDisplayedRegion:I,isRightEndOfDisplayedRegion:B,key:""};N.key=`${(0,K0e.assembleLocStringFast)(N)}-${p}${S?"-reversed":""}`,t&&u.length===0&&I&&u.push(new Cl.InterRegionPaddingBlock({key:`${N.key}-beforeFirstRegion`,widthPx:-n,offsetPx:N.offsetPx+n,variant:"boundary"})),r&&T<s?u.push(new Cl.ElidedBlock(N)):u.push(new Cl.ContentBlock(N)),t&&(T>=s&&N.isRightEndOfDisplayedRegion&&p<o.length-1&&(u.push(new Cl.InterRegionPaddingBlock({key:`${N.key}-rightpad`,widthPx:c,offsetPx:N.offsetPx+N.widthPx})),l+=c),p===o.length-1&&N.isRightEndOfDisplayedRegion&&(L=N.offsetPx+N.widthPx,u.push(new Cl.InterRegionPaddingBlock({key:`${N.key}-afterLastRegion`,widthPx:a-L+n,offsetPx:L,variant:"boundary"}))))}l+=(_-b)/i}return u}});var W3=y(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0});uT.default=t_e;var H3=Me(),e_e=lo(),Tl=aT();function t_e(e,t=!0,r=!0,n=0,o=800){let{offsetPx:i,displayedRegions:a,bpPerPx:s,minimumBlockWidth:c,interRegionPaddingWidth:u,width:l}=e,f=i*s,d=(i+l)*s,m=Math.ceil(o*s),h=0,v=new Tl.BlockSet;for(let b=0;b<a.length;b++){let _=a[b],{assemblyName:S,refName:w,start:T,end:O,reversed:C}=_,M=Math.ceil((O-T)/m),R=(0,H3.isStateTreeNode)(_)?(0,H3.getSnapshot)(_):_,k=Math.floor((d-h)/m)+n;k>=M&&(k=M-1);let I=Math.floor((f-h)/m)-n;I<0&&(I=0);let B=(O-T)/s;for(let L=I;L<=k;L+=1){let E,N,U,z;C?(E=Math.max(T,O-(L+1)*m),N=O-L*m,U=N===O,z=E===T):(E=T+L*m,N=Math.min(O,T+(L+1)*m),U=E===T,z=N===O);let D=(N-E)/s,W={assemblyName:S,refName:w,start:E,end:N,reversed:C,offsetPx:(h+L*m)/s,parentRegion:R,regionNumber:b,widthPx:D,isLeftEndOfDisplayedRegion:U,isRightEndOfDisplayedRegion:z,key:""};W.key=`${(0,e_e.assembleLocStringFast)(W)}-${b}${C?"-reversed":""}`,t&&b===0&&L===0&&v.push(new Tl.InterRegionPaddingBlock({key:`${W.key}-beforeFirstRegion`,widthPx:o,offsetPx:W.offsetPx-o,variant:"boundary"})),r&&B<c?v.push(new Tl.ElidedBlock(W)):v.push(new Tl.ContentBlock(W)),t&&(B>=c&&W.isRightEndOfDisplayedRegion&&b<a.length-1&&(h+=u*s,v.push(new Tl.InterRegionPaddingBlock({key:`${W.key}-rightpad`,widthPx:u,offsetPx:W.offsetPx+W.widthPx}))),b===a.length-1&&W.isRightEndOfDisplayedRegion&&(h+=u*s,v.push(new Tl.InterRegionPaddingBlock({key:`${W.key}-afterLastRegion`,widthPx:o,offsetPx:W.offsetPx+W.widthPx,variant:"boundary"}))))}h+=O-T}return v}});var U3=y((KNe,$3)=>{$3.exports=JBrowseExports["@jbrowse/core/util/types/mst"]});var V3,G3,Y3=A(()=>{"use client";ct();V3=g(F(),1),G3=(0,Ee.createSvgIcon)((0,V3.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")});var cT,Ay,lT=A(()=>{"use client";ct();cT=g(F(),1),Ay=(0,Ee.createSvgIcon)([(0,cT.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,cT.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")});var jy=y((fT,dT)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof fT<"u"?t():(t(),e.FileSaver={})})(fT,function(){"use strict";function e(s,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function t(s,c,u){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){a(l.response,c,u)},l.onerror=function(){console.error("could not download file")},l.send()}function r(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function n(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(s,c,u){var l=o.URL||o.webkitURL,f=document.createElement("a");c=c||s.name||"download",f.download=c,f.rel="noopener",typeof s=="string"?(f.href=s,f.origin===location.origin?n(f):r(f.href)?t(s,c,u):n(f,f.target="_blank")):(f.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(f.href)},4e4),setTimeout(function(){n(f)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,u){if(c=c||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(e(s,u),c);else if(r(s))t(s,c,u);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){n(l)})}}:function(s,c,u,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return t(s,c,u);var f=s.type==="application/octet-stream",d=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||f&&d||i)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=p?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=b:location=b,l=null},m.readAsDataURL(s)}else{var h=o.URL||o.webkitURL,v=h.createObjectURL(s);l?l.location=v:location.href=v,l=null,setTimeout(function(){h.revokeObjectURL(v)},4e4)}});o.saveAs=a.saveAs=a,typeof dT<"u"&&(dT.exports=a)})});var X3,Z3,K3=A(()=>{"use client";ct();X3=g(F(),1),Z3=(0,Ee.createSvgIcon)((0,X3.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")});var J3,Q3,e6=A(()=>{"use client";ct();J3=g(F(),1),Q3=(0,Ee.createSvgIcon)((0,J3.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")});var Eo=A(()=>{});function mT({model:e}){let{classes:t}=r_e();return(0,Bi.jsxs)(Bi.Fragment,{children:[(0,Bi.jsx)(cp.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(-.9)},children:(0,Bi.jsx)(Z3,{})}),(0,Bi.jsx)(cp.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(.9)},children:(0,Bi.jsx)(Q3,{})})]})}var Bi,cp,t6,r_e,r6=A(()=>{Bi=g(F());K3();e6();cp=g(Q()),t6=g(me());Eo();r_e=(0,t6.makeStyles)()(e=>({panButton:{background:(0,cp.alpha)(e.palette.background.paper,.8),color:e.palette.text.primary,margin:7}}))});var n6,o6,i6,a6,s6,n_e,o_e,u6,c6=A(()=>{n6=g(F()),o6=g(Z()),i6=g(Q()),a6=g(re()),s6=g(me()),n_e=(0,s6.makeStyles)()({bp:{display:"flex",alignItems:"center",marginLeft:5,cursor:"pointer"}}),o_e=(0,a6.observer)(function({model:e}){let{classes:t}=n_e(),{coarseTotalBp:r}=e;return(0,n6.jsx)(i6.Typography,{variant:"body2",color:"textSecondary",className:t.bp,children:(0,o6.getBpDisplayStr)(r)})}),u6=o_e});var hT,l6,f6,d6,p6,i_e,a_e,m6,h6=A(()=>{hT=g(F()),l6=g(My()),f6=g(Q()),d6=g(re()),p6=g(me()),i_e=(0,p6.makeStyles)()(e=>({toggleButton:{height:44,border:"none",marginLeft:e.spacing(4)}})),a_e=(0,d6.observer)(function({model:e}){let{classes:t}=i_e();return(0,hT.jsx)(f6.IconButton,{onClick:e.activateTrackSelector,className:t.toggleButton,title:"Open track selector",value:"track_select",children:(0,hT.jsx)(l6.TrackSelector,{})})}),m6=a_e});var g6=y(Iy=>{"use strict";"use client";var s_e=Wt().default;Object.defineProperty(Iy,"__esModule",{value:!0});Iy.default=void 0;var u_e=s_e(jn()),c_e=F(),pFe=Iy.default=(0,u_e.default)((0,c_e.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")});var v6=y(Ly=>{"use strict";"use client";var l_e=Wt().default;Object.defineProperty(Ly,"__esModule",{value:!0});Ly.default=void 0;var f_e=l_e(jn()),d_e=F(),hFe=Ly.default=(0,f_e.default)((0,d_e.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline")});var b6=y(zi=>{"use strict";var p_e=zi&&zi.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),m_e=zi&&zi.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),h_e=zi&&zi.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&p_e(r,t,n[o]);return m_e(r,t),r}})();Object.defineProperty(zi,"__esModule",{value:!0});var g_e=F(),v_e=h_e($()),b_e=Q(),y_e=v_e.forwardRef(function(t,r){return(0,g_e.jsx)(b_e.Menu,{...t,ref:r,style:{pointerEvents:"none",...t.style},slotProps:{...t.slotProps,paper:{style:{pointerEvents:"auto"}}}})});zi.default=y_e});var y6=y(Dy=>{"use strict";"use client";var __e=Wt().default;Object.defineProperty(Dy,"__esModule",{value:!0});Dy.default=void 0;var x_e=__e(jn()),w_e=F(),bFe=Dy.default=(0,x_e.default)((0,w_e.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight")});var _6=y(Ny=>{"use strict";"use client";var S_e=Wt().default;Object.defineProperty(Ny,"__esModule",{value:!0});Ny.default=void 0;var C_e=S_e(jn()),T_e=F(),_Fe=Ny.default=(0,C_e.default)((0,T_e.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")});var x6=y(Fy=>{"use strict";"use client";var k_e=Wt().default;Object.defineProperty(Fy,"__esModule",{value:!0});Fy.default=void 0;var E_e=k_e(jn()),O_e=F(),wFe=Fy.default=(0,E_e.default)((0,O_e.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")});var w6=y(qy=>{"use strict";"use client";var R_e=Wt().default;Object.defineProperty(qy,"__esModule",{value:!0});qy.default=void 0;var M_e=R_e(jn()),P_e=F(),CFe=qy.default=(0,M_e.default)((0,P_e.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked")});var S6=y(By=>{"use strict";"use client";var A_e=Wt().default;Object.defineProperty(By,"__esModule",{value:!0});By.default=void 0;var j_e=A_e(jn()),I_e=F(),kFe=By.default=(0,j_e.default)((0,I_e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked")});var E6=y(kl=>{"use strict";var lp=kl&&kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kl,"__esModule",{value:!0});kl.MenuItemEndDecoration=gT;var kt=F(),li=$(),L_e=lp(y6()),D_e=lp(_6()),N_e=lp(x6()),F_e=lp(w6()),q_e=lp(S6()),Hi=Q(),B_e=me(),z_e=lo(),C6=(0,B_e.makeStyles)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function gT(e){let{classes:t}=C6(),{type:r}=e,n,o;"checked"in e&&({checked:n,disabled:o}=e);let i;switch(r){case"subMenu":{i=(0,kt.jsx)(L_e.default,{color:"action"});break}case"checkbox":{if(n){let a=o?"inherit":void 0;i=(0,kt.jsx)(D_e.default,{color:a})}else i=(0,kt.jsx)(N_e.default,{color:"action"});break}case"radio":{if(n){let a=o?"inherit":void 0;i=(0,kt.jsx)(F_e.default,{color:a})}else i=(0,kt.jsx)(q_e.default,{color:"action"});break}}return(0,kt.jsx)("div",{className:t.menuItemEndDecoration,children:i})}function T6(e){return e.type!=="divider"&&e.type!=="subHeader"&&!e.disabled}function H_e(e,t){let r=e.slice(t+1).findIndex(T6);return r===-1?r:t+1+r}function W_e(e,t){return(0,z_e.findLastIndex)(e.slice(0,t),T6)}var k6=(0,li.forwardRef)(function(t,r){let[n,o]=(0,li.useState)(),[i,a]=(0,li.useState)(),[s,c]=(0,li.useState)(!1),[u,l]=(0,li.useState)(),[f,d]=(0,li.useState)(),p=(0,li.useRef)(null),{classes:m}=C6(),{menuItems:h,onMenuItemClick:v,open:b,onClose:_,anchorEl:S,top:w=!1}=t;(0,li.useEffect)(()=>{b||(o(void 0),a(void 0))},[b]),(0,li.useEffect)(()=>{let R=b&&!!n,k;return R&&!s?k=setTimeout(()=>{c(!0)},300):!R&&s&&(k=setTimeout(()=>{c(!1)},300)),()=>{clearTimeout(k)}},[s,b,n]),(0,li.useLayoutEffect)(()=>{if(S){let R=S.getBoundingClientRect();f?(R.top!==f.top||R.left+R.width!==f.left)&&d({top:R.top,left:R.left+R.width}):d({top:R.top,left:R.left+R.width})}else f||d({})},[f,S]);let T=h.some(R=>"icon"in R&&R.icon),O={};function C(R){return k=>{v(k,R)}}let M=(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Hi.MenuList,{autoFocusItem:b&&!s,dense:!0,children:h.sort((R,k)=>(k.priority||0)-(R.priority||0)).map((R,k)=>{if(R.type==="divider")return(0,kt.jsx)(Hi.Divider,{component:"li"},`divider-${JSON.stringify(R)}-${k}`);if(R.type==="subHeader")return(0,kt.jsx)(Hi.ListSubheader,{children:R.label},`subHeader-${R.label}-${k}`);let I=null,B=null;if(R.icon){let E=R.icon;I=(0,kt.jsx)(Hi.ListItemIcon,{children:(0,kt.jsx)(E,{})})}"subMenu"in R?B=(0,kt.jsx)(gT,{type:"subMenu"}):(R.type==="checkbox"||R.type==="radio")&&(B=(0,kt.jsx)(gT,{type:R.type,checked:R.checked,disabled:R.disabled}));let L="onClick"in R?C(R.onClick):void 0;return(0,kt.jsxs)(Hi.MenuItem,{style:O,selected:k===u,onClick:L,onMouseMove:E=>{E.currentTarget!==document.activeElement&&(E.currentTarget.focus(),l(k)),"subMenu"in R?i!==k&&(o(E.currentTarget),a(k)):(o(void 0),a(void 0))},onKeyDown:E=>{switch(E.key){case"ArrowLeft":case"Escape":{_?.(E,"escapeKeyDown");break}case"ArrowUp":{l(W_e(h,k));break}case"ArrowDown":{let N=H_e(h,k);l(N);break}default:"subMenu"in R&&(E.key==="ArrowRight"||E.key==="Enter")&&(o(E.currentTarget),a(k),c(!0))}},disabled:!!R.disabled,children:[I,(0,kt.jsx)(Hi.ListItemText,{primary:R.label,secondary:R.subLabel,inset:T&&!R.icon}),B]},R.id||String(R.label))})}),h.map((R,k)=>{let I=null;return"subMenu"in R&&(I=(0,kt.jsx)(k6,{anchorEl:n,open:s&&i===k,onClose:()=>{c(!1),o(void 0)},onMenuItemClick:v,menuItems:R.subMenu},R.id||String(R.label))),I})]});return w?M:(0,kt.jsx)(Hi.Grow,{in:b,style:{transformOrigin:"0 0 0"},ref:r,children:(0,kt.jsx)(Hi.Paper,{elevation:8,ref:p,className:m.paper,style:{...f},children:M})})});function $_e(e){let{open:t,onClose:r,menuItems:n,onMenuItemClick:o,...i}=e;return(0,kt.jsx)(Hi.Popover,{open:t,onClose:r,style:{zIndex:1e4,...i.style},anchorOrigin:{vertical:"bottom",horizontal:"right",...i.anchorOrigin},transformOrigin:{vertical:"top",horizontal:"left",...i.transformOrigin},...i,children:(0,kt.jsx)(k6,{open:t,onClose:r,menuItems:n,onMenuItemClick:o,top:!0})})}kl.default=$_e});var vT=y(Pr=>{"use strict";var U_e=Pr&&Pr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),V_e=Pr&&Pr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),G_e=Pr&&Pr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&U_e(r,t,n[o]);return V_e(r,t),r}})();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.usePopupState=X_e;Pr.bindTrigger=Z_e;Pr.bindToggle=K_e;Pr.bindHover=J_e;Pr.bindFocus=Q_e;Pr.bindPopover=e1e;Pr.bindMenu=t1e;Pr.bindPopper=r1e;var os=$(),Y_e=G_e($());function X_e(e){let{parentPopupState:t}=e||{},r=Y_e.useId(),[n,o]=(0,os.useState)(!1),[i,a]=(0,os.useState)(!1),[s,c]=(0,os.useState)(),[u,l]=(0,os.useState)(!1),[f,d]=(0,os.useState)(!1),[p,m]=(0,os.useState)(),[h,v]=(0,os.useState)(),b=(0,os.useCallback)(O=>{a(!0),c(O)},[]),_=O=>{n?w(O):S(O)},S=O=>{let C=O instanceof Element?void 0:O,M=O instanceof Element?O:O?.currentTarget instanceof Element?O.currentTarget:void 0;if(C?.type!=="touchstart"){if(t){if(!t.isOpen)return;t.childHandle&&t.childHandle.close(),t.setChildHandle({popupId:r,close:w})}o(!0),l(R=>C?.type==="mouseover"||R),d(R=>C?.type==="focus"||R),m(C?.type),i||(C?.currentTarget?c(C.currentTarget):M&&c(M))}},w=O=>{let C=O instanceof Element?void 0:O;C?.type!=="touchstart"&&(h?.close(),t?.setChildHandle(void 0),o(!1),l(!1),d(!1))};return{isOpen:n,anchorEl:s,setAnchorElUsed:i,setAnchorEl:b,popupId:r,open:S,close:w,toggle:_,setOpen:(O,C)=>{O?S(C):w(C)},hovered:u,focused:f,_openEventType:p,childHandle:h,setChildHandle:v}}function Z_e(e){return{onClick:e.open}}function K_e(e){return{onClick:e.toggle}}function J_e(e){let{open:t}=e;return{onMouseOver:t}}function Q_e(e){let{open:t}=e;return{onFocus:t}}function e1e({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function t1e({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function r1e({isOpen:e,anchorEl:t,popupId:r}){return{id:r,anchorEl:t,open:e}}});var P6=y(dp=>{"use strict";var zy=dp&&dp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dp,"__esModule",{value:!0});var Le=F(),is=$(),n1e=zy(g6()),o1e=zy(v6()),Oo=Q(),i1e=zy(Hf()),a1e=zy(b6()),O6=E6(),fp=vT(),El=(0,is.createContext)({parentPopupState:void 0,rootPopupState:void 0});function R6({helpText:e}){let[t,r]=(0,is.useState)(!1),n=i=>{i.stopPropagation(),r(!0)},o=i=>{i.stopPropagation(),r(!1)};return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Oo.IconButton,{size:"small",onClick:n,style:{marginLeft:4,padding:4},children:(0,Le.jsx)(o1e.default,{fontSize:"small"})}),(0,Le.jsx)(i1e.default,{open:t,onClose:o,title:"Help",onClick:i=>{i.stopPropagation()},children:(0,Le.jsx)(Oo.DialogContent,{children:e})})]})}function s1e(){return(0,Le.jsx)("div",{style:{marginLeft:4,padding:4,width:28,height:28}})}function u1e({onClick:e,closeAfterItemClick:t,children:r,...n}){let{rootPopupState:o,parentPopupState:i}=(0,is.useContext)(El);if(!o)throw new Error("must be used inside a CascadingMenu");return(0,Le.jsx)(Oo.MenuItem,{...n,onClick:a=>{t&&o.close(),e?.(a)},onMouseOver:()=>{i?.childHandle&&(i.childHandle.close(),i.setChildHandle(void 0))},children:r})}function c1e({title:e,Icon:t,inset:r,...n}){let{parentPopupState:o}=(0,is.useContext)(El),i=(0,fp.usePopupState)({parentPopupState:o}),{onMouseOver:a,...s}=(0,fp.bindHover)(i);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(Oo.MenuItem,{...(0,fp.bindFocus)(i),...s,onMouseOver:c=>{o?.childHandle&&(o.childHandle.close(),o.setChildHandle(void 0)),a(c)},children:[t?(0,Le.jsx)(Oo.ListItemIcon,{children:(0,Le.jsx)(t,{})}):null,(0,Le.jsx)(Oo.ListItemText,{primary:e,inset:r}),(0,Le.jsx)(n1e.default,{})]}),(0,Le.jsx)(l1e,{...n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:i})]})}function l1e({popupState:e,onMenuItemClick:t,menuItems:r,classes:n,...o}){let{rootPopupState:i}=(0,is.useContext)(El),a=(0,is.useMemo)(()=>({rootPopupState:i||e,parentPopupState:e}),[i,e]);return(0,Le.jsx)(El.Provider,{value:a,children:(0,Le.jsx)(a1e.default,{...o,...(0,fp.bindMenu)(e)})})}function f1e({popupState:e,onMenuItemClick:t,menuItems:r,...n}){let{rootPopupState:o}=(0,is.useContext)(El),i=(0,is.useMemo)(()=>({rootPopupState:o||e,parentPopupState:e}),[o,e]);return(0,Le.jsx)(El.Provider,{value:i,children:(0,Le.jsx)(Oo.Menu,{...n,...(0,fp.bindMenu)(e)})})}function d1e({item:e}){return"subMenu"in e?(0,Le.jsx)(O6.MenuItemEndDecoration,{type:"subMenu"}):e.type==="checkbox"||e.type==="radio"?(0,Le.jsx)(O6.MenuItemEndDecoration,{type:e.type,checked:e.checked,disabled:e.disabled}):null}function M6({onMenuItemClick:e,closeAfterItemClick:t,menuItems:r,...n}){let o=r.some(a=>"icon"in a&&a.icon),i=r.some(a=>(a.type==="checkbox"||a.type==="radio")&&"helpText"in a&&a.helpText);return(0,Le.jsx)(Le.Fragment,{children:r.toSorted((a,s)=>(s.priority||0)-(a.priority||0)).map((a,s)=>"subMenu"in a?(0,Le.jsx)(c1e,{title:a.label,Icon:a.icon,inset:o&&!a.icon,onMenuItemClick:e,menuItems:a.subMenu,children:(0,Le.jsx)(M6,{...n,closeAfterItemClick:t,onMenuItemClick:e,menuItems:a.subMenu})},`subMenu-${a.label}-${s}`):a.type==="divider"?(0,Le.jsx)(Oo.Divider,{component:"li"},`divider-${JSON.stringify(a)}-${s}`):a.type==="subHeader"?(0,Le.jsx)(Oo.ListSubheader,{children:a.label},`subHeader-${a.label}-${s}`):(0,Le.jsxs)(u1e,{closeAfterItemClick:t,onClick:"onClick"in a?c=>{e(c,a.onClick)}:void 0,disabled:!!a.disabled,children:[a.icon?(0,Le.jsx)(Oo.ListItemIcon,{children:(0,Le.jsx)(a.icon,{})}):null," ",(0,Le.jsx)(Oo.ListItemText,{primary:a.label,secondary:a.subLabel,inset:o&&!a.icon}),(0,Le.jsx)(p1e,{}),(0,Le.jsx)(d1e,{item:a}),a.type==="checkbox"||a.type==="radio"?"helpText"in a&&a.helpText?(0,Le.jsx)(R6,{helpText:a.helpText}):i?(0,Le.jsx)(s1e,{}):null:"helpText"in a&&a.helpText?(0,Le.jsx)(R6,{helpText:a.helpText}):null]},`${a.label}-${s}`))})}function p1e(){return(0,Le.jsx)("div",{style:{flexGrow:1,minWidth:10}})}function m1e(e){let{closeAfterItemClick:t=!0,...r}=e;return(0,Le.jsx)(f1e,{...r,children:(0,Le.jsx)(M6,{...r,closeAfterItemClick:t})})}dp.default=m1e});var Wy=y(pp=>{"use strict";var h1e=pp&&pp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pp,"__esModule",{value:!0});var Hy=F(),g1e=$(),v1e=h1e(P6()),b1e=Q(),y1e=re(),bT=vT(),_1e=(0,y1e.observer)(function({children:t,menuItems:r,closeAfterItemClick:n=!0,stopPropagation:o,setOpen:i,onClick:a,...s}){let c=(0,bT.usePopupState)(),{onClick:u,...l}=(0,bT.bindTrigger)(c),{isOpen:f}=c;return(0,g1e.useEffect)(()=>{i?.(f)},[f,i]),(0,Hy.jsxs)(Hy.Fragment,{children:[(0,Hy.jsx)(b1e.IconButton,{onClick:d=>{o&&d.stopPropagation(),u(d),a?.()},...l,...s,disabled:r.length===0,children:t}),(0,Hy.jsx)(v1e.default,{...(0,bT.bindPopover)(c),onMenuItemClick:(d,p)=>{p()},menuItems:r,closeAfterItemClick:n,popupState:c})]})});pp.default=_1e});var A6,$y,yT=A(()=>{"use client";ct();A6=g(F(),1),$y=(0,Ee.createSvgIcon)((0,A6.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")});var j6,Uy,_T=A(()=>{"use client";ct();j6=g(F(),1),Uy=(0,Ee.createSvgIcon)((0,j6.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut")});var D6={};rt(D6,{default:()=>S1e});var Wi,Vy,I6,xT,Ro,L6,x1e,w1e,S1e,N6=A(()=>{Wi=g(F()),Vy=g($()),I6=g(He()),xT=g(Z()),Ro=g(Q()),L6=g(re()),x1e=(e=0)=>+e.toFixed(1),w1e=(0,L6.observer)(function({model:e,handleClose:t}){let{bpPerPx:r,width:n}=e,[o,i]=(0,Vy.useState)((0,xT.toLocale)(x1e(r*n)));(0,Vy.useEffect)(()=>{i((0,xT.toLocale)(r*n))},[r,n]);let a=o.replace(/,/g,"");return(0,Wi.jsxs)(I6.Dialog,{title:"Edit zoom level",open:!0,onClose:t,children:[(0,Wi.jsxs)(Ro.DialogContent,{style:{display:"flex",flexDirection:"column",gap:30},children:[(0,Wi.jsx)(Ro.Typography,{children:"Enter a specific number of base pairs to change the viewport to show. This is approximate and does not account for padding between regions or off-screen scrolling"}),(0,Wi.jsx)(Ro.TextField,{helperText:"current zoom level (in bp)",value:o,onChange:s=>{i(s.target.value)}})]}),(0,Wi.jsxs)(Ro.DialogActions,{children:[(0,Wi.jsx)(Ro.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,Wi.jsx)(Ro.Button,{variant:"contained",color:"primary",onClick:()=>{e.zoomTo(+a/e.width),t()},children:"Submit"})]})]})}),S1e=w1e});function k1e(e){let{children:t,open:r,value:n}=e;return(0,Gr.jsx)($i.Tooltip,{open:r,enterTouchDelay:0,placement:"top",title:n,arrow:!0,children:t})}var Gr,Ol,F6,Gy,$i,q6,B6,C1e,T1e,E1e,wT,ST=A(()=>{Gr=g(F()),Ol=g($()),F6=g(Wy()),Gy=g(Z());yT();lT();_T();$i=g(Q()),q6=g(re()),B6=g(me()),C1e=(0,Ol.lazy)(()=>Promise.resolve().then(()=>(N6(),D6))),T1e=(0,B6.makeStyles)()(e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:100,color:e.palette.text.secondary}}));E1e=(0,q6.observer)(function({model:e}){let{classes:t}=T1e(),{width:r,maxBpPerPx:n,minBpPerPx:o,bpPerPx:i}=e,[a,s]=(0,Ol.useState)(-Math.log2(i)*100);(0,Ol.useEffect)(()=>{s(-Math.log2(i)*100)},[i]);let c=i<=o+1e-4,u=i>=n-1e-4;return(0,Gr.jsxs)("div",{className:t.container,children:[(0,Gr.jsx)($i.Tooltip,{title:"Zoom out 2x",children:(0,Gr.jsx)("span",{children:(0,Gr.jsx)($i.IconButton,{"data-testid":"zoom_out",disabled:u,onClick:()=>{e.zoom(i*2)},children:(0,Gr.jsx)(Uy,{})})})}),(0,Gr.jsx)($i.Slider,{size:"small",className:t.slider,value:a,min:-Math.log2(n)*100,max:-Math.log2(o)*100,onChangeCommitted:()=>e.zoomTo(2**(-a/100)),valueLabelDisplay:"auto",valueLabelFormat:l=>`Window size: ${(0,Gy.getBpDisplayStr)(2**(-l/100)*r)}`,slots:{valueLabel:k1e},onChange:(l,f)=>{s(f)}}),(0,Gr.jsx)($i.Tooltip,{title:"Zoom in 2x",children:(0,Gr.jsx)("span",{children:(0,Gr.jsx)($i.IconButton,{"data-testid":"zoom_in",disabled:c,onClick:()=>{e.zoom(e.bpPerPx/2)},children:(0,Gr.jsx)(Ay,{})})})}),(0,Gr.jsx)(F6.default,{menuItems:[...[100,50,10].map(l=>({label:`Zoom in ${l}x`,onClick:()=>{e.zoom(e.bpPerPx/l)}})),...[10,50,100].map(l=>({label:`Zoom out ${l}x`,onClick:()=>{e.zoom(e.bpPerPx*l)}})),{label:"Custom zoom",onClick:()=>{(0,Gy.getSession)(e).queueDialog(l=>[C1e,{model:e,handleClose:l}])}}],children:(0,Gr.jsx)($y,{})})]})}),wT=E1e});async function Yy({queryString:e,searchType:t,searchScope:r,rankSearchResults:n,textSearchManager:o,assembly:i}){var a;o||console.warn("No text search manager");let s=await o?.search({queryString:e,searchType:t},r,n)||[],c=((a=i?.allRefNames)===null||a===void 0?void 0:a.filter(u=>u.toLowerCase().startsWith(e.toLowerCase())).slice(0,10).map(u=>new z6.default({label:u})))||[];return(0,H6.dedupe)([...c,...s],u=>u.getId())}function fi(e,t){return e.clientX-(t?.getBoundingClientRect().left||0)}function Xy(e,t){var r;return((r=e?.cytobands)===null||r===void 0?void 0:r.map(n=>({refName:e.getCanonicalRefName(n.get("refName"))||n.get("refName"),start:n.get("start"),end:n.get("end"),type:n.get("gieStain"),name:n.get("name")})).filter(n=>n.refName===t))||[]}var z6,H6,mu=A(()=>{z6=g(sp()),H6=g(Z())});function O1e(e,t,r,n,o){return`M${e},${t}h${r-o}a${o},${o} 0 0 1 ${o},${o}v${n-2*o}a${o},${o} 0 0 1 ${-o},${o}h${o-r}z`}function R1e(e,t,r,n,o){return`M${e+o},${t}h${r-o}v${n}h${o-r}a${o},${o} 0 0 1 ${-o},${-o}v${2*o-n}a${o},${o} 0 0 1 ${o},${-o}z`}function W6(e,t,r,n){return[[e,0],[e+r,n/2],[e,n]].toString()}function $6(e,t,r,n){return[[e,n/2],[e+r,0],[e+r,n]].toString()}var hu,Rl,U6,M1e,P1e,CT,TT=A(()=>{hu=g(F()),Rl=g(Z()),U6=g(re());mu();Eo();M1e={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos33:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos66:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},P1e=(0,U6.observer)(function({overview:e,block:t,assembly:r}){let{offsetPx:n,reversed:o}=t,i=Xy(r,t.refName),a=o?i.length-1:0,s=o?0:i.length-1,c=20,u=!1,l="",f=0;return(0,hu.jsx)("g",{transform:`translate(-${n})`,children:i.map((d,p)=>{let m=JSON.stringify(d),{refName:h,name:v,type:b,start:_,end:S}=d,w=e.bpToPx({refName:h,coord:_})||0,T=e.bpToPx({refName:h,coord:S})||0,O=Math.min(w,T),C=Math.abs(T-w);if(b==="n/a"){let R=v?.match(/^(\d+)([A-Za-z])/),k=R[1]+R[2];k&&k!==l&&(l=k,f++)}let M=b==="n/a"?f%2?"black":"#a77":M1e[b]||"black";return b==="acen"&&!u?(u=!0,(0,hu.jsx)("polygon",{points:o?$6(w-C,0,C,c):W6(w,0,C,c),...(0,Rl.getFillProps)(M)},m)):b==="acen"&&u?(0,hu.jsx)("polygon",{points:o?W6(w-C,0,C,c):$6(w,0,C,c),...(0,Rl.getFillProps)(M)},m):a===p?(0,hu.jsx)("path",{d:R1e(O,0,C,c,8),...(0,Rl.getFillProps)(M)},m):s===p?(0,hu.jsx)("path",{d:O1e(O,0,C,c,8),...(0,Rl.getFillProps)(M)},m):(0,hu.jsx)("rect",{x:O,y:0,width:C,height:c,...(0,Rl.getFillProps)(M)},m)})})}),CT=P1e});var V6,Zy,G6,Y6,X6,A1e,j1e,Z6,K6=A(()=>{V6=g(F()),Zy=g(Z()),G6=g(ld()),Y6=g(re()),X6=g(me()),A1e=(0,X6.makeStyles)()(e=>({highlight:{height:"100%",position:"absolute",background:(0,G6.colord)(e.palette.highlight.main).alpha(.35).toRgbString(),borderLeft:`1px solid ${e.palette.highlight.main}`,borderRight:`1px solid ${e.palette.highlight.main}`}})),j1e=(0,Y6.observer)(function({model:t,overview:r}){let{classes:n}=A1e(),{highlight:o,cytobandOffset:i}=t,a=(0,Zy.getSession)(t),{assemblyManager:s}=a;return o.map(c=>{var u;let l=s.get(c.assemblyName),f=(u=l?.getCanonicalRefName(c.refName))!==null&&u!==void 0?u:c.refName,d=r.bpToPx({...c,refName:f,coord:c.start}),p=r.bpToPx({...c,refName:f,coord:c.end});return d!==void 0&&p!==void 0?{width:Math.abs(p-d),left:d+i}:void 0}).filter(Zy.notEmpty).map(({left:c,width:u},l)=>(0,V6.jsx)("div",{className:n.highlight,style:{width:u,left:c}},`${c}_${u}_${l}`))}),Z6=j1e});var kT,Ky,J6,Q6,e8,I1e,L1e,t8,r8=A(()=>{kT=g(F()),Ky=g(Z()),J6=g(Q()),Q6=g(re()),e8=g(me()),I1e=(0,e8.makeStyles)()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute"}}),L1e=(0,Q6.observer)(function({model:e,open:t,guideX:r,overview:n}){var o;let{classes:i}=I1e(),{cytobandOffset:a}=e,{assemblyManager:s}=(0,Ky.getSession)(e),c=n.pxToBp(r-a),u=s.get(c.assemblyName),l=(o=u?.cytobands)===null||o===void 0?void 0:o.find(f=>c.coord>f.get("start")&&c.coord<f.get("end")&&c.refName===u.getCanonicalRefName(f.get("refName")));return(0,kT.jsx)(J6.Tooltip,{open:t,placement:"top",title:[(0,Ky.stringify)(c),l?.get("name"),l?.get("type")].join(" "),arrow:!0,children:(0,kT.jsx)("div",{className:i.guide,style:{left:r}})})}),t8=L1e});function Jy({anchorEl:e,side:t,text:r}){return(0,ET.jsx)(n8.Tooltip,{title:r,open:!0,placement:t==="left"?"left-start":"right-start",slotProps:{popper:{anchorEl:e,modifiers:[{name:"offset",options:{offset:[-30,-10]}}]}},children:(0,ET.jsx)("span",{})})}var ET,n8,o8=A(()=>{ET=g(F()),n8=g(Q())});var s8={};rt(s8,{default:()=>Ml});function Ml({leftBpOffset:e,rightBpOffset:t,numOfBpSelected:r,left:n,width:o,top:i=0,sticky:a=!1}){let{classes:s}=D1e(),[c,u]=(0,i8.useState)(null);return(0,Mo.jsxs)(Mo.Fragment,{children:[c?(0,Mo.jsxs)(Mo.Fragment,{children:[(0,Mo.jsx)(Jy,{side:"left",anchorEl:c,text:(0,mp.stringify)(e)}),(0,Mo.jsx)(Jy,{side:"right",anchorEl:c,text:(0,mp.stringify)(t)})]}):null,(0,Mo.jsx)("div",{className:s.rubberband,style:{left:n,width:o},children:r?(0,Mo.jsx)(Qy.Typography,{ref:l=>{u(l)},variant:"h6",className:s.rubberbandText,style:{top:i,position:a?"sticky":void 0},children:(0,mp.getBpDisplayStr)(r)}):null})]})}var Mo,i8,mp,Qy,a8,D1e,e0=A(()=>{Mo=g(F()),i8=g($()),mp=g(Z()),Qy=g(Q()),a8=g(me());o8();D1e=(0,a8.makeStyles)()(e=>{let{tertiary:t}=e.palette;return{rubberband:{height:"100%",background:(0,Qy.alpha)(t.light,.7),position:"absolute",zIndex:830,textAlign:"center",cursor:"crosshair"},rubberbandText:{color:e.palette.tertiary.contrastText}}})});var Vi,as,u8,c8,l8,N1e,F1e,f8,d8=A(()=>{Vi=g(F()),as=g($()),u8=g(Z()),c8=g(re()),l8=g(me());r8();e0();mu();N1e=(0,l8.makeStyles)()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8},rel:{position:"relative"}}),F1e=(0,c8.observer)(function({model:t,overview:r,ControlComponent:n=(0,Vi.jsx)("div",{})}){let{cytobandOffset:o}=t,[i,a]=(0,as.useState)(),[s,c]=(0,as.useState)(),[u,l]=(0,as.useState)(),f=(0,as.useRef)(null),{classes:d}=N1e(),p=i!==void 0;(0,as.useEffect)(()=>{function T(M){let R=f.current;R&&p&&c(fi(M,R))}function O(){if(i!==void 0&&s!==void 0&&Math.abs(s-i)>3){let M=Math.min(i,s),R=Math.max(i,s);t.moveTo(r.pxToBp(M-o),r.pxToBp(R-o))}if(i!==void 0&&s===void 0){let M=r.pxToBp(i-o);M.refName?t.centerAt(Math.round(M.coord),M.refName,M.index):((0,u8.getSession)(t).notify("unknown position clicked"),console.error("unknown position clicked",M))}a(void 0),c(void 0),i!==void 0&&l(void 0)}function C(M){M.key==="Escape"&&(a(void 0),c(void 0))}return p?(window.addEventListener("mousemove",T,!0),window.addEventListener("mouseup",O,!0),window.addEventListener("keydown",C,!0),()=>{window.removeEventListener("mousemove",T,!0),window.removeEventListener("mouseup",O,!0),window.removeEventListener("keydown",C,!0)}):()=>{}},[p,s,i,t,r,o]);function m(T){T.preventDefault(),T.stopPropagation(),a(fi(T,f.current))}function h(T){l(fi(T,f.current))}function v(){l(void 0)}if(i===void 0)return(0,Vi.jsxs)("div",{className:d.rel,children:[u!==void 0?(0,Vi.jsx)(t8,{model:t,open:!p,overview:r,guideX:u}):null,(0,Vi.jsx)("div",{className:d.rubberbandControl,ref:f,onMouseDown:m,onMouseOut:v,onMouseMove:h,children:n})]});let b=i||0,_=0;s!==void 0&&(b=Math.min(s,i),_=s-i);let S,w;return i&&(S=r.pxToBp(i-o),w=r.pxToBp(i+_-o),s!==void 0&&s<i&&([S,w]=[w,S])),(0,Vi.jsxs)("div",{className:d.rel,children:[S&&w?(0,Vi.jsx)(Ml,{leftBpOffset:S,rightBpOffset:w,width:Math.abs(_),left:b}):null,(0,Vi.jsx)("div",{"data-testid":"rubberband_controls",className:d.rubberbandControl,ref:f,onMouseDown:m,onMouseOut:v,onMouseMove:h,children:n})]})}),f8=F1e});var p8,t0,hp,m8,q1e,OT,RT=A(()=>{p8=g(F()),t0=g(Z()),hp=g(Q()),m8=g(re());Eo();q1e=(0,m8.observer)(function({model:e,overview:t,useOffset:r=!0}){let n=(0,hp.useTheme)(),o=Number(r),{interRegionPaddingWidth:i,offsetPx:a,dynamicBlocks:s,cytobandOffset:c}=e,{contentBlocks:u,totalWidthPxWithoutBorders:l}=s,f=n.palette.tertiary.light;if(!u.length)return null;let d=u.at(0),p=u.at(-1),m=(t.bpToPx({...d,coord:d.reversed?d.end:d.start})||0)+c*o,h=(t.bpToPx({...p,coord:p.reversed?p.start:p.end})||0)+c*o,v=Math.max(0,-a),b=v+l+u.length*i/2;return(0,p8.jsx)("polygon",{points:[[v,48],[b,48],[h,0],[m,0]].toString(),...(0,t0.getFillProps)((0,hp.alpha)(f,.3)),...(0,t0.getStrokeProps)((0,hp.alpha)(f,.8))})}),OT=q1e});function MT(e,t,r){e=Math.abs(e);let n=t*e,i=10**+n.toExponential().split(/e/i)[1];for(;i<n&&(i*=2,!(i>=n));)i*=2.5;i=Math.max(i,5);let a=i/e,s=0;return!(i%10)&&a/10>=r?s=i/10:!(i%5)&&a/5>=r?s=i/5:!(i%2)&&a/2>=r&&(s=i/2),{majorPitch:i,minorPitch:s}}function gp(e,t,r,n=!0,o=!0){let i=MT(r,60,15),a=e,s=t;r<0&&([a,s]=[s,a]),a-=Math.abs(20*r)-1,s+=Math.abs(20*r)+1;let c=i.minorPitch||i.majorPitch,u=0,l=[];for(let f=Math.floor(a/c)*c;f<Math.ceil(s/c)*c+1;f+=c)o&&f%(i.majorPitch*2)?(l.push({type:"minor",base:f-1,index:u}),u+=1):n&&!(f%(i.majorPitch*2))&&(l.push({type:"major",base:f-1,index:u}),u+=1);return l}var h8,Pl=A(()=>{h8=g(Z())});var g8,r0,v8,b8,y8,B1e,z1e,_8,x8=A(()=>{g8=g(F()),r0=g(Z()),v8=g(Q()),b8=g(re()),y8=g(me());Eo();Pl();B1e=(0,y8.makeStyles)()({scalebarLabel:{height:20,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"}}),z1e=(0,b8.observer)(function({block:e,scale:t,overview:r,model:n}){let{classes:o}=B1e(),{start:i,end:a,reversed:s,refName:c,assemblyName:u}=e,{majorPitch:l}=MT(t,120,15),{assemblyManager:f}=(0,r0.getSession)(n),d=f.get(u),p=d?.getRefNameColor(c),m=[];for(let h=0;h<Math.floor((a-i)/l);h++){let v=(h+1)*l;m.push(s?a-v:i+v)}return m.map((h,v)=>(0,g8.jsx)(v8.Typography,{className:o.scalebarLabel,variant:"body2",style:{left:(v+1)*l/t,pointerEvents:"none",color:p},children:(0,r0.getTickDisplayStr)(h,r.bpPerPx)},`${JSON.stringify(e)}-${h}-${v}`))}),_8=z1e});var Zt,w8,n0,S8,gu,o0,C8,H1e,PT,W1e,$1e,U1e,T8,k8=A(()=>{Zt=g(F()),w8=g($()),n0=g(Z()),S8=g(Py()),gu=g(Q()),o0=g(re()),C8=g(me());TT();K6();d8();RT();x8();mu();Eo();H1e=2,PT=(0,C8.makeStyles)()(e=>({scalebar:{height:20},scalebarBorder:{border:"1px solid"},scalebarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:20,overflow:"hidden"},scalebarContigForward:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarContigReverse:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scalebarVisibleRegion:{position:"absolute",height:20,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:48,position:"relative"},overviewSvg:{pointerEvents:"none",width:"100%",position:"absolute"}})),W1e=(0,o0.observer)(function({scale:e,model:t,block:r,overview:n}){let{classes:o,cx:i}=PT(),a=(0,gu.useTheme)(),{cytobandOffset:s,showCytobands:c}=t,{reversed:u,refName:l,assemblyName:f}=r,{assemblyManager:d}=(0,n0.getSession)(t),p=d.get(f),m=p?.getRefNameColor(l),h=c&&Xy(p,r.refName).length;return(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)(gu.Typography,{style:{left:r.offsetPx+3,color:h?a.palette.text.primary:m},className:o.scalebarRefName,children:l}),(0,Zt.jsx)("div",{className:i(o.scalebarContig,h?void 0:u?o.scalebarContigReverse:o.scalebarContigForward,h?void 0:o.scalebarBorder),style:{left:r.offsetPx+s,width:r.widthPx,borderColor:m},children:h?(0,Zt.jsx)("svg",{style:{width:"100%"},children:(0,Zt.jsx)(CT,{overview:n,assembly:p,block:r})}):(0,Zt.jsx)(_8,{model:t,overview:n,scale:e,block:r})})]})}),$1e=(0,o0.observer)(function({model:e,scale:t,overview:r}){let{classes:n}=PT(),o=(0,gu.useTheme)(),{dynamicBlocks:i,showCytobands:a,cytobandOffset:s}=e,{pluginManager:c}=(0,n0.getEnv)(e),u=i.contentBlocks,l=r.dynamicBlocks,f=o.palette.tertiary.light;if(!u.length)return null;let d=u.at(0),p=u.at(-1),m=r.bpToPx({...d,coord:d.reversed?d.end:d.start})||0,h=r.bpToPx({...p,coord:p.reversed?p.start:p.end})||0,v=a?"#f00":f,b=a?.1:.3,_=c.evaluateExtensionPoint("LinearGenomeView-OverviewScalebarComponent",void 0,{model:e,overview:r});return(0,Zt.jsxs)("div",{className:n.scalebar,children:[(0,Zt.jsx)("div",{className:n.scalebarVisibleRegion,style:{width:h-m,left:m+s,background:(0,gu.alpha)(v,b),borderColor:v}}),l.map((S,w)=>S.type!=="ContentBlock"?(0,Zt.jsx)("div",{className:n.scalebarContig,style:{width:S.widthPx,left:S.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}},`${JSON.stringify(S)}-${w}`):(0,Zt.jsx)(W1e,{scale:t,block:S,model:e,overview:r},`${JSON.stringify(S)}-${w}`)),(0,Zt.jsx)(Z6,{model:e,overview:r}),_]})}),U1e=(0,o0.observer)(function({model:e,children:t}){let{classes:r}=PT(),{minimumBlockWidth:n,totalBp:o,width:i,cytobandOffset:a,displayedRegions:s}=e,c=i-a,u=JSON.stringify(s),l=(0,w8.useMemo)(()=>{let d=S8.default.create({displayedRegions:JSON.parse(u),interRegionPaddingWidth:0,minimumBlockWidth:n});return d.setVolatileWidth(c),d.showAllRegions(),d},[u,n,c]),f=o/(c-(s.length-1)*H1e);return(0,Zt.jsxs)("div",{children:[(0,Zt.jsx)(f8,{model:e,overview:l,ControlComponent:(0,Zt.jsx)($1e,{model:e,overview:l,scale:f})}),(0,Zt.jsxs)("div",{className:r.overview,children:[(0,Zt.jsx)("svg",{height:48,className:r.overviewSvg,children:(0,Zt.jsx)(OT,{model:e,overview:l})}),t]})]})}),T8=U1e});function AT({TextFieldProps:e,inputBoxVal:t,params:r,setInputValue:n,setCurrentSearch:o}){let{helperText:i,slotProps:a={}}=e;return(0,E8.jsx)(O8.TextField,{onBlur:()=>{n(t)},...r,...e,size:"small",helperText:i,slotProps:{input:{...r.InputProps,...a.input}},placeholder:"Search for location",onChange:s=>{o(s.target.value)}})}var E8,O8,R8=A(()=>{E8=g(F()),O8=g(Q())});function V1e(e,t){return e.filter(({result:r})=>r.getLabel().toLowerCase().includes(t)||r.matchedObject)}function M8(e,t){let r=V1e(e,t.toLocaleLowerCase());return[...r.slice(0,100),...r.length>100?[{group:"limitOption",result:new jT.default({label:"keep typing for more results"})}]:[]]}function G1e(e){let t={};for(let r of e){let n=r.getDisplayString();t[n]||(t[n]=[]),t[n].push(r)}return t}function P8(e){return Object.entries(G1e(e)).map(([t,r])=>r.length===1?{result:r[0]}:{result:new jT.default({displayString:t,results:r,label:t})})}var jT,A8=A(()=>{jT=g(sp())});var IT,di,i0,Al,j8,I8,Y1e,jl,a0=A(()=>{IT=g(F()),di=g($()),i0=g(sp()),Al=g(Z()),j8=g(Q()),I8=g(re());R8();A8();Y1e=(0,I8.observer)(function({model:e,onSelect:t,assemblyName:r,style:n,fetchResults:o,onChange:i,value:a,minWidth:s=200,maxWidth:c=550,TextFieldProps:u={}}){let l=(0,Al.getSession)(e),{assemblyManager:f}=l,[d,p]=(0,di.useState)(!1),[m,h]=(0,di.useState)(!0),[v,b]=(0,di.useState)(""),[_,S]=(0,di.useState)(""),[w,T]=(0,di.useState)(),O=(0,Al.useDebounce)(v,50),C=r?f.get(r):void 0,{coarseVisibleLocStrings:M,hasDisplayedRegions:R}=e;(0,di.useEffect)(()=>{let L={cancelled:!1};return(async()=>{try{if(O===""||!r)return;h(!1);let E=await o(O);L.cancelled||T(P8(E))}catch(E){console.error(E),L.cancelled||l.notifyError(`${E}`,E)}finally{L.cancelled||h(!0)}})(),()=>{L.cancelled=!0}},[r,o,O,l]);let k=M||a||"",I=C?.regions,B=(0,di.useMemo)(()=>I?.map(L=>({result:new i0.RefSequenceResult({refName:L.refName,label:L.refName,displayString:L.refName,matchedAttribute:"refName"})}))||[],[I]);return(0,IT.jsx)(j8.Autocomplete,{"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,disabled:!r,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:{...n,width:Math.min(Math.max((0,Al.measureText)(k,14)+100,s),c)},value:k,loading:!m,inputValue:_,onInputChange:(L,E)=>{S(E),i?.(E)},loadingText:"loading results",open:d,onOpen:()=>{p(!0)},onClose:()=>{p(!1),h(!0),R&&(b(""),T(void 0))},onChange:(L,E)=>{!E||!r||(t?.(typeof E=="string"?new i0.default({label:E}):E.result),S(k))},options:w?.length?w:B,getOptionDisabled:L=>L.group==="limitOption",filterOptions:(L,{inputValue:E})=>M8(L,E),renderInput:L=>(0,IT.jsx)(AT,{params:L,inputBoxVal:k,TextFieldProps:u,setCurrentSearch:b,setInputValue:S}),getOptionLabel:L=>typeof L=="string"?L:L.result.getDisplayString()})}),jl=Y1e});var L8,D8,N8=A(()=>{"use client";ct();L8=g(F(),1),D8=(0,Ee.createSvgIcon)((0,L8.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help")});var B8={};rt(B8,{default:()=>q8});function q8({handleClose:e}){return(0,et.jsxs)(F8.Dialog,{open:!0,maxWidth:"xl",onClose:e,title:"Using the search box",children:[(0,et.jsxs)(us.DialogContent,{children:[(0,et.jsx)("h3",{children:"Searching"}),(0,et.jsxs)("ul",{children:[(0,et.jsx)("li",{children:"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."}),(0,et.jsxs)("li",{children:["Jump to a specific region by typing the region into the location box as: ",(0,et.jsx)("code",{children:"ref:start..end"})," or ",(0,et.jsx)("code",{children:"ref:start-end"}),". Commas are allowed in the start and end coordinates. A space-separated list of locstrings can be used to open up multiple chromosomes at a time"]})]}),(0,et.jsx)("h3",{children:"Example Searches"}),(0,et.jsxs)("ul",{children:[(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"BRCA"})," - searches for the feature named BRCA"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr4"})," - jumps to chromosome 4"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr4:79,500,000..80,000,000"})," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1:1-100 chr2:1-100"})," - create a split view of chr1:1-100 and chr2:1-100"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1 chr2 chr3"})," - open up multiple chromosomes at once"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1:1-100[rev] chr2:1-100"})," - open up the first region in the horizontally flipped orientation"]}),(0,et.jsxs)("li",{children:[(0,et.jsx)("code",{children:"chr1 100 200"})," - use whitespace separated refname, start, end"]})]})]}),(0,et.jsx)(us.Divider,{}),(0,et.jsx)(us.DialogActions,{children:(0,et.jsx)(us.Button,{onClick:()=>{e()},color:"primary",children:"Close"})})]})}var et,F8,us,z8=A(()=>{et=g(F()),F8=g(He()),us=g(Q())});function Z1e(){let[e,t]=(0,Il.useState)(!1);return(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)(s0.IconButton,{onClick:()=>{t(!0)},size:"small",children:(0,dn.jsx)(D8,{fontSize:"small"})}),e?(0,dn.jsx)(Il.Suspense,{fallback:null,children:(0,dn.jsx)(X1e,{handleClose:()=>{t(!1)}})}):null]})}function LT({showHelp:e}){return(0,dn.jsx)(dn.Fragment,{children:(0,dn.jsxs)(s0.InputAdornment,{position:"end",style:{marginRight:7},children:[(0,dn.jsx)(G3,{fontSize:"small"}),e?(0,dn.jsx)(Z1e,{}):null]})})}var dn,Il,s0,X1e,H8=A(()=>{dn=g(F()),Il=g($());N8();Y3();s0=g(Q()),X1e=(0,Il.lazy)(()=>Promise.resolve().then(()=>(z8(),B8)))});async function Q1e({option:e,model:t,assemblyName:r}){var n;let{assemblyManager:o}=(0,u0.getSession)(t),i=o.get(r);e.hasLocation()?await pu({option:e,model:t,assemblyName:r}):!((n=e.results)===null||n===void 0)&&n.length?t.setSearchResults(e.results,e.getLabel()):i&&await _l({input:e.getLabel(),assembly:i,model:t})}var DT,u0,c0,W8,$8,J1e,exe,vp,NT=A(()=>{DT=g(F()),u0=g(Z()),c0=g(Q()),W8=g(re()),$8=g(me());a0();H8();mu();xl();Eo();J1e=(0,$8.makeStyles)()({headerRefName:{minWidth:100}});exe=(0,W8.observer)(function({model:e,showHelp:t=!0}){let{classes:r}=J1e(),n=(0,c0.useTheme)(),o=(0,u0.getSession)(e),{textSearchManager:i,assemblyManager:a}=o,{assemblyNames:s,rankSearchResults:c}=e,u=s[0],l=a.get(u),f=e.searchScope(u);return(0,DT.jsx)(jl,{onSelect:async d=>{try{await Q1e({model:e,assemblyName:u,option:d})}catch(p){console.error(p),(0,u0.getSession)(e).notify(`${p}`,"warning")}},assemblyName:u,fetchResults:d=>Yy({queryString:d,searchScope:f,rankSearchResults:c,textSearchManager:i,assembly:l}),model:e,minWidth:175,TextFieldProps:{variant:"outlined",className:r.headerRefName,style:{margin:7},slotProps:{input:{style:{padding:0,height:32,background:(0,c0.alpha)(n.palette.background.paper,.8)},endAdornment:(0,DT.jsx)(LT,{showHelp:t})}}}})}),vp=exe});var pn,V8,G8,Y8,txe,U8,Lqe,X8=A(()=>{pn=g(F()),V8=g(Q()),G8=g(re()),Y8=g(me());r6();c6();h6();ST();k8();NT();Eo();txe=(0,Y8.makeStyles)()({headerBar:{display:"flex",height:48},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1}}),U8=function({model:e}){let{classes:t}=txe();return(0,pn.jsxs)("div",{className:t.headerBar,children:[(0,pn.jsx)(m6,{model:e}),(0,pn.jsx)("div",{className:t.spacer}),(0,pn.jsxs)(V8.FormGroup,{row:!0,className:t.headerForm,children:[(0,pn.jsx)(mT,{model:e}),(0,pn.jsx)(vp,{model:e})]}),(0,pn.jsx)(u6,{model:e}),(0,pn.jsx)(wT,{model:e}),(0,pn.jsx)("div",{className:t.spacer})]})},Lqe=(0,G8.observer)(function({model:e}){let{hideHeader:t,hideHeaderOverview:r}=e;return t?null:r?(0,pn.jsx)(U8,{model:e}):(0,pn.jsx)(T8,{model:e,children:(0,pn.jsx)(U8,{model:e})})})});var Z8,Ll,l0=A(()=>{"use client";ct();Z8=g(F(),1),Ll=(0,Ee.createSvgIcon)((0,Z8.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")});var pi,K8,J8,cs,Q8,e4,rxe,Hqe,t4=A(()=>{pi=g(F()),K8=g(Wy()),J8=g(Z());l0();lT();_T();cs=g(Q()),Q8=g(re()),e4=g(me()),rxe=(0,e4.makeStyles)()(e=>({background:{position:"absolute",right:0,background:e.palette.background.paper,zIndex:2},focusedBackground:{background:(0,cs.alpha)(e.palette.secondary.light,.2)}})),Hqe=(0,Q8.observer)(function({model:e}){let{classes:t}=rxe(),{id:r,bpPerPx:n,maxBpPerPx:o,minBpPerPx:i,scaleFactor:a,hideHeader:s}=e,{focusedViewId:c}=(0,J8.getSession)(e);return s?(0,pi.jsx)(cs.Paper,{className:t.background,children:(0,pi.jsxs)(cs.Paper,{className:c===r?t.focusedBackground:void 0,children:[(0,pi.jsx)(K8.default,{menuItems:e.menuItems(),children:(0,pi.jsx)(Ll,{fontSize:"small"})}),(0,pi.jsx)(cs.IconButton,{"data-testid":"zoom_out",onClick:()=>{e.zoom(n*2)},disabled:n>=o-1e-4||a!==1,children:(0,pi.jsx)(Uy,{fontSize:"small"})}),(0,pi.jsx)(cs.IconButton,{"data-testid":"zoom_in",onClick:()=>{e.zoom(n/2)},disabled:n<=i+1e-4||a!==1,children:(0,pi.jsx)(Ay,{fontSize:"small"})})]})}):null})});var n4=y(($qe,r4)=>{r4.exports=JBrowseExports["@mui/material/Paper"]});function nxe({block:e,bpPerPx:t}){let{classes:r,cx:n}=i4(),o=gp(e.start,e.end,t);return(0,Jn.jsx)(vl,{block:e,children:o.map(({type:i,base:a})=>{let s=(e.reversed?e.end-a:a-e.start)/t;return(0,Jn.jsx)("div",{className:n(r.tick,i==="major"||i==="labeledMajor"?r.majorTick:r.minorTick),style:{left:s}},a)})})}var Jn,FT,o4,i4,oxe,ixe,Dl,f0=A(()=>{Jn=g(F()),FT=g(re()),o4=g(me());ip();Pl();i4=(0,o4.makeStyles)()(e=>({verticalGuidesZoomContainer:{position:"absolute",top:0,height:"100%",width:"100%",pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.action.disabled},minorTick:{background:e.palette.divider}}));oxe=(0,FT.observer)(({model:e})=>{let{staticBlocks:t,bpPerPx:r}=e;return(0,Jn.jsx)(Jn.Fragment,{children:t.map((n,o)=>{let i=`${n.key}-${o}`;return n.type==="ContentBlock"?(0,Jn.jsx)(nxe,{block:n,bpPerPx:r},i):n.type==="ElidedBlock"?(0,Jn.jsx)(bl,{width:n.widthPx},i):n.type==="InterRegionPaddingBlock"?(0,Jn.jsx)(yl,{width:n.widthPx,boundary:n.variant==="boundary"},i):null})})}),ixe=(0,FT.observer)(function({model:e,offset:t=0}){let{classes:r}=i4(),n=e.staticBlocks.offsetPx-e.offsetPx;return(0,Jn.jsx)("div",{className:r.verticalGuidesZoomContainer,style:{transform:e.scaleFactor!==1?`scaleX(${e.scaleFactor})`:void 0},children:(0,Jn.jsx)("div",{className:r.verticalGuidesContainer,style:{left:n-t,width:e.staticBlocks.totalWidthPx},children:(0,Jn.jsx)(oxe,{model:e})})})}),Dl=ixe});var a4,Nl,d0=A(()=>{"use client";ct();a4=g(F(),1),Nl=(0,Ee.createSvgIcon)((0,a4.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")});var s4,u4,c4=A(()=>{"use client";ct();s4=g(F(),1),u4=(0,Ee.createSvgIcon)((0,s4.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator")});function sxe({trackId:e,view:t,track:r}){let{classes:n}=axe();return(0,qT.jsx)("span",{draggable:!0,className:n.dragHandle,onDragStart:o=>{let i=o.currentTarget;if(i.parentNode){let a=i.parentNode;o.dataTransfer.setDragImage(a,20,20),t.setDraggingTrackId(r.id)}},onDragEnd:()=>{t.setDraggingTrackId(void 0)},"data-testid":`dragHandle-${t.id}-${e}`,children:(0,qT.jsx)(u4,{className:n.dragHandleIcon,fontSize:"small"})})}var qT,l4,axe,f4,d4=A(()=>{qT=g(F());c4();l4=g(me()),axe=(0,l4.makeStyles)()({dragHandle:{cursor:"grab"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"}});f4=sxe});var p4,m4,h4=A(()=>{"use client";ct();p4=g(F(),1),m4=(0,Ee.createSvgIcon)((0,p4.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")});var g4,p0,BT=A(()=>{"use client";ct();g4=g(F(),1),p0=(0,Ee.createSvgIcon)((0,g4.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp")});var zT,m0,HT=A(()=>{"use client";ct();zT=g(F(),1),m0=(0,Ee.createSvgIcon)([(0,zT.jsx)("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),(0,zT.jsx)("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown")});var WT,h0,$T=A(()=>{"use client";ct();WT=g(F(),1),h0=(0,Ee.createSvgIcon)([(0,WT.jsx)("path",{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},"0"),(0,WT.jsx)("path",{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},"1")],"KeyboardDoubleArrowUp")});var v4,b4,y4=A(()=>{"use client";ct();v4=g(F(),1),b4=(0,Ee.createSvgIcon)((0,v4.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize")});var _4,x4,w4=A(()=>{"use client";ct();_4=g(F(),1),x4=(0,Ee.createSvgIcon)((0,_4.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin")});var UT,S4,g0,C4,uxe,T4,k4=A(()=>{UT=g(F()),S4=g(Wy()),g0=g(Z());h4();l0();BT();HT();$T();y4();yT();w4();C4=g(re()),uxe=(0,C4.observer)(function({track:e}){var t;let r=(0,g0.getContainingView)(e),n=(0,g0.getSession)(e),o=e.configuration,i=e.minimized,a=e.pinned,{isTopLevelView:s}=r,c=[...s?[{label:a?"Unpin track":"Pin track",icon:x4,onClick:()=>{e.setPinned(!a)}}]:[],{label:"Track order",type:"subMenu",priority:2e3,subMenu:[{label:i?"Restore track":"Minimize track",icon:i?m4:b4,onClick:()=>{e.setMinimized(!i)}},...r.tracks.length>2?[{label:"Move track to top",icon:h0,onClick:()=>{r.moveTrackToTop(e.id)}}]:[],{label:"Move track up",icon:p0,onClick:()=>{r.moveTrackUp(e.id)}},{label:"Move track down",icon:Ll,onClick:()=>{r.moveTrackDown(e.id)}},...r.tracks.length>2?[{label:"Move track to bottom",icon:m0,onClick:()=>{r.moveTrackToBottom(e.id)}}]:[]]},...((t=n.getTrackActionMenuItems)===null||t===void 0?void 0:t.call(n,o))||[],...e.trackMenuItems()].sort((u,l)=>(l?.priority||0)-(u?.priority||0));return(0,UT.jsx)(S4.default,{menuItems:c,"data-testid":"track_menu_icon",children:(0,UT.jsx)($y,{fontSize:"small"})})}),T4=uxe});var Gi,E4,O4,R4,v0,M4,ls,P4,A4,cxe,lxe,j4,I4=A(()=>{Gi=g(F()),E4=g($()),O4=g(xe()),R4=g(He()),v0=g(Z()),M4=g(bn());d0();ls=g(Q()),P4=g(re()),A4=g(me());d4();k4();cxe=(0,A4.makeStyles)()(e=>({root:{zIndex:200,background:(0,ls.alpha)(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper}},trackName:{fontSize:"0.8rem"},iconButton:{padding:e.spacing(1)}})),lxe=(0,P4.observer)((0,E4.forwardRef)(function({track:t,className:r},n){let{classes:o,cx:i}=cxe(),a=(0,v0.getContainingView)(t),s=(0,v0.getSession)(t),c=t.configuration,{minimized:u}=t,l=(0,O4.getConf)(t,"trackId"),f=(0,M4.getTrackName)(c,s);return(0,Gi.jsxs)(ls.Paper,{ref:n,className:i(r,o.root),onClick:d=>{d.stopPropagation()},children:[(0,Gi.jsx)(f4,{track:t,trackId:l,view:a}),(0,Gi.jsx)(ls.IconButton,{onClick:()=>a.hideTrack(l),className:o.iconButton,title:"close this track",children:(0,Gi.jsx)(Nl,{fontSize:"small"})}),(0,Gi.jsx)(ls.Typography,{variant:"body1",component:"span",className:o.trackName,onMouseDown:d=>{d.stopPropagation()},children:(0,Gi.jsx)(R4.SanitizedHTML,{html:[f,u?"(minimized)":""].filter(d=>!!d).join(" ")})}),(0,Gi.jsx)(T4,{track:t})]})})),j4=lxe});var L4,D4,N4,fxe,dxe,F4,q4=A(()=>{L4=g(F()),D4=g(re()),N4=g(me());I4();fxe=(0,N4.makeStyles)()({trackLabel:{zIndex:2},trackLabelOffset:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"}}),dxe=(0,D4.observer)(function({track:e,view:t}){let{classes:r,cx:n}=fxe(),o=e.displays[0],{trackLabel:i,trackLabelOverlap:a,trackLabelOffset:s}=r,c=t.trackLabelsSetting!=="overlapping"||o.prefersOffset?s:a;return t.trackLabelsSetting!=="hidden"?(0,L4.jsx)(j4,{track:e,className:n(i,c)}):null}),F4=dxe});var Qn,Fl,B4,z4,H4,W4,pxe,mxe,$4,U4=A(()=>{Qn=g(F()),Fl=g($()),B4=g(xe()),z4=g(He()),H4=g(re()),W4=g(me()),pxe=(0,W4.makeStyles)()({renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none"}}),mxe=(0,H4.observer)(function({model:e,track:t,onDragEnter:r}){let{classes:n}=pxe(),o=t.displays[0],{height:i,RenderingComponent:a,DisplayBlurb:s}=o,{trackRefs:c,id:u,scaleFactor:l}=e,f=(0,B4.getConf)(t,"trackId"),d=(0,Fl.useRef)(null),p=t.minimized;return(0,Fl.useEffect)(()=>(d.current&&(c[f]=d.current),()=>{delete c[f]}),[c,f]),(0,Qn.jsx)("div",{className:n.trackRenderingContainer,style:{height:p?20:i},onScroll:m=>o.setScrollTop(m.currentTarget.scrollTop),onDragEnter:r,"data-testid":`trackRenderingContainer-${u}-${f}`,children:p?null:(0,Qn.jsxs)(Qn.Fragment,{children:[(0,Qn.jsx)("div",{ref:d,className:n.renderingComponentContainer,style:{transform:l!==1?`scaleX(${l})`:void 0},children:(0,Qn.jsx)(Fl.Suspense,{fallback:(0,Qn.jsx)(z4.LoadingEllipses,{}),children:(0,Qn.jsx)(a,{model:o,onHorizontalScroll:e.horizontalScroll})})}),s?(0,Qn.jsx)("div",{style:{position:"absolute",left:0,top:o.height-20},children:(0,Qn.jsx)(s,{model:o})}):null]})})}),$4=mxe});var Yi,V4,b0,G4,Y4,X4,Z4,K4,hxe,gxe,VT,J4=A(()=>{Yi=g(F()),V4=g($()),b0=g(He()),G4=g(R_()),Y4=g(Q()),X4=g(re()),Z4=g(Me()),K4=g(me());f0();q4();U4();hxe=(0,K4.makeStyles)()(e=>({root:{marginTop:2,overflow:"hidden",position:"relative"},unpinnedTrack:{background:"none"},resizeHandle:{height:4,boxSizing:"border-box",position:"relative",background:"transparent","&:hover":{background:e.palette.divider}}})),gxe=(0,X4.observer)(function({model:e,track:t}){let{classes:r,cx:n}=hxe(),o=t.displays[0],{draggingTrackId:i,showTrackOutlines:a}=e,s=(0,V4.useRef)(null);return(0,Yi.jsxs)(Y4.Paper,{ref:s,className:n(r.root,t.pinned?null:r.unpinnedTrack),variant:a?"outlined":void 0,elevation:a?void 0:0,onClick:c=>{var u;if(c.detail===2&&!t.displays[0].featureIdUnderMouse){let l=((u=s.current)===null||u===void 0?void 0:u.getBoundingClientRect().left)||0;e.zoomTo(e.bpPerPx/2,c.clientX-l,!0)}},children:[t.pinned?(0,Yi.jsx)(Dl,{model:e,offset:1}):null,(0,Yi.jsx)(F4,{track:t,view:e}),(0,Yi.jsx)(G4.ErrorBoundary,{FallbackComponent:c=>(0,Yi.jsx)(b0.ErrorMessage,{error:c.error}),children:(0,Yi.jsx)($4,{model:e,track:t,onDragEnter:()=>{(0,Z4.isAlive)(o)&&i!==void 0&&i!==o.id&&e.moveTrack(i,t.id)}})}),(0,Yi.jsx)(b0.ResizeHandle,{onDrag:o.resizeHeight,className:r.resizeHandle})]})}),VT=gxe});var fs,Q4,ez,tz,rz,vxe,bxe,y0,GT=A(()=>{fs=g(F()),Q4=g(Z()),ez=g(Q()),tz=g(re()),rz=g(me()),vxe=(0,rz.makeStyles)()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",background:"red",zIndex:1001},tooltipTarget:{position:"sticky",width:1}}),bxe=(0,tz.observer)(function({model:t,coordX:r}){let{classes:n}=vxe(),{stickyViewHeaders:o,rubberbandTop:i}=t;return(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(ez.Tooltip,{open:!0,placement:"top",title:(0,Q4.stringify)(t.pxToBp(r)),arrow:!0,children:(0,fs.jsx)("div",{className:n.tooltipTarget,style:{left:r+6,top:i,position:o?"sticky":void 0}})}),(0,fs.jsx)("div",{className:n.guide,style:{left:r}})]})}),y0=bxe});function _0(e,t,r){let[n,o]=(0,Xi.useState)(),[i,a]=(0,Xi.useState)(),[s,c]=(0,Xi.useState)(),[u,l]=(0,Xi.useState)(),f=n!==void 0&&s===void 0,d=(0,Xi.useCallback)(()=>{c(void 0),o(void 0),a(void 0)},[]);(0,Xi.useEffect)(()=>{function M(I){if(n===void 0)return;let B=Math.min(n,I),L=Math.max(n,I);return{leftOffset:t.pxToBp(B),rightOffset:t.pxToBp(L)}}function R(I){if(e.current&&f){let B=fi(I,e.current);a(B)}}function k(I){if(n!==void 0&&e.current){let{clientX:B,clientY:L}=I,E=fi(I,e.current);if(Math.abs(E-n)<=3){d();return}c({offsetX:E,clientX:B,clientY:L});let N=M(E);N&&t.setOffsets(N.leftOffset,N.rightOffset),l(void 0)}}return f?(window.addEventListener("mousemove",R),window.addEventListener("mouseup",k),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",k)}):()=>{}},[n,f,t,e,d]);function p(M){if(r&&!M.shiftKey)return;M.preventDefault(),M.stopPropagation();let R=fi(M,e.current);o(R),a(R)}function m(M){r?M.shiftKey?l(fi(M,e.current)):l(void 0):l(fi(M,e.current))}function h(){l(void 0)}function v(M,R){R(),d()}let b=!!s;if(n===void 0)return{open:b,guideX:u,mouseDown:p,mouseMove:m,mouseOut:h,handleMenuItemClick:v};let _=s?s.offsetX:i||0,S=Math.min(_,n),w=Math.abs(_-n),T=t.pxToBp(S),O=t.pxToBp(S+w),C=Math.ceil(w*t.bpPerPx);return{open:b,rubberbandOn:!0,mouseDown:p,mouseMove:m,mouseOut:h,handleClose:d,handleMenuItemClick:v,leftBpOffset:T,rightBpOffset:O,anchorPosition:s,numOfBpSelected:C,width:w,left:S}}var Xi,YT=A(()=>{Xi=g($());mu()});var mi,nz,oz,iz,az,yxe,_xe,sz,uz=A(()=>{mi=g(F()),nz=g($()),oz=g(He()),iz=g(re()),az=g(me());e0();GT();YT();yxe=(0,az.makeStyles)()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8,zIndex:825}}),_xe=(0,iz.observer)(function({model:e,ControlComponent:t=(0,mi.jsx)("div",{})}){let r=(0,nz.useRef)(null),{classes:n}=yxe(),{stickyViewHeaders:o,rubberbandTop:i}=e,{guideX:a,rubberbandOn:s,leftBpOffset:c,rightBpOffset:u,numOfBpSelected:l,width:f,left:d,anchorPosition:p,open:m,handleMenuItemClick:h,handleClose:v,mouseMove:b,mouseDown:_,mouseOut:S}=_0(r,e);return(0,mi.jsxs)(mi.Fragment,{children:[a!==void 0?(0,mi.jsx)(y0,{model:e,coordX:a}):s?(0,mi.jsx)(Ml,{leftBpOffset:c,rightBpOffset:u,numOfBpSelected:l,width:f,left:d,top:i,sticky:o}):null,p?(0,mi.jsx)(oz.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:p.clientX,top:p.clientY},onMenuItemClick:h,open:m,onClose:v,menuItems:e.rubberBandMenuItems()}):null,(0,mi.jsx)("div",{"data-testid":"rubberband_controls",className:n.rubberbandControl,style:{top:i,position:o?"sticky":void 0},ref:r,onMouseDown:_,onMouseMove:b,onMouseOut:S,children:t})]})}),sz=_xe});var x0,cz,lz,fz,xxe,wxe,dz,pz=A(()=>{x0=g(F()),cz=g(Z()),lz=g(Q()),fz=g(me());ip();Pl();xxe=(0,fz.makeStyles)()(e=>({majorTickLabel:{fontSize:11,zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"}})),wxe=function({block:e,bpPerPx:t}){let{classes:r}=xxe(),{reversed:n,start:o,end:i}=e,a=gp(o,i,t,!0,!1);return(0,x0.jsx)(vl,{block:e,children:a.map(({type:s,base:c})=>{if(s==="major"){let u=(n?i-c:c-o)/t,l=c+1;return(0,x0.jsx)("div",{className:r.tick,style:{left:u},children:l?(0,x0.jsx)(lz.Typography,{className:r.majorTickLabel,children:(0,cz.getTickDisplayStr)(l,t)}):null},c)}return null})})},dz=wxe});var vu,mz,Sxe,hz,gz=A(()=>{vu=g(F()),mz=g(re());pz();ip();Sxe=(0,mz.observer)(function({model:e}){let{staticBlocks:t,bpPerPx:r}=e;return(0,vu.jsx)(vu.Fragment,{children:t.map((n,o)=>{let{key:i,widthPx:a}=n,s=`${i}-${o}`;return n.type==="ContentBlock"?(0,vu.jsx)(dz,{block:n,bpPerPx:r},s):n.type==="ElidedBlock"?(0,vu.jsx)(bl,{width:a},s):n.type==="InterRegionPaddingBlock"?(0,vu.jsx)(yl,{width:a,style:{background:"none"},boundary:n.variant==="boundary"},s):null})})}),hz=Sxe});var bu,XT,vz,bz,Cxe,Txe,yz,_z=A(()=>{bu=g(F()),XT=g(Q()),vz=g(re()),bz=g(me()),Cxe=(0,bz.makeStyles)()(e=>({refLabel:{fontSize:11,position:"absolute",left:2,top:-1,fontWeight:"bold",lineHeight:"normal",zIndex:1,background:e.palette.background.paper},b0:{left:0,zIndex:100}})),Txe=(0,vz.observer)(function({model:e}){let{classes:t,cx:r}=Cxe(),{staticBlocks:n,offsetPx:o,scaleBarDisplayPrefix:i}=e,a=0;n.forEach((u,l)=>{u.offsetPx-o<0&&(a=l)});let s=i(),c=n.blocks[0];return(0,bu.jsxs)(bu.Fragment,{children:[c?.type!=="ContentBlock"&&s?(0,bu.jsx)(XT.Typography,{className:r(t.b0,t.refLabel),children:s}):null,n.map((u,l)=>{let{offsetPx:f,isLeftEndOfDisplayedRegion:d,key:p,type:m,refName:h}=u,v=l===a;return m==="ContentBlock"&&(d||v)?(0,bu.jsxs)(XT.Typography,{style:{left:v?Math.max(0,-o):f-o-1,paddingLeft:v?0:1},className:t.refLabel,"data-testid":`refLabel-${h}`,children:[v&&s?`${s}:`:"",h]},`refLabel-${p}-${l}`):null})]})}),yz=Txe});var ds,xz,wz,Sz,Cz,kxe,Exe,Tz,kz=A(()=>{ds=g(F()),xz=g($()),wz=g(Q()),Sz=g(re()),Cz=g(me());f0();gz();_z();kxe=(0,Cz.makeStyles)()({container:{overflow:"hidden",position:"relative"},zoomContainer:{position:"relative"},scalebar:{position:"absolute",display:"flex",pointerEvents:"none"}}),Exe=(0,Sz.observer)((0,xz.forwardRef)(function({model:t,style:r,className:n,...o},i){let{classes:a,cx:s}=kxe(),{staticBlocks:c,offsetPx:u,scaleFactor:l}=t,f=c.offsetPx-u;return(0,ds.jsxs)(wz.Paper,{"data-resizer":"true",className:s(a.container,n),variant:"outlined",ref:i,style:r,...o,children:[(0,ds.jsx)(Dl,{model:t,offset:1}),(0,ds.jsx)("div",{className:a.zoomContainer,style:{transform:l!==1?`scaleX(${l})`:void 0},children:(0,ds.jsx)("div",{className:a.scalebar,style:{left:f-1,width:c.totalWidthPx,...r},children:(0,ds.jsx)(hz,{model:t})})}),(0,ds.jsx)(yz,{model:t})]})})),Tz=Exe});function Ez(e){let[t,r]=(0,yu.useState)(!1),n=(0,yu.useRef)(!1),o=(0,yu.useRef)(0);(0,yu.useEffect)(()=>{let s=()=>{};function c(l){l.preventDefault();let d=l.clientX-o.current;d&&(n.current||(n.current=!0,window.requestAnimationFrame(()=>{e.horizontalScroll(-d),n.current=!1,o.current=l.clientX})))}function u(){o.current=0,t&&r(!1)}return t&&(window.addEventListener("mousemove",c,!0),window.addEventListener("mouseup",u,!0),s=()=>{window.removeEventListener("mousemove",c,!0),window.removeEventListener("mouseup",u,!0)}),s},[e,t]);function i(s){if(s.shiftKey)return;let c=s.target;c.draggable||c.dataset.resizer||s.button===0&&(o.current=s.clientX,r(!0))}function a(s){s.preventDefault(),r(!1)}return{mouseDown:i,mouseUp:a}}var yu,Oz=A(()=>{yu=g($())});function Mz(e,t){let r=(0,ql.useRef)(0),n=(0,ql.useRef)(null),o=(0,ql.useRef)(!1);(0,ql.useEffect)(()=>{let i=[],a=e.current;function s(c){if(c.ctrlKey){c.preventDefault(),i.push(c.deltaY);let u=Math.abs((0,Rz.sum)(i))/i.length,l=u<6?25:u>30?u>150?500:150:75;r.current+=c.deltaY/l,t.setScaleFactor(r.current<0?1-r.current:1/(1+r.current)),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t.setScaleFactor(1),t.zoomTo(r.current>0?t.bpPerPx*(1+r.current):t.bpPerPx/(1-r.current),c.clientX-(a?.getBoundingClientRect().left||0)),r.current=0,i=[]},300)}else Math.abs(c.deltaX)>Math.abs(2*c.deltaY)&&c.preventDefault(),r.current+=c.deltaX,o.current||(o.current=!0,window.requestAnimationFrame(()=>{t.horizontalScroll(r.current),r.current=0,o.current=!1}))}return a?(a.addEventListener("wheel",s),()=>{a.removeEventListener("wheel",s)}):()=>{}},[t,e])}var ql,Rz,Pz=A(()=>{ql=g($()),Rz=g(Z())});var Lz={};rt(Lz,{default:()=>Mxe});var w0,Az,jz,Iz,Oxe,Rxe,Mxe,Dz=A(()=>{w0=g(F()),Az=g($()),jz=g(re()),Iz=g(me()),Oxe=(0,Iz.makeStyles)()(e=>({centerLineContainer:{background:"transparent",height:"100%",zIndex:4,position:"absolute",border:`1px ${e.palette.action.active} dashed`,borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}})),Rxe=(0,jz.observer)(function({model:e}){let{bpPerPx:t,centerLineInfo:r,trackHeights:n,tracks:o,width:i}=e,a=(0,Az.useRef)(null),{classes:s}=Oxe(),c=i/2;return o.length?(0,w0.jsx)("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:a,style:{left:`${c}px`,width:Math.max(1/t,1)},children:r&&(0,w0.jsxs)("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/t,1)+5,top:n},children:[r.refName,":"," ",Math.max(Math.round(r.offset)+1,0)]})}):null}),Mxe=Rxe});var Nz,Fz,qz=A(()=>{"use client";ct();Nz=g(F(),1),Fz=(0,Ee.createSvgIcon)((0,Nz.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")});var Bz,zz,Hz=A(()=>{"use client";ct();Bz=g(F(),1),zz=(0,Ee.createSvgIcon)((0,Bz.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link")});var Gz={};rt(Gz,{default:()=>jxe});var _u,S0,Wz,$z,ZT,C0,Uz,Vz,Pxe,Axe,jxe,Yz=A(()=>{_u=g(F()),S0=g($()),Wz=g(He()),$z=g(Z()),ZT=g(ld());qz();d0();Hz();C0=g(Q()),Uz=g(re()),Vz=g(me()),Pxe=(0,Vz.makeStyles)()(e=>({highlight:{height:"100%",position:"absolute",overflow:"hidden",background:(0,ZT.colord)(e.palette.highlight.main).alpha(.35).toRgbString()},linkIcon:{color:(0,ZT.colord)(e.palette.highlight.main).darken(.2).toRgbString()},z3:{zIndex:3}})),Axe=(0,Uz.observer)(function({model:e,highlight:t}){var r;let{classes:n}=Pxe(),[o,i]=(0,S0.useState)(!1),a=(0,S0.useRef)(null),s=(0,$z.getSession)(e),{assemblyManager:c}=s,u=()=>{e.removeHighlight(t)};function l(){i(!1)}let f=m=>{let h=e.bpToPx({refName:m.refName,coord:m.start}),v=e.bpToPx({refName:m.refName,coord:m.end});return h&&v?{width:Math.max(Math.abs(v.offsetPx-h.offsetPx),3),left:Math.min(h.offsetPx,v.offsetPx)-e.offsetPx}:void 0},d=c.get(t.assemblyName),p=f({...t,refName:(r=d?.getCanonicalRefName(t.refName))!==null&&r!==void 0?r:t.refName});return p?(0,_u.jsxs)("div",{className:n.highlight,style:{left:p.left,width:p.width},children:[(0,_u.jsx)(C0.Tooltip,{title:"Highlighted from URL parameter",arrow:!0,children:(0,_u.jsx)(C0.IconButton,{ref:a,className:n.z3,onClick:()=>{i(!0)},children:(0,_u.jsx)(zz,{fontSize:"small",className:n.linkIcon})})}),(0,_u.jsx)(Wz.Menu,{anchorEl:a.current,onMenuItemClick:(m,h)=>{h(s),l()},open:o,onClose:l,menuItems:[{label:"Dismiss highlight",icon:Nl,onClick:()=>{u()}},{label:"Bookmark highlighted region",icon:Fz,onClick:()=>{let m=s.widgets.get("GridBookmark");m||(m=s.addWidget("GridBookmarkWidget","GridBookmark")),m.addBookmark(t),u()}}]})]}):null}),jxe=Axe});var Yr,hi,Zz,Kz,KT,Jz,Ixe,Lxe,Dxe,Nxe,Fxe,qxe,Qz,eH=A(()=>{Yr=g(F()),hi=g($()),Zz=g(He()),Kz=g(Z()),KT=g(re()),Jz=g(me());f0();uz();kz();GT();Eo();YT();Oz();Pz();Ixe=(0,hi.lazy)(()=>Promise.resolve().then(()=>(Dz(),Lz))),Lxe=(0,hi.lazy)(()=>Promise.resolve().then(()=>(Yz(),Gz))),Dxe=(0,hi.lazy)(()=>Promise.resolve().then(()=>(e0(),s8))),Nxe=(0,Jz.makeStyles)()({tracksContainer:{position:"relative"}}),Fxe=(0,KT.observer)(function({children:t,model:r}){let{classes:n}=Nxe(),{pluginManager:o}=(0,Kz.getEnv)(r),{mouseDown:i,mouseUp:a}=Ez(r),{stickyViewHeaders:s,rubberbandTop:c,showGridlines:u,showCenterLine:l}=r,f=(0,hi.useRef)(null),{guideX:d,rubberbandOn:p,leftBpOffset:m,rightBpOffset:h,numOfBpSelected:v,width:b,left:_,anchorPosition:S,open:w,handleMenuItemClick:T,handleClose:O,mouseMove:C,mouseDown:M}=_0(f,r,!0);Mz(f,r);let R=o.evaluateExtensionPoint("LinearGenomeView-TracksContainerComponent",void 0,{model:r});return(0,Yr.jsxs)("div",{ref:f,"data-testid":"tracksContainer",className:n.tracksContainer,onMouseDown:k=>{i(k),M(k)},onMouseMove:C,onMouseUp:a,children:[u?(0,Yr.jsx)(Dl,{model:r}):null,(0,Yr.jsx)(hi.Suspense,{fallback:null,children:l?(0,Yr.jsx)(Ixe,{model:r}):null}),d!==void 0?(0,Yr.jsx)(y0,{model:r,coordX:d}):p?(0,Yr.jsx)(hi.Suspense,{fallback:null,children:(0,Yr.jsx)(Dxe,{leftBpOffset:m,rightBpOffset:h,numOfBpSelected:v,width:b,left:_,top:c,sticky:s})}):null,S?(0,Yr.jsx)(Zz.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:S.clientX,top:S.clientY},onMenuItemClick:T,open:w,onClose:O,menuItems:r.rubberBandMenuItems()}):null,(0,Yr.jsx)(sz,{model:r,ControlComponent:(0,Yr.jsx)(Tz,{model:r,style:{height:17,boxSizing:"border-box"}})}),(0,Yr.jsx)(qxe,{model:r}),R,t]})}),qxe=(0,KT.observer)(function({model:t}){return t.highlight.length?(0,Yr.jsx)(hi.Suspense,{fallback:null,children:t.highlight.map((r,n)=>(0,Yr.jsx)(Lxe,{model:t,highlight:r},`${JSON.stringify(r)}-${n}`))}):null}),Qz=Fxe});var oH={};rt(oH,{default:()=>Hxe});var gi,tH,Bl,rH,nH,Bxe,zxe,Hxe,iH=A(()=>{gi=g(F()),tH=g(My()),Bl=g(Q()),rH=g(re()),nH=g(me()),Bxe=(0,nH.makeStyles)()(e=>({note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},top:{zIndex:800}})),zxe=(0,rH.observer)(function({model:e}){let{classes:t}=Bxe(),{hideNoTracksActive:r}=e;return(0,gi.jsx)(Bl.Paper,{className:t.note,children:r?(0,gi.jsx)("div",{style:{height:"48px"}}):(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)(Bl.Typography,{children:"No tracks active."}),(0,gi.jsx)(Bl.Button,{variant:"contained",color:"primary",onClick:()=>e.activateTrackSelector(),className:t.top,startIcon:(0,gi.jsx)(tH.TrackSelector,{}),children:"Open track selector"})]})})}),Hxe=zxe});var Xr,ps,aH,sH,uH,cH,lH,Wxe,$xe,Uxe,fH,dH=A(()=>{Xr=g(F()),ps=g($()),aH=g(He()),sH=g(Z()),uH=g(n4()),cH=g(re()),lH=g(me());J4();eH();Wxe=(0,ps.lazy)(()=>Promise.resolve().then(()=>(iH(),oH))),$xe=(0,lH.makeStyles)()(e=>({header:{background:e.palette.background.paper,top:aH.VIEW_HEADER_HEIGHT,zIndex:850},pinnedTracks:{position:"sticky",zIndex:3},rel:{position:"relative"}})),Uxe=(0,cH.observer)(function({model:e}){let{pinnedTracks:t,stickyViewHeaders:r,pinnedTracksTop:n,tracks:o,unpinnedTracks:i}=e,{classes:a}=$xe(),s=(0,sH.getSession)(e),c=(0,ps.useRef)(null),u=e.MiniControlsComponent(),l=e.HeaderComponent();return(0,ps.useEffect)(()=>{function f(d){var p,m;d.target instanceof Element&&(!((p=c.current)===null||p===void 0)&&p.contains(d.target))&&((m=s.setFocusedViewId)===null||m===void 0||m.call(s,e.id))}return document.addEventListener("mousedown",f),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",f)}},[s,e]),(0,Xr.jsxs)("div",{className:a.rel,ref:c,onMouseLeave:()=>{s.setHovered(void 0)},onMouseMove:f=>{let d=c.current;if(!d)return;let{tracks:p}=e,m=f.clientX-d.getBoundingClientRect().left,h=e.pxToBp(m),v=p.find(b=>b.displays[0].featureUnderMouse);s.setHovered({hoverPosition:h,hoverFeature:v})},children:[(0,Xr.jsxs)("div",{className:a.header,style:{position:r?"sticky":void 0},children:[(0,Xr.jsx)(l,{model:e}),(0,Xr.jsx)(u,{model:e})]}),(0,Xr.jsx)(Qz,{model:e,children:o.length?(0,Xr.jsxs)(Xr.Fragment,{children:[t.length?(0,Xr.jsx)(uH.default,{elevation:6,className:a.pinnedTracks,style:{top:n},children:t.map(f=>(0,Xr.jsx)(VT,{model:e,track:f},f.id))}):null,i.map(f=>(0,Xr.jsx)(VT,{model:e,track:f},f.id))]}):(0,Xr.jsx)(ps.Suspense,{fallback:null,children:(0,Xr.jsx)(Wxe,{model:e})})})]})}),fH=Uxe});var pH,mH,hH,Vxe,gH,vH=A(()=>{pH=g(F()),mH=g(Z()),hH=g(re());a0();mu();Vxe=(0,hH.observer)(function({model:e,selectedAsm:t,value:r,setValue:n,setOption:o}){let i=(0,mH.getSession)(e),{assemblyManager:a,textSearchManager:s}=i,{rankSearchResults:c}=e,u=e.searchScope(t),l=a.get(t);return(0,pH.jsx)(jl,{fetchResults:f=>Yy({queryString:f,assembly:l,textSearchManager:s,rankSearchResults:c,searchScope:u}),model:e,assemblyName:t,value:r,minWidth:270,onChange:f=>{n(f)},onSelect:f=>{o(f)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})}),gH=Vxe});var xH={};rt(xH,{default:()=>Xxe});var Sr,zl,T0,bH,mn,yH,_H,Gxe,Yxe,Xxe,wH=A(()=>{Sr=g(F()),zl=g($()),T0=g(He()),bH=g(Z());d0();mn=g(Q()),yH=g(re()),_H=g(me());vH();xl();Gxe=(0,_H.makeStyles)()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),Yxe=(0,yH.observer)(function({model:e}){var t;let{classes:r}=Gxe(),n=(0,bH.getSession)(e),{assemblyNames:o,assemblyManager:i}=n,{error:a}=e,[s,c]=(0,zl.useState)(o[0]),[u,l]=(0,zl.useState)(),f=i.get(s),d=o.length?f?.error:"No configured assemblies",p=d||a,[m,h]=(0,zl.useState)(""),v=f?.regions,b=!!v,_=v&&((t=v[0])===null||t===void 0?void 0:t.refName)||"";return(0,zl.useEffect)(()=>{h(_)},[_,s]),(0,Sr.jsxs)("div",{className:r.container,children:[p?(0,Sr.jsx)(T0.ErrorMessage,{error:p}):null,(0,Sr.jsx)(mn.Container,{className:r.importFormContainer,children:(0,Sr.jsx)("form",{onSubmit:async S=>{var w;if(S.preventDefault(),e.setError(void 0),m)try{u?.getDisplayString()===m&&u.hasLocation()?await pu({option:u,model:e,assemblyName:s}):!((w=u?.results)===null||w===void 0)&&w.length?e.setSearchResults(u.results,u.getLabel(),s):f&&await _l({input:m,assembly:f,model:e})}catch(T){console.error(T),n.notify(`${T}`,"warning")}},children:(0,Sr.jsxs)(mn.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,Sr.jsx)(mn.FormControl,{children:(0,Sr.jsx)(T0.AssemblySelector,{onChange:S=>{c(S)},localStorageKey:"lgv",session:n,selected:s})}),s?d?(0,Sr.jsx)(Nl,{style:{color:"red"}}):b?(0,Sr.jsx)(mn.FormControl,{children:(0,Sr.jsx)(gH,{value:m,setValue:h,selectedAsm:s,setOption:l,model:e})}):(0,Sr.jsx)(mn.CircularProgress,{size:20,disableShrink:!0}):null,(0,Sr.jsx)(mn.FormControl,{children:(0,Sr.jsx)(mn.Button,{type:"submit",disabled:!m,className:r.button,variant:"contained",color:"primary",children:"Open"})}),(0,Sr.jsx)(mn.FormControl,{children:(0,Sr.jsx)(mn.Button,{disabled:!m,className:r.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(s)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})})})]})}),Xxe=Yxe});var k0,SH,CH,TH,Zxe,CBe,kH=A(()=>{k0=g(F()),SH=g($()),CH=g(He()),TH=g(re());dH();Zxe=(0,SH.lazy)(()=>Promise.resolve().then(()=>(wH(),xH))),CBe=(0,TH.observer)(function({model:e}){let{error:t,initialized:r,hasDisplayedRegions:n}=e;return!r&&!t?(0,k0.jsx)(CH.LoadingEllipses,{variant:"h6"}):!n||t?(0,k0.jsx)(Zxe,{model:e}):(0,k0.jsx)(fH,{model:e})})});var Kxe,Jxe,Qxe,EH=A(()=>{Kxe=g(F()),Jxe=g(Z()),Qxe=g(Q())});var OH,JT=A(()=>{OH=g(F())});var QT,RH,twe,ek=A(()=>{QT=g(F()),RH=g(Z()),twe=g(Q());Pl();JT()});var tk,MH,rwe,PH=A(()=>{tk=g(F()),MH=g(Z()),rwe=g(Q())});var jH,IH,nwe,owe,LH=A(()=>{jH=g(F()),IH=g(Z()),nwe=g(Py()),owe=g(Q());ek();PH();TT();RT();Eo()});var iwe,DH,awe,NH=A(()=>{iwe=g(F()),DH=g(Z()),awe=g(Q())});var rk,swe,uwe,nk=A(()=>{rk=g(F()),swe=g(Z()),uwe=g(bn());JT();NH()});var cwe,ok=A(()=>{cwe=g(Z())});var qH,fwe,E0,dwe,pwe,mwe,ik=A(()=>{qH=g(F()),fwe=g(He()),E0=g(Z()),dwe=g(bn()),pwe=g(Q()),mwe=g(Bs());EH();LH();nk();ok();ek();nk()});var BH=y(yp=>{"use strict";var hwe=yp&&yp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yp,"__esModule",{value:!0});var Hl=F(),bp=Q(),gwe=re(),vwe=hwe(Hf()),bwe=(0,gwe.observer)(function({model:e,handleClose:t}){return(0,Hl.jsxs)(vwe.default,{maxWidth:"xl",open:!0,onClose:t,title:"Reference sequence",children:[(0,Hl.jsx)(bp.DialogContent,{children:(0,Hl.jsx)(bp.Typography,{children:"Are you sure you want to return to the import form? This will lose your current view"})}),(0,Hl.jsxs)(bp.DialogActions,{children:[(0,Hl.jsx)(bp.Button,{onClick:()=>{e.clearView(),t()},variant:"contained",color:"primary",autoFocus:!0,children:"OK"}),(0,Hl.jsx)(bp.Button,{onClick:()=>{t()},color:"secondary",variant:"contained",children:"Cancel"})]})]})});yp.default=bwe});var UH={};rt(UH,{default:()=>xwe});var Cr,_p,zH,O0,Et,HH,WH,$H,ywe,_we,xwe,VH=A(()=>{Cr=g(F()),_p=g($()),zH=g(He()),O0=g(Z()),Et=g(Q()),HH=g(re()),WH=g(Me()),$H=g(me()),ywe=(0,$H.makeStyles)()({dialogContent:{width:"40em"}}),_we=(0,HH.observer)(function({model:e,handleClose:t}){let{classes:r}=ywe(),[n,o]=(0,_p.useState)(""),[i,a]=(0,_p.useState)(!0),[s,c]=(0,_p.useState)(!0),[u,l]=(0,_p.useState)(!0),f;try{new RegExp(n)}catch(d){f=d}return(0,Cr.jsxs)(zH.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Sequence search",children:[(0,Cr.jsxs)(Et.DialogContent,{className:r.dialogContent,children:[(0,Cr.jsx)(Et.Typography,{children:"Supply a sequence to search for. A track will be created with the resulting matches once submitted. You can also supply regex style expressions e.g. AACT(C|T)."}),(0,Cr.jsx)(Et.TextField,{value:n,onChange:d=>{o(d.target.value)},helperText:"Sequence search pattern"}),(0,Cr.jsxs)(Et.FormGroup,{children:[(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:i,onChange:d=>{a(d.target.checked)}}),label:"Search forward strand"}),(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:s,onChange:d=>{c(d.target.checked)}}),label:"Search reverse strand"}),(0,Cr.jsx)(Et.FormControlLabel,{control:(0,Cr.jsx)(Et.Checkbox,{checked:u,onChange:d=>{l(d.target.checked)}}),label:"Case insensitive"})]}),f?(0,Cr.jsx)(Et.Typography,{color:"error",children:`${f}`}):null]}),(0,Cr.jsxs)(Et.DialogActions,{children:[(0,Cr.jsx)(Et.Button,{onClick:()=>{var d;if(n){let p=`sequence_search_${Date.now()}`,m=(0,O0.getSession)(e),{assemblyManager:h}=m,v=e.assemblyNames[0];(0,O0.isSessionWithAddTracks)(m)&&(m.addTrackConf({trackId:p,name:`Sequence search ${n}`,assemblyNames:[v],type:"FeatureTrack",adapter:{type:"SequenceSearchAdapter",search:n,searchForward:i,searchReverse:s,caseInsensitive:u,sequenceAdapter:(0,WH.getSnapshot)((d=h.get(v))===null||d===void 0?void 0:d.configuration.sequence.adapter)}}),e.showTrack(p))}t()},variant:"contained",color:"primary",children:"Submit"}),(0,Cr.jsx)(Et.Button,{onClick:()=>{t()},variant:"contained",color:"secondary",children:"Close"})]})]})}),xwe=_we});var YH={};rt(YH,{default:()=>GH});function wwe(){return(0,lt.jsxs)("div",{children:[(0,lt.jsx)(vt.CircularProgress,{size:20,style:{marginRight:20}}),(0,lt.jsx)(vt.Typography,{display:"inline",children:"Creating SVG"})]})}function ak(e,t){return(0,P0.useLocalStorage)(`svg-${e}`,t)}function sk({children:e,...t}){return(0,lt.jsx)("div",{children:(0,lt.jsx)(vt.TextField,{...t,children:e})})}function GH({model:e,handleClose:t}){let r=(0,P0.getSession)(e),n=typeof OffscreenCanvas<"u",[o,i]=(0,R0.useState)(n),[a,s]=(0,R0.useState)(!1),[c,u]=(0,R0.useState)(),[l,f]=ak("file","jbrowse.svg"),[d,p]=ak("tracklabels","offset"),[m,h]=ak("theme",r.themeName||"default");return(0,lt.jsxs)(M0.Dialog,{open:!0,onClose:t,title:"Export SVG",children:[(0,lt.jsxs)(vt.DialogContent,{children:[c?(0,lt.jsx)(M0.ErrorMessage,{error:c}):a?(0,lt.jsx)(wwe,{}):null,(0,lt.jsx)(sk,{helperText:"filename",value:l,onChange:v=>{f(v.target.value)}}),(0,lt.jsxs)(sk,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:d,onChange:v=>{p(v.target.value)},children:[(0,lt.jsx)(vt.MenuItem,{value:"offset",children:"Offset"}),(0,lt.jsx)(vt.MenuItem,{value:"overlay",children:"Overlay"}),(0,lt.jsx)(vt.MenuItem,{value:"left",children:"Left"}),(0,lt.jsx)(vt.MenuItem,{value:"none",children:"None"})]}),r.allThemes?(0,lt.jsx)(sk,{select:!0,label:"Theme",variant:"outlined",value:m,onChange:v=>{h(v.target.value)},children:Object.entries(r.allThemes()).map(([v,b])=>(0,lt.jsx)(vt.MenuItem,{value:v,children:b.name||"(Unknown name)"},v))}):null,n?(0,lt.jsx)(vt.FormControlLabel,{control:(0,lt.jsx)(vt.Checkbox,{checked:o,onChange:()=>{i(v=>!v)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,lt.jsx)(vt.Typography,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,lt.jsxs)(vt.DialogActions,{children:[(0,lt.jsx)(vt.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"}),(0,lt.jsx)(vt.Button,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{s(!0),u(void 0);try{await e.exportSvg({rasterizeLayers:o,filename:l,trackLabels:d,themeName:m}),t()}catch(v){console.error(v),u(v)}finally{s(!1)}},children:"Submit"})]})]})}var lt,R0,M0,P0,vt,XH=A(()=>{lt=g(F()),R0=g($()),M0=g(He()),P0=g(Z()),vt=g(Q())});var KH=y(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});A0.formatFastaLines=ZH;A0.formatSeqFasta=Swe;function ZH(e){return e.replaceAll(/(.{1,80})/g,`$1
`).trimEnd()}function Swe(e){return e.map(t=>`>${t.header}
${ZH(t.seq)}`).join(`
`)}});var JH,QH,e9=A(()=>{"use client";ct();JH=g(F(),1),QH=(0,Ee.createSvgIcon)((0,JH.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")});async function n9(e,t){let r=(0,r9.getSession)(e),{leftOffset:n,rightOffset:o}=e;if(!n||!o)throw new Error("no offsets on model to use for range");if(new Set(t.map(d=>d.assemblyName)).size>1)throw new Error("not able to fetch sequences from multiple assemblies currently");let{rpcManager:a,assemblyManager:s}=r,c=n.assemblyName||o.assemblyName||"",u=s.get(c);if(!u)throw new Error(`assembly ${c} not found`);let l=(0,t9.getConf)(u,["sequence","adapter"]),f="getSequence";return a.call(f,"CoreGetFeatures",{adapterConfig:l,regions:t,sessionId:f})}var t9,r9,o9=A(()=>{t9=g(xe()),r9=g(Z())});var l9={};rt(l9,{default:()=>kwe});var Kt,ms,Wl,j0,i9,qt,a9,s9,u9,c9,Cwe,Twe,kwe,f9=A(()=>{Kt=g(F()),ms=g($()),Wl=g(He()),j0=g(Z()),i9=g(KH());zS();e9();qt=g(Q()),a9=g(kf()),s9=g(jy()),u9=g(re()),c9=g(me());o9();Cwe=(0,c9.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},ml:{marginLeft:10}}),Twe=(0,u9.observer)(function({model:e,handleClose:t}){let{classes:r}=Cwe(),[n,o]=(0,ms.useState)(),[i,a]=(0,ms.useState)(),[s,c]=(0,ms.useState)(!1),[u,l]=(0,ms.useState)(!1),[f,d]=(0,ms.useState)(!1),{leftOffset:p,rightOffset:m}=e,h=i===void 0;(0,ms.useEffect)(()=>{let _=new AbortController;return(async()=>{try{let S=e.getSelectedRegions(p,m);if(S.length===0)throw new Error("Selected region is out of bounds");a(await n9(e,S))}catch(S){console.error(S),o(S)}})(),()=>{_.abort()}},[e,p,m]);let v=i?(0,i9.formatSeqFasta)(i.map(_=>{let S=_.get("seq"),w=_.get("refName"),T=_.get("start")+1,O=_.get("end"),C=`${w}:${T}-${O}`;if(S?.length!==O-T+1)throw new Error(`${C} returned ${S.length.toLocaleString()} bases, but should have returned ${(O-T).toLocaleString()}`);return s&&(S=(0,j0.reverse)(S)),f&&(S=(0,j0.complement)(S)),{header:C+(s?"-rev":"")+(f?"-comp":""),seq:S}})):"",b=v?v.length>1e6:!1;return(0,Kt.jsxs)(Wl.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{t(),e.setOffsets()},title:"Reference sequence",children:[(0,Kt.jsxs)(qt.DialogContent,{children:[n?(0,Kt.jsx)(Wl.ErrorMessage,{error:n}):h?(0,Kt.jsx)(Wl.LoadingEllipses,{message:"Retrieving sequences"}):null,(0,Kt.jsx)(qt.TextField,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,minRows:5,maxRows:10,disabled:b,className:r.dialogContent,fullWidth:!0,value:b?"Reference sequence too large to display, use the download FASTA button":v,slotProps:{input:{readOnly:!0,classes:{input:r.textAreaFont}}}}),(0,Kt.jsxs)(qt.FormGroup,{children:[(0,Kt.jsx)(qt.FormControlLabel,{control:(0,Kt.jsx)(qt.Checkbox,{value:s,onChange:_=>{c(_.target.checked)}}),label:"Reverse sequence"}),(0,Kt.jsx)(qt.FormControlLabel,{control:(0,Kt.jsx)(qt.Checkbox,{value:f,onChange:_=>{d(_.target.checked)}}),label:"Complement sequence"})]}),(0,Kt.jsx)(qt.Typography,{style:{margin:10},children:'Note: Check both boxes for the "reverse complement"'})]}),(0,Kt.jsxs)(qt.DialogActions,{children:[(0,Kt.jsx)(qt.Button,{onClick:()=>{(0,a9.default)(v),l(!0),setTimeout(()=>{l(!1)},500)},disabled:h||!!n||b,color:"primary",startIcon:(0,Kt.jsx)(Nb,{}),children:u?"Copied":"Copy to clipboard"}),(0,Kt.jsx)(qt.Button,{onClick:()=>{(0,s9.saveAs)(new Blob([v||""],{type:"text/x-fasta;charset=utf-8"}),"jbrowse_ref_seq.fa")},disabled:h||!!n,color:"primary",startIcon:(0,Kt.jsx)(QH,{}),children:"Download FASTA"}),(0,Kt.jsx)(qt.Button,{onClick:t,variant:"contained",children:"Close"})]})]})}),kwe=Twe});function uk({searchResults:e,assemblyName:t,model:r,handleClose:n}){let o=(0,hs.getSession)(r),{pluginManager:i}=(0,hs.getEnv)(o),{assemblyManager:a}=o,s=t||r.displayedRegions[0].assemblyName,c=a.get(s);if(!c)throw new Error(`assembly ${s} not found`);if(!c.regions)throw new Error(`assembly ${s} regions not loaded`);function u(f){var d;if(f){let p=i.pluggableConfigSchemaType("track"),m=(0,I0.resolveIdentifier)(p,(0,I0.getRoot)(r),f);return((d=m?.name)===null||d===void 0?void 0:d.value)||""}return""}async function l(f){var d;if(f.hasLocation())await pu({option:f,model:r,assemblyName:s});else{let p=f.getLabel(),m=(d=c?.regions)===null||d===void 0?void 0:d.find(h=>p===h.refName);m&&(r.setDisplayedRegions([m]),r.showAllRegions())}}return(0,Tr.jsx)(bt.TableContainer,{component:bt.Paper,children:(0,Tr.jsxs)(bt.Table,{children:[(0,Tr.jsx)(bt.TableHead,{children:(0,Tr.jsxs)(bt.TableRow,{children:[(0,Tr.jsx)(bt.TableCell,{children:"Name"}),(0,Tr.jsx)(bt.TableCell,{align:"right",children:"Location"}),(0,Tr.jsx)(bt.TableCell,{align:"right",children:"Track"}),(0,Tr.jsx)(bt.TableCell,{align:"right"})]})}),(0,Tr.jsx)(bt.TableBody,{children:e.map(f=>{let d=f.getLocation(),p;try{p=d?(0,hs.parseLocString)(d,m=>c.isValidRefName(m)):void 0}catch{}return(0,Tr.jsxs)(bt.TableRow,{children:[(0,Tr.jsx)(bt.TableCell,{component:"th",scope:"row",children:f.getLabel()}),(0,Tr.jsx)(bt.TableCell,{align:"right",children:p?(0,hs.assembleLocString)({...p,refName:c.getCanonicalRefName(p.refName)||p.refName}):d}),(0,Tr.jsx)(bt.TableCell,{align:"right",children:u(f.getTrackId())||"N/A"}),(0,Tr.jsx)(bt.TableCell,{align:"right",children:(0,Tr.jsx)(bt.Button,{onClick:async()=>{try{await l(f)}catch(m){console.error(m),o.notifyError(`${m}`,m)}n()},color:"primary",variant:"contained",children:"Go"})})]},f.getId())})})]})})}var Tr,hs,bt,I0,d9=A(()=>{Tr=g(F()),hs=g(Z()),bt=g(Q()),I0=g(Me());xl()});var h9={};rt(h9,{default:()=>m9});function m9({model:e,assemblyName:t,searchQuery:r,searchResults:n,handleClose:o}){return(0,Zr.jsxs)(p9.Dialog,{open:!0,maxWidth:"xl",onClose:o,title:"Search results",children:[(0,Zr.jsx)(Po.DialogContent,{children:n?.length?(0,Zr.jsxs)(Zr.Fragment,{children:[(0,Zr.jsxs)(Po.Typography,{children:["Showing results for ",(0,Zr.jsx)("b",{children:r})]}),(0,Zr.jsx)(uk,{model:e,handleClose:o,assemblyName:t,searchResults:n})]}):(0,Zr.jsxs)(Po.Typography,{children:["No results found for ",(0,Zr.jsx)("b",{children:r})]})}),(0,Zr.jsx)(Po.Divider,{}),(0,Zr.jsx)(Po.DialogActions,{children:(0,Zr.jsx)(Po.Button,{onClick:()=>{o()},color:"primary",children:"Cancel"})})]})}var Zr,p9,Po,g9=A(()=>{Zr=g(F()),p9=g(He()),Po=g(Q());d9()});var $l,Owe,Rwe,Mwe,Pwe,eo,ck,Awe,jwe,Iwe,Lwe,Dwe,Nwe,lk,xu,S3e,C3e,T3e,k3e,E3e,fk=A(()=>{$l=g($()),Owe=g(xe()),Rwe=g(eu()),Mwe=g(He()),Pwe=g(My()),eo=g(Z()),ck=g(F3()),Awe=g(Py()),jwe=g(z3()),Iwe=g(W3()),Lwe=g(bn()),Dwe=g(U3()),Nwe=g(jy()),lk=g(Bs()),xu=g(Me());X8();Pl();xl();t4();Eo();kH();a0();NT();ik();S3e=(0,$l.lazy)(()=>Promise.resolve().then(()=>g(BH()))),C3e=(0,$l.lazy)(()=>Promise.resolve().then(()=>(VH(),UH))),T3e=(0,$l.lazy)(()=>Promise.resolve().then(()=>(XH(),YH))),k3e=(0,$l.lazy)(()=>Promise.resolve().then(()=>(f9(),l9))),E3e=(0,$l.lazy)(()=>Promise.resolve().then(()=>(g9(),h9)))});var Fwe,qwe,dk=A(()=>{Fwe=g($()),qwe=g(An());fk();fk()});var Bwe,zwe,Hwe,Wwe,L0=A(()=>{Bwe=g(Gp()),zwe=g(xe()),Hwe=g(Z()),Wwe=g(Me());Fi();f3();m3();v3();YC();QC();dk();ST();YC();Fi();dk();ik();ok();QC()});var b9=y(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0});function Xwe(e,t){let r=e.range(),n=e.ticks(t),o=e.tickFormat(t),i=e.copy();return{range:r,values:n,format:o,position:i}}pk.default=Xwe});var y9=y(Ot=>{"use strict";var Zwe=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.LEFT=Ot.BOTTOM=Ot.RIGHT=Ot.TOP=void 0;var Ul=Zwe($());function Kwe(e,t,r){let n=e(r);return`translate(${Number.isFinite(n)?n:t(r)},0)`}function Jwe(e,t,r){let n=e(r);return`translate(0,${Number.isFinite(n)?n:t(r)})`}Ot.TOP="TOP";Ot.RIGHT="RIGHT";Ot.BOTTOM="BOTTOM";Ot.LEFT="LEFT";var Qwe={orient:Ot.BOTTOM,tickSizeInner:6,tickSizeOuter:6,tickPadding:3,strokeWidth:1,tickFont:"sans-serif",tickFontSize:10};function eSe({style:e,range:t,values:r,position:n,format:o,shadow:i=0,bg:a="white",fg:s="black"}){let c={...Qwe,...e},{orient:u,tickSizeInner:l,tickPadding:f,tickSizeOuter:d,strokeWidth:p,tickFont:m,tickFontSize:h}=c,v=u===Ot.TOP||u===Ot.BOTTOM?Kwe:Jwe,b=E=>v(n,n,E),_=u===Ot.TOP||u===Ot.LEFT?-1:1,S=u===Ot.RIGHT,w=u===Ot.LEFT,T=u===Ot.TOP,O=u===Ot.BOTTOM,C=S||w,M=C?"x":"y",R=C?"y":"x",k=p/2,I=t[0]+k,B=t[t.length-1]+k,L=Math.max(l,0)+f;return Ul.default.createElement("g",{fill:"none",fontSize:h,fontFamily:m,textAnchor:S?"start":w?"end":"middle",strokeWidth:p},Ul.default.createElement("path",{stroke:s,d:C?`M${_*d},${I}H${k}V${B}H${_*d}`:`M${I},${_*d}V${k}H${B}V${_*d}`}),r.map((E,N)=>{let U={stroke:s};U[`${M}2`]=_*l,U[`${R}1`]=k,U[`${R}2`]=k;let z={fill:s,dy:T?"0em":O?"0.71em":"0.32em"};return z[`${M}`]=_*L,z[`${R}`]=k,Ul.default.createElement("g",{key:`tick-${N}`,opacity:1,transform:b(E)},Ul.default.createElement("line",{...U}),i?Ul.default.createElement("text",{style:{stroke:a,strokeWidth:i},...z},o(E)):null,Ul.default.createElement("text",{...z},o(E)))}))}Ot.default=eSe});var D0=y(Ar=>{"use strict";var _9=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.LEFT=Ar.BOTTOM=Ar.RIGHT=Ar.TOP=Ar.Axis=Ar.axisPropsFromTickScale=void 0;var tSe=b9();Object.defineProperty(Ar,"axisPropsFromTickScale",{enumerable:!0,get:function(){return _9(tSe).default}});var xp=y9();Object.defineProperty(Ar,"Axis",{enumerable:!0,get:function(){return _9(xp).default}});Object.defineProperty(Ar,"TOP",{enumerable:!0,get:function(){return xp.TOP}});Object.defineProperty(Ar,"RIGHT",{enumerable:!0,get:function(){return xp.RIGHT}});Object.defineProperty(Ar,"BOTTOM",{enumerable:!0,get:function(){return xp.BOTTOM}});Object.defineProperty(Ar,"LEFT",{enumerable:!0,get:function(){return xp.LEFT}})});var S9={};rt(S9,{default:()=>w9});function w9(e){let{model:t,handleClose:r}=e,{minScore:n,maxScore:o,scaleType:i}=t,[a,s]=(0,mk.useState)(`${n!==Number.MIN_VALUE?n:""}`),[c,u]=(0,mk.useState)(`${o!==Number.MAX_VALUE?o:""}`),l=a!==""&&c!==""&&!Number.isNaN(+a)&&!Number.isNaN(+c)?+c>+a:!0,f=i==="log"&&a!==""&&!Number.isNaN(+a)?+a>0:!0;return(0,Ao.jsxs)(x9.Dialog,{open:!0,onClose:r,title:"Set min/max score for track",children:[(0,Ao.jsxs)(Cn.DialogContent,{children:[(0,Ao.jsx)(Cn.Typography,{children:"Enter min/max score: "}),l?null:(0,Ao.jsx)(Cn.Typography,{color:"error",children:"Max is greater than or equal to min"}),f?null:(0,Ao.jsx)(Cn.Typography,{color:"error",children:"Min score should be greater than 0 for log scale"}),(0,Ao.jsx)(Cn.TextField,{value:a,onChange:d=>{s(d.target.value)},placeholder:"Enter min score"}),(0,Ao.jsx)(Cn.TextField,{value:c,onChange:d=>{u(d.target.value)},placeholder:"Enter max score"})]}),(0,Ao.jsx)(Cn.DialogActions,{children:(0,Ao.jsx)(Cn.Button,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},disabled:!l,onClick:()=>{t.setMinScore(a!==""&&!Number.isNaN(+a)?+a:void 0),t.setMaxScore(c!==""&&!Number.isNaN(+c)?+c:void 0),r()},children:"Submit"})})]})}var Ao,mk,x9,Cn,C9=A(()=>{Ao=g(F()),mk=g($()),x9=g(He()),Cn=g(Q())});var Zi,k9,E9,O9,R9,oSe,iSe,gs,wp=A(()=>{Zi=g(F()),k9=g($()),E9=g(FC()),O9=g(re()),R9=g(me());Vn();oSe=(0,R9.makeStyles)()({hoverVertical:{background:"#333",border:"none",width:1,height:"100%",top:$a,cursor:"default",position:"absolute",pointerEvents:"none"}}),iSe=(0,O9.observer)(function({model:t,height:r,clientMouseCoord:n,offsetMouseCoord:o,clientRect:i,TooltipContents:a,useClientY:s}){let{featureUnderMouse:c}=t,{classes:u}=oSe(),l=n[0]+5,f=s?n[1]:i?.top||0;return c?(0,Zi.jsxs)(Zi.Fragment,{children:[(0,Zi.jsx)(k9.Suspense,{fallback:null,children:(0,Zi.jsx)(E9.default,{clientPoint:{x:l,y:f},children:(0,Zi.jsx)(a,{model:t,feature:c})})}),(0,Zi.jsx)("div",{className:u.hoverVertical,style:{left:o[0],height:r-$a*2}})]}):null}),gs=iSe});var A9={};rt(A9,{Tooltip:()=>gs,default:()=>Sp});var Ki,M9,P9,vk,aSe,sSe,Sp,bk=A(()=>{Ki=g(F()),M9=g($()),P9=g(re());wp();Vn();wp();vk=e=>e.toLocaleString("en-US"),aSe=(0,M9.forwardRef)(function({feature:t},r){let n=t.get("start")+1,o=t.get("end"),i=t.get("refName"),a=t.get("name"),s=[i,a,n===o?vk(n):`${vk(n)}..${vk(o)}`].filter(c=>!!c).join(":");return t.get("summary")!==void 0?(0,Ki.jsxs)("div",{ref:r,children:[s,(0,Ki.jsx)("br",{}),"Max: ",yo(t.get("maxScore")),(0,Ki.jsx)("br",{}),"Avg: ",yo(t.get("score")),(0,Ki.jsx)("br",{}),"Min: ",yo(t.get("minScore"))]}):(0,Ki.jsxs)("div",{ref:r,children:[s,(0,Ki.jsx)("br",{}),`${yo(t.get("score"))}`]})}),sSe=(0,P9.observer)(function(e){return(0,Ki.jsx)(gs,{TooltipContents:aSe,...e})}),Sp=sSe});var N0=y(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.tableau10=Bt.set2=Bt.set1=Bt.ggplot2Colors6=Bt.ggplot2Colors5=Bt.ggplot2Colors4=Bt.ggplot2Colors3=Bt.dark2=Bt.category10=void 0;var uSe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Bt.category10=uSe;var cSe=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"];Bt.dark2=cSe;var lSe=["#377eb8","#e41a1c","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];Bt.set1=lSe;var fSe=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"];Bt.set2=fSe;var dSe=["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"];Bt.tableau10=dSe;var pSe=["#F8766D","#B79F00","#00BA38","#00BFC4","#619CFF","#F564E3"];Bt.ggplot2Colors6=pSe;var mSe=["#F8766D","#A3A500","#00BF7D","#00B0F6","#E76BF3"];Bt.ggplot2Colors5=mSe;var hSe=["#F8766D","#7CAE00","#00BFC4","#C77CFF"];Bt.ggplot2Colors4=hSe;var gSe=["#F8766D","#00BA38","#619CFF"];Bt.ggplot2Colors3=gSe});var V9=y(Ne=>{"use strict";var vSe=Ne&&Ne.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),bSe=Ne&&Ne.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),ySe=Ne&&Ne.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&vSe(r,t,n[o]);return bSe(r,t),r}})();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.setNonce=Ne.RgbaStringColorPicker=Ne.RgbaColorPicker=Ne.RgbStringColorPicker=Ne.RgbColorPicker=Ne.HsvaStringColorPicker=Ne.HsvaColorPicker=Ne.HsvStringColorPicker=Ne.HsvColorPicker=Ne.HslaStringColorPicker=Ne.HslaColorPicker=Ne.HslStringColorPicker=Ne.HslColorPicker=Ne.HexColorPicker=Ne.HexColorInput=void 0;var fe=ySe($());function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kp(e,t){if(e==null)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}function Tp(e){let t=(0,fe.useRef)(e),r=(0,fe.useRef)(n=>{t.current&&t.current(n)});return t.current=e,r.current}var Vl=(e,t=0,r=1)=>e>r?r:e<t?t:e,Cp=e=>"touches"in e,xk=e=>e&&e.ownerDocument.defaultView||self,j9=(e,t,r)=>{let n=e.getBoundingClientRect(),o=Cp(t)?((i,a)=>{for(let s=0;s<i.length;s++)if(i[s].identifier===a)return i[s];return i[0]})(t.touches,r):t;return{left:Vl((o.pageX-(n.left+xk(e).pageXOffset))/n.width),top:Vl((o.pageY-(n.top+xk(e).pageYOffset))/n.height)}},I9=e=>{!Cp(e)&&e.preventDefault()},wk=fe.default.memo(e=>{let{onMove:t,onKey:r}=e,n=kp(e,["onMove","onKey"]),o=(0,fe.useRef)(null),i=Tp(t),a=Tp(r),s=(0,fe.useRef)(null),c=(0,fe.useRef)(!1),[u,l,f]=(0,fe.useMemo)(()=>{let d=h=>{I9(h),(Cp(h)?h.touches.length>0:h.buttons>0)&&o.current?i(j9(o.current,h,s.current)):m(!1)},p=()=>m(!1);function m(h){let v=c.current,b=xk(o.current),_=h?b.addEventListener:b.removeEventListener;_(v?"touchmove":"mousemove",d),_(v?"touchend":"mouseup",p)}return[({nativeEvent:h})=>{let v=o.current;if(v&&(I9(h),!((b,_)=>_&&!Cp(b))(h,c.current)&&v)){if(Cp(h)){c.current=!0;let b=h.changedTouches||[];b.length&&(s.current=b[0].identifier)}v.focus(),i(j9(v,h,s.current)),m(!0)}},h=>{let v=h.which||h.keyCode;v<37||v>40||(h.preventDefault(),a({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[a,i]);return(0,fe.useEffect)(()=>f,[f]),fe.default.createElement("div",Qt({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:o,onKeyDown:l,tabIndex:0,role:"slider"}))}),Ep=e=>e.filter(Boolean).join(" "),Sk=({className:e,color:t,left:r,top:n=.5})=>{let o=Ep(["react-colorful__pointer",e]);return fe.default.createElement("div",{className:o,style:{top:100*n+"%",left:100*r+"%"}},fe.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Jt=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,_Se={grad:.9,turn:360,rad:360/(2*Math.PI)},yk=e=>(e[0]==="#"&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),N9=(e,t="deg")=>Number(e)*(_Se[t]||1),F9=e=>{let t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?Ck({h:N9(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},xSe=F9,Ck=({h:e,s:t,l:r,a:n})=>({h:e,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:n}),B0=({h:e,s:t,v:r,a:n})=>{let o=(200-t)*r/100;return{h:Jt(e),s:Jt(o>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0),l:Jt(o/2),a:Jt(n,2)}},q0=e=>{let{h:t,s:r,l:n}=B0(e);return`hsl(${t}, ${r}%, ${n}%)`},F0=e=>{let{h:t,s:r,l:n,a:o}=B0(e);return`hsla(${t}, ${r}%, ${n}%, ${o})`},Op=({h:e,s:t,v:r,a:n})=>{e=e/360*6,t/=100,r/=100;let o=Math.floor(e),i=r*(1-t),a=r*(1-(e-o)*t),s=r*(1-(1-e+o)*t),c=o%6;return{r:Jt(255*[r,a,i,i,s,r][c]),g:Jt(255*[s,r,r,a,i,i][c]),b:Jt(255*[i,i,s,r,r,a][c]),a:Jt(n,2)}},q9=e=>{let t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?Rp({h:N9(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},wSe=q9,B9=e=>{let t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?z0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},SSe=B9,_k=e=>{let t=e.toString(16);return t.length<2?"0"+t:t},z0=({r:e,g:t,b:r,a:n})=>{let o=Math.max(e,t,r),i=o-Math.min(e,t,r),a=i?o===e?(t-r)/i:o===t?2+(r-e)/i:4+(e-t)/i:0;return{h:Jt(60*(a<0?a+6:a)),s:Jt(o?i/o*100:0),v:Jt(o/255*100),a:n}},Rp=e=>({h:Jt(e.h),s:Jt(e.s),v:Jt(e.v),a:Jt(e.a,2)}),z9=fe.default.memo(({className:e,hue:t,onChange:r})=>{let n=Ep(["react-colorful__hue",e]);return fe.default.createElement("div",{className:n},fe.default.createElement(wk,{onMove:o=>{r({h:360*o.left})},onKey:o=>{r({h:Vl(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuetext":Jt(t)},fe.default.createElement(Sk,{className:"react-colorful__hue-pointer",left:t/360,color:q0({h:t,s:100,v:100,a:1})})))}),H9=fe.default.memo(({hsva:e,onChange:t})=>{let r={backgroundColor:q0({h:e.h,s:100,v:100,a:1})};return fe.default.createElement("div",{className:"react-colorful__saturation",style:r},fe.default.createElement(wk,{onMove:n=>{t({s:100*n.left,v:100-100*n.top})},onKey:n=>{t({s:Vl(e.s+100*n.left,0,100),v:Vl(e.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${Jt(e.s)}%, Brightness ${Jt(e.v)}%`},fe.default.createElement(Sk,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:q0(e)})))}),vs=(e,t)=>{if(e===t)return!0;for(let r in e)if(e[r]!==t[r])return!1;return!0},Gl=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");function W9(e,t,r){let n=Tp(r),[o,i]=(0,fe.useState)(()=>e.toHsva(t)),a=(0,fe.useRef)({color:t,hsva:o});(0,fe.useEffect)(()=>{if(!e.equal(t,a.current.color)){let c=e.toHsva(t);a.current={hsva:c,color:t},i(c)}},[t,e]),(0,fe.useEffect)(()=>{let c;vs(o,a.current.hsva)||e.equal(c=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:c},n(c))},[o,e,n]);let s=(0,fe.useCallback)(c=>{i(u=>Object.assign({},u,c))},[]);return[o,s]}var CSe=typeof window<"u"?fe.useLayoutEffect:fe.useEffect,$9,TSe=()=>$9||(typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0),kSe=e=>{$9=e},L9=new Map,U9=e=>{CSe(()=>{let t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!L9.has(t)){let r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,L9.set(t,r);let n=TSe();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},wu=e=>{let{className:t,colorModel:r,color:n=r.defaultColor,onChange:o}=e,i=kp(e,["className","colorModel","color","onChange"]),a=(0,fe.useRef)(null);U9(a);let[s,c]=W9(r,n,o),u=Ep(["react-colorful",t]);return fe.default.createElement("div",Qt({},i,{ref:a,className:u}),fe.default.createElement(H9,{hsva:s,onChange:c}),fe.default.createElement(z9,{hue:s.h,onChange:c,className:"react-colorful__last-control"}))},ESe={defaultColor:"000",toHsva:e=>z0(yk(e)),fromHsva:e=>(({r:t,g:r,b:n})=>"#"+_k(t)+_k(r)+_k(n))(Op(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||vs(yk(e),yk(t))},OSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:ESe})),RSe=({className:e,hsva:t,onChange:r})=>{let n={backgroundImage:`linear-gradient(90deg, ${F0(Object.assign({},t,{a:0}))}, ${F0(Object.assign({},t,{a:1}))})`},o=Ep(["react-colorful__alpha",e]);return fe.default.createElement("div",{className:o},fe.default.createElement("div",{className:"react-colorful__alpha-gradient",style:n}),fe.default.createElement(wk,{onMove:i=>{r({a:i.left})},onKey:i=>{r({a:Vl(t.a+i.left)})},"aria-label":"Alpha","aria-valuetext":`${Jt(100*t.a)}%`},fe.default.createElement(Sk,{className:"react-colorful__alpha-pointer",left:t.a,color:F0(t)})))},Yl=e=>{let{className:t,colorModel:r,color:n=r.defaultColor,onChange:o}=e,i=kp(e,["className","colorModel","color","onChange"]),a=(0,fe.useRef)(null);U9(a);let[s,c]=W9(r,n,o),u=Ep(["react-colorful",t]);return fe.default.createElement("div",Qt({},i,{ref:a,className:u}),fe.default.createElement(H9,{hsva:s,onChange:c}),fe.default.createElement(z9,{hue:s.h,onChange:c}),fe.default.createElement(RSe,{hsva:s,onChange:c,className:"react-colorful__last-control"}))},MSe={defaultColor:{h:0,s:0,l:0,a:1},toHsva:Ck,fromHsva:B0,equal:vs},PSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:MSe})),ASe={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:F9,fromHsva:F0,equal:Gl},jSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:ASe})),ISe={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:t,l:r})=>Ck({h:e,s:t,l:r,a:1}),fromHsva:e=>(({h:t,s:r,l:n})=>({h:t,s:r,l:n}))(B0(e)),equal:vs},LSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:ISe})),DSe={defaultColor:"hsl(0, 0%, 0%)",toHsva:xSe,fromHsva:q0,equal:Gl},NSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:DSe})),FSe={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:Rp,equal:vs},qSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:FSe})),BSe={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:q9,fromHsva:e=>{let{h:t,s:r,v:n,a:o}=Rp(e);return`hsva(${t}, ${r}%, ${n}%, ${o})`},equal:Gl},zSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:BSe})),HSe={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:t,v:r})=>({h:e,s:t,v:r,a:1}),fromHsva:e=>{let{h:t,s:r,v:n}=Rp(e);return{h:t,s:r,v:n}},equal:vs},WSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:HSe})),$Se={defaultColor:"hsv(0, 0%, 0%)",toHsva:wSe,fromHsva:e=>{let{h:t,s:r,v:n}=Rp(e);return`hsv(${t}, ${r}%, ${n}%)`},equal:Gl},USe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:$Se})),VSe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:z0,fromHsva:Op,equal:vs},GSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:VSe})),YSe={defaultColor:"rgba(0, 0, 0, 1)",toHsva:B9,fromHsva:e=>{let{r:t,g:r,b:n,a:o}=Op(e);return`rgba(${t}, ${r}, ${n}, ${o})`},equal:Gl},XSe=e=>fe.default.createElement(Yl,Qt({},e,{colorModel:YSe})),ZSe={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:t,b:r})=>z0({r:e,g:t,b:r,a:1}),fromHsva:e=>(({r:t,g:r,b:n})=>({r:t,g:r,b:n}))(Op(e)),equal:vs},KSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:ZSe})),JSe={defaultColor:"rgb(0, 0, 0)",toHsva:SSe,fromHsva:e=>{let{r:t,g:r,b:n}=Op(e);return`rgb(${t}, ${r}, ${n})`},equal:Gl},QSe=e=>fe.default.createElement(wu,Qt({},e,{colorModel:JSe})),eCe=/^#?([0-9A-F]{3,8})$/i,tCe=e=>{let{color:t="",onChange:r,onBlur:n,escape:o,validate:i,format:a,process:s}=e,c=kp(e,["color","onChange","onBlur","escape","validate","format","process"]),[u,l]=(0,fe.useState)(()=>o(t)),f=Tp(r),d=Tp(n),p=(0,fe.useCallback)(h=>{let v=o(h.target.value);l(v),i(v)&&f(s?s(v):v)},[o,s,i,f]),m=(0,fe.useCallback)(h=>{i(h.target.value)||l(o(t)),d(h)},[t,o,i,d]);return(0,fe.useEffect)(()=>{l(o(t))},[t,o]),fe.default.createElement("input",Qt({},c,{value:a?a(u):u,spellCheck:"false",onChange:p,onBlur:m}))},D9=e=>"#"+e,rCe=e=>{let{prefixed:t,alpha:r}=e,n=kp(e,["prefixed","alpha"]),o=(0,fe.useCallback)(a=>a.replace(/([^0-9A-F]+)/gi,"").substr(0,r?8:6),[r]),i=(0,fe.useCallback)(a=>((s,c)=>{let u=eCe.exec(s),l=u?u[1].length:0;return l===3||l===6||!!c&&l===4||!!c&&l===8})(a,r),[r]);return fe.default.createElement(tCe,Qt({},n,{escape:o,format:t?D9:void 0,process:D9,validate:i}))};Ne.setNonce=kSe;Ne.HexColorPicker=OSe;Ne.HslaColorPicker=PSe;Ne.HslaStringColorPicker=jSe;Ne.HslColorPicker=LSe;Ne.HslStringColorPicker=NSe;Ne.HsvaColorPicker=qSe;Ne.HsvaStringColorPicker=zSe;Ne.HsvColorPicker=WSe;Ne.HsvStringColorPicker=USe;Ne.RgbaColorPicker=GSe;Ne.RgbaStringColorPicker=XSe;Ne.RgbColorPicker=KSe;Ne.RgbStringColorPicker=QSe;Ne.HexColorInput=rCe});var Tk=y(gn=>{"use strict";var nCe=gn&&gn.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),oCe=gn&&gn.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),iCe=gn&&gn.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&nCe(r,t,n[o]);return oCe(r,t),r}})();Object.defineProperty(gn,"__esModule",{value:!0});gn.PopoverPicker=void 0;gn.ColorPopover=J9;gn.ColorPicker=Q9;var hn=F(),Z9=$(),G9=ld(),H0=Q(),aCe=me(),Y9=iCe(N0()),X9=lo(),sCe=V9(),K9=(0,aCe.makeStyles)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),uCe=({color:e,onChange:t})=>{let[r,n]=(0,Z9.useState)(null),{classes:o}=K9();return(0,hn.jsxs)("div",{className:o.picker,children:[(0,hn.jsx)("div",{className:o.swatch,style:{backgroundColor:e},onClick:i=>{n(i.currentTarget)}}),(0,hn.jsx)(J9,{anchorEl:r,onClose:()=>{n(null)},color:e,onChange:t})]})};gn.PopoverPicker=uCe;function J9({anchorEl:e,onChange:t,onClose:r,color:n}){return(0,hn.jsx)(H0.Popover,{open:!!e,anchorEl:e,onClose:r,children:(0,hn.jsx)(Q9,{color:n,onChange:t})})}function Q9({onChange:e,color:t}){let{classes:r}=K9(),[n,o]=(0,X9.useLocalStorage)("colorPickerPalette","set1"),i=Y9[n],a=Object.keys(Y9),[s,c]=(0,Z9.useState)(t),u=(0,G9.colord)(t).toRgbString(),l=(0,X9.useDebounce)(u,1e3),f=d=>{c(d);try{e((0,G9.colord)(d).toRgbString())}catch{}};return(0,hn.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,hn.jsx)("div",{style:{width:200,margin:5},children:(0,hn.jsx)(sCe.RgbaStringColorPicker,{color:l,onChange:f})}),(0,hn.jsxs)("div",{style:{width:200,margin:5},children:[(0,hn.jsx)(H0.Select,{value:n,onChange:d=>{let p=d.target.value;o(p)},children:a.map(d=>(0,hn.jsx)(H0.MenuItem,{value:d,children:d},d))}),(0,hn.jsx)("div",{className:r.swatches,children:i.map((d,p)=>(0,hn.jsx)("button",{type:"button",className:r.swatch,style:{background:d},onClick:()=>{f(d)}},`${d}-${p}`))}),(0,hn.jsx)(H0.TextField,{helperText:"Manually set color (hex, rgb, or css color name)",value:s,onChange:d=>{f(d.target.value)}})]})]})}gn.default=gn.PopoverPicker});var nW={};rt(nW,{default:()=>lCe});var wt,eW,tW,W0,cr,rW,cCe,lCe,oW=A(()=>{wt=g(F()),eW=g($()),tW=g(He()),W0=g(Tk()),cr=g(Q()),rW=g(re()),cCe=(0,rW.observer)(function({model:t,handleClose:r}){let[n,o]=(0,eW.useState)(!1);return(0,wt.jsxs)(tW.Dialog,{open:!0,onClose:r,title:"Set color",children:[(0,wt.jsxs)(cr.DialogContent,{children:[(0,wt.jsx)(cr.Typography,{children:"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors"}),(0,wt.jsx)(cr.FormControlLabel,{checked:!n,onClick:()=>{o(!1)},control:(0,wt.jsx)(cr.Radio,{}),label:"Overall color"}),(0,wt.jsx)(cr.FormControlLabel,{checked:n,onClick:()=>{o(!0)},control:(0,wt.jsx)(cr.Radio,{}),label:"Positive/negative color"}),n?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(cr.Typography,{children:"Positive color"}),(0,wt.jsx)(W0.ColorPicker,{color:t.posColor||"black",onChange:i=>{t.setPosColor(i),t.setColor(void 0)}}),(0,wt.jsx)(cr.Typography,{children:"Negative color"}),(0,wt.jsx)(W0.ColorPicker,{color:t.negColor||"black",onChange:i=>{t.setNegColor(i),t.setColor(void 0)}})]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(cr.Typography,{children:"Overall color"}),(0,wt.jsx)(W0.ColorPicker,{color:t.color||"black",onChange:i=>{t.setColor(i)}})]})]}),(0,wt.jsxs)(cr.DialogActions,{children:[(0,wt.jsx)(cr.Button,{onClick:()=>{t.setPosColor(void 0),t.setNegColor(void 0),t.setColor(void 0)},color:"secondary",variant:"contained",children:"Restore default"}),(0,wt.jsx)(cr.Button,{variant:"contained",color:"primary",type:"submit",onClick:()=>{r()},children:"Submit"})]})]})}),lCe=cCe});var aW,sW,uW,Xl,gCe,cW,lW=A(()=>{aW=g(F()),sW=g(Q()),uW=g(re()),Xl=g(D0()),gCe=(0,uW.observer)(function({model:e,orientation:t}){let{ticks:r}=e,n=(0,sW.useTheme)();return r?(0,aW.jsx)(Xl.Axis,{...r,shadow:2,format:o=>o,style:{orient:t==="left"?Xl.LEFT:Xl.RIGHT},bg:n.palette.background.default,fg:n.palette.text.primary}):null}),cW=gCe});var Zl,fW,Kl,dW,A6e,pW=A(()=>{Zl=g(F()),fW=g(xe()),Kl=g(Z());L0();dW=g(re());lW();A6e=(0,dW.observer)(function(e){let{model:t}=e,{stats:r,height:n,graphType:o}=t,{trackLabels:i}=(0,Kl.getContainingView)(t),a=(0,Kl.getContainingTrack)(t);return(0,Zl.jsxs)("div",{children:[(0,Zl.jsx)(du,{...e}),r&&o?(0,Zl.jsx)("svg",{style:{position:"absolute",top:0,left:i==="overlapping"?(0,Kl.measureText)((0,fW.getConf)(a,"name"),12.8)+100:50,pointerEvents:"none",height:n,width:50},children:(0,Zl.jsx)(cW,{model:t})}):null]})})});var TW=y((p8e,CW)=>{"use strict";CW.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var OW={};rt(OW,{Tooltip:()=>gs,default:()=>SCe});var lr,kW,EW,Rk,xCe,wCe,SCe,RW=A(()=>{lr=g(F()),kW=g($()),EW=g(re());wp();Vn();wp();Rk=e=>e.toLocaleString("en-US"),xCe=(0,kW.forwardRef)(function({model:t,feature:r},n){let o=r.get("start"),i=r.get("end"),a=r.get("refName"),s=o===i?Rk(o):`${Rk(o)}..${Rk(i)}`,c=r.get("sources"),u=r.get("source"),l=r.get("summary"),f=Object.fromEntries(t.sources.map(p=>[p.name,p])),d=f[u];return(0,lr.jsxs)("div",{ref:n,children:[[a,s].filter(p=>!!p).join(":"),(0,lr.jsx)("br",{}),c?(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{children:"color"}),(0,lr.jsx)("th",{children:"source"}),(0,lr.jsx)("th",{children:"score"})]})}),(0,lr.jsx)("tbody",{children:Object.entries(c).map(([p,m])=>{let h=f[p];return(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{children:h&&(0,lr.jsx)("div",{style:{width:16,height:16,background:h.color}})}),(0,lr.jsx)("td",{children:h?.name||p}),(0,lr.jsx)("td",{children:yo(m.score)})]},p)})})]}):(0,lr.jsxs)("span",{children:[d?.name||u," ",l?`min:${yo(r.get("minScore"))} avg:${yo(r.get("score"))} max:${yo(r.get("maxScore"))}`:yo(r.get("score"))]})]})}),wCe=(0,EW.observer)(function(e){return(0,lr.jsx)(gs,{useClientY:!0,TooltipContents:xCe,...e})}),SCe=wCe});var PW=y((v8e,MW)=>{MW.exports=JBrowseExports["@mui/x-data-grid"]});function Pk(e,t,r=1){let n=t.map(i=>e.findIndex(a=>a.name===i)).sort((i,a)=>i-a),o=0;for(let i of n){let a=Math.max(o,i-r);a>=o&&e.splice(a,0,e.splice(i,1)[0]),o=o+1}return e}function Ak(e,t,r=1){let n=t.map(i=>e.findIndex(a=>a.name===i)).sort((i,a)=>a-i),o=e.length-1;for(let i of n){let a=Math.min(o,i+r);a<=o&&e.splice(a,0,e.splice(i,1)[0]),o=o-1}return e}var CCe,Mk,AW=A(()=>{CCe=g(xe()),Mk=g(Z())});function kCe({rows:e,onChange:t,showTips:r}){let{classes:n}=TCe(),[o,i]=(0,Mp.useState)(null),[a,s]=(0,Mp.useState)([]),{name:c,color:u,source:l,baseUri:f,...d}=e.length>0?e[0]:{},[p,m]=(0,Mp.useState)("blue"),[h,v]=(0,Mp.useState)({idx:0,field:null});return(0,fr.jsxs)("div",{children:[(0,fr.jsx)(Jl.Button,{disabled:!a.length,onClick:b=>{i(b.currentTarget)},children:"Change color of selected items"}),(0,fr.jsxs)(Jl.Button,{disabled:!a.length,onClick:()=>{t(Pk([...e],a))},children:[(0,fr.jsx)(p0,{}),r?"Move selected items up":null]}),(0,fr.jsxs)(Jl.Button,{disabled:!a.length,onClick:()=>{t(Ak([...e],a))},children:[(0,fr.jsx)(Ll,{}),r?"Move selected items down":null]}),(0,fr.jsxs)(Jl.Button,{disabled:!a.length,onClick:()=>{t(Pk([...e],a,e.length))},children:[(0,fr.jsx)(h0,{}),r?"Move selected items to top":null]}),(0,fr.jsxs)(Jl.Button,{disabled:!a.length,onClick:()=>{t(Ak([...e],a,e.length))},children:[(0,fr.jsx)(m0,{}),r?"Move selected items to bottom":null]}),(0,fr.jsx)(U0.ColorPopover,{anchorEl:o,color:p,onChange:b=>{m(b);for(let _ of a){let S=e.find(w=>w.name===_);S&&(S.color=b)}t([...e])},onClose:()=>{i(null)}}),(0,fr.jsx)("div",{style:{height:400,width:"100%"},children:(0,fr.jsx)(IW.DataGrid,{disableRowSelectionOnClick:!0,getRowId:b=>b.name,checkboxSelection:!0,onRowSelectionModelChange:b=>{s([...b.ids])},rows:e,rowHeight:25,columnHeaderHeight:33,columns:[{field:"color",headerName:"Color",renderCell:({value:b,id:_})=>(0,fr.jsx)(U0.default,{color:b||"blue",onChange:S=>{let w=e.find(T=>T.name===_);w&&(w.color=S),t([...e])}})},{field:"name",headerName:"Name",width:(0,Su.measureGridWidth)(e.map(b=>b.name))},...Object.keys(d).map(b=>({field:b,renderCell:({value:_})=>(0,fr.jsx)("div",{className:n.cell,children:(0,fr.jsx)(jW.SanitizedHTML,{html:(0,Su.getStr)(_)})}),width:(0,Su.measureGridWidth)(e.map(_=>`${_[b]}`))}))],sortModel:[],onSortModelChange:b=>{let _=b[0],S=(h.idx+1)%2,w=_.field||h.field;v({idx:S,field:w}),t(w?[...e].sort((T,O)=>{let C=(0,Su.getStr)(T[w]),M=(0,Su.getStr)(O[w]);return S===1?C.localeCompare(M):M.localeCompare(C)}):e)}})})]})}var fr,Mp,jW,U0,Su,Jl,IW,LW,TCe,DW,NW=A(()=>{fr=g(F()),Mp=g($()),jW=g(He()),U0=g(Tk()),Su=g(Z());l0();BT();HT();$T();Jl=g(Q()),IW=g(PW()),LW=g(me());AW();TCe=(0,LW.makeStyles)()({cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}});DW=kCe});var qW=y((T8e,FW)=>{"use strict";var ECe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";FW.exports=ECe});var WW=y((k8e,HW)=>{"use strict";var OCe=qW();function BW(){}function zW(){}zW.resetWarningCache=BW;HW.exports=function(){function e(n,o,i,a,s,c){if(c!==OCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zW,resetWarningCache:BW};return r.PropTypes=r,r}});var jk=y((R8e,$W)=>{$W.exports=WW()();var E8e,O8e});var GW=y((M8e,Ik)=>{function VW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=VW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function UW(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=VW(e))&&(n&&(n+=" "),n+=t);return n}Ik.exports=UW,Ik.exports.clsx=UW});var Pp=y(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.dontSetMe=jCe;Cu.findInArray=RCe;Cu.int=ACe;Cu.isFunction=MCe;Cu.isNum=PCe;function RCe(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function MCe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function PCe(e){return typeof e=="number"&&!isNaN(e)}function ACe(e){return parseInt(e,10)}function jCe(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}});var ZW=y(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.browserPrefixToKey=XW;Tu.browserPrefixToStyle=ICe;Tu.default=void 0;Tu.getPrefix=YW;var Lk=["Moz","Webkit","O","ms"];function YW(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let r=0;r<Lk.length;r++)if(XW(e,Lk[r])in t)return Lk[r];return""}function XW(e,t){return t?`${t}${LCe(e)}`:e}function ICe(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function LCe(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}var A8e=Tu.default=YW()});var G0=y(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.addClassName=t7;zt.addEvent=NCe;zt.addUserSelectStyles=YCe;zt.createCSSTransform=$Ce;zt.createSVGTransform=UCe;zt.getTouch=VCe;zt.getTouchIdentifier=GCe;zt.getTranslation=Dk;zt.innerHeight=zCe;zt.innerWidth=HCe;zt.matchesSelector=e7;zt.matchesSelectorAndParentsTo=DCe;zt.offsetXYFromParent=WCe;zt.outerHeight=qCe;zt.outerWidth=BCe;zt.removeClassName=r7;zt.removeEvent=FCe;zt.scheduleRemoveUserSelectStyles=XCe;var Tn=Pp(),KW=QW(ZW());function QW(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(QW=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}var V0="";function e7(e,t){return V0||(V0=(0,Tn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Tn.isFunction)(e[r])})),(0,Tn.isFunction)(e[V0])?e[V0](t):!1}function DCe(e,t,r){let n=e;do{if(e7(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function NCe(e,t,r,n){if(!e)return;let o={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function FCe(e,t,r,n){if(!e)return;let o={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function qCe(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Tn.int)(r.borderTopWidth),t+=(0,Tn.int)(r.borderBottomWidth),t}function BCe(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Tn.int)(r.borderLeftWidth),t+=(0,Tn.int)(r.borderRightWidth),t}function zCe(e){let t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Tn.int)(r.paddingTop),t-=(0,Tn.int)(r.paddingBottom),t}function HCe(e){let t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Tn.int)(r.paddingLeft),t-=(0,Tn.int)(r.paddingRight),t}function WCe(e,t,r){let o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/r,a=(e.clientY+t.scrollTop-o.top)/r;return{x:i,y:a}}function $Ce(e,t){let r=Dk(e,t,"px");return{[(0,KW.browserPrefixToKey)("transform",KW.default)]:r}}function UCe(e,t){return Dk(e,t,"")}function Dk(e,t,r){let{x:n,y:o}=e,i=`translate(${n}${r},${o}${r})`;if(t){let a=`${typeof t.x=="string"?t.x:t.x+r}`,s=`${typeof t.y=="string"?t.y:t.y+r}`;i=`translate(${a}, ${s})`+i}return i}function VCe(e,t){return e.targetTouches&&(0,Tn.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,Tn.findInArray)(e.changedTouches,r=>t===r.identifier)}function GCe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function YCe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&t7(e.body,"react-draggable-transparent-selection")}function XCe(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{JW(e)}):JW(e)}function JW(e){if(e)try{if(e.body&&r7(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function t7(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function r7(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}});var Fk=y(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.canDragX=JCe;Ji.canDragY=QCe;Ji.createCoreData=tTe;Ji.createDraggableData=rTe;Ji.getBoundPosition=ZCe;Ji.getControlPosition=eTe;Ji.snapToGrid=KCe;var kn=Pp(),Ql=G0();function ZCe(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:nTe(n);let o=Nk(e);if(typeof n=="string"){let{ownerDocument:i}=o,a=i.defaultView,s;if(n==="parent"?s=o.parentNode:s=o.getRootNode().querySelector(n),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');let c=s,u=a.getComputedStyle(o),l=a.getComputedStyle(c);n={left:-o.offsetLeft+(0,kn.int)(l.paddingLeft)+(0,kn.int)(u.marginLeft),top:-o.offsetTop+(0,kn.int)(l.paddingTop)+(0,kn.int)(u.marginTop),right:(0,Ql.innerWidth)(c)-(0,Ql.outerWidth)(o)-o.offsetLeft+(0,kn.int)(l.paddingRight)-(0,kn.int)(u.marginRight),bottom:(0,Ql.innerHeight)(c)-(0,Ql.outerHeight)(o)-o.offsetTop+(0,kn.int)(l.paddingBottom)-(0,kn.int)(u.marginBottom)}}return(0,kn.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,kn.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,kn.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,kn.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function KCe(e,t,r){let n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]}function JCe(e){return e.props.axis==="both"||e.props.axis==="x"}function QCe(e){return e.props.axis==="both"||e.props.axis==="y"}function eTe(e,t,r){let n=typeof t=="number"?(0,Ql.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;let o=Nk(r),i=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Ql.offsetXYFromParent)(n||e,i,r.props.scale)}function tTe(e,t,r){let n=!(0,kn.isNum)(e.lastX),o=Nk(e);return n?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function rTe(e,t){let r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function nTe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Nk(e){let t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}});var Bk=y(qk=>{"use strict";Object.defineProperty(qk,"__esModule",{value:!0});qk.default=oTe;function oTe(){}});var o7=y(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.default=void 0;var zk=n7($()),Kr=Wk(jk()),iTe=Wk(lc()),jr=G0(),bs=Fk(),Hk=Pp(),Ap=Wk(Bk());function Wk(e){return e&&e.__esModule?e:{default:e}}function n7(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(n7=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}function Jr(e,t,r){return(t=aTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aTe(e){var t=sTe(e,"string");return typeof t=="symbol"?t:t+""}function sTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ys=jo.mouse,ef=class extends zk.Component{constructor(){super(...arguments),Jr(this,"dragging",!1),Jr(this,"lastX",NaN),Jr(this,"lastY",NaN),Jr(this,"touchIdentifier",null),Jr(this,"mounted",!1),Jr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,jr.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,jr.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();let o=(0,jr.getTouchIdentifier)(t);this.touchIdentifier=o;let i=(0,bs.getControlPosition)(t,o,this);if(i==null)return;let{x:a,y:s}=i,c=(0,bs.createCoreData)(this,a,s);(0,Ap.default)("DraggableCore: handleDragStart: %j",c),(0,Ap.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,jr.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=s,(0,jr.addEvent)(n,ys.move,this.handleDrag),(0,jr.addEvent)(n,ys.stop,this.handleDragStop))}),Jr(this,"handleDrag",t=>{let r=(0,bs.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let s=n-this.lastX,c=o-this.lastY;if([s,c]=(0,bs.snapToGrid)(this.props.grid,s,c),!s&&!c)return;n=this.lastX+s,o=this.lastY+c}let i=(0,bs.createCoreData)(this,n,o);if((0,Ap.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=n,this.lastY=o}),Jr(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,bs.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let c=n-this.lastX||0,u=o-this.lastY||0;[c,u]=(0,bs.snapToGrid)(this.props.grid,c,u),n=this.lastX+c,o=this.lastY+u}let i=(0,bs.createCoreData)(this,n,o);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;let s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,jr.scheduleRemoveUserSelectStyles)(s.ownerDocument),(0,Ap.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,Ap.default)("DraggableCore: Removing handlers"),(0,jr.removeEvent)(s.ownerDocument,ys.move,this.handleDrag),(0,jr.removeEvent)(s.ownerDocument,ys.stop,this.handleDragStop))}),Jr(this,"onMouseDown",t=>(ys=jo.mouse,this.handleDragStart(t))),Jr(this,"onMouseUp",t=>(ys=jo.mouse,this.handleDragStop(t))),Jr(this,"onTouchStart",t=>(ys=jo.touch,this.handleDragStart(t))),Jr(this,"onTouchEnd",t=>(ys=jo.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,jr.addEvent)(t,jo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,jr.removeEvent)(r,jo.mouse.move,this.handleDrag),(0,jr.removeEvent)(r,jo.touch.move,this.handleDrag),(0,jr.removeEvent)(r,jo.mouse.stop,this.handleDragStop),(0,jr.removeEvent)(r,jo.touch.stop,this.handleDragStop),(0,jr.removeEvent)(t,jo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,jr.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:iTe.default.findDOMNode(this)}render(){return zk.cloneElement(zk.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Y0.default=ef;Jr(ef,"displayName","DraggableCore");Jr(ef,"propTypes",{allowAnyClick:Kr.default.bool,allowMobileScroll:Kr.default.bool,children:Kr.default.node.isRequired,disabled:Kr.default.bool,enableUserSelectHack:Kr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Kr.default.arrayOf(Kr.default.number),handle:Kr.default.string,cancel:Kr.default.string,nodeRef:Kr.default.object,onStart:Kr.default.func,onDrag:Kr.default.func,onStop:Kr.default.func,onMouseDown:Kr.default.func,scale:Kr.default.number,className:Hk.dontSetMe,style:Hk.dontSetMe,transform:Hk.dontSetMe});Jr(ef,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var s7=y(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});Object.defineProperty(jp,"DraggableCore",{enumerable:!0,get:function(){return K0.default}});jp.default=void 0;var X0=a7($()),ft=J0(jk()),uTe=J0(lc()),cTe=GW(),i7=G0(),tf=Fk(),$k=Pp(),K0=J0(o7()),Z0=J0(Bk());function J0(e){return e&&e.__esModule?e:{default:e}}function a7(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(a7=function(o,i){if(!i&&o&&o.__esModule)return o;var a,s,c={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return c;if(a=i?n:r){if(a.has(o))return a.get(o);a.set(o,c)}for(let u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(s.get||s.set)?a(c,u,s):c[u]=o[u]);return c})(e,t)}function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uk.apply(null,arguments)}function rf(e,t,r){return(t=lTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lTe(e){var t=fTe(e,"string");return typeof t=="symbol"?t:t+""}function fTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=class extends X0.Component{static getDerivedStateFromProps(t,r){let{position:n}=t,{prevPropsPosition:o}=r;return n&&(!o||n.x!==o.x||n.y!==o.y)?((0,Z0.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:o}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(t){super(t),rf(this,"onDragStart",(r,n)=>{if((0,Z0.default)("Draggable: onDragStart: %j",n),this.props.onStart(r,(0,tf.createDraggableData)(this,n))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),rf(this,"onDrag",(r,n)=>{if(!this.state.dragging)return!1;(0,Z0.default)("Draggable: onDrag: %j",n);let o=(0,tf.createDraggableData)(this,n),i={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){let{x:s,y:c}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;let[u,l]=(0,tf.getBoundPosition)(this,i.x,i.y);i.x=u,i.y=l,i.slackX=this.state.slackX+(s-i.x),i.slackY=this.state.slackY+(c-i.y),o.x=i.x,o.y=i.y,o.deltaX=i.x-this.state.x,o.deltaY=i.y-this.state.y}if(this.props.onDrag(r,o)===!1)return!1;this.setState(i)}),rf(this,"onDragStop",(r,n)=>{if(!this.state.dragging||this.props.onStop(r,(0,tf.createDraggableData)(this,n))===!1)return!1;(0,Z0.default)("Draggable: onDragStop: %j",n);let i={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:s,y:c}=this.props.position;i.x=s,i.y=c}this.setState(i)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??uTe.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:n,defaultPosition:o,defaultClassName:i,defaultClassNameDragging:a,defaultClassNameDragged:s,position:c,positionOffset:u,scale:l,...f}=this.props,d={},p=null,h=!!!c||this.state.dragging,v=c||o,b={x:(0,tf.canDragX)(this)&&h?this.state.x:v.x,y:(0,tf.canDragY)(this)&&h?this.state.y:v.y};this.state.isElementSVG?p=(0,i7.createSVGTransform)(b,u):d=(0,i7.createCSSTransform)(b,u);let _=(0,cTe.clsx)(n.props.className||"",i,{[a]:this.state.dragging,[s]:this.state.dragged});return X0.createElement(K0.default,Uk({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),X0.cloneElement(X0.Children.only(n),{className:_,style:{...n.props.style,...d},transform:p}))}};jp.default=nf;rf(nf,"displayName","Draggable");rf(nf,"propTypes",{...K0.default.propTypes,axis:ft.default.oneOf(["both","x","y","none"]),bounds:ft.default.oneOfType([ft.default.shape({left:ft.default.number,right:ft.default.number,top:ft.default.number,bottom:ft.default.number}),ft.default.string,ft.default.oneOf([!1])]),defaultClassName:ft.default.string,defaultClassNameDragging:ft.default.string,defaultClassNameDragged:ft.default.string,defaultPosition:ft.default.shape({x:ft.default.number,y:ft.default.number}),positionOffset:ft.default.shape({x:ft.default.oneOfType([ft.default.number,ft.default.string]),y:ft.default.oneOfType([ft.default.number,ft.default.string])}),position:ft.default.shape({x:ft.default.number,y:ft.default.number}),className:$k.dontSetMe,style:$k.dontSetMe,transform:$k.dontSetMe});rf(nf,"defaultProps",{...K0.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var c7=y((q8e,Q0)=>{"use strict";var{default:u7,DraggableCore:dTe}=s7();Q0.exports=u7;Q0.exports.default=u7;Q0.exports.DraggableCore=dTe});var f7=y(Ip=>{"use strict";var l7=Ip&&Ip.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ip,"__esModule",{value:!0});var _s=F(),pTe=$(),mTe=l7(A_()),of=Q(),hTe=re(),gTe=l7(c7()),vTe=me(),bTe=(0,vTe.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}));function yTe(e){let t=(0,pTe.useRef)(null);return(0,_s.jsx)(gTe.default,{nodeRef:t,cancel:'[class*="MuiDialogContent-root"]',onStart:r=>{var n;return`${(n=r.target)===null||n===void 0?void 0:n.className}`.includes("MuiDialogTitle")},children:(0,_s.jsx)(of.Paper,{ref:t,...e})})}var _Te=(0,hTe.observer)(function(t){let{classes:r}=bTe(),{title:n,children:o,onClose:i}=t;return(0,_s.jsx)(of.Dialog,{...t,PaperComponent:yTe,children:(0,_s.jsxs)(of.ScopedCssBaseline,{children:[(0,_s.jsxs)(of.DialogTitle,{style:{cursor:"move"},children:[n,i?(0,_s.jsx)(of.IconButton,{className:r.closeButton,onClick:()=>{i()},children:(0,_s.jsx)(mTe.default,{})}):null]}),(0,_s.jsx)(of.Divider,{}),o]})})});Ip.default=_Te});function Gk({onClose:e,currLayout:t}){let{classes:r}=xTe(),[n,o]=(0,Vk.useState)(""),[i,a]=(0,Vk.useState)();return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsxs)(to.DialogContent,{children:[(0,En.jsx)(to.Typography,{children:'Paste CSV or TSV. If a header column is present. First line is a header. If a column called "name" is present, it uses that to connect to IDs in the table, otherwise it uses the first column no.'}),i?(0,En.jsx)(d7.ErrorMessage,{error:i}):null,(0,En.jsx)(to.TextField,{variant:"outlined",multiline:!0,minRows:5,placeholder:`name,population
HG00098,GBR
HG00101,GBR
HG00459,CHS
...`,maxRows:10,fullWidth:!0,value:n,onChange:s=>{o(s.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})]}),(0,En.jsxs)(to.DialogActions,{children:[(0,En.jsx)(to.Button,{variant:"contained",color:"secondary",onClick:()=>{let s=n.split(`
`).map(u=>u.trim()).filter(u=>!!u),c=s[0].split(/[,\t]/gm);if(c.includes("name")){a("");let u=Object.fromEntries(t.map(f=>[f.name,f])),l=Object.fromEntries(s.slice(1).map(f=>{let d=f.split(/[,\t]/gm),p=Object.fromEntries(d.map((m,h)=>[c[h],m]));return[p.name,{...p,...u[p.name]}]}));e(t.map(f=>({...f,...l[f.name]})))}else a(new Error('No "name" column found on line 1'))},children:"Update rows"}),(0,En.jsx)(to.Button,{variant:"contained",color:"primary",onClick:()=>{let s=n.split(`
`).map(u=>u.trim()).filter(u=>!!u),c=s[0].split(/[,\t]/gm);if(c.includes("name")){a("");let u=Object.fromEntries(t.map(f=>[f.name,f])),l=Object.fromEntries(s.slice(1).map(f=>{let d=f.split(/[,\t]/gm),p=Object.fromEntries(d.map((m,h)=>[c[h],m]));return[p.name,{...p,...u[p.name]}]}));e(t.map(f=>({...l[f.name]})))}else a(new Error('No "name" column found on line 1'))},children:"Replace rows"}),(0,En.jsx)(to.Button,{variant:"contained",color:"inherit",onClick:()=>{e()},children:"Cancel"})]})]})}var En,Vk,d7,to,p7,xTe,m7=A(()=>{En=g(F()),Vk=g($()),d7=g(He()),to=g(Q()),p7=g(me()),xTe=(0,p7.makeStyles)()({textAreaFont:{fontFamily:"Courier New"}})});function Yk(){return(0,On.jsxs)(On.Fragment,{children:["Helpful tips",(0,On.jsxs)("ul",{children:[(0,On.jsx)("li",{children:"You can select rows in the table with the checkboxes"}),(0,On.jsx)("li",{children:"Multi-select is enabled with shift-click and control-click"}),(0,On.jsx)("li",{children:'The "Move selected items up/down" can re-arrange subtracks'}),(0,On.jsx)("li",{children:"Sorting the data grid itself can also re-arrange subtracks"}),(0,On.jsx)("li",{children:"Changes are applied when you hit Submit"}),(0,On.jsx)("li",{children:"You can click and drag the dialog box to move it on the screen"}),(0,On.jsx)("li",{children:"Columns in the table can be hidden using a vertical '...' menu on the right side of each column"})]})]})}var On,h7=A(()=>{On=g(F())});var v7=y((W8e,g7)=>{g7.exports=JBrowseExports["@jbrowse/core/util/color"]});function Zk({setCurrLayout:e,currLayout:t}){if(!t.length||!t[0])return null;let r=Object.keys(t[0]).filter(n=>n!=="name"&&n!=="color"&&n!=="source"&&n!=="label"&&n!=="id"&&n!=="HP");return(0,Lp.jsxs)("div",{children:["Create color palette based on...",r.map(n=>(0,Lp.jsx)(Xk.Button,{variant:"contained",color:"inherit",onClick:()=>{let o=new Map;for(let a of t){let s=o.get(a[n]);s?o.set(a[n],s+1):o.set(a[n],1)}let i=Object.fromEntries([...o.entries()].sort((a,s)=>a[1]-s[1]).map((a,s)=>[a[0],b7.set1[s]||(0,y7.randomColor)(a[0])]));e(t.map(a=>({...a,color:i[a[n]]})))},children:n},n)),(0,Lp.jsx)(Xk.Button,{onClick:()=>{e(t.map(n=>({...n,color:void 0})))},children:"Clear colors"})]})}var Lp,b7,y7,Xk,_7=A(()=>{Lp=g(F()),b7=g(N0()),y7=g(v7()),Xk=g(Q())});function Jk({model:e,handleClose:t,title:r="Color/arrangement editor",enableBulkEdit:n=!1,enableRowPalettizer:o=!1,showTipsStorageKey:i="setColorDialog-showTips",SourcesGridComponent:a}){let{classes:s}=wTe(),{sources:c}=e,[u,l]=(0,Kk.useState)(!1),[f,d]=(0,Kk.useState)(structuredClone(c||[])),[p,m]=(0,w7.useLocalStorage)(i,!1);return(0,jt.jsx)(x7.default,{open:!0,onClose:t,maxWidth:"xl",title:r,children:u&&n?(0,jt.jsx)(Gk,{currLayout:f,onClose:h=>{h&&d(h),l(!1)}}):(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsxs)(vi.DialogContent,{className:s.content,children:[(0,jt.jsxs)("div",{className:s.fr,children:[(0,jt.jsx)(vi.Button,{variant:"contained",onClick:()=>{m(!p)},children:p?"Hide tips":"Show tips"}),n?(0,jt.jsx)(vi.Button,{color:"secondary",variant:"contained",onClick:()=>{l(!u)},children:"Show Bulk row editor"}):null]}),p?(0,jt.jsx)(Yk,{}):null,o?(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("br",{}),(0,jt.jsx)(Zk,{currLayout:f,setCurrLayout:d})]}):null,(0,jt.jsx)(a,{rows:f,onChange:d,showTips:p})]}),(0,jt.jsxs)(vi.DialogActions,{children:[(0,jt.jsx)(vi.Button,{variant:"contained",type:"submit",color:"inherit",onClick:()=>{e.clearLayout(),d(e.sources||[])},children:"Clear custom settings"}),(0,jt.jsx)(vi.Button,{variant:"contained",color:"secondary",onClick:()=>{t(),d([...e.sources||[]])},children:"Cancel"}),(0,jt.jsx)(vi.Button,{variant:"contained",color:"primary",type:"submit",onClick:()=>{e.setLayout(f),t()},children:"Submit"})]})]})})}var jt,Kk,x7,w7,vi,S7,wTe,C7=A(()=>{jt=g(F()),Kk=g($()),x7=g(f7()),w7=g(Z()),vi=g(Q()),S7=g(me());m7();h7();_7();wTe=(0,S7.makeStyles)()({content:{minWidth:800},fr:{float:"right",display:"flex",gap:8}})});var E7={};rt(E7,{default:()=>k7});function k7({model:e,handleClose:t}){return(0,T7.jsx)(Jk,{model:e,handleClose:t,title:"Multi-wiggle color/arrangement editor",enableBulkEdit:!0,enableRowPalettizer:!0,showTipsStorageKey:"multiwiggle-showTips",SourcesGridComponent:DW})}var T7,O7=A(()=>{T7=g(F());NW();C7()});var er,af,R7,xs,Dp,M7,Rn,P7,A7,STe,j7,I7=A(()=>{er=g(F()),af=g($()),R7=g(He()),xs=g(Z()),Dp=g(ma()),M7=g(bn()),Rn=g(Q()),P7=g(re()),A7=g(Me()),STe=(0,P7.observer)(function({model:e,children:t,handleClose:r}){let[n,o]=(0,af.useState)(""),[i,a]=(0,af.useState)(),[s,c]=(0,af.useState)(!1),[u,l]=(0,af.useState)(""),[f,d]=(0,af.useState)(!1),[p,m]=(0,xs.useLocalStorage)("cluster-samplesPerPixel","1");return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)(Rn.DialogContent,{children:[t,(0,er.jsxs)("div",{style:{marginTop:50},children:[(0,er.jsx)(Rn.Button,{variant:"contained",onClick:()=>{d(!f)},children:f?"Hide advanced options":"Show advanced options"}),f?(0,er.jsxs)("div",{style:{marginTop:20},children:[(0,er.jsx)(Rn.Typography,{children:"This procedure samples the data at each 'pixel' across the visible by default"}),(0,er.jsx)(Rn.TextField,{label:"Samples per pixel (>1 for denser sampling, between 0-1 for sparser sampling)",variant:"outlined",size:"small",value:p,onChange:h=>{m(h.target.value)}})]}):null]}),(0,er.jsxs)("div",{children:[s?(0,er.jsxs)("div",{style:{padding:50},children:[(0,er.jsx)("span",{children:n||"Loading..."}),(0,er.jsx)(Rn.Button,{onClick:()=>{(0,Dp.stopStopToken)(u)},children:"Stop"})]}):null,i?(0,er.jsx)(R7.ErrorMessage,{error:i}):null]})]}),(0,er.jsxs)(Rn.DialogActions,{children:[(0,er.jsx)(Rn.Button,{variant:"contained",disabled:s,onClick:async()=>{var h;try{a(void 0),o("Initializing"),c(!0);let v=(0,xs.getContainingView)(e);if(!v.initialized)return;let{rpcManager:b}=(0,xs.getSession)(e),{sourcesWithoutLayout:_,adapterConfig:S}=e;if(_){let w=(0,M7.getRpcSessionId)(e),T=(0,Dp.createStopToken)();l(T);let O=await b.call(w,"MultiWiggleClusterScoreMatrix",{regions:v.dynamicBlocks.contentBlocks,sources:_,sessionId:w,adapterConfig:S,stopToken:T,bpPerPx:v.bpPerPx/+p,statusCallback:R=>{o(R)}}),C=!((h=e.layout)===null||h===void 0)&&h.length?e.layout:_,M=Object.fromEntries(C.map(R=>[R.name,R]));e.setLayout(O.order.map(R=>{let k=_[R];if(!k)throw new Error(`out of bounds at ${R}`);return{...k,...M[k.name]}}))}r()}catch(v){!(0,xs.isAbortException)(v)&&(0,A7.isAlive)(e)&&(console.error(v),a(v))}finally{c(!1),o(""),l("")}},children:"Run clustering"}),(0,er.jsx)(Rn.Button,{variant:"contained",color:"secondary",onClick:()=>{r(),u&&(0,Dp.stopStopToken)(u)},children:"Cancel"})]})]})}),j7=STe});var Xe,Qi,e_,ea,L7,yt,D7,Qk,N7,F7,q7,CTe,TTe,B7,z7=A(()=>{Xe=g(F()),Qi=g($()),e_=g(He()),ea=g(Z()),L7=g(bn()),yt=g(Q()),D7=g(kf()),Qk=g(jy()),N7=g(re()),F7=g(Me()),q7=g(me()),CTe=(0,q7.makeStyles)()(e=>({textAreaFont:{fontFamily:"Courier New"},mgap:{display:"flex",flexDirection:"column",gap:e.spacing(4)}})),TTe=(0,N7.observer)(function({model:e,handleClose:t,children:r}){let{classes:n}=CTe(),[o,i]=(0,Qi.useState)(""),[a,s]=(0,Qi.useState)(),[c,u]=(0,Qi.useState)(),[l,f]=(0,Qi.useState)(!1),[d,p]=(0,ea.useLocalStorage)("cluster-showAdvanced",!1),[m,h]=(0,Qi.useState)("single"),[v,b]=(0,Qi.useState)("1");(0,Qi.useEffect)(()=>{(async()=>{try{u(void 0),s(void 0),f(!0);let w=(0,ea.getContainingView)(e),{dynamicBlocks:T,bpPerPx:O}=w,{rpcManager:C}=(0,ea.getSession)(e),{sourcesWithoutLayout:M,adapterConfig:R}=e,k=(0,L7.getRpcSessionId)(e),I=await C.call(k,"MultiWiggleGetScoreMatrix",{regions:T.contentBlocks,sources:M,sessionId:k,adapterConfig:R,bpPerPx:O/+v});s(I)}catch(w){!(0,ea.isAbortException)(w)&&(0,F7.isAlive)(e)&&(console.error(w),u(w))}finally{f(!1)}})()},[e,v]);let _=a?String.raw`inputMatrix<-matrix(c(${Object.values(a).map(w=>w.join(",")).join(`,
`)}
),nrow=${Object.values(a).length},byrow=TRUE)
rownames(inputMatrix)<-c(${Object.keys(a).map(w=>`'${w}'`).join(",")})
resultClusters<-hclust(dist(inputMatrix), method='${m}')
cat(resultClusters$order,sep='\n')`:void 0,S=a?Object.entries(a).map(([w,T])=>[w,...T].join("	")).join(`
`):void 0;return(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsxs)(yt.DialogContent,{children:[r,(0,Xe.jsxs)("div",{style:{marginTop:50},children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:[(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,Qk.saveAs)(new Blob([_||""],{type:"text/plain;charset=utf-8"}),"cluster.R")},children:"Download Rscript"})," ","or"," ",(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,D7.default)(_||"")},children:"Copy Rscript to clipboard"})," ","or"," ",(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{(0,Qk.saveAs)(new Blob([S||""],{type:"text/plain;charset=utf-8"}),"scores.tsv")},children:"Download TSV"})]}),(0,Xe.jsx)("div",{children:(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{p(!d)},children:d?"Hide advanced options":"Show advanced options"})}),d?(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)(yt.Typography,{variant:"h6",children:"Advanced options"}),(0,Xe.jsx)(yt.RadioGroup,{children:Object.entries({single:"Single",complete:"Complete"}).map(([w,T])=>(0,Xe.jsx)(yt.FormControlLabel,{control:(0,Xe.jsx)(yt.Radio,{checked:m===w,onChange:()=>{h(w)}}),label:T},w))}),(0,Xe.jsxs)("div",{style:{marginTop:20},children:[(0,Xe.jsx)(yt.Typography,{children:"This procedure samples the data at each 'pixel' across the visible by default"}),(0,Xe.jsx)(yt.TextField,{label:"Samples per pixel (>1 for denser sampling, between 0-1 for sparser sampling)",variant:"outlined",size:"small",value:v,onChange:w=>{b(w.target.value)}})]})]}):null,_?(0,Xe.jsx)("div",{}):l?(0,Xe.jsx)(e_.LoadingEllipses,{variant:"h6",message:"Generating score matrix"}):c?(0,Xe.jsx)(e_.ErrorMessage,{error:c}):null]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)(yt.Typography,{variant:"subtitle2",gutterBottom:!0,style:{marginTop:"16px"},children:"Clustering Results:"}),(0,Xe.jsx)(yt.TextField,{multiline:!0,fullWidth:!0,variant:"outlined",placeholder:"Paste results from Rscript here (sequence of numbers, one per line, specifying the new ordering)",rows:10,value:o,onChange:w=>{i(w.target.value)},slotProps:{input:{classes:{input:n.textAreaFont}}}})]})]})]}),(0,Xe.jsxs)(yt.DialogActions,{children:[(0,Xe.jsx)(yt.Button,{variant:"contained",onClick:()=>{var w;let{sourcesWithoutLayout:T}=e;if(T)try{let O=!((w=e.layout)===null||w===void 0)&&w.length?e.layout:T,C=Object.fromEntries(O.map(M=>[M.name,M]));e.setLayout(o.split(`
`).map(M=>M.trim()).filter(M=>!!M).map(M=>+M).map(M=>{let R=T[M-1];if(!R)throw new Error(`out of bounds at ${M}`);return{...R,...C[R.name]}}))}catch(O){console.error(O),(0,ea.getSession)(e).notifyError(`${O}`,O)}t()},children:"Apply clustering"}),(0,Xe.jsx)(yt.Button,{variant:"contained",color:"secondary",onClick:()=>{t()},children:"Cancel"})]})]})}),B7=TTe});var V7={};rt(V7,{default:()=>ETe});function H7({activeMode:e,setActiveMode:t}){return(0,ro.jsx)("div",{children:(0,ro.jsx)(sf.RadioGroup,{children:Object.entries({auto:(0,ro.jsx)("div",{children:"Run in-app clustering (slower, particularly for large numbers of samples, uses JS implementation of hclust)"}),manual:(0,ro.jsx)("div",{children:"Download R script to run clustering (faster, uses R implementation of hclust)"})}).map(([r,n])=>(0,ro.jsx)(sf.FormControlLabel,{control:(0,ro.jsx)(sf.Radio,{checked:e===r,onChange:()=>{t(r)}}),label:n},r))})})}var ro,W7,$7,sf,U7,kTe,ETe,G7=A(()=>{ro=g(F()),W7=g($()),$7=g(He()),sf=g(Q()),U7=g(re());I7();z7();kTe=(0,U7.observer)(function({model:e,handleClose:t}){let[r,n]=(0,W7.useState)("auto");return(0,ro.jsx)($7.Dialog,{open:!0,title:"Cluster by score",maxWidth:"xl",onClose:(o,i)=>{i!=="backdropClick"&&t()},children:r==="auto"?(0,ro.jsx)(j7,{model:e,handleClose:t,children:(0,ro.jsx)(H7,{activeMode:r,setActiveMode:n})}):(0,ro.jsx)(B7,{model:e,handleClose:t,children:(0,ro.jsx)(H7,{activeMode:r,setActiveMode:n})})})}),ETe=kTe});var eE=y((d4e,X7)=>{X7.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/TrackType"]});var s$=y(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.default=GTe;var a$=lo();function GTe(e,t="",r=5e3){let n=[e];for(;n.length;){let o=n.pop();for(let[i,a]of Object.entries(o)){if(t.length>r)return(0,a$.hashCode)(t);typeof a=="object"&&a!==null?n.push(a):t+=`${i}-${a}`}}return`adp-${(0,a$.hashCode)(t)}`}});var u$=y(Np=>{"use strict";var YTe=Np&&Np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Np,"__esModule",{value:!0});Np.adapterConfigCacheKey=ZTe;var XTe=YTe(s$());function ZTe(e={}){return`${(0,XTe.default)(e)}`}});var qp=y(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.getAdapter=c$;Fp.freeAdapterResources=QTe;Fp.clearAdapterCache=eke;var KTe=u$(),ku={};async function JTe(e,t,r){let n=r?.type;if(!n)throw new Error(`could not determine adapter type from adapter config snapshot ${JSON.stringify(r)}`);let o=e.getAdapterType(n);if(!o)throw new Error(`unknown data adapter type ${n}`);let i=o.configSchema.create(r,{pluginManager:e}),a=c$.bind(null,e,t),s=await o.getAdapterClass();return{dataAdapter:new s(i,a,e),sessionIds:new Set([t])}}async function c$(e,t,r){var n;let o=(0,KTe.adapterConfigCacheKey)(r);(n=ku[o])!==null&&n!==void 0||(ku[o]=JTe(e,t,r));let i=await ku[o];return i.sessionIds.add(t),i}async function QTe(e){let t=Object.keys(e);if(t.length===1&&t[0]==="sessionId"){let{sessionId:r}=e;for(let[n,o]of Object.entries(ku)){let i=await o;i.sessionIds.delete(r),i.sessionIds.size===0&&delete ku[n]}}else for(let r of Object.values(ku)){let n=await r,o=e.regions||(e.region?[e.region]:[]);for(let i of o)i.refName!==void 0&&n.dataAdapter.freeResources(i)}}function eke(){ku={}}});var l$=y(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});var rE=class{constructor(t){this.name=t?.name||"UNKNOWN",this.maybeDisplayName=t?.displayName}get displayName(){return this.maybeDisplayName||this.name}};nE.default=rE});var d$=y(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.default=oE;var f$=e=>typeof e=="object"&&e!==null,tke=e=>f$(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob);function oE(e,t,r=new WeakSet){if(r.has(e))return;r.add(e);let n=o=>{for(let i of o)t(i),f$(i)&&oE(i,t,r)};Array.isArray(e)&&n(e);for(let o of Object.values(e))t(o),tke(o)&&(Array.isArray(o)?n(o):oE(o,t,r))}});var m$=y(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.UNSUPPORTED=St.UNKNOWN=void 0;St.getTrackAssemblyNames=rke;St.getConfAssemblyNames=p$;St.getRpcSessionId=nke;St.getParentRenderProps=oke;St.getBlob=ike;St.getBlobMap=ake;St.setBlobMap=ske;St.storeBlobLocation=cke;St.makeIndex=lke;St.makeIndexType=fke;St.getFileName=dke;St.guessAdapter=pke;St.guessTrackType=mke;St.generateUnsupportedTrackConf=hke;St.generateUnknownTrackConf=gke;St.getTrackName=vke;var cf=Me(),Bp=lo(),uf=Yx();function rke(e){return p$(e.configuration)}function p$(e){let t=(0,uf.readConfObject)(e,"assemblyNames");if(!t){let r=(0,cf.getParent)(e);if("sequence"in r)return[(0,uf.readConfObject)(r,"name")];throw new Error("unknown assembly names")}return t}function nke(e){let t;for(let r=e;!(0,cf.isRoot)(r);r=(0,cf.getParent)(r))"rpcSessionId"in r&&(t=r.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t}function oke(e){for(let t=(0,cf.getParent)(e);!(0,cf.isRoot)(t);t=(0,cf.getParent)(t))if("renderProps"in t)return t.renderProps();return{}}St.UNKNOWN="UNKNOWN";St.UNSUPPORTED="UNSUPPORTED";var n_={};function ike(e){return n_[e]}function ake(){return n_}function ske(e){n_=e}var uke=0;function cke(e){if("blob"in e){let t=`b${Date.now()}-${uke++}`;return n_[t]=e.blob,{name:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e}function lke(e,t){return"uri"in e?{uri:e.uri+t,locationType:"UriLocation"}:"localPath"in e?{localPath:e.localPath+t,locationType:"LocalPathLocation"}:e}function fke(e,t,r){return e?.toUpperCase().endsWith(t)?t:r}function dke(e){let t="uri"in e?e.uri:void 0,r="localPath"in e?e.localPath:void 0,n="blobId"in e?e:void 0;return n?.name||t?.slice(t.lastIndexOf("/")+1)||r?.slice(r.replace(/\\/g,"/").lastIndexOf("/")+1)||""}function pke(e,t,r,n){if(n){let{pluginManager:o}=(0,Bp.getEnv)(n),a=o.evaluateExtensionPoint("Core-guessAdapterForLocation",(s,c,u)=>{})(e,t,r);if(a)return a}return{type:St.UNKNOWN}}function mke(e,t){if(t){let r=(0,Bp.getSession)(t),o=(0,Bp.getEnv)(r).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",i=>{})(e);if(o)return o}return"FeatureTrack"}function hke(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unsupported)`,description:`Support not yet implemented for "${t}"`,category:r,trackId:""};return n.trackId=(0,Bp.objectHash)(n),n}function gke(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unknown)`,description:`Could not determine track type for "${t}"`,category:r,trackId:""};return n.trackId=(0,Bp.objectHash)(n),n}function vke(e,t){let r=(0,uf.readConfObject)(e,"name");if(!r&&(0,uf.readConfObject)(e,"type")==="ReferenceSequenceTrack"){let n=t.assemblies.find(o=>o.sequence===e);return n?`Reference sequence (${(0,uf.readConfObject)(n,"displayName")||(0,uf.readConfObject)(n,"name")})`:"Reference sequence"}return r}});var v$=y(zp=>{"use strict";var g$=zp&&zp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zp,"__esModule",{value:!0});var bke=g$(l$()),yke=g$(d$()),h$=m$(),o_=pd(),aE=class extends bke.default{constructor(t){super(),this.pluginManager=t}async serializeArguments(t,r){let n=(0,h$.getBlobMap)();return await this.augmentLocationObjects(t,r),{...t,blobMap:n}}async serializeNewAuthArguments(t,r){let n=this.pluginManager.rootModel;if(!(0,o_.isAppRootModel)(n)||t.internetAccountPreAuthorization)return t;let o=n.findAppropriateInternetAccount(t);return o&&r!=="MainThreadRpcDriver"&&(t.internetAccountPreAuthorization=await o.getPreAuthorizationInformation(t)),t}async deserializeArguments(t,r){return t.blobMap&&(0,h$.setBlobMap)(t.blobMap),t}async serializeReturn(t,r,n){return t}async deserializeReturn(t,r,n){var o;let i;try{i=await t}catch(a){if((0,o_.isAuthNeededException)(a)){let s=(o=this.pluginManager.rootModel)===null||o===void 0?void 0:o.createEphemeralInternetAccount(`HTTPBasicInternetAccount-${new URL(a.url).origin}`,{},a.url);throw new o_.RetryError("Retrying with created internet account",s.internetAccountId)}throw a}return i}async augmentLocationObjects(t,r){let n=[];(0,yke.default)(t,o=>{(0,o_.isUriLocation)(o)&&n.push(o)});for(let o of n)await this.serializeNewAuthArguments(o,r);return t}};zp.default=aE});var lf=y(Hp=>{"use strict";var b$=Hp&&Hp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hp,"__esModule",{value:!0});var _ke=b$(v$()),xke=lo(),wke=b$(Jp()),sE=class extends _ke.default{async deserializeArguments(t,r){return{...await super.deserializeArguments(t,r),filters:t.filters?new wke.default({filters:t.filters}):void 0}}async serializeArguments(t,r){var n,o,i;let s=(o=(n=this.pluginManager.rootModel)===null||n===void 0?void 0:n.session)===null||o===void 0?void 0:o.assemblyManager;if(!s)throw new Error("no assembly manager");let c=await(0,xke.renameRegionsIfNeeded)(s,{...t,filters:(i=t.filters)===null||i===void 0?void 0:i.toJSON().filters});return super.serializeArguments(c,r)}};Hp.default=sE});var S$=y(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.euclideanDistance=x$;Wp.averageDistance=w$;Wp.clusterData=jke;var y$=ma();function _$(e){return Number.parseFloat((e*100).toFixed(1))}function x$(e,t){let r=Math.min(e.length,t.length),n=0;for(let o=0;o<r;o++)n+=(e[o]-t[o])*(e[o]-t[o]);return Math.sqrt(n)}function w$(e,t,r){let n=0,o=e.length,i=t.length;for(let a=0;a<o;a++)for(let s=0;s<i;s++)n+=r[e[a]][t[s]];return n/e.length/t.length}function jke({data:e,distance:t=x$,linkage:r=w$,onProgress:n,stopToken:o}){let i=performance.now(),a=performance.now(),s=[];for(let l=0;l<e.length;l++){let f=performance.now();f-i>400&&((0,y$.checkStopToken)(o),i=performance.now()),f-a>50&&(n?.(`Making distance matrix: ${_$(l/(e.length-1))}%`),a=performance.now());let d=[];for(let p=0;p<e.length;p++)d.push(t(e[l],e[p]));s.push(d)}let c=e.map((l,f)=>({height:0,indexes:[f]})),u=[];i=performance.now(),a=performance.now();for(let l=0;l<e.length;l++){let f=performance.now();if(f-i>400&&((0,y$.checkStopToken)(o),i=performance.now()),f-a>50&&(n?.(`Clustering: ${_$((l+1)/e.length)}%`),a=performance.now()),u.push(c.map(v=>v.indexes)),l>=e.length-1)break;let d=1/0,p=0,m=0;for(let v=0;v<c.length;v++)for(let b=v+1;b<c.length;b++){let _=r(c[v].indexes,c[b].indexes,s);_<d&&(d=_,p=v,m=b)}let h={indexes:[...c[p].indexes,...c[m].indexes],height:d,children:[c[p],c[m]]};c.splice(Math.max(p,m),1),c.splice(Math.min(p,m),1),c.push(h)}return u=[[],...u.reverse()],{clusters:c[0],distances:s,order:c[0].indexes,clustersGivenK:u}}});var D$={};rt(D$,{default:()=>Wke});function zke(e){(0,j$.stringToJexlExpression)(e)}var It,A$,j$,ta,I$,L$,Bke,Hke,Wke,N$=A(()=>{"use strict";It=g($()),A$=g(He()),j$=g(Tf()),ta=g(Q()),I$=g(re()),L$=g(me()),Bke=(0,L$.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},error:{color:"red",fontSize:"0.8em"}});Hke=(0,I$.observer)(function({model:e,handleClose:t}){let{classes:r}=Bke(),{activeFilters:n}=e,[o,i]=(0,It.useState)(n.join(`
`)),[a,s]=(0,It.useState)();return(0,It.useEffect)(()=>{try{o.split(`
`).map(c=>c.trim()).filter(c=>!!c).map(c=>{zke(c.trim())}),s(void 0)}catch(c){console.error(c),s(c)}},[o]),It.default.createElement(A$.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Add track filters"},It.default.createElement(ta.DialogContent,null,It.default.createElement("div",null,"Add filters, in jexl format, one per line, starting with the string jexl:. Examples:"," ",It.default.createElement("ul",null,It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'name')=='BRCA1'")," - show only feature where the name attribute is BRCA1"),It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'type')=='gene'")," - show only gene type features in a GFF that has many other feature types"),It.default.createElement("li",null,It.default.createElement("code",null,"jexl:get(feature,'score') > 400")," - show only features that have a score greater than 400"))),a?It.default.createElement("p",{className:r.error},`${a}`):null,It.default.createElement(ta.TextField,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,className:r.dialogContent,fullWidth:!0,value:o,onChange:c=>{i(c.target.value)},slotProps:{input:{classes:{input:r.textAreaFont}}}})),It.default.createElement(ta.DialogActions,null,It.default.createElement(ta.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!!a,onClick:()=>{e.setJexlFilters(o.split(`
`)),t()}},"Submit"),It.default.createElement(ta.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))}),Wke=Hke});var Kke={};rt(Kke,{default:()=>s_});var J$=g(Gp());var OE=g(Yp()),RE=g(xe());function d_(e){e.addAdapterType(()=>{let t=e.getAdapterType("BedTabixAdapter"),r=(0,RE.ConfigurationSchema)("GWASAdapter",{},{baseConfiguration:t.configSchema,explicitlyTyped:!0});return new OE.default({name:"GWASAdapter",displayName:"GWAS adapter",configSchema:r,getAdapterClass:t.getAdapterClass})})}var NE=g($()),sU=(0,NE.lazy)(()=>Promise.resolve().then(()=>(DE(),LE)));function p_(e){e.addToExtensionPoint("Core-addTrackComponent",(t,{model:r})=>r.trackAdapterType==="GWASAdapter"?sU:t)}var Xp=g(An());var qE=g(xe()),BE=g(An());function m_(e){return(0,qE.ConfigurationSchema)("GWASTrack",{},{baseConfiguration:(0,BE.createBaseTrackConfig)(e)})}function h_(e){e.addTrackType(()=>{let t=m_(e);return new Xp.TrackType({name:"GWASTrack",displayName:"GWAS track",configSchema:t,stateModel:(0,Xp.createBaseTrackModel)(e,"GWASTrack",t)})})}var WE=g(Z()),Cs=g(bn());function g_(e){e.addToExtensionPoint("Core-guessAdapterForLocation",t=>(r,n,o)=>{let i=(0,Cs.getFileName)(r),a=n&&(0,Cs.getFileName)(n);return(0,WE.testAdapter)(i,/\.txt\.gz$/i,o,"GWASAdapter")?{type:"GWASAdapter",bedGzLocation:r,index:{location:n||(0,Cs.makeIndex)(r,".tbi"),indexType:(0,Cs.makeIndexType)(a,"CSI","TBI")}}:t(r,n,o)}),e.addToExtensionPoint("Core-guessTrackTypeForLocation",t=>r=>r==="GWASAdapter"?"GWASTrack":t(r))}var z$=g(An());var v_=g(xe()),Zp=g(Me());function UE(e){let t=e.getPlugin("LinearGenomeViewPlugin"),{baseLinearDisplayConfigSchema:r}=t.exports,n=e.getRendererType("LinearManhattanRenderer").configSchema;return(0,v_.ConfigurationSchema)("LinearManhattanDisplay",{mouseover:{type:"string",defaultValue:"jexl:getTooltip(feature)",contextVariable:["feature"]},autoscale:{type:"stringEnum",defaultValue:"local",model:Zp.types.enumeration("Autoscale type",["global","local","globalsd","localsd","zscore"]),description:"global/local using their min/max values or w/ standard deviations (globalsd/localsd)"},minScore:{type:"number",defaultValue:Number.MIN_VALUE,description:"minimum value for the y-scale"},maxScore:{type:"number",description:"maximum value for the y-scale",defaultValue:Number.MAX_VALUE},numStdDev:{type:"number",description:"number of standard deviations to use for autoscale types globalsd or localsd",defaultValue:3},scaleType:{type:"stringEnum",model:Zp.types.enumeration("Scale type",["linear","log"]),description:"The type of scale to use",defaultValue:"linear"},inverted:{type:"boolean",description:"draw upside down",defaultValue:!1},defaultRendering:{type:"stringEnum",model:Zp.types.enumeration("Rendering",["density","xyplot","line"]),defaultValue:"xyplot"},renderers:(0,v_.ConfigurationSchema)("RenderersConfiguration",{LinearManhattanRenderer:n})},{baseConfiguration:r,explicitlyTyped:!0})}var F$=g($()),i_=g(xe()),q$=g(Jp()),Io=g(Z()),ra=g(Me());var $p=g($()),O$=g(xe()),R$=g(He());var Nke=g(Gp());var vV=g(Yp());var EO=g(xe());var WEe=(0,EO.ConfigurationSchema)("BigWigAdapter",{bigWigLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.bw",locationType:"UriLocation"}},source:{type:"string",defaultValue:"",description:"Used for multiwiggle"},resolutionMultiplier:{type:"number",defaultValue:1,description:"Initial resolution multiplier"}},{explicitlyTyped:!0,preProcessSnapshot:e=>e.uri?{...e,bigWigLocation:{uri:e.uri,baseUri:e.baseUri}}:e});var lF=g($()),Fve=g(xe()),fF=g(Z()),UIe=(0,lF.lazy)(()=>Promise.resolve().then(()=>(cF(),uF)));var qve=g(pF()),mF=g(Z());var vF=g(xe());var hF=g(xe()),gF=g(Me());var Bve=(0,hF.ConfigurationSchema)("WiggleRenderer",{color:{type:"color",description:"the color of track, overrides posColor and negColor",defaultValue:"#f0f",contextVariable:["feature"]},posColor:{type:"color",description:"the color to use when the score is positive",defaultValue:"blue",contextVariable:["feature"]},negColor:{type:"color",description:"the color to use when the score is negative",defaultValue:"red",contextVariable:["feature"]},clipColor:{type:"color",description:"the color of the clipping marker",defaultValue:"red"},bicolorPivot:{type:"stringEnum",model:gF.types.enumeration("Scale type",["numeric","mean","z_score","none"]),description:"type of bicolor pivot",defaultValue:"numeric"},bicolorPivotValue:{type:"number",defaultValue:0,description:"value to use for bicolor pivot"}},{explicitlyTyped:!0}),Rr=Bve;var QIe=(0,vF.ConfigurationSchema)("DensityRenderer",{},{baseConfiguration:Rr,explicitlyTyped:!0});var DS=g(F()),bF=g($()),yF=g(He()),_F=g(re()),tLe=(0,_F.observer)(function(e){let{regions:t,features:r,bpPerPx:n,width:o,height:i,onMouseLeave:a,onMouseMove:s,onFeatureClick:c}=e,u=t[0],l=(0,bF.useRef)(null);function f(d){let p=0;l.current&&(p=l.current.getBoundingClientRect().left);let m=d-p,h=u.reversed?o-m:m,v=u.start+n*h,b;for(let _ of r.values())if(v<=_.get("end")+n&&v>=_.get("start")){b=_;break}return b}return(0,DS.jsx)("div",{ref:l,"data-testid":"wiggle-rendering-test",onMouseMove:d=>{var p;return s?.(d,(p=f(d.clientX))===null||p===void 0?void 0:p.id())},onClick:d=>{var p;return c?.(d,(p=f(d.clientX))===null||p===void 0?void 0:p.id())},onMouseLeave:d=>a?.(d),style:{overflow:"visible",position:"relative",height:i},children:(0,DS.jsx)(yF.PrerenderedCanvas,{...e})})});var zve=g(Z()),Hve=g(bn());var xF=g(xe());var fLe=(0,xF.ConfigurationSchema)("LinePlotRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1}},{baseConfiguration:Rr,explicitlyTyped:!0});var $ve=g(xe());Vn();var vCe=g($()),bCe=g(NS());var Gwe=g(xe()),Ywe=g(Me());var $we=g(xe());L0();var Uwe=g(Me());var kk=g($()),pCe=g(xe()),iW=g(Z());var mCe=g(Me()),hCe=g(D0());var T9=g($()),hk=g(xe()),gk=g(Z()),rSe=g(ma());L0();var nSe=g(Me());Vn();var m6e=(0,T9.lazy)(()=>Promise.resolve().then(()=>(C9(),S9)));Vn();var k6e=(0,kk.lazy)(()=>Promise.resolve().then(()=>(bk(),A9))),E6e=(0,kk.lazy)(()=>Promise.resolve().then(()=>(oW(),nW)));bk();pW();var hW=g(xe());var H6e=(0,hW.ConfigurationSchema)("MultiDensityRenderer",{},{baseConfiguration:Rr,explicitlyTyped:!0});var Ok=g(F()),gW=g($()),vW=g(He()),bW=g(Z()),yW=g(re()),$6e=(0,yW.observer)(function(e){let{regions:t,features:r,bpPerPx:n,width:o,height:i,sources:a,onMouseLeave:s=()=>{},onMouseMove:c=()=>{},onFeatureClick:u=()=>{},displayModel:l}=e,f=t[0],d=(0,gW.useRef)(null),{isMultiRow:p}=l||{};function m(h,v){if(!d.current)return;let b=d.current.getBoundingClientRect(),_=h-b.left,S=v-b.top,w=a[Math.floor(S/i*a.length)];if(!w)return;let T=f.reversed?o-_:_,O=f.start+n*T,C;if(p){for(let M of r.values())if(M.get("source")===w.name&&O<=M.get("end")+n&&O>=M.get("start")){C=M;break}}else{let M=[];for(let R of r.values())O<=R.get("end")+n&&O>=R.get("start")&&M.push(R);if(M.length){let R=Math.floor(O);C=new bW.SimpleFeature({uniqueId:"mouseoverfeat",sources:Object.fromEntries(M.map(k=>k.toJSON()).map(k=>{let{refName:I,start:B,end:L,source:E,...N}=k;return[E,N]})),...f,start:R,end:R+1})}}return C}return(0,Ok.jsx)("div",{ref:d,onMouseMove:h=>{let{clientX:v,clientY:b}=h,_=m(v,b);c(h,_)},onClick:h=>{let{clientX:v,clientY:b}=h,_=m(v,b);u(h,_)},onMouseLeave:h=>{s(h)},style:{overflow:"visible",position:"relative",height:i},children:(0,Ok.jsx)(vW.PrerenderedCanvas,{...e})})});var _W=g(Z());var xW=g(Z());var wW=g(xe()),SW=g(Me());var n8e=(0,wW.ConfigurationSchema)("MultiLineRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:SW.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"}},{baseConfiguration:Rr,explicitlyTyped:!0});var jTe=g($()),ITe=g(NS());var yCe=g(xe()),_Ce=g(Me());var t_=g($()),OTe=g(xe()),RTe=g(N0()),r_=g(Z()),MTe=g(ma()),PTe=g(TW()),Y7=g(Me()),ATe=g(D0());Vn();var n4e=(0,t_.lazy)(()=>Promise.resolve().then(()=>(RW(),OW))),o4e=(0,t_.lazy)(()=>Promise.resolve().then(()=>(O7(),E7))),i4e=(0,t_.lazy)(()=>Promise.resolve().then(()=>(G7(),V7)));var NTe=g(eE()),FTe=g(eu());var LTe=g(xe()),DTe=g(eu());var Z7=g(Z());var K7=g(xe()),J7=g(Me());var _4e=(0,K7.ConfigurationSchema)("MultiRowLineRenderer",{displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:J7.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"}},{baseConfiguration:Rr,explicitlyTyped:!0});var Q7=g(Z());var e$=g(xe()),t$=g(Me());var P4e=(0,e$.ConfigurationSchema)("MultiRowXYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:t$.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Rr,explicitlyTyped:!0});var qTe=g(Yp());var r$=g(xe());var q4e=(0,r$.ConfigurationSchema)("MultiWiggleAdapter",{subadapters:{type:"frozen",defaultValue:[],description:"array of subadapter JSON objects"},bigWigs:{type:"frozen",description:"array of bigwig filenames, alternative to the subadapters slot",defaultValue:[]}},{explicitlyTyped:!0});var BTe=g($()),zTe=g(An()),HTe=g(Me());var n$=g(Z());Vn();var o$=g(xe()),i$=g(Me());var X4e=(0,o$.ConfigurationSchema)("MultiXYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:i$.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"avg"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Rr,explicitlyTyped:!0});var UTe=g(eE()),VTe=g(eu());var WTe=g(xe()),$Te=g(eu());var Ske=g(qp()),Cke=g(lf());var Tke=g(qp()),kke=g(lf());var Eke=g(qp()),Oke=g(lf());var Ake=g(lf());var Rke=g(qp()),Mke=g(Z());var Ike=g(lf()),Lke=g(S$());var Dke=g(xe());Vn();var C$=g(xe()),T$=g(Me());var Ize=(0,C$.ConfigurationSchema)("XYPlotRenderer",{filled:{type:"boolean",defaultValue:!0},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1},summaryScoreMode:{type:"stringEnum",model:T$.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},minSize:{type:"number",defaultValue:.7}},{baseConfiguration:Rr,explicitlyTyped:!0});Vn();Vn();var M$=g(re()),Fke=$p.default.forwardRef(function({model:t,feature:r},n){return $p.default.createElement("div",{ref:n},$p.default.createElement(R$.SanitizedHTML,{html:(0,O$.getConf)(t,"mouseover",{feature:r})}))}),qke=(0,M$.observer)(function(e){return $p.default.createElement(Sp,{TooltipContents:Fke,...e})}),P$=qke;var $ke=(0,F$.lazy)(()=>Promise.resolve().then(()=>(N$(),D$)));function B$(e,t){let r=e.getPlugin("WigglePlugin"),{linearWiggleDisplayModelFactory:n}=r.exports;return ra.types.compose("LinearManhattanDisplay",n(e,t),ra.types.model({type:ra.types.literal("LinearManhattanDisplay"),configuration:(0,i_.ConfigurationReference)(t),jexlFilters:ra.types.maybe(ra.types.array(ra.types.string))})).views(o=>({get TooltipComponent(){return P$},get rendererTypeName(){return"LinearManhattanRenderer"},get needsScalebar(){return!0},get graphType(){return!0},get regionTooLarge(){return!1},get activeFilters(){return o.jexlFilters??(0,i_.getConf)(o,"jexlFilters").map(i=>`jexl:${i}`)}})).actions(o=>({selectFeature(i){let a=(0,Io.getSession)(o);if((0,Io.isSessionModelWithWidgets)(a)){let s=a.addWidget("BaseFeatureWidget","baseFeature",{view:(0,Io.getContainingView)(o),track:(0,Io.getContainingTrack)(o),featureData:i.toJSON()});a.showWidget(s)}(0,Io.isSelectionContainer)(a)&&a.setSelection(i)},setJexlFilters(i){o.jexlFilters=(0,ra.cast)(i)}})).views(o=>{let{trackMenuItems:i,renderProps:a}=o;return{renderProps(){return{...a(),config:o.rendererConfig,filters:new q$.default({filters:o.activeFilters})}},trackMenuItems(){return[...i(),{label:"Edit filters",onClick:()=>{(0,Io.getSession)(o).queueDialog(s=>[$ke,{model:o,handleClose:s}])}}]}}})}function uE(e){let t=e.getPlugin("WigglePlugin"),{LinearWiggleDisplayReactComponent:r}=t.exports;e.addDisplayType(()=>{let n=UE(e);return new z$.DisplayType({name:"LinearManhattanDisplay",configSchema:n,stateModel:B$(e,n),trackType:"GWASTrack",viewType:"LinearGenomeView",ReactComponent:r})})}function Uke(e=0){return+(+e).toPrecision(6)}var cE=e=>e.toLocaleString("en-US");function Vke(e){let t=e.get("start")+1,r=e.get("end"),n=e.get("refName"),o=e.get("name"),i=e.get("rsid");return`${[n,t===r?cE(t):`${cE(t)}..${cE(r)}`].filter(s=>!!s).join(":")}<br/>${Uke(e.get("score"))}<br/>${o||i}`}function lE(e){e.jexl.addFunction("getTooltip",t=>Vke(t))}var $$=g(xe()),a_=g(Z());var Up=class{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){let o=n-1>>1,i=this.values[o];if(r>=i)break;this.ids[n]=this.ids[o],this.values[n]=i,n=o}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;let t=this.ids,r=this.values,n=t[0],o=--this.length;if(o>0){let i=t[o],a=r[o],s=0,c=o>>1;for(;s<c;){let u=(s<<1)+1,l=u+1,f=u+(+(l<o)&+(r[l]<r[u]));if(r[f]>=a)break;t[s]=t[f],r[s]=r[f],s=f}t[s]=i,r[s]=a}return n}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}};var H$=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],fE=3,Eu=class e{static from(t,r=0){if(r%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");let[n,o]=new Uint8Array(t,r+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");let i=o>>4;if(i!==fE)throw new Error(`Got v${i} data when expected v${fE}.`);let a=H$[o&15];if(!a)throw new Error("Unrecognized array type.");let[s]=new Uint16Array(t,r+2,1),[c]=new Uint32Array(t,r+4,1);return new e(c,s,a,void 0,t,r)}constructor(t,r=16,n=Float64Array,o=ArrayBuffer,i,a=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.byteOffset=a;let s=t,c=s;this._levelBounds=[s*4];do s=Math.ceil(s/this.nodeSize),c+=s,this._levelBounds.push(c*4);while(s!==1);this.ArrayType=n,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;let u=H$.indexOf(n),l=c*4*n.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${n}.`);if(i)this.data=i,this._boxes=new n(i,a+8,c*4),this._indices=new this.IndexArrayType(i,a+8+l,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{let f=this.data=new o(8+l+c*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new n(f,8,c*4),this._indices=new this.IndexArrayType(f,8+l,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(f,0,2).set([251,(fE<<4)+u]),new Uint16Array(f,2,1)[0]=r,new Uint32Array(f,4,1)[0]=t}this._queue=new Up}add(t,r,n=t,o=r){let i=this._pos>>2,a=this._boxes;return this._indices[i]=i,a[this._pos++]=t,a[this._pos++]=r,a[this._pos++]=n,a[this._pos++]=o,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),o>this.maxY&&(this.maxY=o),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);let t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}let r=this.maxX-this.minX||1,n=this.maxY-this.minY||1,o=new Uint32Array(this.numItems),i=65535;for(let a=0,s=0;a<this.numItems;a++){let c=t[s++],u=t[s++],l=t[s++],f=t[s++],d=Math.floor(i*((c+l)/2-this.minX)/r),p=Math.floor(i*((u+f)/2-this.minY)/n);o[a]=Yke(d,p)}dE(o,t,this._indices,0,this.numItems-1,this.nodeSize);for(let a=0,s=0;a<this._levelBounds.length-1;a++){let c=this._levelBounds[a];for(;s<c;){let u=s,l=t[s++],f=t[s++],d=t[s++],p=t[s++];for(let m=1;m<this.nodeSize&&s<c;m++)l=Math.min(l,t[s++]),f=Math.min(f,t[s++]),d=Math.max(d,t[s++]),p=Math.max(p,t[s++]);this._indices[this._pos>>2]=u,t[this._pos++]=l,t[this._pos++]=f,t[this._pos++]=d,t[this._pos++]=p}}}search(t,r,n,o,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=[],c=[];for(;a!==void 0;){let u=Math.min(a+this.nodeSize*4,W$(a,this._levelBounds));for(let l=a;l<u;l+=4){let f=this._boxes[l];if(n<f)continue;let d=this._boxes[l+1];if(o<d)continue;let p=this._boxes[l+2];if(t>p)continue;let m=this._boxes[l+3];if(r>m)continue;let h=this._indices[l>>2]|0;a>=this.numItems*4?s.push(h):(i===void 0||i(h,f,d,p,m))&&c.push(h)}a=s.pop()}return c}neighbors(t,r,n=1/0,o=1/0,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=this._queue,c=[],u=o*o;e:for(;a!==void 0;){let l=Math.min(a+this.nodeSize*4,W$(a,this._levelBounds));for(let f=a;f<l;f+=4){let d=this._indices[f>>2]|0,p=this._boxes[f],m=this._boxes[f+1],h=this._boxes[f+2],v=this._boxes[f+3],b=t<p?p-t:t>h?t-h:0,_=r<m?m-r:r>v?r-v:0,S=b*b+_*_;S>u||(a>=this.numItems*4?s.push(d<<1,S):(i===void 0||i(d))&&s.push((d<<1)+1,S))}for(;s.length&&s.peek()&1;)if(s.peekValue()>u||(c.push(s.pop()>>1),c.length===n))break e;a=s.length?s.pop()>>1:void 0}return s.clear(),c}};function W$(e,t){let r=0,n=t.length-1;for(;r<n;){let o=r+n>>1;t[o]>e?n=o:r=o+1}return t[r]}function dE(e,t,r,n,o,i){if(Math.floor(n/i)>=Math.floor(o/i))return;let a=e[n],s=e[n+o>>1],c=e[o],u=c,l=Math.max(a,s);c>l?u=l:l===a?u=Math.max(s,c):l===s&&(u=Math.max(a,c));let f=n-1,d=o+1;for(;;){do f++;while(e[f]<u);do d--;while(e[d]>u);if(f>=d)break;Gke(e,t,r,f,d)}dE(e,t,r,n,d,i),dE(e,t,r,d+1,o,i)}function Gke(e,t,r,n,o){let i=e[n];e[n]=e[o],e[o]=i;let a=4*n,s=4*o,c=t[a],u=t[a+1],l=t[a+2],f=t[a+3];t[a]=t[s],t[a+1]=t[s+1],t[a+2]=t[s+2],t[a+3]=t[s+3],t[s]=c,t[s+1]=u,t[s+2]=l,t[s+3]=f;let d=r[n];r[n]=r[o],r[o]=d}function Yke(e,t){let r=e^t,n=65535^r,o=65535^(e|t),i=e&(t^65535),a=r|n>>1,s=r>>1^r,c=o>>1^n&i>>1^o,u=r&o>>1^i>>1^i;r=a,n=s,o=c,i=u,a=r&r>>2^n&n>>2,s=r&n>>2^n&(r^n)>>2,c^=r&o>>2^n&i>>2,u^=n&o>>2^(r^n)&i>>2,r=a,n=s,o=c,i=u,a=r&r>>4^n&n>>4,s=r&n>>4^n&(r^n)>>4,c^=r&o>>4^n&i>>4,u^=n&o>>4^(r^n)&i>>4,r=a,n=s,o=c,i=u,c^=r&o>>8^n&i>>8,u^=n&o>>8^(r^n)&i>>8,r=c^c>>1,n=u^u>>1;let l=e^t,f=n|65535^(l|r);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,(f<<1|l)>>>0}function pE(e){if(e!==void 0){let t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch{throw new Error("aborted")}}}function mE(e){let t=e.getPlugin("WigglePlugin"),{utils:{getScale:r},WiggleBaseRenderer:n}=t.exports;return class extends n{async draw(i,a){let{features:s,regions:c,bpPerPx:u,statusCallback:l=()=>{},config:f,scaleOpts:d,height:p,displayCrossHatches:m,ticks:{values:h},stopToken:v}=a,b=c[0],_=5,S=p-_*2,w=(b.end-b.start)/u,T=r({...d,range:[0,S]}),O=L=>S-T(L)+_,C=performance.now();pE(v);let M=0,R=0,{isCallback:k}=f.color;k||(i.fillStyle=f.color.value);let I=[];await(0,a_.updateStatus)("Rendering plot",l,()=>{for(let L of s.values()){performance.now()-C>200&&(pE(v),C=performance.now());let[E]=(0,a_.featureSpanPx)(L,b,u),N=L.get("score"),U=O(N);(Math.abs(E-M)>1||Math.abs(U-R)>1)&&(k&&(i.fillStyle=(0,$$.readConfObject)(f,"color",{feature:L})),i.beginPath(),i.arc(E,U,2,0,2*Math.PI),i.fill(),R=U,M=E,I.push({minX:E-2,minY:U-2,maxX:E+2,maxY:U+2,feature:L.toJSON()}))}}),m&&(i.lineWidth=1,i.strokeStyle="rgba(200,200,200,0.8)",h.forEach(L=>{i.beginPath(),i.moveTo(0,Math.round(O(L))),i.lineTo(w,Math.round(O(L))),i.stroke()}));let B=new Eu(Math.max(I.length,1));if(I.length===0)B.add(0,0,0,0);else for(let L of I)B.add(L.minX,L.minY,L.maxX,L.maxY);return B.finish(),{clickMap:{index:B.data,items:I}}}}}var Ou=g($()),U$=g(He()),V$=g(Z()),G$=g(re());var Xke=(0,G$.observer)(function(e){let{height:t,onMouseLeave:r,onMouseMove:n,onFeatureClick:o,clickMap:i}=e,a=(0,Ou.useMemo)(()=>({index:Eu.from(i.index),items:i.items}),[i]),s=(0,Ou.useRef)(null);function c(u,l){let f=0,d=0;if(s.current){let h=s.current.getBoundingClientRect();f=u-h.left,d=l-h.top}let m=a.index.search(f,d,f+3,d+3)[0];return m!==void 0?new V$.SimpleFeature(a.items[m]?.feature):void 0}return Ou.default.createElement("div",{ref:s,"data-testid":"wiggle-rendering-test",onMouseMove:u=>n?.(u,c(u.clientX,u.clientY)?.id()),onClick:u=>o?.(u,c(u.clientX,u.clientY)?.id()),onMouseLeave:u=>r?.(u),style:{overflow:"visible",position:"relative",height:t}},Ou.default.createElement(U$.PrerenderedCanvas,{...e}))}),Y$=Xke;var X$=g(xe()),Z$=(0,X$.ConfigurationSchema)("LinearManhattanRenderer",{color:{type:"color",description:"the color of the marks",defaultValue:"darkblue",contextVariable:["feature"]}},{explicitlyTyped:!0});function hE(e){e.addRendererType(()=>{let t=new mE(e);return new t({name:"LinearManhattanRenderer",ReactComponent:Y$,configSchema:Z$,pluginManager:e})})}var K$="2.2.0";var s_=class extends J$.default{constructor(){super(...arguments);this.name="GWASPlugin";this.version=K$}install(r){d_(r),p_(r),h_(r),g_(r),uE(r),hE(r),lE(r)}};return f_(Kke);})();
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

canvas2svg/canvas2svg.js:
  (*!!
   *  Canvas 2 Svg v1.0.15
   *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
   *
   *  Licensed under the MIT license:
   *  http://www.opensource.org/licenses/mit-license.php
   *
   *  Author:
   *  Kerry Liu
   *
   *  Copyright (c) 2014 Gliffy Inc.
   *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.3.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=jbrowse-plugin-gwas.umd.production.min.js.map

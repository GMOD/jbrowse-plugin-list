"use strict";var JBrowsePluginMsaView=(()=>{var G$=Object.create;var Hp=Object.defineProperty;var Y$=Object.getOwnPropertyDescriptor;var Z$=Object.getOwnPropertyNames;var K$=Object.getPrototypeOf,X$=Object.prototype.hasOwnProperty;var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jr=(e,t)=>{for(var r in t)Hp(e,r,{get:t[r],enumerable:!0})},i2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Z$(t))!X$.call(e,i)&&i!==r&&Hp(e,i,{get:()=>t[i],enumerable:!(n=Y$(t,i))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?G$(K$(e)):{},i2(t||!e||!e.__esModule?Hp(r,"default",{value:e,enumerable:!0}):r,e)),Iy=e=>i2(Hp({},"__esModule",{value:!0}),e);var a2=b((PCe,o2)=>{o2.exports=JBrowseExports["@jbrowse/core/Plugin"]});var Eu=b((ICe,s2)=>{s2.exports=JBrowseExports["@jbrowse/core/configuration"]});var vt=b((LCe,u2)=>{u2.exports=JBrowseExports["@jbrowse/core/util"]});var Ly=b((jCe,l2)=>{l2.exports=JBrowseExports["@mui/material/utils"]});var Oe,Pt=L(()=>{"use client";Oe=T(Ly(),1)});var ae=b((FCe,c2)=>{c2.exports=JBrowseExports["react/jsx-runtime"]});var Jt=b((BCe,p2)=>{p2.exports=JBrowseExports["mobx-state-tree"]});var U=b((UCe,m2)=>{m2.exports=JBrowseExports.react});var Se=b((HCe,g2)=>{g2.exports=JBrowseExports["mobx-react"]});var De=b((WCe,v2)=>{v2.exports=JBrowseExports["tss-react/mui"]});var Dy=b((tke,T2)=>{T2.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes"]});var C2=b((nke,M2)=>{M2.exports=JBrowseExports["@jbrowse/core/data_adapters/BaseAdapter"]});function Hc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Uy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Au(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Tu(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var zy,Wc=L(()=>{zy=function(e,t){return zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zy(e,t)}});function Di(e){return typeof e=="function"}var Vp=L(()=>{});function Gp(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Hy=L(()=>{});var Yp,k2=L(()=>{Hy();Yp=Gp(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});function Wy(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var R2=L(()=>{});function I2(e){return e instanceof Zp||e&&"closed"in e&&Di(e.remove)&&Di(e.add)&&Di(e.unsubscribe)}function P2(e){Di(e)?e():e.unsubscribe()}var Zp,hke,L2=L(()=>{Wc();Vp();k2();R2();Zp=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Uy(a),f=s.next();!f.done;f=s.next()){var u=f.value;u.remove(this)}}catch(m){t={error:m}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(Di(l))try{l()}catch(m){o=m instanceof Yp?m.errors:[m]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=Uy(c),p=d.next();!p.done;p=d.next()){var h=p.value;try{P2(h)}catch(m){o=o??[],m instanceof Yp?o=Tu(Tu([],Au(o)),Au(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(o)throw new Yp(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)P2(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Wy(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Wy(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})(),hke=Zp.EMPTY});var la,Kp=L(()=>{la={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Ou,$y=L(()=>{Wc();Ou={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Ou.delegate;return i?.setTimeout?i.setTimeout.apply(i,Tu([e,t],Au(r))):setTimeout.apply(void 0,Tu([e,t],Au(r)))},clearTimeout:function(e){var t=Ou.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});function j2(e){Ou.setTimeout(function(){var t=la.onUnhandledError;if(t)t(e);else throw e})}var q2=L(()=>{Kp();$y()});function Vy(){}var F2=L(()=>{});function D2(e){return Gy("E",void 0,e)}function B2(e){return Gy("N",e,void 0)}function Gy(e,t,r){return{kind:e,value:t,error:r}}var N2,z2=L(()=>{N2=(function(){return Gy("C",void 0,void 0)})()});function U2(e){la.useDeprecatedSynchronousErrorHandling&&Yy&&(Yy.errorThrown=!0,Yy.error=e)}var Yy,H2=L(()=>{Kp();Yy=null});function Zy(e,t){return iV.call(e,t)}function Xp(e){la.useDeprecatedSynchronousErrorHandling?U2(e):j2(e)}function aV(e){throw e}function Ky(e,t){var r=la.onStoppedNotification;r&&Ou.setTimeout(function(){return r(e,t)})}var Xy,iV,oV,Jy,sV,Qy=L(()=>{Wc();Vp();L2();Kp();q2();F2();z2();$y();H2();Xy=(function(e){Hc(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,I2(r)&&r.add(n)):n.destination=sV,n}return t.create=function(r,n,i){return new Jy(r,n,i)},t.prototype.next=function(r){this.isStopped?Ky(B2(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?Ky(D2(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?Ky(N2,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(Zp),iV=Function.prototype.bind;oV=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Xp(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Xp(n)}else Xp(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Xp(r)}},e})(),Jy=(function(e){Hc(t,e);function t(r,n,i){var o=e.call(this)||this,a;if(Di(r)||!r)a={next:r??void 0,error:n??void 0,complete:i??void 0};else{var s;o&&la.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()},a={next:r.next&&Zy(r.next,s),error:r.error&&Zy(r.error,s),complete:r.complete&&Zy(r.complete,s)}):a=r}return o.destination=new oV(a),o}return t})(Xy);sV={closed:!0,next:Vy,error:aV,complete:Vy}});function uV(e){return Di(e?.lift)}function Jp(e){return function(t){if(uV(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var e1=L(()=>{Vp()});function W2(e,t,r,n,i){return new lV(e,t,r,n,i)}var lV,$2=L(()=>{Wc();Qy();lV=(function(e){Hc(t,e);function t(r,n,i,o,a,s){var f=e.call(this,r)||this;return f.onFinalize=a,f.shouldUnsubscribe=s,f._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,f._error=o?function(u){try{o(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,f}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t})(Xy)});var V2,G2=L(()=>{Hy();V2=Gp(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});function t1(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=new Jy({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new V2)}});e.subscribe(o)})}var Y2=L(()=>{G2();Qy()});var Z2=L(()=>{});function K2(e,t,r,n,i){return function(o,a){var s=r,f=t,u=0;o.subscribe(W2(a,function(l){var c=u++;f=s?e(f,l,c):(s=!0,l),n&&a.next(f)},i&&(function(){s&&a.next(f),a.complete()})))}}var X2=L(()=>{$2()});function J2(e,t){return Jp(K2(e,t,arguments.length>=2,!1,!0))}var Q2=L(()=>{X2();e1()});function r1(){return Jp(function(e,t){J2(cV,[])(e).subscribe(t)})}var cV,eM=L(()=>{Q2();e1();cV=function(e,t){return e.push(t),e}});var tM=L(()=>{Y2();Z2();eM()});var iM={};jr(iM,{default:()=>Qp});var rM,nM,Qp,oM=L(()=>{"use strict";rM=T(Eu()),nM=T(C2());tM();Qp=class extends nM.BaseAdapter{async configurePre(){let t=this.getSubAdapter;if(t)return(await t({...(0,rM.readConfObject)(this.config),type:"BgzipFastaAdapter"})).dataAdapter;throw new Error("no get subadapter")}configure(){return this.configureP??=this.configurePre().catch(t=>{throw this.configureP=void 0,t}),this.configureP}async getMSARefs(){return this.refNamesP??=this.configure().then(t=>t.getRefNames()).catch(t=>{throw this.refNamesP=void 0,t}),this.refNamesP}async getMSAList(){let t=await this.getMSARefs(),r=new Set,n=this.getConf("msaRegex"),i=new RegExp(n);for(let o=0,a=t.length;o<a;o++)r.add(t[o].split(i)[0]);return[...r]}async getMSA(t){let r=await this.configure(),n=await r.getRefNames(),i=[];for(let o=0,a=n.length;o<a;o++){let s=n[o];s.startsWith(t)&&i.push(s)}return t1(r.getFeaturesInMultipleRegions(i.map(o=>({refName:o,start:0,end:1e9,assemblyName:""}))).pipe(r1()))}}});var zt=b((cRe,lM)=>{lM.exports=JBrowseExports["@jbrowse/core/ui"]});var pe=b((fRe,cM)=>{cM.exports=JBrowseExports["@mui/material"]});var pM=b(dM=>{"use strict";var Mu=U();function fV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dV=typeof Object.is=="function"?Object.is:fV,pV=Mu.useState,hV=Mu.useEffect,mV=Mu.useLayoutEffect,gV=Mu.useDebugValue;function vV(e,t){var r=t(),n=pV({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return mV(function(){i.value=r,i.getSnapshot=t,i1(i)&&o({inst:i})},[e,r,t]),hV(function(){return i1(i)&&o({inst:i}),e(function(){i1(i)&&o({inst:i})})},[e]),gV(r),r}function i1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dV(e,r)}catch{return!0}}function _V(e,t){return t()}var bV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_V:vV;dM.useSyncExternalStore=Mu.useSyncExternalStore!==void 0?Mu.useSyncExternalStore:bV});var mM=b((hRe,hM)=>{"use strict";hM.exports=pM()});var J1=b((yPe,hk)=>{hk.exports=JBrowseExports["@jbrowse/core/util/io"]});var bk,Rh,ew=L(()=>{"use client";Pt();bk=T(ae(),1),Rh=(0,Oe.createSvgIcon)((0,bk.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")});var Ok,Mk,Ck=L(()=>{"use client";Pt();Ok=T(ae(),1),Mk=(0,Oe.createSvgIcon)((0,Ok.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")});function mf(e){let{children:t,...r}=e;return tw.default.createElement(kk.Link,{...r,target:"_blank",rel:"noreferrer"},t," ",tw.default.createElement(Mk,{fontSize:"small"}))}var tw,kk,rw=L(()=>{"use strict";tw=T(U());Ck();kk=T(pe())});var Fk=b(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.TWO_PWR_32_DBL=Yi.TWO_PWR_16_DBL=void 0;Yi.longFromBytesToUnsigned=IZ;Yi.TWO_PWR_16_DBL=65536;Yi.TWO_PWR_32_DBL=Yi.TWO_PWR_16_DBL*Yi.TWO_PWR_16_DBL;function IZ(e,t=0){let r=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;return((e[t+4]|e[t+5]<<8|e[t+6]<<16|e[t+7]<<24)>>>0)*Yi.TWO_PWR_32_DBL+(r>>>0)}});var Dk=b(lw=>{"use strict";Object.defineProperty(lw,"__esModule",{value:!0});var sw=Fk(),Lh=1;function Nk(e,t,r){let n=t[Lh],i=r?r[Lh]:1/0;return n<=e&&i>e?0:n<e?-1:1}var uw=class{constructor({filehandle:t}){this.filehandle=t}_getIndex(){return this.index||(this.index=this._readIndex().catch(t=>{throw this.index=void 0,t})),this.index}async _readIndex(){let t=await this.filehandle.read(8,0),r=(0,sw.longFromBytesToUnsigned)(t);if(!r)return[[0,0]];let n=new Array(r+1);n[0]=[0,0];let i=16*r;if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");let o=await this.filehandle.read(i,8);for(let a=0;a<r;a+=1){let s=(0,sw.longFromBytesToUnsigned)(o,a*16),f=(0,sw.longFromBytesToUnsigned)(o,a*16+8);n[a+1]=[s,f]}return n}async getLastBlock(){return(await this._getIndex()).at(-1)}async getRelevantBlocksForRead(t,r){let n=r+t;if(t===0)return[];let i=await this._getIndex(),o=[],a=0,s=i.length-1,f=Math.floor(i.length/2),u=Nk(r,i[f],i[f+1]);for(;u!==0;)u>0?s=f-1:u<0&&(a=f+1),f=Math.ceil((s-a)/2)+a,u=Nk(r,i[f],i[f+1]);o.push(i[f]);let l=f+1;for(;l<i.length&&(o.push(i[l]),!(i[l][Lh]>=n));l+=1);return o[o.length-1][Lh]<n&&o.push([]),o}};lw.default=uw});var Lo=b($r=>{"use strict";var LZ=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function jZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}$r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)jZ(r,n)&&(e[n]=r[n])}}return e};$r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var qZ={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},FZ={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};$r.setTyped=function(e){e?($r.Buf8=Uint8Array,$r.Buf16=Uint16Array,$r.Buf32=Int32Array,$r.assign($r,qZ)):($r.Buf8=Array,$r.Buf16=Array,$r.Buf32=Array,$r.assign($r,FZ))};$r.setTyped(LZ)});var uR=b($u=>{"use strict";var NZ=Lo(),DZ=4,Bk=0,zk=1,BZ=2;function Wu(e){for(var t=e.length;--t>=0;)e[t]=0}var zZ=0,Gk=1,UZ=2,HZ=3,WZ=258,gw=29,wf=256,vf=wf+1+gw,Hu=30,vw=19,Yk=2*vf+1,Cs=15,cw=16,$Z=7,_w=256,Zk=16,Kk=17,Xk=18,hw=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],jh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],VZ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Jk=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],GZ=512,jo=new Array((vf+2)*2);Wu(jo);var gf=new Array(Hu*2);Wu(gf);var _f=new Array(GZ);Wu(_f);var bf=new Array(WZ-HZ+1);Wu(bf);var bw=new Array(gw);Wu(bw);var qh=new Array(Hu);Wu(qh);function fw(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var Qk,eR,tR;function dw(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function rR(e){return e<256?_f[e]:_f[256+(e>>>7)]}function yf(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function cn(e,t,r){e.bi_valid>cw-r?(e.bi_buf|=t<<e.bi_valid&65535,yf(e,e.bi_buf),e.bi_buf=t>>cw-e.bi_valid,e.bi_valid+=r-cw):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Zi(e,t,r){cn(e,r[t*2],r[t*2+1])}function nR(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function YZ(e){e.bi_valid===16?(yf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function ZZ(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,f=t.stat_desc.max_length,u,l,c,d,p,h,m=0;for(d=0;d<=Cs;d++)e.bl_count[d]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Yk;u++)l=e.heap[u],d=r[r[l*2+1]*2+1]+1,d>f&&(d=f,m++),r[l*2+1]=d,!(l>n)&&(e.bl_count[d]++,p=0,l>=s&&(p=a[l-s]),h=r[l*2],e.opt_len+=h*(d+p),o&&(e.static_len+=h*(i[l*2+1]+p)));if(m!==0){do{for(d=f-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(d=f;d!==0;d--)for(l=e.bl_count[d];l!==0;)c=e.heap[--u],!(c>n)&&(r[c*2+1]!==d&&(e.opt_len+=(d-r[c*2+1])*r[c*2],r[c*2+1]=d),l--)}}function iR(e,t,r){var n=new Array(Cs+1),i=0,o,a;for(o=1;o<=Cs;o++)n[o]=i=i+r[o-1]<<1;for(a=0;a<=t;a++){var s=e[a*2+1];s!==0&&(e[a*2]=nR(n[s]++,s))}}function KZ(){var e,t,r,n,i,o=new Array(Cs+1);for(r=0,n=0;n<gw-1;n++)for(bw[n]=r,e=0;e<1<<hw[n];e++)bf[r++]=n;for(bf[r-1]=n,i=0,n=0;n<16;n++)for(qh[n]=i,e=0;e<1<<jh[n];e++)_f[i++]=n;for(i>>=7;n<Hu;n++)for(qh[n]=i<<7,e=0;e<1<<jh[n]-7;e++)_f[256+i++]=n;for(t=0;t<=Cs;t++)o[t]=0;for(e=0;e<=143;)jo[e*2+1]=8,e++,o[8]++;for(;e<=255;)jo[e*2+1]=9,e++,o[9]++;for(;e<=279;)jo[e*2+1]=7,e++,o[7]++;for(;e<=287;)jo[e*2+1]=8,e++,o[8]++;for(iR(jo,vf+1,o),e=0;e<Hu;e++)gf[e*2+1]=5,gf[e*2]=nR(e,5);Qk=new fw(jo,hw,wf+1,vf,Cs),eR=new fw(gf,jh,0,Hu,Cs),tR=new fw(new Array(0),VZ,0,vw,$Z)}function oR(e){var t;for(t=0;t<vf;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Hu;t++)e.dyn_dtree[t*2]=0;for(t=0;t<vw;t++)e.bl_tree[t*2]=0;e.dyn_ltree[_w*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function aR(e){e.bi_valid>8?yf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function XZ(e,t,r,n){aR(e),n&&(yf(e,r),yf(e,~r)),NZ.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Uk(e,t,r,n){var i=t*2,o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function pw(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Uk(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Uk(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function Hk(e,t,r){var n,i,o=0,a,s;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,n===0?Zi(e,i,t):(a=bf[i],Zi(e,a+wf+1,t),s=hw[a],s!==0&&(i-=bw[a],cn(e,i,s)),n--,a=rR(n),Zi(e,a,r),s=jh[a],s!==0&&(n-=qh[a],cn(e,n,s)));while(o<e.last_lit);Zi(e,_w,t)}function mw(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,f=-1,u;for(e.heap_len=0,e.heap_max=Yk,a=0;a<o;a++)r[a*2]!==0?(e.heap[++e.heap_len]=f=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=f<2?++f:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=f,a=e.heap_len>>1;a>=1;a--)pw(e,r,a);u=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pw(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,r[u*2]=r[a*2]+r[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,r[a*2+1]=r[s*2+1]=u,e.heap[1]=u++,pw(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ZZ(e,t),iR(r,f,e.bl_count)}function Wk(e,t,r){var n,i=-1,o,a=t[1],s=0,f=7,u=4;for(a===0&&(f=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=a,a=t[(n+1)*2+1],!(++s<f&&o===a)&&(s<u?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[Zk*2]++):s<=10?e.bl_tree[Kk*2]++:e.bl_tree[Xk*2]++,s=0,i=o,a===0?(f=138,u=3):o===a?(f=6,u=3):(f=7,u=4))}function $k(e,t,r){var n,i=-1,o,a=t[1],s=0,f=7,u=4;for(a===0&&(f=138,u=3),n=0;n<=r;n++)if(o=a,a=t[(n+1)*2+1],!(++s<f&&o===a)){if(s<u)do Zi(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(Zi(e,o,e.bl_tree),s--),Zi(e,Zk,e.bl_tree),cn(e,s-3,2)):s<=10?(Zi(e,Kk,e.bl_tree),cn(e,s-3,3)):(Zi(e,Xk,e.bl_tree),cn(e,s-11,7));s=0,i=o,a===0?(f=138,u=3):o===a?(f=6,u=3):(f=7,u=4)}}function JZ(e){var t;for(Wk(e,e.dyn_ltree,e.l_desc.max_code),Wk(e,e.dyn_dtree,e.d_desc.max_code),mw(e,e.bl_desc),t=vw-1;t>=3&&e.bl_tree[Jk[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function QZ(e,t,r,n){var i;for(cn(e,t-257,5),cn(e,r-1,5),cn(e,n-4,4),i=0;i<n;i++)cn(e,e.bl_tree[Jk[i]*2+1],3);$k(e,e.dyn_ltree,t-1),$k(e,e.dyn_dtree,r-1)}function eK(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Bk;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return zk;for(r=32;r<wf;r++)if(e.dyn_ltree[r*2]!==0)return zk;return Bk}var Vk=!1;function tK(e){Vk||(KZ(),Vk=!0),e.l_desc=new dw(e.dyn_ltree,Qk),e.d_desc=new dw(e.dyn_dtree,eR),e.bl_desc=new dw(e.bl_tree,tR),e.bi_buf=0,e.bi_valid=0,oR(e)}function sR(e,t,r,n){cn(e,(zZ<<1)+(n?1:0),3),XZ(e,t,r,!0)}function rK(e){cn(e,Gk<<1,3),Zi(e,_w,jo),YZ(e)}function nK(e,t,r,n){var i,o,a=0;e.level>0?(e.strm.data_type===BZ&&(e.strm.data_type=eK(e)),mw(e,e.l_desc),mw(e,e.d_desc),a=JZ(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&t!==-1?sR(e,t,r,n):e.strategy===DZ||o===i?(cn(e,(Gk<<1)+(n?1:0),3),Hk(e,jo,gf)):(cn(e,(UZ<<1)+(n?1:0),3),QZ(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Hk(e,e.dyn_ltree,e.dyn_dtree)),oR(e),n&&aR(e)}function iK(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(bf[r]+wf+1)*2]++,e.dyn_dtree[rR(t)*2]++),e.last_lit===e.lit_bufsize-1}$u._tr_init=tK;$u._tr_stored_block=sR;$u._tr_flush_block=nK;$u._tr_tally=iK;$u._tr_align=rK});var yw=b((g5e,lR)=>{"use strict";function oK(e,t,r,n){for(var i=e&65535|0,o=e>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}lR.exports=oK});var ww=b((v5e,cR)=>{"use strict";function aK(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var sK=aK();function uK(e,t,r,n){var i=sK,o=n+r;e^=-1;for(var a=n;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1}cR.exports=uK});var Fh=b((_5e,fR)=>{"use strict";fR.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var yR=b(Ji=>{"use strict";var Vr=Lo(),zn=uR(),mR=yw(),va=ww(),lK=Fh(),Is=0,cK=1,fK=3,xa=4,dR=5,Xi=0,pR=1,Un=-2,dK=-3,xw=-5,pK=-1,hK=1,Nh=2,mK=3,gK=4,vK=0,_K=2,Uh=8,bK=9,yK=15,wK=8,xK=29,SK=256,Ew=SK+1+xK,EK=30,AK=19,TK=2*Ew+1,OK=15,Fe=3,ya=258,di=ya+Fe+1,MK=32,Hh=42,Aw=69,Dh=73,Bh=91,zh=103,ks=113,Sf=666,er=1,Ef=2,Rs=3,Yu=4,CK=3;function wa(e,t){return e.msg=lK[t],t}function hR(e){return(e<<1)-(e>4?9:0)}function ba(e){for(var t=e.length;--t>=0;)e[t]=0}function _a(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Vr.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Er(e,t){zn._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_a(e.strm)}function ze(e,t){e.pending_buf[e.pending++]=t}function xf(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function kK(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Vr.arraySet(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=mR(e.adler,t,i,r):e.state.wrap===2&&(e.adler=va(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function gR(e,t){var r=e.max_chain_length,n=e.strstart,i,o,a=e.prev_length,s=e.nice_match,f=e.strstart>e.w_size-di?e.strstart-(e.w_size-di):0,u=e.window,l=e.w_mask,c=e.prev,d=e.strstart+ya,p=u[n+a-1],h=u[n+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(u[i+a]!==h||u[i+a-1]!==p||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<d);if(o=ya-(d-n),n=d-ya,o>a){if(e.match_start=t,a=o,o>=s)break;p=u[n+a-1],h=u[n+a]}}while((t=c[t&l])>f&&--r!==0);return a<=e.lookahead?a:e.lookahead}function Ps(e){var t=e.w_size,r,n,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-di)){Vr.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);o+=t}if(e.strm.avail_in===0)break;if(n=kK(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=Fe)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+Fe-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Fe)););}while(e.lookahead<di&&e.strm.avail_in!==0)}function RK(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ps(e),e.lookahead===0&&t===Is)return er;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Er(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-di&&(Er(e,!1),e.strm.avail_out===0))return er}return e.insert=0,t===xa?(Er(e,!0),e.strm.avail_out===0?Rs:Yu):(e.strstart>e.block_start&&(Er(e,!1),e.strm.avail_out===0),er)}function Sw(e,t){for(var r,n;;){if(e.lookahead<di){if(Ps(e),e.lookahead<di&&t===Is)return er;if(e.lookahead===0)break}if(r=0,e.lookahead>=Fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-di&&(e.match_length=gR(e,r)),e.match_length>=Fe)if(n=zn._tr_tally(e,e.strstart-e.match_start,e.match_length-Fe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Fe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=zn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Er(e,!1),e.strm.avail_out===0))return er}return e.insert=e.strstart<Fe-1?e.strstart:Fe-1,t===xa?(Er(e,!0),e.strm.avail_out===0?Rs:Yu):e.last_lit&&(Er(e,!1),e.strm.avail_out===0)?er:Ef}function Vu(e,t){for(var r,n,i;;){if(e.lookahead<di){if(Ps(e),e.lookahead<di&&t===Is)return er;if(e.lookahead===0)break}if(r=0,e.lookahead>=Fe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Fe-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-di&&(e.match_length=gR(e,r),e.match_length<=5&&(e.strategy===hK||e.match_length===Fe&&e.strstart-e.match_start>4096)&&(e.match_length=Fe-1)),e.prev_length>=Fe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Fe,n=zn._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Fe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Fe-1,e.strstart++,n&&(Er(e,!1),e.strm.avail_out===0))return er}else if(e.match_available){if(n=zn._tr_tally(e,0,e.window[e.strstart-1]),n&&Er(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return er}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=zn._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Fe-1?e.strstart:Fe-1,t===xa?(Er(e,!0),e.strm.avail_out===0?Rs:Yu):e.last_lit&&(Er(e,!1),e.strm.avail_out===0)?er:Ef}function PK(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=ya){if(Ps(e),e.lookahead<=ya&&t===Is)return er;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Fe&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+ya;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=ya-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Fe?(r=zn._tr_tally(e,1,e.match_length-Fe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=zn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Er(e,!1),e.strm.avail_out===0))return er}return e.insert=0,t===xa?(Er(e,!0),e.strm.avail_out===0?Rs:Yu):e.last_lit&&(Er(e,!1),e.strm.avail_out===0)?er:Ef}function IK(e,t){for(var r;;){if(e.lookahead===0&&(Ps(e),e.lookahead===0)){if(t===Is)return er;break}if(e.match_length=0,r=zn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Er(e,!1),e.strm.avail_out===0))return er}return e.insert=0,t===xa?(Er(e,!0),e.strm.avail_out===0?Rs:Yu):e.last_lit&&(Er(e,!1),e.strm.avail_out===0)?er:Ef}function Ki(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var Gu;Gu=[new Ki(0,0,0,0,RK),new Ki(4,4,8,4,Sw),new Ki(4,5,16,8,Sw),new Ki(4,6,32,32,Sw),new Ki(4,4,16,16,Vu),new Ki(8,16,32,32,Vu),new Ki(8,16,128,128,Vu),new Ki(8,32,128,256,Vu),new Ki(32,128,258,1024,Vu),new Ki(32,258,258,4096,Vu)];function LK(e){e.window_size=2*e.w_size,ba(e.head),e.max_lazy_match=Gu[e.level].max_lazy,e.good_match=Gu[e.level].good_length,e.nice_match=Gu[e.level].nice_length,e.max_chain_length=Gu[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Fe-1,e.match_available=0,e.ins_h=0}function jK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Uh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Vr.Buf16(TK*2),this.dyn_dtree=new Vr.Buf16((2*EK+1)*2),this.bl_tree=new Vr.Buf16((2*AK+1)*2),ba(this.dyn_ltree),ba(this.dyn_dtree),ba(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Vr.Buf16(OK+1),this.heap=new Vr.Buf16(2*Ew+1),ba(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Vr.Buf16(2*Ew+1),ba(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vR(e){var t;return!e||!e.state?wa(e,Un):(e.total_in=e.total_out=0,e.data_type=_K,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Hh:ks,e.adler=t.wrap===2?0:1,t.last_flush=Is,zn._tr_init(t),Xi)}function _R(e){var t=vR(e);return t===Xi&&LK(e.state),t}function qK(e,t){return!e||!e.state||e.state.wrap!==2?Un:(e.state.gzhead=t,Xi)}function bR(e,t,r,n,i,o){if(!e)return Un;var a=1;if(t===pK&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>bK||r!==Uh||n<8||n>15||t<0||t>9||o<0||o>gK)return wa(e,Un);n===8&&(n=9);var s=new jK;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Fe-1)/Fe),s.window=new Vr.Buf8(s.w_size*2),s.head=new Vr.Buf16(s.hash_size),s.prev=new Vr.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Vr.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=r,_R(e)}function FK(e,t){return bR(e,t,Uh,yK,wK,vK)}function NK(e,t){var r,n,i,o;if(!e||!e.state||t>dR||t<0)return e?wa(e,Un):Un;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Sf&&t!==xa)return wa(e,e.avail_out===0?xw:Un);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Hh)if(n.wrap===2)e.adler=0,ze(n,31),ze(n,139),ze(n,8),n.gzhead?(ze(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ze(n,n.gzhead.time&255),ze(n,n.gzhead.time>>8&255),ze(n,n.gzhead.time>>16&255),ze(n,n.gzhead.time>>24&255),ze(n,n.level===9?2:n.strategy>=Nh||n.level<2?4:0),ze(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ze(n,n.gzhead.extra.length&255),ze(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=va(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Aw):(ze(n,0),ze(n,0),ze(n,0),ze(n,0),ze(n,0),ze(n,n.level===9?2:n.strategy>=Nh||n.level<2?4:0),ze(n,CK),n.status=ks);else{var a=Uh+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=Nh||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=MK),a+=31-a%31,n.status=ks,xf(n,a),n.strstart!==0&&(xf(n,e.adler>>>16),xf(n,e.adler&65535)),e.adler=1}if(n.status===Aw)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),_a(e),i=n.pending,n.pending===n.pending_buf_size));)ze(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Dh)}else n.status=Dh;if(n.status===Dh)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),_a(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,ze(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.gzindex=0,n.status=Bh)}else n.status=Bh;if(n.status===Bh)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),_a(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,ze(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=va(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.status=zh)}else n.status=zh;if(n.status===zh&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&_a(e),n.pending+2<=n.pending_buf_size&&(ze(n,e.adler&255),ze(n,e.adler>>8&255),e.adler=0,n.status=ks)):n.status=ks),n.pending!==0){if(_a(e),e.avail_out===0)return n.last_flush=-1,Xi}else if(e.avail_in===0&&hR(t)<=hR(r)&&t!==xa)return wa(e,xw);if(n.status===Sf&&e.avail_in!==0)return wa(e,xw);if(e.avail_in!==0||n.lookahead!==0||t!==Is&&n.status!==Sf){var f=n.strategy===Nh?IK(n,t):n.strategy===mK?PK(n,t):Gu[n.level].func(n,t);if((f===Rs||f===Yu)&&(n.status=Sf),f===er||f===Rs)return e.avail_out===0&&(n.last_flush=-1),Xi;if(f===Ef&&(t===cK?zn._tr_align(n):t!==dR&&(zn._tr_stored_block(n,0,0,!1),t===fK&&(ba(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),_a(e),e.avail_out===0))return n.last_flush=-1,Xi}return t!==xa?Xi:n.wrap<=0?pR:(n.wrap===2?(ze(n,e.adler&255),ze(n,e.adler>>8&255),ze(n,e.adler>>16&255),ze(n,e.adler>>24&255),ze(n,e.total_in&255),ze(n,e.total_in>>8&255),ze(n,e.total_in>>16&255),ze(n,e.total_in>>24&255)):(xf(n,e.adler>>>16),xf(n,e.adler&65535)),_a(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Xi:pR)}function DK(e){var t;return!e||!e.state?Un:(t=e.state.status,t!==Hh&&t!==Aw&&t!==Dh&&t!==Bh&&t!==zh&&t!==ks&&t!==Sf?wa(e,Un):(e.state=null,t===ks?wa(e,dK):Xi))}function BK(e,t){var r=t.length,n,i,o,a,s,f,u,l;if(!e||!e.state||(n=e.state,a=n.wrap,a===2||a===1&&n.status!==Hh||n.lookahead))return Un;for(a===1&&(e.adler=mR(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(a===0&&(ba(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new Vr.Buf8(n.w_size),Vr.arraySet(l,t,r-n.w_size,n.w_size,0),t=l,r=n.w_size),s=e.avail_in,f=e.next_in,u=e.input,e.avail_in=r,e.next_in=0,e.input=t,Ps(n);n.lookahead>=Fe;){i=n.strstart,o=n.lookahead-(Fe-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+Fe-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--o);n.strstart=i,n.lookahead=Fe-1,Ps(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Fe-1,n.match_available=0,e.next_in=f,e.input=u,e.avail_in=s,n.wrap=a,Xi}Ji.deflateInit=FK;Ji.deflateInit2=bR;Ji.deflateReset=_R;Ji.deflateResetKeep=vR;Ji.deflateSetHeader=qK;Ji.deflate=NK;Ji.deflateEnd=DK;Ji.deflateSetDictionary=BK;Ji.deflateInfo="pako deflate (from Nodeca project)"});var Tw=b(Zu=>{"use strict";var Wh=Lo(),wR=!0,xR=!0;try{String.fromCharCode.apply(null,[0])}catch{wR=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xR=!1}var Af=new Wh.Buf8(256);for(qo=0;qo<256;qo++)Af[qo]=qo>=252?6:qo>=248?5:qo>=240?4:qo>=224?3:qo>=192?2:1;var qo;Af[254]=Af[254]=1;Zu.string2buf=function(e){var t,r,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Wh.Buf8(s),o=0,i=0;o<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};function SR(e,t){if(t<65534&&(e.subarray&&xR||!e.subarray&&wR))return String.fromCharCode.apply(null,Wh.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}Zu.buf2binstring=function(e){return SR(e,e.length)};Zu.binstring2buf=function(e){for(var t=new Wh.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t};Zu.buf2string=function(e,t){var r,n,i,o,a=t||e.length,s=new Array(a*2);for(n=0,r=0;r<a;){if(i=e[r++],i<128){s[n++]=i;continue}if(o=Af[i],o>4){s[n++]=65533,r+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&r<a;)i=i<<6|e[r++]&63,o--;if(o>1){s[n++]=65533;continue}i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|i&1023)}return SR(s,n)};Zu.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Af[e[r]]>t?r:t}});var Ow=b((w5e,ER)=>{"use strict";function zK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ER.exports=zK});var MR=b(Mf=>{"use strict";var Tf=yR(),Of=Lo(),Cw=Tw(),kw=Fh(),UK=Ow(),OR=Object.prototype.toString,HK=0,Mw=4,Ku=0,AR=1,TR=2,WK=-1,$K=0,VK=8;function Ls(e){if(!(this instanceof Ls))return new Ls(e);this.options=Of.assign({level:WK,method:VK,chunkSize:16384,windowBits:15,memLevel:8,strategy:$K,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UK,this.strm.avail_out=0;var r=Tf.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Ku)throw new Error(kw[r]);if(t.header&&Tf.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=Cw.string2buf(t.dictionary):OR.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Tf.deflateSetDictionary(this.strm,n),r!==Ku)throw new Error(kw[r]);this._dict_set=!0}}Ls.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?Mw:HK,typeof e=="string"?r.input=Cw.string2buf(e):OR.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Of.Buf8(n),r.next_out=0,r.avail_out=n),i=Tf.deflate(r,o),i!==AR&&i!==Ku)return this.onEnd(i),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(o===Mw||o===TR))&&(this.options.to==="string"?this.onData(Cw.buf2binstring(Of.shrinkBuf(r.output,r.next_out))):this.onData(Of.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&i!==AR);return o===Mw?(i=Tf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ku):(o===TR&&(this.onEnd(Ku),r.avail_out=0),!0)};Ls.prototype.onData=function(e){this.chunks.push(e)};Ls.prototype.onEnd=function(e){e===Ku&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Of.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Rw(e,t){var r=new Ls(t);if(r.push(e,!0),r.err)throw r.msg||kw[r.err];return r.result}function GK(e,t){return t=t||{},t.raw=!0,Rw(e,t)}function YK(e,t){return t=t||{},t.gzip=!0,Rw(e,t)}Mf.Deflate=Ls;Mf.deflate=Rw;Mf.deflateRaw=GK;Mf.gzip=YK});var kR=b((S5e,CR)=>{"use strict";var $h=30,ZK=12;CR.exports=function(t,r){var n,i,o,a,s,f,u,l,c,d,p,h,m,v,g,_,w,y,x,A,E,O,M,C,k;n=t.state,i=t.next_in,C=t.input,o=i+(t.avail_in-5),a=t.next_out,k=t.output,s=a-(r-t.avail_out),f=a+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,p=n.window,h=n.hold,m=n.bits,v=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(h+=C[i++]<<m,m+=8,h+=C[i++]<<m,m+=8),y=v[h&_];t:for(;;){if(x=y>>>24,h>>>=x,m-=x,x=y>>>16&255,x===0)k[a++]=y&65535;else if(x&16){A=y&65535,x&=15,x&&(m<x&&(h+=C[i++]<<m,m+=8),A+=h&(1<<x)-1,h>>>=x,m-=x),m<15&&(h+=C[i++]<<m,m+=8,h+=C[i++]<<m,m+=8),y=g[h&w];r:for(;;){if(x=y>>>24,h>>>=x,m-=x,x=y>>>16&255,x&16){if(E=y&65535,x&=15,m<x&&(h+=C[i++]<<m,m+=8,m<x&&(h+=C[i++]<<m,m+=8)),E+=h&(1<<x)-1,E>u){t.msg="invalid distance too far back",n.mode=$h;break e}if(h>>>=x,m-=x,x=a-s,E>x){if(x=E-x,x>c&&n.sane){t.msg="invalid distance too far back",n.mode=$h;break e}if(O=0,M=p,d===0){if(O+=l-x,x<A){A-=x;do k[a++]=p[O++];while(--x);O=a-E,M=k}}else if(d<x){if(O+=l+d-x,x-=d,x<A){A-=x;do k[a++]=p[O++];while(--x);if(O=0,d<A){x=d,A-=x;do k[a++]=p[O++];while(--x);O=a-E,M=k}}}else if(O+=d-x,x<A){A-=x;do k[a++]=p[O++];while(--x);O=a-E,M=k}for(;A>2;)k[a++]=M[O++],k[a++]=M[O++],k[a++]=M[O++],A-=3;A&&(k[a++]=M[O++],A>1&&(k[a++]=M[O++]))}else{O=a-E;do k[a++]=k[O++],k[a++]=k[O++],k[a++]=k[O++],A-=3;while(A>2);A&&(k[a++]=k[O++],A>1&&(k[a++]=k[O++]))}}else if((x&64)===0){y=g[(y&65535)+(h&(1<<x)-1)];continue r}else{t.msg="invalid distance code",n.mode=$h;break e}break}}else if((x&64)===0){y=v[(y&65535)+(h&(1<<x)-1)];continue t}else if(x&32){n.mode=ZK;break e}else{t.msg="invalid literal/length code",n.mode=$h;break e}break}}while(i<o&&a<f);A=m>>3,i-=A,m-=A<<3,h&=(1<<m)-1,t.next_in=i,t.next_out=a,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=a<f?257+(f-a):257-(a-f),n.hold=h,n.bits=m}});var FR=b((E5e,qR)=>{"use strict";var RR=Lo(),Xu=15,PR=852,IR=592,LR=0,Pw=1,jR=2,KK=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],XK=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],JK=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],QK=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];qR.exports=function(t,r,n,i,o,a,s,f){var u=f.bits,l=0,c=0,d=0,p=0,h=0,m=0,v=0,g=0,_=0,w=0,y,x,A,E,O,M=null,C=0,k,q=new RR.Buf16(Xu+1),N=new RR.Buf16(Xu+1),R=null,F=0,G,z,j;for(l=0;l<=Xu;l++)q[l]=0;for(c=0;c<i;c++)q[r[n+c]]++;for(h=u,p=Xu;p>=1&&q[p]===0;p--);if(h>p&&(h=p),p===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,f.bits=1,0;for(d=1;d<p&&q[d]===0;d++);for(h<d&&(h=d),g=1,l=1;l<=Xu;l++)if(g<<=1,g-=q[l],g<0)return-1;if(g>0&&(t===LR||p!==1))return-1;for(N[1]=0,l=1;l<Xu;l++)N[l+1]=N[l]+q[l];for(c=0;c<i;c++)r[n+c]!==0&&(s[N[r[n+c]]++]=c);if(t===LR?(M=R=s,k=19):t===Pw?(M=KK,C-=257,R=XK,F-=257,k=256):(M=JK,R=QK,k=-1),w=0,c=0,l=d,O=a,m=h,v=0,A=-1,_=1<<h,E=_-1,t===Pw&&_>PR||t===jR&&_>IR)return 1;for(;;){G=l-v,s[c]<k?(z=0,j=s[c]):s[c]>k?(z=R[F+s[c]],j=M[C+s[c]]):(z=96,j=0),y=1<<l-v,x=1<<m,d=x;do x-=y,o[O+(w>>v)+x]=G<<24|z<<16|j|0;while(x!==0);for(y=1<<l-1;w&y;)y>>=1;if(y!==0?(w&=y-1,w+=y):w=0,c++,--q[l]===0){if(l===p)break;l=r[n+s[c]]}if(l>h&&(w&E)!==A){for(v===0&&(v=h),O+=d,m=l-v,g=1<<m;m+v<p&&(g-=q[m+v],!(g<=0));)m++,g<<=1;if(_+=1<<m,t===Pw&&_>PR||t===jR&&_>IR)return 1;A=w&E,o[A]=h<<24|m<<16|O-a|0}}return w!==0&&(o[O+w]=l-v<<24|64<<16|0),f.bits=h,0}});var _P=b(pi=>{"use strict";var On=Lo(),Nw=yw(),Qi=ww(),eX=kR(),Cf=FR(),tX=0,lP=1,cP=2,NR=4,rX=5,Vh=6,js=0,nX=1,iX=2,Hn=-2,fP=-3,Dw=-4,oX=-5,DR=8,dP=1,BR=2,zR=3,UR=4,HR=5,WR=6,$R=7,VR=8,GR=9,YR=10,Zh=11,Fo=12,Iw=13,ZR=14,Lw=15,KR=16,XR=17,JR=18,QR=19,Gh=20,Yh=21,eP=22,tP=23,rP=24,nP=25,iP=26,jw=27,oP=28,aP=29,ft=30,Bw=31,aX=32,sX=852,uX=592,lX=15,cX=lX;function sP(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function fX(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new On.Buf16(320),this.work=new On.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pP(e){var t;return!e||!e.state?Hn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=dP,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new On.Buf32(sX),t.distcode=t.distdyn=new On.Buf32(uX),t.sane=1,t.back=-1,js)}function hP(e){var t;return!e||!e.state?Hn:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,pP(e))}function mP(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Hn:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,hP(e))}function gP(e,t){var r,n;return e?(n=new fX,e.state=n,n.window=null,r=mP(e,t),r!==js&&(e.state=null),r):Hn}function dX(e){return gP(e,cX)}var uP=!0,qw,Fw;function pX(e){if(uP){var t;for(qw=new On.Buf32(512),Fw=new On.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Cf(lP,e.lens,0,288,qw,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Cf(cP,e.lens,0,32,Fw,0,e.work,{bits:5}),uP=!1}e.lencode=qw,e.lenbits=9,e.distcode=Fw,e.distbits=5}function vP(e,t,r,n){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new On.Buf8(o.wsize)),n>=o.wsize?(On.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),On.arraySet(o.window,t,r-n,i,o.wnext),n-=i,n?(On.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function hX(e,t){var r,n,i,o,a,s,f,u,l,c,d,p,h,m,v=0,g,_,w,y,x,A,E,O,M=new On.Buf8(4),C,k,q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Hn;r=e.state,r.mode===Fo&&(r.mode=Iw),a=e.next_out,i=e.output,f=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,c=s,d=f,O=js;e:for(;;)switch(r.mode){case dP:if(r.wrap===0){r.mode=Iw;break}for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,M[0]=u&255,M[1]=u>>>8&255,r.check=Qi(r.check,M,2,0),u=0,l=0,r.mode=BR;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ft;break}if((u&15)!==DR){e.msg="unknown compression method",r.mode=ft;break}if(u>>>=4,l-=4,E=(u&15)+8,r.wbits===0)r.wbits=E;else if(E>r.wbits){e.msg="invalid window size",r.mode=ft;break}r.dmax=1<<E,e.adler=r.check=1,r.mode=u&512?YR:Fo,u=0,l=0;break;case BR:for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==DR){e.msg="unknown compression method",r.mode=ft;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ft;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(M[0]=u&255,M[1]=u>>>8&255,r.check=Qi(r.check,M,2,0)),u=0,l=0,r.mode=zR;case zR:for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,r.check=Qi(r.check,M,4,0)),u=0,l=0,r.mode=UR;case UR:for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(M[0]=u&255,M[1]=u>>>8&255,r.check=Qi(r.check,M,2,0)),u=0,l=0,r.mode=HR;case HR:if(r.flags&1024){for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(M[0]=u&255,M[1]=u>>>8&255,r.check=Qi(r.check,M,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=WR;case WR:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),On.arraySet(r.head.extra,n,o,p,E)),r.flags&512&&(r.check=Qi(r.check,n,p,o)),s-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=$R;case $R:if(r.flags&2048){if(s===0)break e;p=0;do E=n[o+p++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&p<s);if(r.flags&512&&(r.check=Qi(r.check,n,p,o)),s-=p,o+=p,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=VR;case VR:if(r.flags&4096){if(s===0)break e;p=0;do E=n[o+p++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&p<s);if(r.flags&512&&(r.check=Qi(r.check,n,p,o)),s-=p,o+=p,E)break e}else r.head&&(r.head.comment=null);r.mode=GR;case GR:if(r.flags&512){for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ft;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Fo;break;case YR:for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}e.adler=r.check=sP(u),u=0,l=0,r.mode=Zh;case Zh:if(r.havedict===0)return e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,iX;e.adler=r.check=1,r.mode=Fo;case Fo:if(t===rX||t===Vh)break e;case Iw:if(r.last){u>>>=l&7,l-=l&7,r.mode=jw;break}for(;l<3;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=ZR;break;case 1:if(pX(r),r.mode=Gh,t===Vh){u>>>=2,l-=2;break e}break;case 2:r.mode=XR;break;case 3:e.msg="invalid block type",r.mode=ft}u>>>=2,l-=2;break;case ZR:for(u>>>=l&7,l-=l&7;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ft;break}if(r.length=u&65535,u=0,l=0,r.mode=Lw,t===Vh)break e;case Lw:r.mode=KR;case KR:if(p=r.length,p){if(p>s&&(p=s),p>f&&(p=f),p===0)break e;On.arraySet(i,n,o,p,a),s-=p,o+=p,f-=p,a+=p,r.length-=p;break}r.mode=Fo;break;case XR:for(;l<14;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ft;break}r.have=0,r.mode=JR;case JR:for(;r.have<r.ncode;){for(;l<3;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.lens[q[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},O=Cf(tX,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,O){e.msg="invalid code lengths set",r.mode=ft;break}r.have=0,r.mode=QR;case QR:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(w<16)u>>>=g,l-=g,r.lens[r.have++]=w;else{if(w===16){for(k=g+2;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(u>>>=g,l-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=ft;break}E=r.lens[r.have-1],p=3+(u&3),u>>>=2,l-=2}else if(w===17){for(k=g+3;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,p=3+(u&7),u>>>=3,l-=3}else{for(k=g+7;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,p=11+(u&127),u>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ft;break}for(;p--;)r.lens[r.have++]=E}}if(r.mode===ft)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ft;break}if(r.lenbits=9,C={bits:r.lenbits},O=Cf(lP,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,O){e.msg="invalid literal/lengths set",r.mode=ft;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},O=Cf(cP,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,O){e.msg="invalid distances set",r.mode=ft;break}if(r.mode=Gh,t===Vh)break e;case Gh:r.mode=Yh;case Yh:if(s>=6&&f>=258){e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,eX(e,d),a=e.next_out,i=e.output,f=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,r.mode===Fo&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(_&&(_&240)===0){for(y=g,x=_,A=w;v=r.lencode[A+((u&(1<<y+x)-1)>>y)],g=v>>>24,_=v>>>16&255,w=v&65535,!(y+g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,r.back+=y}if(u>>>=g,l-=g,r.back+=g,r.length=w,_===0){r.mode=iP;break}if(_&32){r.back=-1,r.mode=Fo;break}if(_&64){e.msg="invalid literal/length code",r.mode=ft;break}r.extra=_&15,r.mode=eP;case eP:if(r.extra){for(k=r.extra;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tP;case tP:for(;v=r.distcode[u&(1<<r.distbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if((_&240)===0){for(y=g,x=_,A=w;v=r.distcode[A+((u&(1<<y+x)-1)>>y)],g=v>>>24,_=v>>>16&255,w=v&65535,!(y+g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,r.back+=y}if(u>>>=g,l-=g,r.back+=g,_&64){e.msg="invalid distance code",r.mode=ft;break}r.offset=w,r.extra=_&15,r.mode=rP;case rP:if(r.extra){for(k=r.extra;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ft;break}r.mode=nP;case nP:if(f===0)break e;if(p=d-f,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ft;break}p>r.wnext?(p-=r.wnext,h=r.wsize-p):h=r.wnext-p,p>r.length&&(p=r.length),m=r.window}else m=i,h=a-r.offset,p=r.length;p>f&&(p=f),f-=p,r.length-=p;do i[a++]=m[h++];while(--p);r.length===0&&(r.mode=Yh);break;case iP:if(f===0)break e;i[a++]=r.length,f--,r.mode=Yh;break;case jw:if(r.wrap){for(;l<32;){if(s===0)break e;s--,u|=n[o++]<<l,l+=8}if(d-=f,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?Qi(r.check,i,d,a-d):Nw(r.check,i,d,a-d)),d=f,(r.flags?u:sP(u))!==r.check){e.msg="incorrect data check",r.mode=ft;break}u=0,l=0}r.mode=oP;case oP:if(r.wrap&&r.flags){for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ft;break}u=0,l=0}r.mode=aP;case aP:O=nX;break e;case ft:O=fP;break e;case Bw:return Dw;case aX:default:return Hn}return e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<ft&&(r.mode<jw||t!==NR))&&vP(e,e.output,e.next_out,d-e.avail_out)?(r.mode=Bw,Dw):(c-=e.avail_in,d-=e.avail_out,e.total_in+=c,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?Qi(r.check,i,d,e.next_out-d):Nw(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Fo?128:0)+(r.mode===Gh||r.mode===Lw?256:0),(c===0&&d===0||t===NR)&&O===js&&(O=oX),O)}function mX(e){if(!e||!e.state)return Hn;var t=e.state;return t.window&&(t.window=null),e.state=null,js}function gX(e,t){var r;return!e||!e.state||(r=e.state,(r.wrap&2)===0)?Hn:(r.head=t,t.done=!1,js)}function vX(e,t){var r=t.length,n,i,o;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==Zh)?Hn:n.mode===Zh&&(i=1,i=Nw(i,t,r,0),i!==n.check)?fP:(o=vP(e,t,r,r),o?(n.mode=Bw,Dw):(n.havedict=1,js))}pi.inflateReset=hP;pi.inflateReset2=mP;pi.inflateResetKeep=pP;pi.inflateInit=dX;pi.inflateInit2=gP;pi.inflate=hX;pi.inflateEnd=mX;pi.inflateGetHeader=gX;pi.inflateSetDictionary=vX;pi.inflateInfo="pako inflate (from Nodeca project)"});var zw=b((T5e,bP)=>{"use strict";bP.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var wP=b((O5e,yP)=>{"use strict";function _X(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}yP.exports=_X});var SP=b(Rf=>{"use strict";var Ju=_P(),kf=Lo(),Kh=Tw(),It=zw(),Uw=Fh(),bX=Ow(),yX=wP(),xP=Object.prototype.toString;function qs(e){if(!(this instanceof qs))return new qs(e);this.options=kf.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bX,this.strm.avail_out=0;var r=Ju.inflateInit2(this.strm,t.windowBits);if(r!==It.Z_OK)throw new Error(Uw[r]);if(this.header=new yX,Ju.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Kh.string2buf(t.dictionary):xP.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ju.inflateSetDictionary(this.strm,t.dictionary),r!==It.Z_OK)))throw new Error(Uw[r])}qs.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s,f,u,l=!1;if(this.ended)return!1;a=t===~~t?t:t===!0?It.Z_FINISH:It.Z_NO_FLUSH,typeof e=="string"?r.input=Kh.binstring2buf(e):xP.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new kf.Buf8(n),r.next_out=0,r.avail_out=n),o=Ju.inflate(r,It.Z_NO_FLUSH),o===It.Z_NEED_DICT&&i&&(o=Ju.inflateSetDictionary(this.strm,i)),o===It.Z_BUF_ERROR&&l===!0&&(o=It.Z_OK,l=!1),o!==It.Z_STREAM_END&&o!==It.Z_OK)return this.onEnd(o),this.ended=!0,!1;r.next_out&&(r.avail_out===0||o===It.Z_STREAM_END||r.avail_in===0&&(a===It.Z_FINISH||a===It.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=Kh.utf8border(r.output,r.next_out),f=r.next_out-s,u=Kh.buf2string(r.output,s),r.next_out=f,r.avail_out=n-f,f&&kf.arraySet(r.output,r.output,s,f,0),this.onData(u)):this.onData(kf.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(l=!0)}while((r.avail_in>0||r.avail_out===0)&&o!==It.Z_STREAM_END);return o===It.Z_STREAM_END&&(a=It.Z_FINISH),a===It.Z_FINISH?(o=Ju.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===It.Z_OK):(a===It.Z_SYNC_FLUSH&&(this.onEnd(It.Z_OK),r.avail_out=0),!0)};qs.prototype.onData=function(e){this.chunks.push(e)};qs.prototype.onEnd=function(e){e===It.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Hw(e,t){var r=new qs(t);if(r.push(e,!0),r.err)throw r.msg||Uw[r.err];return r.result}function wX(e,t){return t=t||{},t.raw=!0,Hw(e,t)}Rf.Inflate=qs;Rf.inflate=Hw;Rf.inflateRaw=wX;Rf.ungzip=Hw});var TP=b((C5e,AP)=>{"use strict";var xX=Lo().assign,SX=MR(),EX=SP(),AX=zw(),EP={};xX(EP,SX,EX,AX);AP.exports=EP});var Ww=b(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.sum=OP;Xh.concatUint8Array=TX;function OP(e){let t=0;for(let r of e)t+=r.length;return t}function TX(e){let t=new Uint8Array(OP(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}});var $w=b(Qu=>{"use strict";var OX=Qu&&Qu.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.unzip=kX;Qu.unzipChunkSlice=RX;var MX=OX(TP()),MP=Ww(),{Z_SYNC_FLUSH:CP,Inflate:kP}=MX.default;function CX(e,t){let r=t.subarray(0,Math.min(32,t.length)),n=0,i=r.length;for(let o=0;o<i;o++)n=(n<<5)-n+r[o]&4294967295;return`${e}_${n}`}async function kX(e){try{let t,r=0,n,i=[];do{let o=e.subarray(r);if(n=new kP,{strm:t}=n,n.push(o,CP),n.err)throw new Error(n.msg);r+=t.next_in,i.push(n.result)}while(t.avail_in);return(0,MP.concatUint8Array)(i)}catch(t){throw/incorrect header check/.exec(`${t}`)?new Error("problem decompressing block: incorrect gzip header check"):t}}async function RX(e,t,r){try{let n,{minv:i,maxv:o}=t,a=i.blockPosition,s=i.dataPosition,f=[],u=[],l=[],c=0,d=!1;do{let p=e.subarray(a-i.blockPosition),h=CX(a,p),m,v,g=r?.get(h);if(g)m=g.buffer,v=g.nextIn,d=!0;else{let y=new kP;if({strm:n}=y,y.push(p,CP),y.err)throw new Error(y.msg);m=y.result,v=n.next_in,d=!1,r?.set(h,{buffer:m,nextIn:v})}f.push(m);let _=m.length;u.push(a),l.push(s),f.length===1&&i.dataPosition&&(f[0]=f[0].subarray(i.dataPosition),_=f[0].length);let w=a;if(a+=v,s+=_,w>=o.blockPosition){f[c]=f[c].subarray(0,o.blockPosition===i.blockPosition?o.dataPosition-i.dataPosition+1:o.dataPosition+1),u.push(a),l.push(s);break}c++}while(d?a<e.length+i.blockPosition:n.avail_in);return{buffer:(0,MP.concatUint8Array)(f),cpositions:u,dpositions:l}}catch(n){throw/incorrect header check/.exec(`${n}`)?new Error("problem decompressing block: incorrect gzip header check"):n}}});var RP=b(Pf=>{"use strict";var PX=Pf&&Pf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});var IX=PX(Dk()),LX=$w(),jX=Ww(),Vw=class{constructor({filehandle:t,gziFilehandle:r}){this.filehandle=t,this.gzi=new IX.default({filehandle:r})}async _readAndUncompressBlock(t,r){let n=r;n||(n=(await this.filehandle.stat()).size);let i=n-t,o=await this.filehandle.read(i,t);return(0,LX.unzip)(o)}async read(t,r){let n=await this.gzi.getRelevantBlocksForRead(t,r),i=[];for(let o=0;o<n.length-1;o+=1){let a=await this._readAndUncompressBlock(n[o][0],n[o+1][0]),[,s]=n[o],f=s>=r?0:r-s,u=Math.min(r+t,s+a.length)-s;f>=0&&f<a.length&&i.push(a.subarray(f,u))}return(0,jX.concatUint8Array)(i)}};Pf.default=Vw});var IP=b(eo=>{"use strict";var qX=eo&&eo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eo,"__esModule",{value:!0});eo.unzipChunkSlice=eo.unzip=eo.BgzfFilehandle=void 0;var FX=RP();Object.defineProperty(eo,"BgzfFilehandle",{enumerable:!0,get:function(){return qX(FX).default}});var PP=$w();Object.defineProperty(eo,"unzip",{enumerable:!0,get:function(){return PP.unzip}});Object.defineProperty(eo,"unzipChunkSlice",{enumerable:!0,get:function(){return PP.unzipChunkSlice}})});var Jh=b(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});Yw.default=NX;var Gw=U();function NX(){let e=(0,Gw.useRef)(null),[t,r]=(0,Gw.useState)({width:void 0,height:void 0});return(0,Gw.useEffect)(()=>{if(!e.current)return;let n=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:void 0;if(!n)return;let i=new n(o=>{r({width:o[0].contentRect.width,height:o[0].contentRect.height})});return i.observe(e.current),()=>{i.disconnect()}},[]),[e,t]}});var Qh=b((j5e,LP)=>{LP.exports=JBrowseExports["react-dom"]});var qP=b((q5e,jP)=>{jP.exports=JBrowseExports["react-dom/client"]});var Qw=b(Fs=>{Object.defineProperty(Fs,"__esModule",{value:!0});var DX={grad:.9,turn:360,rad:360/(2*Math.PI)},No=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},lr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},Wn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},WP=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},FP=function(e){return{r:Wn(e.r,0,255),g:Wn(e.g,0,255),b:Wn(e.b,0,255),a:Wn(e.a)}},Zw=function(e){return{r:lr(e.r),g:lr(e.g),b:lr(e.b),a:lr(e.a,3)}},BX=/^#([0-9a-f]{3,8})$/i,em=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},$P=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),a=o-Math.min(t,r,n),s=a?o===t?(r-n)/a:o===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},VP=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),a=n*(1-r),s=n*(1-(t-o)*r),f=n*(1-(1-t+o)*r),u=o%6;return{r:255*[n,s,a,a,f,n][u],g:255*[f,n,n,s,a,a][u],b:255*[a,a,f,n,n,s][u],a:i}},NP=function(e){return{h:WP(e.h),s:Wn(e.s,0,100),l:Wn(e.l,0,100),a:Wn(e.a)}},DP=function(e){return{h:lr(e.h),s:lr(e.s),l:lr(e.l),a:lr(e.a,3)}},BP=function(e){return VP((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},If=function(e){return{h:(t=$P(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},zX=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,UX=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,HX=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WX=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jw={string:[[function(e){var t=BX.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?lr(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?lr(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=HX.exec(e)||WX.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:FP({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=zX.exec(e)||UX.exec(e);if(!t)return null;var r,n,i=NP({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(DX[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return BP(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=i===void 0?1:i;return No(t)&&No(r)&&No(n)?FP({r:Number(t),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,o=i===void 0?1:i;if(!No(t)||!No(r)||!No(n))return null;var a=NP({h:Number(t),s:Number(r),l:Number(n),a:Number(o)});return BP(a)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,o=i===void 0?1:i;if(!No(t)||!No(r)||!No(n))return null;var a=(function(s){return{h:WP(s.h),s:Wn(s.s,0,100),v:Wn(s.v,0,100),a:Wn(s.a)}})({h:Number(t),s:Number(r),v:Number(n),a:Number(o)});return VP(a)},"hsv"]]},zP=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},GP=function(e){return typeof e=="string"?zP(e.trim(),Jw.string):typeof e=="object"&&e!==null?zP(e,Jw.object):[null,void 0]},Kw=function(e,t){var r=If(e);return{h:r.h,s:Wn(r.s+100*t,0,100),l:r.l,a:r.a}},Xw=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},UP=function(e,t){var r=If(e);return{h:r.h,s:r.s,l:Wn(r.l+100*t,0,100),a:r.a}},Lf=(function(){function e(t){this.parsed=GP(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return lr(Xw(this.rgba),2)},e.prototype.isDark=function(){return Xw(this.rgba)<.5},e.prototype.isLight=function(){return Xw(this.rgba)>=.5},e.prototype.toHex=function(){return t=Zw(this.rgba),r=t.r,n=t.g,i=t.b,a=(o=t.a)<1?em(lr(255*o)):"","#"+em(r)+em(n)+em(i)+a;var t,r,n,i,o,a},e.prototype.toRgb=function(){return Zw(this.rgba)},e.prototype.toRgbString=function(){return t=Zw(this.rgba),r=t.r,n=t.g,i=t.b,(o=t.a)<1?"rgba("+r+", "+n+", "+i+", "+o+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,o},e.prototype.toHsl=function(){return DP(If(this.rgba))},e.prototype.toHslString=function(){return t=DP(If(this.rgba)),r=t.h,n=t.s,i=t.l,(o=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+o+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,o},e.prototype.toHsv=function(){return t=$P(this.rgba),{h:lr(t.h),s:lr(t.s),v:lr(t.v),a:lr(t.a,3)};var t},e.prototype.invert=function(){return to({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),to(Kw(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),to(Kw(this.rgba,-t))},e.prototype.grayscale=function(){return to(Kw(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),to(UP(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),to(UP(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?to({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):lr(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=If(this.rgba);return typeof t=="number"?to({h:t,s:r.s,l:r.l,a:r.a}):lr(r.h)},e.prototype.isEqual=function(t){return this.toHex()===to(t).toHex()},e})(),to=function(e){return e instanceof Lf?e:new Lf(e)},HP=[];Fs.Colord=Lf,Fs.colord=to,Fs.extend=function(e){e.forEach(function(t){HP.indexOf(t)<0&&(t(Lf,Jw),HP.push(t))})},Fs.getFormat=function(e){return GP(e)[1]},Fs.random=function(){return new Lf({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}});var KP=b((N5e,ZP)=>{var ro=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},ex=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},tx=function(e){return 255*(e>.0031308?1.055*Math.pow(e,.4166666666666667)-.055:12.92*e)},rx=96.422,nx=100,ix=82.521,$X=function(e){var t,r,n={x:.9555766*(t=e).x+-.0230393*t.y+.0631636*t.z,y:-.0282895*t.x+1.0099416*t.y+.0210077*t.z,z:.0122982*t.x+-.020483*t.y+1.3299098*t.z};return r={r:tx(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:tx(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:tx(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:e.a},{r:ro(r.r,0,255),g:ro(r.g,0,255),b:ro(r.b,0,255),a:ro(r.a)}},VX=function(e){var t=ex(e.r),r=ex(e.g),n=ex(e.b);return(function(i){return{x:ro(i.x,0,rx),y:ro(i.y,0,nx),z:ro(i.z,0,ix),a:ro(i.a)}})((function(i){return{x:1.0478112*i.x+.0228866*i.y+-.050127*i.z,y:.0295424*i.x+.9904844*i.y+-.0170491*i.z,z:-.0092345*i.x+.0150436*i.y+.7521316*i.z,a:i.a}})({x:100*(.4124564*t+.3575761*r+.1804375*n),y:100*(.2126729*t+.7151522*r+.072175*n),z:100*(.0193339*t+.119192*r+.9503041*n),a:e.a}))},jf=216/24389,el=24389/27,YP=function(e){var t=VX(e),r=t.x/rx,n=t.y/nx,i=t.z/ix;return r=r>jf?Math.cbrt(r):(el*r+16)/116,{l:116*(n=n>jf?Math.cbrt(n):(el*n+16)/116)-16,a:500*(r-n),b:200*(n-(i=i>jf?Math.cbrt(i):(el*i+16)/116)),alpha:t.a}},GX=function(e,t,r){var n,i=YP(e),o=YP(t);return(function(a){var s=(a.l+16)/116,f=a.a/500+s,u=s-a.b/200;return $X({x:(Math.pow(f,3)>jf?Math.pow(f,3):(116*f-16)/el)*rx,y:(a.l>8?Math.pow((a.l+16)/116,3):a.l/el)*nx,z:(Math.pow(u,3)>jf?Math.pow(u,3):(116*u-16)/el)*ix,a:a.alpha})})({l:ro((n={l:i.l*(1-r)+o.l*r,a:i.a*(1-r)+o.a*r,b:i.b*(1-r)+o.b*r,alpha:i.alpha*(1-r)+o.alpha*r}).l,0,400),a:n.a,b:n.b,alpha:ro(n.alpha)})};ZP.exports=function(e){function t(r,n,i){i===void 0&&(i=5);for(var o=[],a=1/(i-1),s=0;s<=i-1;s++)o.push(r.mix(n,a*s));return o}e.prototype.mix=function(r,n){n===void 0&&(n=.5);var i=r instanceof e?r:new e(r),o=GX(this.toRgb(),i.toRgb(),n);return new e(o)},e.prototype.tints=function(r){return t(this,"#fff",r)},e.prototype.shades=function(r){return t(this,"#000",r)},e.prototype.tones=function(r){return t(this,"#808080",r)}}});var JP=b((D5e,XP)=>{XP.exports=function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,f,u=n[this.toHex()];if(u)return u;if(a?.closest){var l=this.toRgb(),c=1/0,d="black";if(!o.length)for(var p in r)o[p]=new e(r[p]).toRgb();for(var h in r){var m=(s=l,f=o[h],Math.pow(s.r-f.r,2)+Math.pow(s.g-f.g,2)+Math.pow(s.b-f.b,2));m<c&&(c=m,d=h)}return d}},t.string.push([function(a){var s=a.toLowerCase(),f=s==="transparent"?"#0000":r[s];return f?new e(f).toRgb():null},"name"])}});var t5=b(Sa=>{"use strict";var QP=Sa&&Sa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.colord=Sa.Colord=void 0;var YX=Qw(),ZX=QP(KP()),KX=QP(JP());(0,YX.extend)([ZX.default,KX.default]);var e5=Qw();Object.defineProperty(Sa,"Colord",{enumerable:!0,get:function(){return e5.Colord}});Object.defineProperty(Sa,"colord",{enumerable:!0,get:function(){return e5.colord}})});var ox=b(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.createStopToken=JX;qf.stopStopToken=QX;qf.checkStopToken=eJ;function XX(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function JX(){var e;return((e=URL.createObjectURL)===null||e===void 0?void 0:e.call(URL,new Blob))||`${Math.random()}`}function QX(e){var t;(t=URL.revokeObjectURL)===null||t===void 0||t.call(URL,e)}function eJ(e){if(typeof jest>"u"&&e!==void 0&&XX()){let t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch{throw new Error("aborted")}}}});var n5=b(r5=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0})});var c5=b((H5e,l5)=>{"use strict";var s5=(e,t)=>e>t?1:e<t?-1:0,ax=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i5="eexxaacctt",tJ=/\p{P}/gu,rJ=["en",{numeric:!0,sensitivity:"base"}],tl=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),o5={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:1/0,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,1/0],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,r,n=s5)=>{let{idx:i,chars:o,terms:a,interLft2:s,interLft1:f,start:u,intraIns:l,interIns:c,cases:d}=e;return i.map((p,h)=>h).sort((p,h)=>o[h]-o[p]||l[p]-l[h]||a[h]+s[h]+.5*f[h]-(a[p]+s[p]+.5*f[p])||c[p]-c[h]||u[p]-u[h]||d[h]-d[p]||n(t[i[p]],t[i[h]]))}},sx=(e,t)=>t==0?"":t==1?e+"??":t==1/0?e+"*?":e+`{0,${t}}?`,a5="(?:\\b|_)";function tm(e){e=Object.assign({},o5,e);let{unicode:t,interLft:r,interRgt:n,intraMode:i,intraSlice:o,intraIns:a,intraSub:s,intraTrn:f,intraDel:u,intraContr:l,intraSplit:c,interSplit:d,intraBound:p,interBound:h,intraChars:m,toUpper:v,toLower:g,compare:_}=e;a??=i,s??=i,f??=i,u??=i,_??=typeof Intl>"u"?s5:new Intl.Collator(...rJ).compare;let w=e.letters??e.alpha;if(w!=null){let B=v(w),se=g(w);d=tl(d,B,se),c=tl(c,B,se),h=tl(h,B,se),p=tl(p,B,se),m=tl(m,B,se),l=tl(l,B,se)}let y=t?"u":"",x='".+?"',A=new RegExp(x,"gi"+y),E=new RegExp(`(?:\\s+|^)-(?:${m}+|${x})`,"gi"+y),{intraRules:O}=e;O==null&&(O=B=>{let se=o5.intraSlice,xe=0,ye=0,oe=0,ce=0;if(/[^\d]/.test(B)){let Ee=B.length;Ee<=4?Ee>=3&&(oe=Math.min(f,1),Ee==4&&(xe=Math.min(a,1))):(se=o,xe=a,ye=s,oe=f,ce=u)}return{intraSlice:se,intraIns:xe,intraSub:ye,intraTrn:oe,intraDel:ce}});let M=!!c,C=new RegExp(c,"g"+y),k=new RegExp(d,"g"+y),q=new RegExp("^"+d+"|"+d+"$","g"+y),N=new RegExp(l,"gi"+y),R=(B,se=!1)=>{let xe=[];B=B.replace(A,oe=>(xe.push(oe),i5)),B=B.replace(q,""),se||(B=g(B)),M&&(B=B.replace(C,oe=>oe[0]+" "+oe[1]));let ye=0;return B.split(k).filter(oe=>oe!="").map(oe=>oe===i5?xe[ye++]:oe)},F=/[^\d]+|\d+/g,G=(B,se=0,xe=!1)=>{let ye=R(B);if(ye.length==0)return[];let oe=Array(ye.length).fill("");ye=ye.map((Y,ne)=>Y.replace(N,re=>(oe[ne]=re,"")));let ce;if(i==1)ce=ye.map((Y,ne)=>{if(Y[0]==='"')return ax(Y.slice(1,-1));let re="";for(let ie of Y.matchAll(F)){let X=ie[0],{intraSlice:te,intraIns:ue,intraSub:ve,intraTrn:$,intraDel:J}=O(X);if(ue+ve+$+J==0)re+=X+oe[ne];else{let[K,de]=te,be=X.slice(0,K),Me=X.slice(de),Ye=X.slice(K,de);ue==1&&be.length==1&&be!=Ye[0]&&(be+="(?!"+be+")");let Kt=Ye.length,_r=[X];if(ve)for(let Ce=0;Ce<Kt;Ce++)_r.push(be+Ye.slice(0,Ce)+m+Ye.slice(Ce+1)+Me);if($)for(let Ce=0;Ce<Kt-1;Ce++)Ye[Ce]!=Ye[Ce+1]&&_r.push(be+Ye.slice(0,Ce)+Ye[Ce+1]+Ye[Ce]+Ye.slice(Ce+2)+Me);if(J)for(let Ce=0;Ce<Kt;Ce++)_r.push(be+Ye.slice(0,Ce+1)+"?"+Ye.slice(Ce+1)+Me);if(ue){let Ce=sx(m,1);for(let ar=0;ar<Kt;ar++)_r.push(be+Ye.slice(0,ar)+Ce+Ye.slice(ar)+Me)}re+="(?:"+_r.join("|")+")"+oe[ne]}}return re});else{let Y=sx(m,a);se==2&&a>0&&(Y=")("+Y+")("),ce=ye.map((ne,re)=>ne[0]==='"'?ax(ne.slice(1,-1)):ne.split("").map((ie,X,te)=>(a==1&&X==0&&te.length>1&&ie!=te[X+1]&&(ie+="(?!"+ie+")"),ie)).join(Y)+oe[re])}let Ee=r==2?a5:"",fe=n==2?a5:"",Z=fe+sx(e.interChars,e.interIns)+Ee;return se>0?xe?ce=Ee+"("+ce.join(")"+fe+"|"+Ee+"(")+")"+fe:(ce="("+ce.join(")("+Z+")(")+")",ce="(.??"+Ee+")"+ce+"("+fe+".*)"):(ce=ce.join(Z),ce=Ee+ce+fe),[new RegExp(ce,"i"+y),ye,oe]},z=(B,se,xe)=>{let[ye]=G(se);if(ye==null)return null;let oe=[];if(xe!=null)for(let ce=0;ce<xe.length;ce++){let Ee=xe[ce];ye.test(B[Ee])&&oe.push(Ee)}else for(let ce=0;ce<B.length;ce++)ye.test(B[ce])&&oe.push(ce);return oe},j=!!p,H=new RegExp(h,y),Q=new RegExp(p,y),_e=(B,se,xe)=>{let[ye,oe,ce]=G(xe,1),Ee=R(xe,!0),[fe]=G(xe,2),Z=oe.length,Y=Array(Z),ne=Array(Z);for(let ve=0;ve<Z;ve++){let $=oe[ve],J=Ee[ve],K=$[0]=='"'?$.slice(1,-1):$+ce[ve],de=J[0]=='"'?J.slice(1,-1):J+ce[ve];Y[ve]=K,ne[ve]=de}let re=B.length,ie=Array(re).fill(0),X={idx:Array(re),start:ie.slice(),chars:ie.slice(),cases:ie.slice(),terms:ie.slice(),interIns:ie.slice(),intraIns:ie.slice(),interLft2:ie.slice(),interRgt2:ie.slice(),interLft1:ie.slice(),interRgt1:ie.slice(),ranges:Array(re)},te=r==1||n==1,ue=0;for(let ve=0;ve<B.length;ve++){let $=se[B[ve]],J=$.match(ye),K=J.index+J[1].length,de=K,be=!1,Me=0,Ye=0,Kt=0,_r=0,Ce=0,ar=0,qn=0,ji=0,Ur=0,Xt=[];for(let Ne=0,Ze=2;Ne<Z;Ne++,Ze+=2){let Fn=g(J[Ze]),At=Y[Ne],oi=ne[Ne],Ir=At.length,Dt=Fn.length,br=Fn==At;if(J[Ze]==oi&&qn++,!br&&J[Ze+1].length>=Ir){let gt=g(J[Ze+1]).indexOf(At);gt>-1&&(Xt.push(de,Dt,gt,Ir),de+=le(J,Ze,gt,Ir),Fn=At,Dt=Ir,br=!0,Ne==0&&(K=de))}if(te||br){let gt=de-1,Je=de+Dt,on=!1,vs=!1;if(gt==-1||H.test($[gt]))br&&Me++,on=!0;else{if(r==2){be=!0;break}if(j&&Q.test($[gt]+$[gt+1]))br&&Ye++,on=!0;else if(r==1){let _s=J[Ze+1],qi=de+Dt;if(_s.length>=Ir){let Fi=0,Ao=!1,ky=new RegExp(At,"ig"+y),Sn;for(;Sn=ky.exec(_s);){Fi=Sn.index;let Ni=qi+Fi,xu=Ni-1;if(xu==-1||H.test($[xu])){Me++,Ao=!0;break}else if(Q.test($[xu]+$[Ni])){Ye++,Ao=!0;break}}Ao&&(on=!0,Xt.push(de,Dt,Fi,Ir),de+=le(J,Ze,Fi,Ir),Fn=At,Dt=Ir,br=!0,Ne==0&&(K=de))}if(!on){be=!0;break}}}if(Je==$.length||H.test($[Je]))br&&Kt++,vs=!0;else{if(n==2){be=!0;break}if(j&&Q.test($[Je-1]+$[Je]))br&&_r++,vs=!0;else if(n==1){be=!0;break}}br&&(Ce+=Ir,on&&vs&&ar++)}if(Dt>Ir&&(Ur+=Dt-Ir),Ne>0&&(ji+=J[Ze-1].length),!e.intraFilt(At,Fn,de)){be=!0;break}Ne<Z-1&&(de+=Dt+J[Ze+1].length)}if(!be){X.idx[ue]=B[ve],X.interLft2[ue]=Me,X.interLft1[ue]=Ye,X.interRgt2[ue]=Kt,X.interRgt1[ue]=_r,X.chars[ue]=Ce,X.terms[ue]=ar,X.cases[ue]=qn,X.interIns[ue]=ji,X.intraIns[ue]=Ur,X.start[ue]=K;let Ne=$.match(fe),Ze=Ne.index+Ne[1].length,Fn=Xt.length,At=Fn>0?0:1/0,oi=Fn-4;for(let gt=2;gt<Ne.length;){let Je=Ne[gt].length;if(At<=oi&&Xt[At]==Ze){let on=Xt[At+1],vs=Xt[At+2],_s=Xt[At+3],qi=gt,Fi="";for(let Ao=0;Ao<on;qi++)Fi+=Ne[qi],Ao+=Ne[qi].length;Ne.splice(gt,qi-gt,Fi),Ze+=le(Ne,gt,vs,_s),At+=4}else Ze+=Je,gt++}Ze=Ne.index+Ne[1].length;let Ir=X.ranges[ue]=[],Dt=Ze,br=Ze;for(let gt=2;gt<Ne.length;gt++){let Je=Ne[gt].length;Ze+=Je,gt%2==0?br=Ze:Je>0&&(Ir.push(Dt,br),Dt=br=Ze)}br>Dt&&Ir.push(Dt,br),ue++}}if(ue<B.length)for(let ve in X)X[ve]=X[ve].slice(0,ue);return X},le=(B,se,xe,ye)=>{let oe=B[se]+B[se+1].slice(0,xe);return B[se-1]+=oe,B[se]=B[se+1].slice(xe,xe+ye),B[se+1]=B[se+1].slice(xe+ye),oe.length},W=5,ke=(B,se,xe,ye=1e3,oe)=>{xe=xe?xe===!0?W:xe:0;let ce=null,Ee=null,fe=[];se=se.replace(E,X=>{let te=X.trim().slice(1);return te=te[0]==='"'?ax(te.slice(1,-1)):te.replace(tJ,""),te!=""&&fe.push(te),""});let Z=R(se),Y;if(fe.length>0){if(Y=new RegExp(fe.join("|"),"i"+y),Z.length==0){let X=[];for(let te=0;te<B.length;te++)Y.test(B[te])||X.push(te);return[X,null,null]}}else if(Z.length==0)return[null,null,null];if(xe>0){let X=R(se);if(X.length>1){let te=X.slice().sort((ve,$)=>$.length-ve.length);for(let ve=0;ve<te.length;ve++){if(oe?.length==0)return[[],null,null];oe=z(B,te[ve],oe)}if(X.length>xe)return[oe,null,null];ce=u5(X).map(ve=>ve.join(" ")),Ee=[];let ue=new Set;for(let ve=0;ve<ce.length;ve++)if(ue.size<oe.length){let $=oe.filter(K=>!ue.has(K)),J=z(B,ce[ve],$);for(let K=0;K<J.length;K++)ue.add(J[K]);Ee.push(J)}else Ee.push([])}}ce==null&&(ce=[se],Ee=[oe?.length>0?oe:z(B,se)]);let ne=null,re=null;if(fe.length>0&&(Ee=Ee.map(X=>X.filter(te=>!Y.test(B[te])))),Ee.reduce((X,te)=>X+te.length,0)<=ye){ne={},re=[];for(let X=0;X<Ee.length;X++){let te=Ee[X];if(te==null||te.length==0)continue;let ue=ce[X],ve=_e(te,B,ue),$=e.sort(ve,B,ue,_);if(X>0)for(let J=0;J<$.length;J++)$[J]+=re.length;for(let J in ve)ne[J]=(ne[J]??[]).concat(ve[J]);re=re.concat($)}}return[[].concat(...Ee),ne,re]};return{search:(...B)=>ke(...B),split:R,filter:z,info:_e,sort:e.sort}}var nJ=(()=>{let e={A:"\xC1\xC0\xC3\xC2\xC4\u0104\u0102\xC5",a:"\xE1\xE0\xE3\xE2\xE4\u0105\u0103\xE5",E:"\xC9\xC8\xCA\xCB\u0116\u011A",e:"\xE9\xE8\xEA\xEB\u0119\u011B",I:"\xCD\xCC\xCE\xCF\u012E\u0130",i:"\xED\xEC\xEE\xEF\u012F\u0131",O:"\xD3\xD2\xD4\xD5\xD6",o:"\xF3\xF2\xF4\xF5\xF6",U:"\xDA\xD9\xDB\xDC\u016A\u0172\u016E\u0170",u:"\xFA\xF9\xFB\xFC\u016B\u0173\u016F\u0171",C:"\xC7\u010C\u0106",c:"\xE7\u010D\u0107",D:"\u010E",d:"\u010F",G:"\u011E",g:"\u011F",L:"\u0141",l:"\u0142",N:"\xD1\u0143\u0147",n:"\xF1\u0144\u0148",S:"\u0160\u015A\u0218\u015E",s:"\u0161\u015B\u0219\u015F",T:"\u0162\u021A\u0164",t:"\u0163\u021B\u0165",Y:"\xDD",y:"\xFD",Z:"\u017B\u0179\u017D",z:"\u017C\u017A\u017E"},t={},r="";for(let o in e)e[o].split("").forEach(a=>{r+=a,t[a]=o});let n=new RegExp(`[${r}]`,"g"),i=o=>t[o];return o=>{if(typeof o=="string")return o.replace(n,i);let a=Array(o.length);for(let s=0;s<o.length;s++)a[s]=o[s].replace(n,i);return a}})();function u5(e){e=e.slice();let t=e.length,r=[e.slice()],n=new Array(t).fill(0),i=1,o,a;for(;i<t;)n[i]<i?(o=i%2&&n[i],a=e[i],e[i]=e[o],e[o]=a,++n[i],i=1,r.push(e.slice())):(n[i]=0,++i);return r}var iJ=(e,t)=>t?`<mark>${e}</mark>`:e,oJ=(e,t)=>e+t;function aJ(e,t,r=iJ,n="",i=oJ){n=i(n,r(e.substring(0,t[0]),!1))??n;for(let o=0;o<t.length;o+=2){let a=t[o],s=t[o+1];n=i(n,r(e.substring(a,s),!0))??n,o<t.length-3&&(n=i(n,r(e.substring(t[o+1],t[o+2]),!1))??n)}return n=i(n,r(e.substring(t[t.length-1]),!1))??n,n}tm.latinize=nJ;tm.permute=e=>u5([...Array(e.length).keys()]).sort((r,n)=>{for(let i=0;i<r.length;i++)if(r[i]!=n[i])return r[i]-n[i];return 0}).map(r=>r.map(n=>e[n]));tm.highlight=aJ;l5.exports=tm});var Lt=b((W5e,Ff)=>{function sJ(e){return e&&e.__esModule?e:{default:e}}Ff.exports=sJ,Ff.exports.__esModule=!0,Ff.exports.default=Ff.exports});var lx=b(($5e,Do)=>{function ux(e){"@babel/helpers - typeof";return Do.exports=ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do.exports.__esModule=!0,Do.exports.default=Do.exports,ux(e)}Do.exports=ux,Do.exports.__esModule=!0,Do.exports.default=Do.exports});var d5=b((V5e,Nf)=>{var f5=lx().default;function uJ(e,t){if(f5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Nf.exports=uJ,Nf.exports.__esModule=!0,Nf.exports.default=Nf.exports});var cx=b((G5e,Df)=>{var lJ=lx().default,cJ=d5();function fJ(e){var t=cJ(e,"string");return lJ(t)=="symbol"?t:t+""}Df.exports=fJ,Df.exports.__esModule=!0,Df.exports.default=Df.exports});var p5=b((Y5e,Bf)=>{var dJ=cx();function pJ(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Bf.exports=pJ,Bf.exports.__esModule=!0,Bf.exports.default=Bf.exports});var Ns=b((Z5e,zf)=>{function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}zf.exports=hJ,zf.exports.__esModule=!0,zf.exports.default=zf.exports});var Ds=b((K5e,Uf)=>{var mJ=cx();function h5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mJ(n.key),n)}}function gJ(e,t,r){return t&&h5(e.prototype,t),r&&h5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Uf.exports=gJ,Uf.exports.__esModule=!0,Uf.exports.default=Uf.exports});var fx=b((X5e,Hf)=>{function vJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Hf.exports=vJ,Hf.exports.__esModule=!0,Hf.exports.default=Hf.exports});var m5=b((J5e,Wf)=>{var _J=fx();function bJ(e){if(Array.isArray(e))return _J(e)}Wf.exports=bJ,Wf.exports.__esModule=!0,Wf.exports.default=Wf.exports});var g5=b((Q5e,$f)=>{function yJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}$f.exports=yJ,$f.exports.__esModule=!0,$f.exports.default=$f.exports});var _5=b((eIe,Vf)=>{var v5=fx();function wJ(e,t){if(e){if(typeof e=="string")return v5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v5(e,t):void 0}}Vf.exports=wJ,Vf.exports.__esModule=!0,Vf.exports.default=Vf.exports});var b5=b((tIe,Gf)=>{function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Gf.exports=xJ,Gf.exports.__esModule=!0,Gf.exports.default=Gf.exports});var y5=b((rIe,Yf)=>{var SJ=m5(),EJ=g5(),AJ=_5(),TJ=b5();function OJ(e){return SJ(e)||EJ(e)||AJ(e)||TJ()}Yf.exports=OJ,Yf.exports.__esModule=!0,Yf.exports.default=Yf.exports});var w5=b(no=>{"use strict";var MJ=Lt(),CJ=MJ(y5()),kJ={functions:"Jexl Function",transforms:"Transform"};no.ArrayLiteral=function(e){return this.evalArray(e.value)};no.BinaryExpression=function(e){var t=this,r=this._grammar.elements[e.operator];if(r.evalOnDemand){var n=function(o){return{eval:function(){return t.eval(o)}}};return r.evalOnDemand(n(e.left),n(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then(function(i){return r.eval(i[0],i[1])})};no.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then(function(r){return r?e.consequent?t.eval(e.consequent):r:t.eval(e.alternate)})};no.FilterExpression=function(e){var t=this;return this.eval(e.subject).then(function(r){return e.relative?t._filterRelative(r,e.expr):t._filterStatic(r,e.expr)})};no.Identifier=function(e){return e.from?this.eval(e.from).then(function(t){if(t!=null)return Array.isArray(t)&&(t=t[0]),t[e.value]}):e.relative?this._relContext[e.value]:this._context[e.value]};no.Literal=function(e){return e.value};no.ObjectLiteral=function(e){return this.evalMap(e.value)};no.FunctionCall=function(e){var t=kJ[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var r=this._grammar[e.pool],n=r[e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then(function(i){return n.apply(void 0,(0,CJ.default)(i))})};no.UnaryExpression=function(e){var t=this;return this.eval(e.right).then(function(r){return t._grammar.elements[e.operator].eval(r)})}});var E5=b((iIe,S5)=>{"use strict";var x5=Lt(),RJ=x5(Ns()),PJ=x5(Ds()),IJ=w5(),LJ=(function(){function e(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Promise;(0,RJ.default)(this,e),this._grammar=t,this._context=r||{},this._relContext=n||this._context,this.Promise=i}return(0,PJ.default)(e,[{key:"eval",value:function(r){var n=this;return this.Promise.resolve().then(function(){return IJ[r.type].call(n,r)})}},{key:"evalArray",value:function(r){var n=this;return this.Promise.all(r.map(function(i){return n.eval(i)}))}},{key:"evalMap",value:function(r){var n=this,i=Object.keys(r),o={},a=i.map(function(s){return n.eval(r[s])});return this.Promise.all(a).then(function(s){return s.forEach(function(f,u){o[i[u]]=f}),o})}},{key:"_filterRelative",value:function(r,n){var i=this,o=[];return Array.isArray(r)||(r=r===void 0?[]:[r]),r.forEach(function(a){var s=new e(i._grammar,i._context,a,i.Promise);o.push(s.eval(n))}),this.Promise.all(o).then(function(a){var s=[];return a.forEach(function(f,u){f&&s.push(r[u])}),s})}},{key:"_filterStatic",value:function(r,n){return this.eval(n).then(function(i){return typeof i=="boolean"?i?r:void 0:r[i]})}}]),e})();S5.exports=LJ});var M5=b((oIe,O5)=>{"use strict";var T5=Lt(),jJ=T5(Ns()),qJ=T5(Ds()),FJ=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,A5=/^[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Z--0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,NJ=/\\\\/,DJ=/^\s*$/,BJ=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],zJ=["[a-zA-Z\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$][a-zA-Z0-9\u0430-\u044F\u0410-\u042F_\xC0-\xD6\xD8-\xF6\xF8-\xFF\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],UJ=["binaryOp","unaryOp","openParen","openBracket","question","colon"],HJ=(function(){function e(t){(0,jJ.default)(this,e),this._grammar=t}return(0,qJ.default)(e,[{key:"getElements",value:function(r){var n=this._getSplitRegex();return r.split(n).filter(function(i){return i})}},{key:"getTokens",value:function(r){for(var n=[],i=!1,o=0;o<r.length;o++)this._isWhitespace(r[o])?n.length&&(n[n.length-1].raw+=r[o]):r[o]==="-"&&this._isNegative(n)?i=!0:(i&&(r[o]="-"+r[o],i=!1),n.push(this._createToken(r[o])));return i&&n.push(this._createToken("-")),n}},{key:"tokenize",value:function(r){var n=this.getElements(r);return this.getTokens(n)}},{key:"_createToken",value:function(r){var n={type:"literal",value:r,raw:r};if(r[0]==='"'||r[0]==="'")n.value=this._unquote(r);else if(r.match(FJ))n.value=parseFloat(r);else if(r==="true"||r==="false")n.value=r==="true";else if(this._grammar.elements[r])n.type=this._grammar.elements[r].type;else if(r.match(A5))n.type="identifier";else throw new Error("Invalid expression token: ".concat(r));return n}},{key:"_escapeRegExp",value:function(r){return r=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r.match(A5)&&(r="\\b"+r+"\\b"),r}},{key:"_getSplitRegex",value:function(){var r=this;if(!this._splitRegex){var n=Object.keys(this._grammar.elements).sort(function(i,o){return o.length-i.length}).map(function(i){return r._escapeRegExp(i)},this);this._splitRegex=new RegExp("("+[BJ.join("|"),n.join("|"),zJ.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(r){return r.length?UJ.some(function(n){return n===r[r.length-1].type}):!0}},{key:"_isWhitespace",value:function(r){return!!r.match(DJ)}},{key:"_unquote",value:function(r){var n=r[0],i=new RegExp("\\\\"+n,"g");return r.substr(1,r.length-2).replace(i,n).replace(NJ,"\\")}}]),e})();O5.exports=HJ});var dx=b(tr=>{"use strict";tr.argVal=function(e){e&&this._cursor.args.push(e)};tr.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})};tr.arrayVal=function(e){e&&this._cursor.value.push(e)};tr.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,r=this._cursor._parent;r&&r.operator&&this._grammar.elements[r.operator].precedence>=t;)this._cursor=r,r=r._parent;var n={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,n),this._cursor=r,this._placeAtCursor(n)};tr.dot=function(){this._nextIdentEncapsulate=this._cursor&&this._cursor.type!=="UnaryExpression"&&(this._cursor.type!=="BinaryExpression"||this._cursor.type==="BinaryExpression"&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)};tr.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})};tr.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})};tr.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))};tr.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})};tr.objKey=function(e){this._curObjKey=e.value};tr.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})};tr.objVal=function(e){this._cursor.value[this._curObjKey]=e};tr.subExpression=function(e){this._placeAtCursor(e)};tr.ternaryEnd=function(e){this._cursor.alternate=e};tr.ternaryMid=function(e){this._cursor.consequent=e};tr.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree};tr.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})};tr.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}});var k5=b(C5=>{"use strict";var fn=dx();C5.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:fn.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:fn.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:fn.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:fn.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:fn.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:fn.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:fn.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:fn.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:fn.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:fn.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:fn.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:fn.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:fn.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:fn.ternaryEnd,completable:!0}}});var I5=b((uIe,P5)=>{"use strict";var R5=Lt(),WJ=R5(Ns()),$J=R5(Ds()),VJ=dx(),rm=k5().states,GJ=(function(){function e(t,r,n){(0,WJ.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=r||"",this._relative=!1,this._stopMap=n||{}}return(0,$J.default)(e,[{key:"addToken",value:function(r){if(this._state==="complete")throw new Error("Cannot add a new token to a completed Parser");var n=rm[this._state],i=this._exprStr;if(this._exprStr+=r.raw,n.subHandler){this._subParser||this._startSubExpression(i);var o=this._subParser.addToken(r);if(o){if(this._endSubExpression(),this._parentStop)return o;this._state=o}}else if(n.tokenTypes[r.type]){var a=n.tokenTypes[r.type],s=VJ[r.type];a.handler&&(s=a.handler),s&&s.call(this,r),a.toState&&(this._state=a.toState)}else{if(this._stopMap[r.type])return this._stopMap[r.type];throw new Error("Token ".concat(r.raw," (").concat(r.type,") unexpected in expression: ").concat(this._exprStr))}return!1}},{key:"addTokens",value:function(r){r.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!rm[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){rm[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(r){this._cursor?(this._cursor.right=r,this._setParent(r,this._cursor)):this._tree=r,this._cursor=r}},{key:"_placeBeforeCursor",value:function(r){this._cursor=this._cursor._parent,this._placeAtCursor(r)}},{key:"_setParent",value:function(r,n){Object.defineProperty(r,"_parent",{value:n,writable:!0})}},{key:"_startSubExpression",value:function(r){var n=rm[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,r,n)}}]),e})();P5.exports=GJ});var q5=b((lIe,j5)=>{"use strict";var L5=Lt(),YJ=L5(Ns()),ZJ=L5(Ds()),Ea=(function(){function e(t){(0,YJ.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,ZJ.default)(e,[{key:"catch",value:function(r){if(this.error)try{this._resolve(r(this.error))}catch(n){this._reject(n)}return this}},{key:"then",value:function(r,n){if(!this.error)try{this._resolve(r(this.value))}catch(i){this._reject(i)}return n&&this.catch(n),this}},{key:"_reject",value:function(r){this.value=void 0,this.error=r}},{key:"_resolve",value:function(r){r instanceof e?r.error?this._reject(r.error):this._resolve(r.value):(this.value=r,this.error=void 0)}}]),e})();Ea.all=function(e){return new Ea(function(t){var r=e.map(function(n){for(;n instanceof Ea;){if(n.error)throw Error(n.error);n=n.value}return n});t(r)})};Ea.resolve=function(e){return new Ea(function(t){return t(e)})};Ea.reject=function(e){return new Ea(function(t,r){return r(e)})};j5.exports=Ea});var D5=b((cIe,N5)=>{"use strict";var F5=Lt(),KJ=F5(Ns()),XJ=F5(Ds()),JJ=E5(),QJ=M5(),eQ=I5(),tQ=q5(),rQ=(function(){function e(t,r){(0,KJ.default)(this,e),this._grammar=t,this._exprStr=r,this._ast=null}return(0,XJ.default)(e,[{key:"compile",value:function(){var r=new QJ(this._grammar),n=new eQ(this._grammar),i=r.tokenize(this._exprStr);return n.addTokens(i),this._ast=n.complete(),this}},{key:"eval",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._eval(r,Promise)}},{key:"evalSync",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._eval(r,tQ);if(n.error)throw n.error;return n.value}},{key:"_eval",value:function(r,n){var i=this;return n.resolve().then(function(){var o=i._getAst(),a=new JJ(i._grammar,r,void 0,n);return a.eval(o)})}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e})();N5.exports=rQ});var z5=b(B5=>{"use strict";B5.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(t,r){return t+r}},"-":{type:"binaryOp",precedence:30,eval:function(t,r){return t-r}},"*":{type:"binaryOp",precedence:40,eval:function(t,r){return t*r}},"/":{type:"binaryOp",precedence:40,eval:function(t,r){return t/r}},"//":{type:"binaryOp",precedence:40,eval:function(t,r){return Math.floor(t/r)}},"%":{type:"binaryOp",precedence:50,eval:function(t,r){return t%r}},"^":{type:"binaryOp",precedence:50,eval:function(t,r){return Math.pow(t,r)}},"==":{type:"binaryOp",precedence:20,eval:function(t,r){return t==r}},"!=":{type:"binaryOp",precedence:20,eval:function(t,r){return t!=r}},">":{type:"binaryOp",precedence:20,eval:function(t,r){return t>r}},">=":{type:"binaryOp",precedence:20,eval:function(t,r){return t>=r}},"<":{type:"binaryOp",precedence:20,eval:function(t,r){return t<r}},"<=":{type:"binaryOp",precedence:20,eval:function(t,r){return t<=r}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n&&r.eval()})}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(t,r){return t.eval().then(function(n){return n||r.eval()})}},in:{type:"binaryOp",precedence:20,eval:function(t,r){return typeof r=="string"?r.indexOf(t)!==-1:Array.isArray(r)?r.some(function(n){return n===t}):!1}},"!":{type:"unaryOp",precedence:1/0,eval:function(t){return!t}}},functions:{},transforms:{}}}});var H5=b((dIe,hx)=>{"use strict";var px=Lt(),nQ=px(p5()),iQ=px(Ns()),oQ=px(Ds()),aQ=D5(),sQ=z5(),uQ=sQ.getGrammar,U5=(function(){function e(){(0,iQ.default)(this,e),this.expr=this.expr.bind(this),this._grammar=uQ()}return(0,oQ.default)(e,[{key:"addBinaryOp",value:function(r,n,i,o){this._addGrammarElement(r,(0,nQ.default)({type:"binaryOp",precedence:n},o?"evalOnDemand":"eval",i))}},{key:"addFunction",value:function(r,n){this._grammar.functions[r]=n}},{key:"addFunctions",value:function(r){for(var n in r)this._grammar.functions[n]=r[n]}},{key:"addUnaryOp",value:function(r,n){this._addGrammarElement(r,{type:"unaryOp",weight:1/0,eval:n})}},{key:"addTransform",value:function(r,n){this._grammar.transforms[r]=n}},{key:"addTransforms",value:function(r){for(var n in r)this._grammar.transforms[n]=r[n]}},{key:"compile",value:function(r){var n=this.createExpression(r);return n.compile()}},{key:"createExpression",value:function(r){return new aQ(this._grammar,r)}},{key:"getFunction",value:function(r){return this._grammar.functions[r]}},{key:"getTransform",value:function(r){return this._grammar.transforms[r]}},{key:"eval",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.createExpression(r);return i.eval(n)}},{key:"evalSync",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.createExpression(r);return i.evalSync(n)}},{key:"expr",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=r.reduce(function(s,f,u){var l=u<i.length?i[u]:"";return s+=f+l,s},"");return this.createExpression(a)}},{key:"removeOp",value:function(r){this._grammar.elements[r]&&(this._grammar.elements[r].type==="binaryOp"||this._grammar.elements[r].type==="unaryOp")&&delete this._grammar.elements[r]}},{key:"_addGrammarElement",value:function(r,n){this._grammar.elements[r]=n}}]),e})();hx.exports=new U5;hx.exports.Jexl=U5});var W5=b(Zf=>{"use strict";var lQ=Zf&&Zf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.default=fQ;var cQ=lQ(H5());function fQ(){let e=new cQ.default.Jexl;return e.addFunction("get",(t,r)=>t.get(r)),e.addFunction("parent",t=>t.parent()),e.addFunction("id",t=>t.id()),e.addFunction("cast",t=>t),e.addFunction("log",t=>(console.log(t),t)),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(t,r)=>t.split(r)),e.addFunction("charAt",(t,r)=>t.charAt(r)),e.addFunction("charCodeAt",(t,r)=>t.charCodeAt(r)),e.addFunction("codePointAt",(t,r)=>t.codePointAt(r)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("endsWith",(t,r,n)=>t.endsWith(r,n)),e.addFunction("padEnd",(t,r,n)=>t.padEnd(r,n)),e.addFunction("padStart",(t,r,n)=>t.padStart(r,n)),e.addFunction("repeat",(t,r)=>t.repeat(r)),e.addFunction("replace",(t,r,n)=>t.replace(r,n)),e.addFunction("replaceAll",(t,r,n)=>t.replaceAll(r,n)),e.addFunction("slice",(t,r,n)=>t.slice(r,n)),e.addFunction("startsWith",(t,r,n)=>t.startsWith(r,n)),e.addFunction("substring",(t,r,n)=>t.substring(r,n)),e.addFunction("toLowerCase",t=>t.toLowerCase()),e.addFunction("toUpperCase",t=>t.toUpperCase()),e.addFunction("jsonParse",t=>JSON.parse(t)),e.addFunction("trim",t=>t.trim()),e.addFunction("trimEnd",t=>t.trimEnd()),e.addFunction("trimStart",t=>t.trimStart()),e.addFunction("getTag",(t,r)=>{let n=t.get("tags");return n?n[r]:t.get(r)}),e.addBinaryOp("&",15,(t,r)=>t&r),e}});var $5=b(Kf=>{"use strict";var dQ=Kf&&Kf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.stringToJexlExpression=hQ;var pQ=dQ(W5()),mx={};function hQ(e,t){let r=`nosig|${e}`;if(!mx[r]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");let i=e.split("jexl:")[1],o=t?t.compile(i):(0,pQ.default)().compile(i);mx[r]=o}return mx[r]}});var V5=b(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.nanoid=dn.customAlphabet=dn.customRandom=dn.random=dn.urlAlphabet=void 0;dn.urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var mQ=e=>crypto.getRandomValues(new Uint8Array(e));dn.random=mQ;var gQ=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(o=t)=>{let a="";for(;;){let s=r(i),f=i;for(;f--;)if(a+=e[s[f]&n]||"",a.length===o)return a}}};dn.customRandom=gQ;var vQ=(e,t=21)=>(0,dn.customRandom)(e,t,dn.random);dn.customAlphabet=vQ;var _Q=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");dn.nanoid=_Q});var gx=b(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.FileLocation=_t.UriLocation=_t.UriLocationRaw=_t.BlobLocation=_t.LocalPathLocation=_t.Region=_t.NoAssemblyRegion=_t.ElementId=void 0;var Ue=Jt(),bQ=V5();_t.ElementId=Ue.types.optional(Ue.types.identifier,()=>(0,bQ.nanoid)());_t.NoAssemblyRegion=Ue.types.model("NoAssemblyRegion",{refName:Ue.types.string,start:Ue.types.number,end:Ue.types.number,reversed:Ue.types.optional(Ue.types.boolean,!1)}).actions(e=>({setRefName(t){e.refName=t}}));_t.Region=Ue.types.compose("Region",_t.NoAssemblyRegion,Ue.types.model({assemblyName:Ue.types.string}));_t.LocalPathLocation=Ue.types.model("LocalPathLocation",{locationType:Ue.types.literal("LocalPathLocation"),localPath:Ue.types.string});_t.BlobLocation=Ue.types.model("BlobLocation",{locationType:Ue.types.literal("BlobLocation"),name:Ue.types.string,blobId:Ue.types.string});_t.UriLocationRaw=Ue.types.model("UriLocation",{locationType:Ue.types.literal("UriLocation"),uri:Ue.types.string,baseUri:Ue.types.maybe(Ue.types.string),internetAccountId:Ue.types.maybe(Ue.types.string),internetAccountPreAuthorization:Ue.types.maybe(Ue.types.model("InternetAccountPreAuthorization",{internetAccountType:Ue.types.string,authInfo:Ue.types.frozen()}))});_t.UriLocation=Ue.types.snapshotProcessor(_t.UriLocationRaw,{postProcessor:e=>{let{baseUri:t,...r}=e;return t?e:r}});_t.FileLocation=Ue.types.snapshotProcessor(Ue.types.union(_t.LocalPathLocation,_t.UriLocation,_t.BlobLocation),{preProcessor(e){if(!e)return;let{locationType:t,...r}=e;if(!t){let{uri:n,localPath:i,blob:o}=r,a="";return n!==void 0?a="UriLocation":i!==void 0?a="LocalPathLocation":o!==void 0&&(a="BlobLocation"),{...r,locationType:a}}return e}})});var K5=b(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});_x.default=OQ;var dt=Jt(),yQ=pn(),wQ=$5(),xQ=gx();function SQ(){return!0}var EQ={stringArray:dt.types.array(dt.types.string),stringArrayMap:dt.types.map(dt.types.array(dt.types.string)),numberMap:dt.types.map(dt.types.number),boolean:dt.types.boolean,color:dt.types.refinement("Color",dt.types.string,SQ),integer:dt.types.integer,number:dt.types.number,string:dt.types.string,text:dt.types.string,fileLocation:xQ.FileLocation,frozen:dt.types.frozen()},G5={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},vx=e=>({views:{get valueJSON(){return e.value}}}),Y5=e=>({views:{get valueJSON(){return JSON.stringify(e.value)}}}),Z5={fileLocation:Y5,number:vx,integer:vx,boolean:vx,frozen:Y5,stringArray:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t){e.value.push(t)},removeAtIndex(t){e.value.splice(t,1)},setAtIndex(t,r){e.value[t]=r}}}),stringArrayMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)},addToKey(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.push(r)},removeAtKeyIndex(t,r){let n=e.value.get(t);if(!n)throw new Error(`${t} not found`);n.splice(r,1)},setAtKeyIndex(t,r,n){let i=e.value.get(t);if(!i)throw new Error(`${t} not found`);i[r]=n}}}),numberMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,r){e.value.set(t,r)},remove(t){e.value.delete(t)}}})},AQ=dt.types.refinement("JexlString",dt.types.string,e=>e.startsWith("jexl:"));function TQ(e){return e?.toJSON?e.toJSON():`"${e}"`}function OQ(e,{description:t="",model:r,type:n,defaultValue:i,contextVariable:o=[]}){if(!n)throw new Error("type name required");if(r||(r=EQ[n]),!r)throw new Error(`no builtin config slot type "${n}", and no 'model' param provided`);if(i===void 0)throw new Error("no 'defaultValue' provided");let a=`${e.charAt(0).toUpperCase()}${e.slice(1)}ConfigSlot`,s=dt.types.model(a,{name:dt.types.literal(e),description:dt.types.literal(t),type:dt.types.literal(n),value:dt.types.optional(dt.types.union(AQ,r),i)}).volatile(()=>({contextVariable:o})).views(l=>({get isCallback(){return String(l.value).startsWith("jexl:")}})).views(l=>({get expr(){if(l.isCallback){let{pluginManager:c}=(0,yQ.getEnv)(l);return!c&&typeof jest>"u"&&console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,wQ.stringToJexlExpression)(String(l.value),c?.jexl)}return{evalSync:()=>l.value}},get valueJSON(){if(!l.isCallback)return TQ(l.value)}})).preProcessSnapshot(l=>typeof l=="object"&&l.name===e?l:{name:e,description:t,type:n,value:l}).postProcessSnapshot(l=>typeof l.value=="object"?JSON.stringify(l.value)!==JSON.stringify(i)?l.value:void 0:l.value!==i?l.value:void 0).actions(l=>({set(c){l.value=c},reset(){l.value=i},convertToCallback(){l.isCallback||(l.value=`jexl:${l.valueJSON||"''"}`)},convertToValue(){if(l.isCallback){try{let c=l.expr.evalSync();if(c!==void 0){l.value=c;return}}catch{}if(l.value=i,!(n in G5))throw new Error(`no fallbackDefault defined for type ${n}`);l.value=G5[n]}}}));Z5[n]&&(s=s.extend(Z5[n]));let u=dt.types.optional(s,{name:e,type:n,description:t,value:i});return Object.defineProperty(u,"isJBrowseConfigurationSlot",{value:!0}),u}});var J5=b(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getSubType=bx;Ta.getUnionSubTypes=X5;Ta.getPropertyType=MQ;Ta.getDefaultValue=CQ;Ta.getEnumerationValues=kQ;Ta.resolveLateType=RQ;var Aa=Jt();function bx(e){let t;if((0,Aa.isOptionalType)(e))t=e._subtype||e.type;else if((0,Aa.isArrayType)(e)||(0,Aa.isMapType)(e))t=e._subtype||e._subType||e.subType;else{if(typeof e.getSubType=="function")return e.getSubType();throw new TypeError("unsupported mst type")}if(!t)throw new Error("failed to get subtype");return t}function X5(e){if(!(0,Aa.isUnionType)(e))throw new TypeError("not an MST union type");let t=e._types||e.types||bx(e)._types||bx(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}function MQ(e,t){return e.properties[t]}function CQ(e){if(!(0,Aa.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue}function kQ(e){return X5(e).map(r=>r.value)}function RQ(e){return!(0,Aa.isUnionType)(e)&&!(0,Aa.isArrayType)(e)&&(0,Aa.isLateType)(e)?e.getSubType():e}});var yx=b(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.readConfObject=nm;Bo.getConf=PQ;Bo.getTypeNamesFromExplicitlyTypedUnion=Q5;Bo.isBareConfigurationSchemaType=eI;Bo.isConfigurationSchemaType=rl;Bo.isConfigurationModel=tI;Bo.isConfigurationSlotType=IQ;var jt=Jt(),Oa=J5();function nm(e,t,r={}){if(t){if(typeof t=="string"){let n=e[t];if(!n&&(0,jt.isStateTreeNode)(e)&&(0,jt.isMapType)((0,jt.getType)(e))&&(n=e.get(t)),n){let i=n.expr?n.expr.evalSync(r):n;return(0,jt.isStateTreeNode)(i)?JSON.parse(JSON.stringify((0,jt.getSnapshot)(i))):i}else return}else if(Array.isArray(t)){let n=t[0];if(t.length>1){let i=t.slice(1),o=e[n];return!o&&(0,jt.isStateTreeNode)(e)&&(0,jt.isMapType)((0,jt.getType)(e))&&(o=e.get(n)),o?nm(o,i,r):void 0}return nm(e,n,r)}}else return structuredClone((0,jt.getSnapshot)(e));throw new TypeError("slotPath must be a string or array")}function PQ(e,t,r){let{configuration:n}=e;if(tI(n))return nm(n,t,r);throw new TypeError("cannot getConf on this model, it has no configuration")}function Q5(e){if((0,jt.isType)(e)&&(e=(0,Oa.resolveLateType)(e),(0,jt.isUnionType)(e))){let t=[];for(let r of(0,Oa.getUnionSubTypes)(e)){r=(0,Oa.resolveLateType)(r);let n=Q5(r);if(n.length||(n=[(0,Oa.getDefaultValue)(r).type]),!n[0])throw new Error(`invalid config schema type ${r}`);t.push(...n)}return t}return[]}function eI(e){return!!((0,jt.isType)(e)&&((0,jt.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema"))||(0,jt.isLateType)(e)))}function rl(e){return(0,jt.isType)(e)?eI(e)?!0:(0,jt.isUnionType)(e)?(0,Oa.getUnionSubTypes)(e).every(t=>rl(t)||t.name==="undefined"):(0,jt.isOptionalType)(e)&&rl((0,Oa.getSubType)(e))||(0,jt.isArrayType)(e)&&rl((0,Oa.getSubType)(e))?!0:!!((0,jt.isMapType)(e)&&rl((0,Oa.getSubType)(e))):!1}function tI(e){return(0,jt.isStateTreeNode)(e)&&rl((0,jt.getType)(e))}function IQ(e){return typeof e=="object"&&e!==null&&"isJBrowseConfigurationSlot"in e}});var iI=b(nl=>{"use strict";var LQ=nl&&nl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nl,"__esModule",{value:!0});nl.ConfigurationSchema=BQ;nl.ConfigurationReference=zQ;var $n=Jt(),jQ=LQ(K5()),rI=yx(),nI=gx();function qQ(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).length===0}function FQ(e){return Array.isArray(e)&&e.length===0}function NQ(e,t,r={}){var n;if(typeof e!="string")throw new Error("first arg must be string name of the model that this config schema goes with");let i=t,o=r;return!((n=r.baseConfiguration)===null||n===void 0)&&n.jbrowseSchemaDefinition&&(i={...r.baseConfiguration.jbrowseSchemaDefinition,...i},o={...r.baseConfiguration.jbrowseSchemaOptions,...r},o.baseConfiguration=void 0),{schemaDefinition:i,options:o}}function DQ(e,t,r){let n={},i;if(r.explicitlyTyped&&(n.type=$n.types.optional($n.types.literal(e),e)),r.explicitIdentifier&&r.implicitIdentifier)throw new Error(`Cannot have both explicit and implicit identifiers in ${e}`);r.explicitIdentifier?typeof r.explicitIdentifier=="string"?(n[r.explicitIdentifier]=$n.types.identifier,i=r.explicitIdentifier):(n.id=$n.types.identifier,i="id"):r.implicitIdentifier&&(typeof r.implicitIdentifier=="string"?(n[r.implicitIdentifier]=nI.ElementId,i=r.implicitIdentifier):(n.id=nI.ElementId,i="id"));let o={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:r}};for(let[l,c]of Object.entries(t))if((0,$n.isType)(c)&&(0,$n.isLateType)(c)||(0,rI.isConfigurationSchemaType)(c))n[l]=c;else if(typeof c=="string"||typeof c=="number")o[l]=c;else if(typeof c=="object"){if(!c.type)throw new Error(`no type set for config slot ${e}.${l}`);try{n[l]=(0,jQ.default)(l,c)}catch(d){throw new Error(`invalid config slot definition for ${e}.${l}: ${d}`)}}else throw new Error(`invalid configuration schema definition, "${l}" must be either a valid configuration slot definition, a constant, or a nested configuration schema`);let a=$n.types.model(`${e}ConfigurationSchema`,n).actions(l=>({setSubschema(c,d){if(!(0,rI.isConfigurationSchemaType)(n[c]))throw new Error(`${c} is not a subschema, cannot replace`);let p=(0,$n.isStateTreeNode)(d)?d:n[c].create(d);return l[c]=p,p}}));Object.keys(o).length&&(a=a.volatile(()=>o)),r.actions&&(a=a.actions(r.actions)),r.views&&(a=a.views(r.views)),r.extend&&(a=a.extend(r.extend));let s=i?{[i]:"placeholderId"}:{},f=r.explicitlyTyped?{type:e,...s}:s,u=(0,$n.getSnapshot)(a.create(f));return a=a.postProcessSnapshot(l=>{let c={},d=!0;for(let[p,h]of Object.entries(l))d&&(typeof u[p]=="object"&&typeof h=="object"?JSON.stringify(u[p])!==JSON.stringify(h)&&(d=!1):u[p]!==h&&(d=!1)),h!==void 0&&o[p]===void 0&&!qQ(h)&&!FQ(h)&&(c[p]=h);return d?{}:c}),r.preProcessSnapshot&&(a=a.preProcessSnapshot(r.preProcessSnapshot)),$n.types.optional(a,f)}function BQ(e,t,r){let{schemaDefinition:n,options:i}=NQ(e,t,r),o=DQ(e,n,i);return o.isJBrowseConfigurationSchema=!0,o.jbrowseSchemaDefinition=n,o.jbrowseSchemaOptions=i,o}function zQ(e){return $n.types.union($n.types.reference(e),e)}});var wx=b(hi=>{"use strict";var UQ=hi&&hi.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),HQ=hi&&hi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UQ(t,e,r)};Object.defineProperty(hi,"__esModule",{value:!0});hi.ConfigurationSchema=hi.ConfigurationReference=void 0;var oI=iI();Object.defineProperty(hi,"ConfigurationReference",{enumerable:!0,get:function(){return oI.ConfigurationReference}});Object.defineProperty(hi,"ConfigurationSchema",{enumerable:!0,get:function(){return oI.ConfigurationSchema}});HQ(yx(),hi)});var aI=b(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});var xx=class extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(let[r,n]of t)this.onEviction(r,n.value)}_deleteIfExpired(t,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,r.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,r){if(!this._deleteIfExpired(t,r))return r.value}_getItemValue(t,r){return r.expiry?this._getOrDeleteIfExpired(t,r):r.value}_peek(t,r){let n=r.get(t);return this._getItemValue(t,n)}_set(t,r){this.cache.set(t,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,r){this.oldCache.delete(t),this._set(t,r)}*_entriesAscending(){for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield t)}for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield t)}}get(t){if(this.cache.has(t)){let r=this.cache.get(t);return this._getItemValue(t,r)}if(this.oldCache.has(t)){let r=this.oldCache.get(t);if(!this._deleteIfExpired(t,r))return this._moveToRecent(t,r),r.value}}set(t,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(t)?this.cache.set(t,{value:r,expiry:i}):this._set(t,{value:r,expiry:i})}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-t;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache){let[r,n]=t;this._deleteIfExpired(r,n)||(yield[r,n.value])}for(let t of this.oldCache){let[r,n]=t;this.cache.has(r)||this._deleteIfExpired(r,n)||(yield[r,n.value])}}*entriesDescending(){let t=[...this.cache];for(let r=t.length-1;r>=0;--r){let n=t[r],[i,o]=n;this._deleteIfExpired(i,o)||(yield[i,o.value])}t=[...this.oldCache];for(let r=t.length-1;r>=0;--r){let n=t[r],[i,o]=n;this.cache.has(i)||this._deleteIfExpired(i,o)||(yield[i,o.value])}}*entriesAscending(){for(let[t,r]of this._entriesAscending())yield[t,r.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,r=this){for(let[n,i]of this.entriesAscending())t.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};Sx.default=xx});var uI=b(Xf=>{"use strict";var sI=Xf&&Xf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xf,"__esModule",{value:!0});var WQ=sI(c5()),Ex=wx(),$Q=sI(aI()),Ax=class{constructor(t){this.pluginManager=t,this.adapterCache=new $Q.default({maxSize:15})}loadTextSearchAdapters(t){return Promise.all(this.relevantAdapters(t).map(async r=>{let n=(0,Ex.readConfObject)(r,"textSearchAdapterId"),i=this.adapterCache.get(n);if(i)return i;{let a=await this.pluginManager.getTextSearchAdapterType(r.type).getAdapterClass(),s=new a(r,void 0,this.pluginManager);return this.adapterCache.set(n,s),s}}))}relevantAdapters(t){let r=this.pluginManager.rootModel,{aggregateTextSearchAdapters:n}=r?.jbrowse,{tracks:i}=r?.session,{assemblyName:o}=t;return[...this.getAdaptersWithAssembly(o,n),...this.getTrackAdaptersWithAssembly(o,i)]}getAdaptersWithAssembly(t,r){return r.filter(n=>{var i;return(i=(0,Ex.readConfObject)(n,"assemblyNames"))===null||i===void 0?void 0:i.includes(t)})}getTrackAdaptersWithAssembly(t,r){return r.filter(n=>{var i;return(i=(0,Ex.readConfObject)(n,["textSearching","textSearchAdapter","assemblyNames"]))===null||i===void 0?void 0:i.includes(t)}).map(n=>n.textSearching.textSearchAdapter)}async search(t,r,n){return this.search2({args:t,searchScope:r,rankFn:n})}async search2({args:t,searchScope:r,rankFn:n}){let i=await this.loadTextSearchAdapters(r),o=await Promise.all(i.map(a=>a.searchIndex(t)));return this.sortResults2({args:t,results:o.flat(),rankFn:n})}sortResults2({results:t,rankFn:r,args:n}){let i=new WQ.default({}),o=t.map(u=>u.getDisplayString()),a=n.queryString,s=i.filter(o,a),f=[];if(s!=null&&s.length>0){let u=i.info(s,o,a),l=i.sort(u,o,a);for(let c of l)f.push(t[u.idx[c]])}return r(f)}};Xf.default=Ax});var Jf=b(Ie=>{"use strict";var VQ=Ie&&Ie.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),GQ=Ie&&Ie.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&VQ(t,e,r)},YQ=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.TextSearchManager=Ie.RetryError=Ie.AuthNeededError=void 0;Ie.isViewContainer=KQ;Ie.isSessionModel=Ma;Ie.isSessionModelWithConfigEditing=XQ;Ie.isSessionWithAddTracks=JQ;Ie.isSessionWithShareURL=QQ;Ie.isSessionModelWithWidgets=eee;Ie.isSessionModelWithConnections=tee;Ie.isSessionModelWithConnectionEditing=ree;Ie.isSessionWithSessionPlugins=nee;Ie.isSelectionContainer=iee;Ie.isViewModel=oee;Ie.isTrackModel=aee;Ie.isDisplayModel=see;Ie.isTrackViewModel=uee;Ie.isAppRootModel=lee;Ie.isRootModelWithInternetAccounts=cee;Ie.isAbstractMenuManager=fee;Ie.isUriLocation=dee;Ie.isLocalPathLocation=pee;Ie.isBlobLocation=hee;Ie.isAuthNeededException=mee;Ie.isRetryException=gee;var ZQ=Jt();GQ(n5(),Ie);function KQ(e){return(0,ZQ.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e}function Ma(e){return typeof e=="object"&&e!==null&&"rpcManager"in e&&"configuration"in e}function XQ(e){return Ma(e)&&"editConfiguration"in e}function JQ(e){return Ma(e)&&"addTrackConf"in e&&!e.disableAddTracks}function QQ(e){return Ma(e)&&"shareURL"in e&&!!e.shareURL}function eee(e){return Ma(e)&&"widgets"in e}function tee(e){return Ma(e)&&"makeConnection"in e}function ree(e){return Ma(e)&&"addConnectionConf"in e}function nee(e){return Ma(e)&&"sessionPlugins"in e}function iee(e){return typeof e=="object"&&e!==null&&"selection"in e&&"setSelection"in e}function oee(e){return typeof e=="object"&&e!==null&&"width"in e&&"setWidth"in e}function aee(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.trackId}function see(e){return typeof e=="object"&&e!==null&&"configuration"in e&&e.configuration.displayId}function uee(e){return typeof e=="object"&&e!==null&&"showTrack"in e&&"hideTrack"in e}function lee(e){return typeof e=="object"&&e!==null&&"findAppropriateInternetAccount"in e}function cee(e){return typeof e=="object"&&e!==null&&"internetAccounts"in e&&"findAppropriateInternetAccount"in e}function fee(e){return typeof e=="object"&&e!==null&&"appendMenu"in e&&"appendToSubMenu"in e}function dee(e){return typeof e=="object"&&e!==null&&"uri"in e&&!!e.uri}function pee(e){return typeof e=="object"&&e!==null&&"localPath"in e&&!!e.localPath}function hee(e){return typeof e=="object"&&e!==null&&"blobId"in e&&!!e.blobId}var Tx=class e extends Error{constructor(t,r){super(t),this.message=t,this.url=r,this.name="AuthNeededError",Object.setPrototypeOf(this,e.prototype)}};Ie.AuthNeededError=Tx;var Ox=class extends Error{constructor(t,r){super(t),this.message=t,this.internetAccountId=r,this.name="RetryError"}};Ie.RetryError=Ox;function mee(e){return e instanceof Error&&(e.name==="AuthNeededError"||e.url!==void 0)}function gee(e){return e.name==="RetryError"||e.internetAccountId!==void 0}var vee=uI();Object.defineProperty(Ie,"TextSearchManager",{enumerable:!0,get:function(){return YQ(vee).default}})});var io=b((AIe,lI)=>{lI.exports=JBrowseExports.mobx});var cI=b(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.when=void 0;var _ee=io();Object.defineProperty(im,"when",{enumerable:!0,get:function(){return _ee.when}})});var fI=b(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.intersection2=bee;Qf.doesIntersect2=yee;Qf.isContainedWithin=wee;function bee(e,t,r,n){return t>r&&e<n&&n-r&&t-e?e>r?t<n?[e,t]:[e,n]:t<n?[r,t]:[r,n]:[]}function yee(e,t,r,n){return t>r&&e<n}function wee(e,t,r,n){return r<=e&&n>=t}});var dI=b(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});Mx.dedupe=xee;function xee(e,t=JSON.stringify){let r=[],n=new Set;for(let i of e){let o=t(i);n.has(o)||(r.push(i),n.add(o))}return r}});var Px=b((CIe,gI)=>{"use strict";var om={},um={},ed={METHOD:"method",PROPERTY:"property"},am=class{constructor(t,r){this.inst=t,this.args=r}},Cx=class extends am{constructor(t,r){super(t,r),this.type=ed.METHOD}execute(t){t[this.inst](...this.args)}},kx=class extends am{constructor(t,r){super(t,r),this.type=ed.PROPERTY}execute(t){t[this.inst]=this.args[0]}},See={[ed.METHOD]:Cx,[ed.PROPERTY]:kx},sm=class{constructor(t,r,n){return new See[t](r,n)}};Object.entries(ed).forEach(([e,t])=>{Object.defineProperty(sm,e,{value:t,configurable:!1,enumerable:!0,writable:!1})});um=sm;var hI=Object.freeze({METHODS:["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearHitRegions","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","removeHitRegion","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["direction","fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),oo=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")}),td=class{constructor(t=null){this[oo.sequence]=[],t&&this[oo.fromJSON](t)}[oo.fromJSON](t={sequence:[]}){t.sequence.forEach(({type:r,inst:n,args:i})=>{this[oo.push](r,n,i)})}[oo.push](t,r,n){this[oo.sequence].push(new um(t,r,n))}execute(t){t.save(),this[oo.sequence].forEach(r=>r.execute(t)),t.restore()}toJSON(){return{sequence:this[oo.sequence]}}};hI.METHODS.forEach(e=>{Object.defineProperty(td.prototype,e,{value:function(...r){this[oo.push](um.METHOD,e,r)},writable:!1,enumerable:!0,configurable:!1})});hI.PROPERTIES.forEach(e=>{Object.defineProperty(td.prototype,e,{get(){throw`Invalid canvas sequencer interaction, cannot get ${e}.`},set(t){this[oo.push](um.PROPERTY,e,[t])},enumerable:!0,configurable:!1})});om=td;var mI={},pI=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});function Eee(e,t){let r=e.replace(/^\{|\}$/gu,"");return r!==e?t.hasOwnProperty(r)?t[r]:r:e}var Rx=class extends om{build(t={}){let r=new om;return this[pI.sequence].forEach(({type:n,inst:i,args:o})=>{let a=o.map(s=>typeof s=="string"?Eee(s,t):s);r[pI.push](n,i,a)}),r}execute(){throw new TypeError("Cannot execute a blueprint.")}};mI=Rx;gI.exports={CanvasSequence:om,CanvasBlueprint:mI}});var _I=b((kIe,vI)=>{vI.exports=!1});var lm=b(Fr=>{"use strict";var Aee=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.ImageBitmapType=Fr.createImageBitmap=Fr.createCanvas=void 0;Fr.drawImageOntoCanvasContext=Oee;var yI=Px(),Tee=Aee(_I());function Oee(e,t){e.serializedCommands?new yI.CanvasSequence(e.serializedCommands).execute(t):t.drawImage(e,0,0)}var bI={realOffscreenCanvas:typeof OffscreenCanvas=="function",node:Tee.default};bI.realOffscreenCanvas?(Fr.createCanvas=(e,t)=>new OffscreenCanvas(e,t),Fr.createImageBitmap=window.createImageBitmap||self.createImageBitmap,Fr.ImageBitmapType=window.ImageBitmap||self.ImageBitmap):bI.node?(Fr.createCanvas=(...e)=>nodeCreateCanvas(...e),Fr.createImageBitmap=async e=>{let t=e.toDataURL(),r=new nodeImage;return new Promise((n,i)=>{r.onload=()=>{n(r)},r.onerror=i,r.src=t})}):(Fr.createCanvas=(e,t)=>{let r=new yI.CanvasSequence;return{width:e,height:t,getContext(){return r}}},Fr.createImageBitmap=async e=>{let t=e.getContext("2d");return{height:e.height,width:e.width,serializedCommands:t.toJSON(),containsNoTransferables:!0}},Fr.ImageBitmapType=String)});var Lx=b(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.blobToDataURL=Mee;function Mee(e){let t=new FileReader;return new Promise((r,n)=>{t.onload=i=>{i.target?r(i.target.result):n(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)})}});var wI=b((IIe,cm)=>{(function(){"use strict";var e,t,r,n,i;function o(c,d){var p=Object.keys(d),h;for(h=0;h<p.length;h++)c=c.replace(new RegExp("\\{"+p[h]+"\\}","gi"),d[p[h]]);return c}function a(c){var d,p,h;if(!c)throw new Error("cannot create a random attribute name for an undefined object");d="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="";do for(p="",h=0;h<12;h++)p+=d[Math.floor(Math.random()*d.length)];while(c[p]);return p}function s(c,d){var p,h,m={},v,g;for(c=c.split(","),d=d||10,p=0;p<c.length;p+=2)h="&"+c[p+1]+";",v=parseInt(c[p],d),m[h]="&#"+v+";";return m["\\xa0"]="&#160;",m}function f(c){var d={left:"start",right:"end",center:"middle",start:"start",end:"end"};return d[c]||d.start}function u(c){var d={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return d[c]||d.alphabetic}i=s("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},r=function(c,d){this.__root=c,this.__ctx=d},r.prototype.addColorStop=function(c,d){var p=this.__ctx.__createElement("stop"),h,m;p.setAttribute("offset",c),d.indexOf("rgba")!==-1?(h=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,m=h.exec(d),p.setAttribute("stop-color",o("rgb({r},{g},{b})",{r:m[1],g:m[2],b:m[3]})),p.setAttribute("stop-opacity",m[4])):p.setAttribute("stop-color",d),this.__root.appendChild(p)},n=function(c,d){this.__root=c,this.__ctx=d},t=function(c){var d={width:500,height:500,enableMirroring:!1},p;if(arguments.length>1?(p=d,p.width=arguments[0],p.height=arguments[1]):c?p=c:p=d,!(this instanceof t))return new t(p);this.width=p.width||d.width,this.height=p.height||d.height,this.enableMirroring=p.enableMirroring!==void 0?p.enableMirroring:d.enableMirroring,this.canvas=this,this.__document=p.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},t.prototype.__createElement=function(c,d,p){typeof d>"u"&&(d={});var h=this.__document.createElementNS("http://www.w3.org/2000/svg",c),m=Object.keys(d),v,g;for(p&&(h.setAttribute("fill","none"),h.setAttribute("stroke","none")),v=0;v<m.length;v++)g=m[v],h.setAttribute(g,d[g]);return h},t.prototype.__setDefaultStyles=function(){var c=Object.keys(e),d,p;for(d=0;d<c.length;d++)p=c[d],this[p]=e[p].canvas},t.prototype.__applyStyleState=function(c){var d=Object.keys(c),p,h;for(p=0;p<d.length;p++)h=d[p],this[h]=c[h]},t.prototype.__getStyleState=function(){var c,d={},p=Object.keys(e),h;for(c=0;c<p.length;c++)h=p[c],d[h]=this[h];return d},t.prototype.__applyStyleToCurrentElement=function(c){var d=Object.keys(e),p,h,m,v,g,_;for(p=0;p<d.length;p++)if(h=e[d[p]],m=this[d[p]],h.apply)if(h.apply.indexOf("fill")!==-1&&m instanceof n){if(m.__ctx)for(;m.__ctx.__defs.childNodes.length;)v=m.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[v]=v,this.__defs.appendChild(m.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",o("url(#{id})",{id:m.__root.getAttribute("id")}))}else h.apply.indexOf("fill")!==-1&&m instanceof r?this.__currentElement.setAttribute("fill",o("url(#{id})",{id:m.__root.getAttribute("id")})):h.apply.indexOf(c)!==-1&&h.svg!==m&&((h.svgAttr==="stroke"||h.svgAttr==="fill")&&m.indexOf("rgba")!==-1?(g=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,_=g.exec(m),this.__currentElement.setAttribute(h.svgAttr,o("rgb({r},{g},{b})",{r:_[1],g:_[2],b:_[3]})),this.__currentElement.setAttribute(h.svgAttr+"-opacity",_[4])):this.__currentElement.setAttribute(h.svgAttr,m))},t.prototype.__closestGroupOrSvg=function(c){return c=c||this.__currentElement,c.nodeName==="g"||c.nodeName==="svg"?c:this.__closestGroupOrSvg(c.parentNode)},t.prototype.getSerializedSvg=function(c){var d=new XMLSerializer().serializeToString(this.__root),p,h,m,v,g,_;if(_=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,_.test(d)&&(d=d.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),c)for(p=Object.keys(i),h=0;h<p.length;h++)m=p[h],v=i[m],g=new RegExp(m,"gi"),g.test(d)&&(d=d.replace(g,v));return d},t.prototype.getSvg=function(){return this.__root},t.prototype.save=function(){var c=this.__createElement("g"),d=this.__closestGroupOrSvg();this.__groupStack.push(d),d.appendChild(c),this.__currentElement=c,this.__stack.push(this.__getStyleState())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var c=this.__stack.pop();this.__applyStyleState(c)},t.prototype.__addTransform=function(c){var d=this.__closestGroupOrSvg();if(d.childNodes.length>0){var p=this.__createElement("g");d.appendChild(p),this.__currentElement=p}var h=this.__currentElement.getAttribute("transform");h?h+=" ":h="",h+=c,this.__currentElement.setAttribute("transform",h)},t.prototype.scale=function(c,d){d===void 0&&(d=c),this.__addTransform(o("scale({x},{y})",{x:c,y:d}))},t.prototype.rotate=function(c){var d=c*180/Math.PI;this.__addTransform(o("rotate({angle},{cx},{cy})",{angle:d,cx:0,cy:0}))},t.prototype.translate=function(c,d){this.__addTransform(o("translate({x},{y})",{x:c,y:d}))},t.prototype.transform=function(c,d,p,h,m,v){this.__addTransform(o("matrix({a},{b},{c},{d},{e},{f})",{a:c,b:d,c:p,d:h,e:m,f:v}))},t.prototype.beginPath=function(){var c,d;this.__currentDefaultPath="",this.__currentPosition={},c=this.__createElement("path",{},!0),d=this.__closestGroupOrSvg(),d.appendChild(c),this.__currentElement=c},t.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var c=this.__currentDefaultPath;this.__currentElement.setAttribute("d",c)}else throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)},t.prototype.__addPathCommand=function(c){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=c},t.prototype.moveTo=function(c,d){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:c,y:d},this.__addPathCommand(o("M {x} {y}",{x:c,y:d}))},t.prototype.closePath=function(){this.__addPathCommand("Z")},t.prototype.lineTo=function(c,d){this.__currentPosition={x:c,y:d},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(o("L {x} {y}",{x:c,y:d})):this.__addPathCommand(o("M {x} {y}",{x:c,y:d}))},t.prototype.bezierCurveTo=function(c,d,p,h,m,v){this.__currentPosition={x:m,y:v},this.__addPathCommand(o("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:c,cp1y:d,cp2x:p,cp2y:h,x:m,y:v}))},t.prototype.quadraticCurveTo=function(c,d,p,h){this.__currentPosition={x:p,y:h},this.__addPathCommand(o("Q {cpx} {cpy} {x} {y}",{cpx:c,cpy:d,x:p,y:h}))};var l=function(c){var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return[c[0]/d,c[1]/d]};t.prototype.arcTo=function(c,d,p,h,m){var v=this.__currentPosition&&this.__currentPosition.x,g=this.__currentPosition&&this.__currentPosition.y;if(!(typeof v>"u"||typeof g>"u")){if(m<0)throw new Error("IndexSizeError: The radius provided ("+m+") is negative.");if(v===c&&g===d||c===p&&d===h||m===0){this.lineTo(c,d);return}var _=l([v-c,g-d]),w=l([p-c,h-d]);if(_[0]*w[1]===_[1]*w[0]){this.lineTo(c,d);return}var y=_[0]*w[0]+_[1]*w[1],x=Math.acos(Math.abs(y)),A=l([_[0]+w[0],_[1]+w[1]]),E=m/Math.sin(x/2),O=c+E*A[0],M=d+E*A[1],C=[-_[1],_[0]],k=[w[1],-w[0]],q=function(F){var G=F[0],z=F[1];return z>=0?Math.acos(G):-Math.acos(G)},N=q(C),R=q(k);this.lineTo(O+C[0]*m,M+C[1]*m),this.arc(O,M,m,N,R)}},t.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(c,d,p,h){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(c,d),this.lineTo(c+p,d),this.lineTo(c+p,d+h),this.lineTo(c,d+h),this.lineTo(c,d),this.closePath()},t.prototype.fillRect=function(c,d,p,h){var m,v;m=this.__createElement("rect",{x:c,y:d,width:p,height:h},!0),v=this.__closestGroupOrSvg(),v.appendChild(m),this.__currentElement=m,this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(c,d,p,h){var m,v;m=this.__createElement("rect",{x:c,y:d,width:p,height:h},!0),v=this.__closestGroupOrSvg(),v.appendChild(m),this.__currentElement=m,this.__applyStyleToCurrentElement("stroke")},t.prototype.clearRect=function(c,d,p,h){var m,v=this.__closestGroupOrSvg();m=this.__createElement("rect",{x:c,y:d,width:p,height:h,fill:"#FFFFFF"},!0),v.appendChild(m)},t.prototype.createLinearGradient=function(c,d,p,h){var m=this.__createElement("linearGradient",{id:a(this.__ids),x1:c+"px",x2:p+"px",y1:d+"px",y2:h+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(m),new r(m,this)},t.prototype.createRadialGradient=function(c,d,p,h,m,v){var g=this.__createElement("radialGradient",{id:a(this.__ids),cx:h+"px",cy:m+"px",r:v+"px",fx:c+"px",fy:d+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(g),new r(g,this)},t.prototype.__parseFont=function(){var c=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i,d=c.exec(this.font),p={style:d[1]||"normal",size:d[4]||"10px",family:d[6]||"sans-serif",weight:d[3]||"normal",decoration:d[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(p.decoration="underline"),this.__fontHref&&(p.href=this.__fontHref),p},t.prototype.__wrapTextLink=function(c,d){if(c.href){var p=this.__createElement("a");return p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.href),p.appendChild(d),p}return d},t.prototype.__applyText=function(c,d,p,h){var m=this.__parseFont(),v=this.__closestGroupOrSvg(),g=this.__createElement("text",{"font-family":m.family,"font-size":m.size,"font-style":m.style,"font-weight":m.weight,"text-decoration":m.decoration,x:d,y:p,"text-anchor":f(this.textAlign),"dominant-baseline":u(this.textBaseline)},!0);g.appendChild(this.__document.createTextNode(c)),this.__currentElement=g,this.__applyStyleToCurrentElement(h),v.appendChild(this.__wrapTextLink(m,g))},t.prototype.fillText=function(c,d,p){this.__applyText(c,d,p,"fill")},t.prototype.strokeText=function(c,d,p){this.__applyText(c,d,p,"stroke")},t.prototype.measureText=function(c){return this.__ctx.font=this.font,this.__ctx.measureText(c)},t.prototype.arc=function(c,d,p,h,m,v){if(h!==m){h=h%(2*Math.PI),m=m%(2*Math.PI),h===m&&(m=(m+2*Math.PI-.001*(v?-1:1))%(2*Math.PI));var g=c+p*Math.cos(m),_=d+p*Math.sin(m),w=c+p*Math.cos(h),y=d+p*Math.sin(h),x=v?0:1,A=0,E=m-h;E<0&&(E+=2*Math.PI),v?A=E>Math.PI?0:1:A=E>Math.PI?1:0,this.lineTo(w,y),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:p,xAxisRotation:0,largeArcFlag:A,sweepFlag:x,endX:g,endY:_})),this.__currentPosition={x:g,y:_}}},t.prototype.clip=function(){var c=this.__closestGroupOrSvg(),d=this.__createElement("clipPath"),p=a(this.__ids),h=this.__createElement("g");c.removeChild(this.__currentElement),d.setAttribute("id",p),d.appendChild(this.__currentElement),this.__defs.appendChild(d),c.setAttribute("clip-path",o("url(#{id})",{id:p})),c.appendChild(h),this.__currentElement=h},t.prototype.drawImage=function(){var c=Array.prototype.slice.call(arguments),d=c[0],p,h,m,v,g=0,_=0,w,y,x,A,E,O,M,C,k,q,N;if(c.length===3)p=c[1],h=c[2],w=d.width,y=d.height,m=w,v=y;else if(c.length===5)p=c[1],h=c[2],m=c[3],v=c[4],w=d.width,y=d.height;else if(c.length===9)g=c[1],_=c[2],w=c[3],y=c[4],p=c[5],h=c[6],m=c[7],v=c[8];else throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);if(x=this.__closestGroupOrSvg(),M=this.__currentElement,d instanceof t){for(A=d.getSvg(),E=A.childNodes[0];E.childNodes.length;)N=E.childNodes[0].getAttribute("id"),this.__ids[N]=N,this.__defs.appendChild(E.childNodes[0]);O=A.childNodes[1],x.appendChild(O),this.__currentElement=O,this.translate(p,h),this.__currentElement=M}else(d.nodeName==="CANVAS"||d.nodeName==="IMG")&&(C=this.__createElement("image"),C.setAttribute("width",m),C.setAttribute("height",v),C.setAttribute("preserveAspectRatio","none"),(g||_||w!==d.width||y!==d.height)&&(k=this.__document.createElement("canvas"),k.width=m,k.height=v,q=k.getContext("2d"),q.drawImage(d,g,_,w,y,0,0,m,v),d=k),C.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.nodeName==="CANVAS"?d.toDataURL():d.getAttribute("src")),x.appendChild(C),this.__currentElement=C,this.translate(p,h),this.__currentElement=M)},t.prototype.createPattern=function(c,d){var p=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),h=a(this.__ids),m;return p.setAttribute("id",h),p.setAttribute("width",c.width),p.setAttribute("height",c.height),c.nodeName==="CANVAS"||c.nodeName==="IMG"?(m=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),m.setAttribute("width",c.width),m.setAttribute("height",c.height),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.nodeName==="CANVAS"?c.toDataURL():c.getAttribute("src")),p.appendChild(m),this.__defs.appendChild(p)):c instanceof t&&(p.appendChild(c.__root.childNodes[1]),this.__defs.appendChild(p)),new n(p,this)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.getImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=t),typeof cm=="object"&&typeof cm.exports=="object"&&(cm.exports=t)})()});var EI=b(mi=>{"use strict";var Cee=mi&&mi.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),kee=mi&&mi.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Ree=mi&&mi.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),i=0;i<n.length;i++)n[i]!=="default"&&Cee(r,t,n[i]);return kee(r,t),r}})();Object.defineProperty(mi,"__esModule",{value:!0});mi.renderToAbstractCanvas=Lee;mi.getSerializedSvg=jee;mi.ReactRendering=qee;var xI=ae(),Pee=U(),SI=Px(),Iee=Lx(),jx=lm();async function Lee(e,t,r,n){let{exportSVG:i,highResolutionScaling:o=1}=r;if(i)if(i.rasterizeLayers){let a=i.scale||o,s=(0,jx.createCanvas)(Math.ceil(e*a),t*a),f=s.getContext("2d");if(!f)throw new Error("2d canvas rendering not supported on this platform");return f.scale(a,a),{...await n(f),reactElement:(0,xI.jsx)("image",{width:e,height:t,xlinkHref:"convertToBlob"in s?await(0,Iee.blobToDataURL)(await s.convertToBlob({type:"image/png"})):s.toDataURL("image/png")})}}else{let a=new SI.CanvasSequence;return{...await n(a),canvasRecordedData:a.toJSON()}}else{let a=o,s=(0,jx.createCanvas)(Math.ceil(e*a),t*a),f=s.getContext("2d");if(!f)throw new Error("2d canvas rendering not supported on this platform");return f.scale(a,a),{...await n(f),imageData:await(0,jx.createImageBitmap)(s)}}}async function jee(e){let{width:t,height:r,canvasRecordedData:n}=e,i=await Promise.resolve().then(()=>Ree(wI())),o=new i.default(t,r);return new SI.CanvasSequence(n).execute(o),o.getSvg().innerHTML}function qee({rendering:e}){return(0,Pee.isValidElement)(e.reactElement)?e.reactElement:(0,xI.jsx)("g",{dangerouslySetInnerHTML:{__html:e.html||""}})}});var TI=b(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.isFeature=Fee;function Fee(e){return typeof e=="object"&&e!==null&&typeof e.get=="function"&&typeof e.id=="function"}function AI(e){return"uniqueId"in e&&typeof e.data!="object"}var qx=class e{constructor(t){var r;AI(t)?this.data=t:(this.data=t.data,this.parentHandle=t.parent);let n=AI(t)?t.uniqueId:t.id;if(n==null)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(n),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error(`invalid feature data, end less than start. end: ${this.data.end} start: ${this.data.start}`);this.data.subfeatures&&(this.subfeatures=(r=this.data.subfeatures)===null||r===void 0?void 0:r.map((i,o)=>typeof i.get!="function"?new e({id:i.uniqueId||`${n}-${o}`,data:{strand:this.data.strand,...i},parent:this}):i))}get(t){return t==="subfeatures"?this.subfeatures:t==="parent"?this.parent():this.data[t]}set(t,r){this.data[t]=r}tags(){return Object.keys(this.data)}id(){return this.uniqueId}parent(){return this.parentHandle}children(){return this.get("subfeatures")}toJSON(){let t={...this.data,uniqueId:this.id()},r=this.parent();r&&(t.parentId=r.id());let n=this.children();return n&&(t.subfeatures=n.map(i=>i.toJSON())),t}static fromJSON(t){return new e({...t})}};fm.default=qx});var Ke=b(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.isFunction=void 0;function Nee(e){return typeof e=="function"}dm.isFunction=Nee});var Ca=b(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.createErrorClass=void 0;function Dee(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}pm.createErrorClass=Dee});var Fx=b(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.UnsubscriptionError=void 0;var Bee=Ca();hm.UnsubscriptionError=Bee.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}})});var zo=b(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.arrRemove=void 0;function zee(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}mm.arrRemove=zee});var Mn=b(hn=>{"use strict";var OI=hn&&hn.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MI=hn&&hn.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},CI=hn&&hn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(hn,"__esModule",{value:!0});hn.isSubscription=hn.EMPTY_SUBSCRIPTION=hn.Subscription=void 0;var rd=Ke(),Nx=Fx(),kI=zo(),Dx=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=OI(a),f=s.next();!f.done;f=s.next()){var u=f.value;u.remove(this)}}catch(m){t={error:m}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(rd.isFunction(l))try{l()}catch(m){o=m instanceof Nx.UnsubscriptionError?m.errors:[m]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=OI(c),p=d.next();!p.done;p=d.next()){var h=p.value;try{RI(h)}catch(m){o=o??[],m instanceof Nx.UnsubscriptionError?o=CI(CI([],MI(o)),MI(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(o)throw new Nx.UnsubscriptionError(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)RI(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&kI.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&kI.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})();hn.Subscription=Dx;hn.EMPTY_SUBSCRIPTION=Dx.EMPTY;function Uee(e){return e instanceof Dx||e&&"closed"in e&&rd.isFunction(e.remove)&&rd.isFunction(e.add)&&rd.isFunction(e.unsubscribe)}hn.isSubscription=Uee;function RI(e){rd.isFunction(e)?e():e.unsubscribe()}});var il=b(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.config=void 0;gm.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Bx=b(ao=>{"use strict";var PI=ao&&ao.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},II=ao&&ao.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ao,"__esModule",{value:!0});ao.timeoutProvider=void 0;ao.timeoutProvider={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=ao.timeoutProvider.delegate;return i?.setTimeout?i.setTimeout.apply(i,II([e,t],PI(r))):setTimeout.apply(void 0,II([e,t],PI(r)))},clearTimeout:function(e){var t=ao.timeoutProvider.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0}});var zx=b(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.reportUnhandledError=void 0;var Hee=il(),Wee=Bx();function $ee(e){Wee.timeoutProvider.setTimeout(function(){var t=Hee.config.onUnhandledError;if(t)t(e);else throw e})}vm.reportUnhandledError=$ee});var Ar=b(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.noop=void 0;function Vee(){}_m.noop=Vee});var LI=b(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.createNotification=so.nextNotification=so.errorNotification=so.COMPLETE_NOTIFICATION=void 0;so.COMPLETE_NOTIFICATION=(function(){return bm("C",void 0,void 0)})();function Gee(e){return bm("E",void 0,e)}so.errorNotification=Gee;function Yee(e){return bm("N",e,void 0)}so.nextNotification=Yee;function bm(e,t,r){return{kind:e,value:t,error:r}}so.createNotification=bm});var ym=b(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.captureError=ol.errorContext=void 0;var jI=il(),Bs=null;function Zee(e){if(jI.config.useDeprecatedSynchronousErrorHandling){var t=!Bs;if(t&&(Bs={errorThrown:!1,error:null}),e(),t){var r=Bs,n=r.errorThrown,i=r.error;if(Bs=null,n)throw i}}else e()}ol.errorContext=Zee;function Kee(e){jI.config.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=e)}ol.captureError=Kee});var al=b(gi=>{"use strict";var NI=gi&&gi.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(gi,"__esModule",{value:!0});gi.EMPTY_OBSERVER=gi.SafeSubscriber=gi.Subscriber=void 0;var Xee=Ke(),qI=Mn(),$x=il(),Jee=zx(),FI=Ar(),Ux=LI(),Qee=Bx(),ete=ym(),DI=(function(e){NI(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,qI.isSubscription(r)&&r.add(n)):n.destination=gi.EMPTY_OBSERVER,n}return t.create=function(r,n,i){return new BI(r,n,i)},t.prototype.next=function(r){this.isStopped?Wx(Ux.nextNotification(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?Wx(Ux.errorNotification(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?Wx(Ux.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(qI.Subscription);gi.Subscriber=DI;var tte=Function.prototype.bind;function Hx(e,t){return tte.call(e,t)}var rte=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){wm(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){wm(n)}else wm(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){wm(r)}},e})(),BI=(function(e){NI(t,e);function t(r,n,i){var o=e.call(this)||this,a;if(Xee.isFunction(r)||!r)a={next:r??void 0,error:n??void 0,complete:i??void 0};else{var s;o&&$x.config.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return o.unsubscribe()},a={next:r.next&&Hx(r.next,s),error:r.error&&Hx(r.error,s),complete:r.complete&&Hx(r.complete,s)}):a=r}return o.destination=new rte(a),o}return t})(DI);gi.SafeSubscriber=BI;function wm(e){$x.config.useDeprecatedSynchronousErrorHandling?ete.captureError(e):Jee.reportUnhandledError(e)}function nte(e){throw e}function Wx(e,t){var r=$x.config.onStoppedNotification;r&&Qee.timeoutProvider.setTimeout(function(){return r(e,t)})}gi.EMPTY_OBSERVER={closed:!0,next:FI.noop,error:nte,complete:FI.noop}});var nd=b(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.observable=void 0;xm.observable=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})()});var Tr=b(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.identity=void 0;function ite(e){return e}Sm.identity=ite});var id=b(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.pipeFromArray=sl.pipe=void 0;var ote=Tr();function ate(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zI(e)}sl.pipe=ate;function zI(e){return e.length===0?ote.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}sl.pipeFromArray=zI});var Qe=b(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.Observable=void 0;var Gx=al(),ste=Mn(),ute=nd(),lte=id(),cte=il(),Vx=Ke(),fte=ym(),dte=(function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=hte(t)?t:new Gx.SafeSubscriber(t,r,n);return fte.errorContext(function(){var a=i,s=a.operator,f=a.source;o.add(s?s.call(o,f):f?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=UI(r),new r(function(i,o){var a=new Gx.SafeSubscriber({next:function(s){try{t(s)}catch(f){o(f),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ute.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return lte.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=UI(t),new t(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(t){return new e(t)},e})();Em.Observable=dte;function UI(e){var t;return(t=e??cte.config.Promise)!==null&&t!==void 0?t:Promise}function pte(e){return e&&Vx.isFunction(e.next)&&Vx.isFunction(e.error)&&Vx.isFunction(e.complete)}function hte(e){return e&&e instanceof Gx.Subscriber||pte(e)&&ste.isSubscription(e)}});var ee=b(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.operate=ul.hasLift=void 0;var mte=Ke();function HI(e){return mte.isFunction(e?.lift)}ul.hasLift=HI;function gte(e){return function(t){if(HI(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}ul.operate=gte});var ge=b(ka=>{"use strict";var vte=ka&&ka.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(ka,"__esModule",{value:!0});ka.OperatorSubscriber=ka.createOperatorSubscriber=void 0;var _te=al();function bte(e,t,r,n,i){return new WI(e,t,r,n,i)}ka.createOperatorSubscriber=bte;var WI=(function(e){vte(t,e);function t(r,n,i,o,a,s){var f=e.call(this,r)||this;return f.onFinalize=a,f.shouldUnsubscribe=s,f._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,f._error=o?function(u){try{o(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,f}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t})(_te.Subscriber);ka.OperatorSubscriber=WI});var Yx=b(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.refCount=void 0;var yte=ee(),wte=ge();function xte(){return yte.operate(function(e,t){var r=null;e._refCount++;var n=wte.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}Am.refCount=xte});var od=b(ll=>{"use strict";var Ste=ll&&ll.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(ll,"__esModule",{value:!0});ll.ConnectableObservable=void 0;var Ete=Qe(),$I=Mn(),Ate=Yx(),Tte=ge(),Ote=ee(),Mte=(function(e){Ste(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,Ote.hasLift(r)&&(i.lift=r.lift),i}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new $I.Subscription;var i=this.getSubject();n.add(this.source.subscribe(Tte.createOperatorSubscriber(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=$I.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return Ate.refCount()(this)},t})(Ete.Observable);ll.ConnectableObservable=Mte});var VI=b(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.performanceTimestampProvider=void 0;ad.performanceTimestampProvider={now:function(){return(ad.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Zx=b(vi=>{"use strict";var GI=vi&&vi.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},YI=vi&&vi.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(vi,"__esModule",{value:!0});vi.animationFrameProvider=void 0;var Cte=Mn();vi.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=vi.animationFrameProvider.delegate;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=t(function(o){r=void 0,e(o)});return new Cte.Subscription(function(){return r?.(i)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=vi.animationFrameProvider.delegate;return(r?.requestAnimationFrame||requestAnimationFrame).apply(void 0,YI([],GI(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=vi.animationFrameProvider.delegate;return(r?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,YI([],GI(e)))},delegate:void 0}});var XI=b(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.animationFrames=void 0;var kte=Qe(),Rte=VI(),ZI=Zx();function Pte(e){return e?KI(e):Ite}Tm.animationFrames=Pte;function KI(e){return new kte.Observable(function(t){var r=e||Rte.performanceTimestampProvider,n=r.now(),i=0,o=function(){t.closed||(i=ZI.animationFrameProvider.requestAnimationFrame(function(a){i=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),o()}))};return o(),function(){i&&ZI.animationFrameProvider.cancelAnimationFrame(i)}})}var Ite=KI()});var Kx=b(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.ObjectUnsubscribedError=void 0;var Lte=Ca();Om.ObjectUnsubscribedError=Lte.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var Or=b(uo=>{"use strict";var QI=uo&&uo.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jte=uo&&uo.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(uo,"__esModule",{value:!0});uo.AnonymousSubject=uo.Subject=void 0;var JI=Qe(),Jx=Mn(),qte=Kx(),Fte=zo(),Xx=ym(),eL=(function(e){QI(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Qx(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new qte.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;Xx.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=jte(n.currentObservers),s=a.next();!s.done;s=a.next()){var f=s.value;f.next(r)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Xx.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Xx.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?Jx.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Jx.Subscription(function(){n.currentObservers=null,Fte.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},t.prototype.asObservable=function(){var r=new JI.Observable;return r.source=this,r},t.create=function(r,n){return new Qx(r,n)},t})(JI.Observable);uo.Subject=eL;var Qx=(function(e){QI(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Jx.EMPTY_SUBSCRIPTION},t})(eL);uo.AnonymousSubject=Qx});var eS=b(cl=>{"use strict";var Nte=cl&&cl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(cl,"__esModule",{value:!0});cl.BehaviorSubject=void 0;var Dte=Or(),Bte=(function(e){Nte(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t})(Dte.Subject);cl.BehaviorSubject=Bte});var Mm=b(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.dateTimestampProvider=void 0;sd.dateTimestampProvider={now:function(){return(sd.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Cm=b(fl=>{"use strict";var zte=fl&&fl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(fl,"__esModule",{value:!0});fl.ReplaySubject=void 0;var Ute=Or(),Hte=Mm(),Wte=(function(e){zte(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Hte.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,f=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+f)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),f=0;f<s.length&&!r.closed;f+=o?1:2)r.next(s[f]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var f=i.now(),u=0,l=1;l<o.length&&o[l]<=f;l+=2)u=l;u&&o.splice(0,u+1)}},t})(Ute.Subject);fl.ReplaySubject=Wte});var km=b(dl=>{"use strict";var $te=dl&&dl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(dl,"__esModule",{value:!0});dl.AsyncSubject=void 0;var Vte=Or(),Gte=(function(e){$te(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,f=n.isStopped,u=n._isComplete;i?r.error(s):(f||u)&&(o&&r.next(a),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t})(Vte.Subject);dl.AsyncSubject=Gte});var tL=b(pl=>{"use strict";var Yte=pl&&pl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(pl,"__esModule",{value:!0});pl.Action=void 0;var Zte=Mn(),Kte=(function(e){Yte(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},t})(Zte.Subscription);pl.Action=Kte});var iL=b(lo=>{"use strict";var rL=lo&&lo.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},nL=lo&&lo.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(lo,"__esModule",{value:!0});lo.intervalProvider=void 0;lo.intervalProvider={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=lo.intervalProvider.delegate;return i?.setInterval?i.setInterval.apply(i,nL([e,t],rL(r))):setInterval.apply(void 0,nL([e,t],rL(r)))},clearInterval:function(e){var t=lo.intervalProvider.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0}});var ml=b(hl=>{"use strict";var Xte=hl&&hl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(hl,"__esModule",{value:!0});hl.AsyncAction=void 0;var Jte=tL(),oL=iL(),Qte=zo(),ere=(function(e){Xte(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),oL.intervalProvider.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&oL.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Qte.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t})(Jte.Action);hl.AsyncAction=ere});var sL=b(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.TestTools=gl.Immediate=void 0;var tre=1,tS,Rm={};function aL(e){return e in Rm?(delete Rm[e],!0):!1}gl.Immediate={setImmediate:function(e){var t=tre++;return Rm[t]=!0,tS||(tS=Promise.resolve()),tS.then(function(){return aL(t)&&e()}),t},clearImmediate:function(e){aL(e)}};gl.TestTools={pending:function(){return Object.keys(Rm).length}}});var lL=b(co=>{"use strict";var rre=co&&co.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},nre=co&&co.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(co,"__esModule",{value:!0});co.immediateProvider=void 0;var uL=sL(),ire=uL.Immediate.setImmediate,ore=uL.Immediate.clearImmediate;co.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=co.immediateProvider.delegate;return(r?.setImmediate||ire).apply(void 0,nre([],rre(e)))},clearImmediate:function(e){var t=co.immediateProvider.delegate;return(t?.clearImmediate||ore)(e)},delegate:void 0}});var fL=b(vl=>{"use strict";var are=vl&&vl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(vl,"__esModule",{value:!0});vl.AsapAction=void 0;var sre=ml(),cL=lL(),ure=(function(e){are(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=cL.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(cL.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},t})(sre.AsyncAction);vl.AsapAction=ure});var rS=b(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.Scheduler=void 0;var lre=Mm(),cre=(function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=lre.dateTimestampProvider.now,e})();Pm.Scheduler=cre});var bl=b(_l=>{"use strict";var fre=_l&&_l.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(_l,"__esModule",{value:!0});_l.AsyncScheduler=void 0;var dL=rS(),dre=(function(e){fre(t,e);function t(r,n){n===void 0&&(n=dL.Scheduler.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t})(dL.Scheduler);_l.AsyncScheduler=dre});var pL=b(yl=>{"use strict";var pre=yl&&yl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(yl,"__esModule",{value:!0});yl.AsapScheduler=void 0;var hre=bl(),mre=(function(e){pre(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t})(hre.AsyncScheduler);yl.AsapScheduler=mre});var hL=b(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.asap=zs.asapScheduler=void 0;var gre=fL(),vre=pL();zs.asapScheduler=new vre.AsapScheduler(gre.AsapAction);zs.asap=zs.asapScheduler});var mn=b(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.async=Us.asyncScheduler=void 0;var _re=ml(),bre=bl();Us.asyncScheduler=new bre.AsyncScheduler(_re.AsyncAction);Us.async=Us.asyncScheduler});var mL=b(wl=>{"use strict";var yre=wl&&wl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(wl,"__esModule",{value:!0});wl.QueueAction=void 0;var wre=ml(),xre=(function(e){yre(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.flush(this),0)},t})(wre.AsyncAction);wl.QueueAction=xre});var gL=b(xl=>{"use strict";var Sre=xl&&xl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(xl,"__esModule",{value:!0});xl.QueueScheduler=void 0;var Ere=bl(),Are=(function(e){Sre(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Ere.AsyncScheduler);xl.QueueScheduler=Are});var vL=b(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.queue=Hs.queueScheduler=void 0;var Tre=mL(),Ore=gL();Hs.queueScheduler=new Ore.QueueScheduler(Tre.QueueAction);Hs.queue=Hs.queueScheduler});var bL=b(Sl=>{"use strict";var Mre=Sl&&Sl.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.AnimationFrameAction=void 0;var Cre=ml(),_L=Zx(),kre=(function(e){Mre(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=_L.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&n===r._scheduled&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(_L.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t})(Cre.AsyncAction);Sl.AnimationFrameAction=kre});var yL=b(El=>{"use strict";var Rre=El&&El.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(El,"__esModule",{value:!0});El.AnimationFrameScheduler=void 0;var Pre=bl(),Ire=(function(e){Rre(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n;r?n=r.id:(n=this._scheduled,this._scheduled=void 0);var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t})(Pre.AsyncScheduler);El.AnimationFrameScheduler=Ire});var wL=b(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.animationFrame=Ws.animationFrameScheduler=void 0;var Lre=bL(),jre=yL();Ws.animationFrameScheduler=new jre.AnimationFrameScheduler(Lre.AnimationFrameAction);Ws.animationFrame=Ws.animationFrameScheduler});var EL=b(Ra=>{"use strict";var xL=Ra&&Ra.__extends||(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.VirtualAction=Ra.VirtualTimeScheduler=void 0;var qre=ml(),Fre=Mn(),Nre=bl(),Dre=(function(e){xL(t,e);function t(r,n){r===void 0&&(r=SL),n===void 0&&(n=1/0);var i=e.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},t.frameTimeFactor=10,t})(Nre.AsyncScheduler);Ra.VirtualTimeScheduler=Dre;var SL=(function(e){xL(t,e);function t(r,n,i){i===void 0&&(i=r.index+=1);var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return Fre.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,i){i===void 0&&(i=0)},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t})(qre.AsyncAction);Ra.VirtualAction=SL});var _i=b($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.empty=$s.EMPTY=void 0;var AL=Qe();$s.EMPTY=new AL.Observable(function(e){return e.complete()});function Bre(e){return e?zre(e):$s.EMPTY}$s.empty=Bre;function zre(e){return new AL.Observable(function(t){return e.schedule(function(){return t.complete()})})}});var ud=b(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.isScheduler=void 0;var Ure=Ke();function Hre(e){return e&&Ure.isFunction(e.schedule)}Im.isScheduler=Hre});var gn=b(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.popNumber=Pa.popScheduler=Pa.popResultSelector=void 0;var Wre=Ke(),$re=ud();function nS(e){return e[e.length-1]}function Vre(e){return Wre.isFunction(nS(e))?e.pop():void 0}Pa.popResultSelector=Vre;function Gre(e){return $re.isScheduler(nS(e))?e.pop():void 0}Pa.popScheduler=Gre;function Yre(e,t){return typeof nS(e)=="number"?e.pop():t}Pa.popNumber=Yre});var jm=b(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.isArrayLike=void 0;Lm.isArrayLike=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"})});var iS=b(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.isPromise=void 0;var Zre=Ke();function Kre(e){return Zre.isFunction(e?.then)}qm.isPromise=Kre});var oS=b(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.isInteropObservable=void 0;var Xre=nd(),Jre=Ke();function Qre(e){return Jre.isFunction(e[Xre.observable])}Fm.isInteropObservable=Qre});var aS=b(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.isAsyncIterable=void 0;var ene=Ke();function tne(e){return Symbol.asyncIterator&&ene.isFunction(e?.[Symbol.asyncIterator])}Nm.isAsyncIterable=tne});var sS=b(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.createInvalidObservableTypeError=void 0;function rne(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Dm.createInvalidObservableTypeError=rne});var uS=b(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.iterator=Al.getSymbolIterator=void 0;function TL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Al.getSymbolIterator=TL;Al.iterator=TL()});var lS=b(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.isIterable=void 0;var nne=uS(),ine=Ke();function one(e){return ine.isFunction(e?.[nne.iterator])}Bm.isIterable=one});var zm=b(Vn=>{"use strict";var ane=Vn&&Vn.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return f([u,l])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Tl=Vn&&Vn.__await||function(e){return this instanceof Tl?(this.v=e,this):new Tl(e)},sne=Vn&&Vn.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(p){return new Promise(function(h,m){o.push([d,p,h,m])>1||s(d,p)})})}function s(d,p){try{f(n[d](p))}catch(h){c(o[0][3],h)}}function f(d){d.value instanceof Tl?Promise.resolve(d.value.v).then(u,l):c(o[0][2],d)}function u(d){s("next",d)}function l(d){s("throw",d)}function c(d,p){d(p),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.isReadableStreamLike=Vn.readableStreamLikeToAsyncGenerator=void 0;var une=Ke();function lne(e){return sne(this,arguments,function(){var r,n,i,o;return ane(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Tl(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Tl(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Tl(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}Vn.readableStreamLikeToAsyncGenerator=lne;function cne(e){return une.isFunction(e?.getReader)}Vn.isReadableStreamLike=cne});var Te=b(pt=>{"use strict";var fne=pt&&pt.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(c){a(c)}}function f(l){try{u(n.throw(l))}catch(c){a(c)}}function u(l){l.done?o(l.value):i(l.value).then(s,f)}u((n=n.apply(e,t||[])).next())})},dne=pt&&pt.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return f([u,l])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pne=pt&&pt.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof cS=="function"?cS(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,f){a=e[o](a),i(s,f,a.done,a.value)})}}function i(o,a,s,f){Promise.resolve(f).then(function(u){o({value:u,done:s})},a)}},cS=pt&&pt.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pt,"__esModule",{value:!0});pt.fromReadableStreamLike=pt.fromAsyncIterable=pt.fromIterable=pt.fromPromise=pt.fromArrayLike=pt.fromInteropObservable=pt.innerFrom=void 0;var hne=jm(),mne=iS(),Ol=Qe(),gne=oS(),vne=aS(),_ne=sS(),bne=lS(),OL=zm(),yne=Ke(),wne=zx(),xne=nd();function Sne(e){if(e instanceof Ol.Observable)return e;if(e!=null){if(gne.isInteropObservable(e))return ML(e);if(hne.isArrayLike(e))return CL(e);if(mne.isPromise(e))return kL(e);if(vne.isAsyncIterable(e))return fS(e);if(bne.isIterable(e))return RL(e);if(OL.isReadableStreamLike(e))return PL(e)}throw _ne.createInvalidObservableTypeError(e)}pt.innerFrom=Sne;function ML(e){return new Ol.Observable(function(t){var r=e[xne.observable]();if(yne.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}pt.fromInteropObservable=ML;function CL(e){return new Ol.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}pt.fromArrayLike=CL;function kL(e){return new Ol.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,wne.reportUnhandledError)})}pt.fromPromise=kL;function RL(e){return new Ol.Observable(function(t){var r,n;try{for(var i=cS(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}pt.fromIterable=RL;function fS(e){return new Ol.Observable(function(t){Ene(e,t).catch(function(r){return t.error(r)})})}pt.fromAsyncIterable=fS;function PL(e){return fS(OL.readableStreamLikeToAsyncGenerator(e))}pt.fromReadableStreamLike=PL;function Ene(e,t){var r,n,i,o;return fne(this,void 0,void 0,function(){var a,s;return dne(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),r=pne(e),f.label=1;case 1:return[4,r.next()];case 2:if(n=f.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=f.sent(),i={error:s},[3,11];case 6:return f.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}});var Uo=b(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.executeSchedule=void 0;function Ane(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}Um.executeSchedule=Ane});var ld=b(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.observeOn=void 0;var dS=Uo(),Tne=ee(),One=ge();function Mne(e,t){return t===void 0&&(t=0),Tne.operate(function(r,n){r.subscribe(One.createOperatorSubscriber(n,function(i){return dS.executeSchedule(n,e,function(){return n.next(i)},t)},function(){return dS.executeSchedule(n,e,function(){return n.complete()},t)},function(i){return dS.executeSchedule(n,e,function(){return n.error(i)},t)}))})}Hm.observeOn=Mne});var cd=b(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.subscribeOn=void 0;var Cne=ee();function kne(e,t){return t===void 0&&(t=0),Cne.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}Wm.subscribeOn=kne});var IL=b($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.scheduleObservable=void 0;var Rne=Te(),Pne=ld(),Ine=cd();function Lne(e,t){return Rne.innerFrom(e).pipe(Ine.subscribeOn(t),Pne.observeOn(t))}$m.scheduleObservable=Lne});var LL=b(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.schedulePromise=void 0;var jne=Te(),qne=ld(),Fne=cd();function Nne(e,t){return jne.innerFrom(e).pipe(Fne.subscribeOn(t),qne.observeOn(t))}Vm.schedulePromise=Nne});var jL=b(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.scheduleArray=void 0;var Dne=Qe();function Bne(e,t){return new Dne.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}Gm.scheduleArray=Bne});var pS=b(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.scheduleIterable=void 0;var zne=Qe(),Une=uS(),Hne=Ke(),qL=Uo();function Wne(e,t){return new zne.Observable(function(r){var n;return qL.executeSchedule(r,t,function(){n=e[Une.iterator](),qL.executeSchedule(r,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return Hne.isFunction(n?.return)&&n.return()}})}Ym.scheduleIterable=Wne});var hS=b(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.scheduleAsyncIterable=void 0;var $ne=Qe(),FL=Uo();function Vne(e,t){if(!e)throw new Error("Iterable cannot be null");return new $ne.Observable(function(r){FL.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();FL.executeSchedule(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}Zm.scheduleAsyncIterable=Vne});var NL=b(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.scheduleReadableStreamLike=void 0;var Gne=hS(),Yne=zm();function Zne(e,t){return Gne.scheduleAsyncIterable(Yne.readableStreamLikeToAsyncGenerator(e),t)}Km.scheduleReadableStreamLike=Zne});var mS=b(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.scheduled=void 0;var Kne=IL(),Xne=LL(),Jne=jL(),Qne=pS(),eie=hS(),tie=oS(),rie=iS(),nie=jm(),iie=lS(),oie=aS(),aie=sS(),sie=zm(),uie=NL();function lie(e,t){if(e!=null){if(tie.isInteropObservable(e))return Kne.scheduleObservable(e,t);if(nie.isArrayLike(e))return Jne.scheduleArray(e,t);if(rie.isPromise(e))return Xne.schedulePromise(e,t);if(oie.isAsyncIterable(e))return eie.scheduleAsyncIterable(e,t);if(iie.isIterable(e))return Qne.scheduleIterable(e,t);if(sie.isReadableStreamLike(e))return uie.scheduleReadableStreamLike(e,t)}throw aie.createInvalidObservableTypeError(e)}Xm.scheduled=lie});var Ho=b(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.from=void 0;var cie=mS(),fie=Te();function die(e,t){return t?cie.scheduled(e,t):fie.innerFrom(e)}Jm.from=die});var e0=b(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.of=void 0;var pie=gn(),hie=Ho();function mie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=pie.popScheduler(e);return hie.from(e,r)}Qm.of=mie});var gS=b(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.throwError=void 0;var gie=Qe(),vie=Ke();function _ie(e,t){var r=vie.isFunction(e)?e:function(){return e},n=function(i){return i.error(r())};return new gie.Observable(t?function(i){return t.schedule(n,0,i)}:n)}t0.throwError=_ie});var r0=b(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.observeNotification=Wo.Notification=Wo.NotificationKind=void 0;var bie=_i(),yie=e0(),wie=gS(),xie=Ke(),Sie;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Sie=Wo.NotificationKind||(Wo.NotificationKind={}));var Eie=(function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){return DL(this,t)},e.prototype.do=function(t,r,n){var i=this,o=i.kind,a=i.value,s=i.error;return o==="N"?t?.(a):o==="E"?r?.(s):n?.()},e.prototype.accept=function(t,r,n){var i;return xie.isFunction((i=t)===null||i===void 0?void 0:i.next)?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this,r=t.kind,n=t.value,i=t.error,o=r==="N"?yie.of(n):r==="E"?wie.throwError(function(){return i}):r==="C"?bie.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+r);return o},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();Wo.Notification=Eie;function DL(e,t){var r,n,i,o=e,a=o.kind,s=o.value,f=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=t.next)===null||r===void 0||r.call(t,s):a==="E"?(n=t.error)===null||n===void 0||n.call(t,f):(i=t.complete)===null||i===void 0||i.call(t)}Wo.observeNotification=DL});var zL=b(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.isObservable=void 0;var Aie=Qe(),BL=Ke();function Tie(e){return!!e&&(e instanceof Aie.Observable||BL.isFunction(e.lift)&&BL.isFunction(e.subscribe))}n0.isObservable=Tie});var Ia=b(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.EmptyError=void 0;var Oie=Ca();i0.EmptyError=Oie.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});var UL=b(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.lastValueFrom=void 0;var Mie=Ia();function Cie(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):r?n(t.defaultValue):i(new Mie.EmptyError)}})})}o0.lastValueFrom=Cie});var HL=b(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.firstValueFrom=void 0;var kie=Ia(),Rie=al();function Pie(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=new Rie.SafeSubscriber({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new kie.EmptyError)}});e.subscribe(o)})}a0.firstValueFrom=Pie});var vS=b(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.ArgumentOutOfRangeError=void 0;var Iie=Ca();s0.ArgumentOutOfRangeError=Iie.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var _S=b(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.NotFoundError=void 0;var Lie=Ca();u0.NotFoundError=Lie.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}})});var bS=b(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.SequenceError=void 0;var jie=Ca();l0.SequenceError=jie.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}})});var f0=b(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0});c0.isValidDate=void 0;function qie(e){return e instanceof Date&&!isNaN(e)}c0.isValidDate=qie});var d0=b(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.timeout=Vs.TimeoutError=void 0;var Fie=mn(),Nie=f0(),Die=ee(),Bie=Te(),zie=Ca(),Uie=ge(),Hie=Uo();Vs.TimeoutError=zie.createErrorClass(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Wie(e,t){var r=Nie.isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,i=r.each,o=r.with,a=o===void 0?$ie:o,s=r.scheduler,f=s===void 0?t??Fie.asyncScheduler:s,u=r.meta,l=u===void 0?null:u;if(n==null&&i==null)throw new TypeError("No timeout provided.");return Die.operate(function(c,d){var p,h,m=null,v=0,g=function(_){h=Hie.executeSchedule(d,f,function(){try{p.unsubscribe(),Bie.innerFrom(a({meta:l,lastValue:m,seen:v})).subscribe(d)}catch(w){d.error(w)}},_)};p=c.subscribe(Uie.createOperatorSubscriber(d,function(_){h?.unsubscribe(),v++,d.next(m=_),i>0&&g(i)},void 0,void 0,function(){h?.closed||h?.unsubscribe(),m=null})),!v&&g(n!=null?typeof n=="number"?n:+n-f.now():i)})}Vs.timeout=Wie;function $ie(e){throw new Vs.TimeoutError(e)}});var La=b(p0=>{"use strict";Object.defineProperty(p0,"__esModule",{value:!0});p0.map=void 0;var Vie=ee(),Gie=ge();function Yie(e,t){return Vie.operate(function(r,n){var i=0;r.subscribe(Gie.createOperatorSubscriber(n,function(o){n.next(e.call(t,o,i++))}))})}p0.map=Yie});var qa=b(ja=>{"use strict";var Zie=ja&&ja.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Kie=ja&&ja.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ja,"__esModule",{value:!0});ja.mapOneOrManyArgs=void 0;var Xie=La(),Jie=Array.isArray;function Qie(e,t){return Jie(t)?e.apply(void 0,Kie([],Zie(t))):e(t)}function eoe(e){return Xie.map(function(t){return Qie(e,t)})}ja.mapOneOrManyArgs=eoe});var wS=b(Fa=>{"use strict";var toe=Fa&&Fa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},WL=Fa&&Fa.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.bindCallbackInternals=void 0;var roe=ud(),noe=Qe(),ioe=cd(),ooe=qa(),aoe=ld(),soe=km();function yS(e,t,r,n){if(r)if(roe.isScheduler(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return yS(e,t,n).apply(this,i).pipe(ooe.mapOneOrManyArgs(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return yS(e,t).apply(this,i).pipe(ioe.subscribeOn(n),aoe.observeOn(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new soe.AsyncSubject,f=!0;return new noe.Observable(function(u){var l=s.subscribe(u);if(f){f=!1;var c=!1,d=!1;t.apply(i,WL(WL([],toe(o)),[function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];if(e){var m=p.shift();if(m!=null){s.error(m);return}}s.next(1<p.length?p:p[0]),d=!0,c&&s.complete()}])),d&&s.complete(),c=!0}return l})}}Fa.bindCallbackInternals=yS});var $L=b(h0=>{"use strict";Object.defineProperty(h0,"__esModule",{value:!0});h0.bindCallback=void 0;var uoe=wS();function loe(e,t,r){return uoe.bindCallbackInternals(!1,e,t,r)}h0.bindCallback=loe});var VL=b(m0=>{"use strict";Object.defineProperty(m0,"__esModule",{value:!0});m0.bindNodeCallback=void 0;var coe=wS();function foe(e,t,r){return coe.bindCallbackInternals(!0,e,t,r)}m0.bindNodeCallback=foe});var xS=b(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});g0.argsArgArrayOrObject=void 0;var doe=Array.isArray,poe=Object.getPrototypeOf,hoe=Object.prototype,moe=Object.keys;function goe(e){if(e.length===1){var t=e[0];if(doe(t))return{args:t,keys:null};if(voe(t)){var r=moe(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}g0.argsArgArrayOrObject=goe;function voe(e){return e&&typeof e=="object"&&poe(e)===hoe}});var SS=b(v0=>{"use strict";Object.defineProperty(v0,"__esModule",{value:!0});v0.createObject=void 0;function _oe(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}v0.createObject=_oe});var _0=b(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.combineLatestInit=Ml.combineLatest=void 0;var boe=Qe(),yoe=xS(),ZL=Ho(),KL=Tr(),woe=qa(),GL=gn(),xoe=SS(),Soe=ge(),Eoe=Uo();function Aoe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=GL.popScheduler(e),n=GL.popResultSelector(e),i=yoe.argsArgArrayOrObject(e),o=i.args,a=i.keys;if(o.length===0)return ZL.from([],r);var s=new boe.Observable(XL(o,r,a?function(f){return xoe.createObject(a,f)}:KL.identity));return n?s.pipe(woe.mapOneOrManyArgs(n)):s}Ml.combineLatest=Aoe;function XL(e,t,r){return r===void 0&&(r=KL.identity),function(n){YL(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,f=function(l){YL(t,function(){var c=ZL.from(e[l],t),d=!1;c.subscribe(Soe.createOperatorSubscriber(n,function(p){o[l]=p,d||(d=!0,s--),s||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},u=0;u<i;u++)f(u)},n)}}Ml.combineLatestInit=XL;function YL(e,t,r){e?Eoe.executeSchedule(r,e,t):t()}});var y0=b(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});b0.mergeInternals=void 0;var Toe=Te(),Ooe=Uo(),JL=ge();function Moe(e,t,r,n,i,o,a,s){var f=[],u=0,l=0,c=!1,d=function(){c&&!f.length&&!u&&t.complete()},p=function(m){return u<n?h(m):f.push(m)},h=function(m){o&&t.next(m),u++;var v=!1;Toe.innerFrom(r(m,l++)).subscribe(JL.createOperatorSubscriber(t,function(g){i?.(g),o?p(g):t.next(g)},function(){v=!0},void 0,function(){if(v)try{u--;for(var g=function(){var _=f.shift();a?Ooe.executeSchedule(t,a,function(){return h(_)}):h(_)};f.length&&u<n;)g();d()}catch(_){t.error(_)}}))};return e.subscribe(JL.createOperatorSubscriber(t,p,function(){c=!0,d()})),function(){s?.()}}b0.mergeInternals=Moe});var $o=b(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0});w0.mergeMap=void 0;var Coe=La(),koe=Te(),Roe=ee(),Poe=y0(),Ioe=Ke();function QL(e,t,r){return r===void 0&&(r=1/0),Ioe.isFunction(t)?QL(function(n,i){return Coe.map(function(o,a){return t(n,o,i,a)})(koe.innerFrom(e(n,i)))},r):(typeof t=="number"&&(r=t),Roe.operate(function(n,i){return Poe.mergeInternals(n,i,e,r)}))}w0.mergeMap=QL});var fd=b(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});x0.mergeAll=void 0;var Loe=$o(),joe=Tr();function qoe(e){return e===void 0&&(e=1/0),Loe.mergeMap(joe.identity,e)}x0.mergeAll=qoe});var E0=b(S0=>{"use strict";Object.defineProperty(S0,"__esModule",{value:!0});S0.concatAll=void 0;var Foe=fd();function Noe(){return Foe.mergeAll(1)}S0.concatAll=Noe});var dd=b(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});A0.concat=void 0;var Doe=E0(),Boe=gn(),zoe=Ho();function Uoe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Doe.concatAll()(zoe.from(e,Boe.popScheduler(e)))}A0.concat=Uoe});var pd=b(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.defer=void 0;var Hoe=Qe(),Woe=Te();function $oe(e){return new Hoe.Observable(function(t){Woe.innerFrom(e()).subscribe(t)})}T0.defer=$oe});var ej=b(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});O0.connectable=void 0;var Voe=Or(),Goe=Qe(),Yoe=pd(),Zoe={connector:function(){return new Voe.Subject},resetOnDisconnect:!0};function Koe(e,t){t===void 0&&(t=Zoe);var r=null,n=t.connector,i=t.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new Goe.Observable(function(f){return a.subscribe(f)});return s.connect=function(){return(!r||r.closed)&&(r=Yoe.defer(function(){return e}).subscribe(a),o&&r.add(function(){return a=n()})),r},s}O0.connectable=Koe});var tj=b(M0=>{"use strict";Object.defineProperty(M0,"__esModule",{value:!0});M0.forkJoin=void 0;var Xoe=Qe(),Joe=xS(),Qoe=Te(),eae=gn(),tae=ge(),rae=qa(),nae=SS();function iae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=eae.popResultSelector(e),n=Joe.argsArgArrayOrObject(e),i=n.args,o=n.keys,a=new Xoe.Observable(function(s){var f=i.length;if(!f){s.complete();return}for(var u=new Array(f),l=f,c=f,d=function(h){var m=!1;Qoe.innerFrom(i[h]).subscribe(tae.createOperatorSubscriber(s,function(v){m||(m=!0,c--),u[h]=v},function(){return l--},void 0,function(){(!l||!m)&&(c||s.next(o?nae.createObject(o,u):u),s.complete())}))},p=0;p<f;p++)d(p)});return r?a.pipe(rae.mapOneOrManyArgs(r)):a}M0.forkJoin=iae});var nj=b(Cl=>{"use strict";var oae=Cl&&Cl.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.fromEvent=void 0;var aae=Te(),sae=Qe(),uae=$o(),lae=jm(),Gs=Ke(),cae=qa(),fae=["addListener","removeListener"],dae=["addEventListener","removeEventListener"],pae=["on","off"];function ES(e,t,r,n){if(Gs.isFunction(r)&&(n=r,r=void 0),n)return ES(e,t,r).pipe(cae.mapOneOrManyArgs(n));var i=oae(gae(e)?dae.map(function(s){return function(f){return e[s](t,f,r)}}):hae(e)?fae.map(rj(e,t)):mae(e)?pae.map(rj(e,t)):[],2),o=i[0],a=i[1];if(!o&&lae.isArrayLike(e))return uae.mergeMap(function(s){return ES(s,t,r)})(aae.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new sae.Observable(function(s){var f=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return o(f),function(){return a(f)}})}Cl.fromEvent=ES;function rj(e,t){return function(r){return function(n){return e[r](t,n)}}}function hae(e){return Gs.isFunction(e.addListener)&&Gs.isFunction(e.removeListener)}function mae(e){return Gs.isFunction(e.on)&&Gs.isFunction(e.off)}function gae(e){return Gs.isFunction(e.addEventListener)&&Gs.isFunction(e.removeEventListener)}});var oj=b(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.fromEventPattern=void 0;var vae=Qe(),_ae=Ke(),bae=qa();function ij(e,t,r){return r?ij(e,t).pipe(bae.mapOneOrManyArgs(r)):new vae.Observable(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=e(i);return _ae.isFunction(t)?function(){return t(i,o)}:void 0})}C0.fromEventPattern=ij});var sj=b(kl=>{"use strict";var yae=kl&&kl.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return f([u,l])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(kl,"__esModule",{value:!0});kl.generate=void 0;var aj=Tr(),wae=ud(),xae=pd(),Sae=pS();function Eae(e,t,r,n,i){var o,a,s,f;arguments.length===1?(o=e,f=o.initialState,t=o.condition,r=o.iterate,a=o.resultSelector,s=a===void 0?aj.identity:a,i=o.scheduler):(f=e,!n||wae.isScheduler(n)?(s=aj.identity,i=n):s=n);function u(){var l;return yae(this,function(c){switch(c.label){case 0:l=f,c.label=1;case 1:return!t||t(l)?[4,s(l)]:[3,4];case 2:c.sent(),c.label=3;case 3:return l=r(l),[3,1];case 4:return[2]}})}return xae.defer(i?function(){return Sae.scheduleIterable(u(),i)}:u)}kl.generate=Eae});var uj=b(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});k0.iif=void 0;var Aae=pd();function Tae(e,t,r){return Aae.defer(function(){return e()?t:r})}k0.iif=Tae});var Na=b(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});R0.timer=void 0;var Oae=Qe(),Mae=mn(),Cae=ud(),kae=f0();function Rae(e,t,r){e===void 0&&(e=0),r===void 0&&(r=Mae.async);var n=-1;return t!=null&&(Cae.isScheduler(t)?r=t:n=t),new Oae.Observable(function(i){var o=kae.isValidDate(e)?+e-r.now():e;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}R0.timer=Rae});var AS=b(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0});P0.interval=void 0;var Pae=mn(),Iae=Na();function Lae(e,t){return e===void 0&&(e=0),t===void 0&&(t=Pae.asyncScheduler),e<0&&(e=0),Iae.timer(e,e,t)}P0.interval=Lae});var cj=b(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0});I0.merge=void 0;var jae=fd(),qae=Te(),Fae=_i(),lj=gn(),Nae=Ho();function Dae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=lj.popScheduler(e),n=lj.popNumber(e,1/0),i=e;return i.length?i.length===1?qae.innerFrom(i[0]):jae.mergeAll(n)(Nae.from(i,r)):Fae.EMPTY}I0.merge=Dae});var TS=b(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.never=Ys.NEVER=void 0;var Bae=Qe(),zae=Ar();Ys.NEVER=new Bae.Observable(zae.noop);function Uae(){return Ys.NEVER}Ys.never=Uae});var Rl=b(L0=>{"use strict";Object.defineProperty(L0,"__esModule",{value:!0});L0.argsOrArgArray=void 0;var Hae=Array.isArray;function Wae(e){return e.length===1&&Hae(e[0])?e[0]:e}L0.argsOrArgArray=Wae});var OS=b(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});j0.onErrorResumeNext=void 0;var $ae=Qe(),Vae=Rl(),Gae=ge(),fj=Ar(),Yae=Te();function Zae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Vae.argsOrArgArray(e);return new $ae.Observable(function(n){var i=0,o=function(){if(i<r.length){var a=void 0;try{a=Yae.innerFrom(r[i++])}catch{o();return}var s=new Gae.OperatorSubscriber(n,void 0,fj.noop,fj.noop);a.subscribe(s),s.add(o)}else n.complete()};o()})}j0.onErrorResumeNext=Zae});var dj=b(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.pairs=void 0;var Kae=Ho();function Xae(e,t){return Kae.from(Object.entries(e),t)}q0.pairs=Xae});var pj=b(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0});F0.not=void 0;function Jae(e,t){return function(r,n){return!e.call(t,r,n)}}F0.not=Jae});var Zs=b(N0=>{"use strict";Object.defineProperty(N0,"__esModule",{value:!0});N0.filter=void 0;var Qae=ee(),ese=ge();function tse(e,t){return Qae.operate(function(r,n){var i=0;r.subscribe(ese.createOperatorSubscriber(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}N0.filter=tse});var gj=b(D0=>{"use strict";Object.defineProperty(D0,"__esModule",{value:!0});D0.partition=void 0;var rse=pj(),hj=Zs(),mj=Te();function nse(e,t,r){return[hj.filter(t,r)(mj.innerFrom(e)),hj.filter(rse.not(t,r))(mj.innerFrom(e))]}D0.partition=nse});var MS=b(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.raceInit=Pl.race=void 0;var ise=Qe(),vj=Te(),ose=Rl(),ase=ge();function sse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=ose.argsOrArgArray(e),e.length===1?vj.innerFrom(e[0]):new ise.Observable(_j(e))}Pl.race=sse;function _j(e){return function(t){for(var r=[],n=function(o){r.push(vj.innerFrom(e[o]).subscribe(ase.createOperatorSubscriber(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==o&&r[s].unsubscribe();r=null}t.next(a)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}Pl.raceInit=_j});var bj=b(B0=>{"use strict";Object.defineProperty(B0,"__esModule",{value:!0});B0.range=void 0;var use=Qe(),lse=_i();function cse(e,t,r){if(t==null&&(t=e,e=0),t<=0)return lse.EMPTY;var n=t+e;return new use.Observable(r?function(i){var o=e;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}B0.range=cse});var yj=b(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});z0.using=void 0;var fse=Qe(),dse=Te(),pse=_i();function hse(e,t){return new fse.Observable(function(r){var n=e(),i=t(n),o=i?dse.innerFrom(i):pse.EMPTY;return o.subscribe(r),function(){n&&n.unsubscribe()}})}z0.using=hse});var U0=b(Da=>{"use strict";var mse=Da&&Da.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},gse=Da&&Da.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Da,"__esModule",{value:!0});Da.zip=void 0;var vse=Qe(),_se=Te(),bse=Rl(),yse=_i(),wse=ge(),xse=gn();function Sse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=xse.popResultSelector(e),n=bse.argsOrArgArray(e);return n.length?new vse.Observable(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(u){_se.innerFrom(n[u]).subscribe(wse.createOperatorSubscriber(i,function(l){if(o[u].push(l),o.every(function(d){return d.length})){var c=o.map(function(d){return d.shift()});i.next(r?r.apply(void 0,gse([],mse(c))):c),o.some(function(d,p){return!d.length&&a[p]})&&i.complete()}},function(){a[u]=!0,!o[u].length&&i.complete()}))},f=0;!i.closed&&f<n.length;f++)s(f);return function(){o=a=null}}):yse.EMPTY}Da.zip=Sse});var xj=b(wj=>{"use strict";Object.defineProperty(wj,"__esModule",{value:!0})});var CS=b(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.audit=void 0;var Ese=ee(),Ase=Te(),Sj=ge();function Tse(e){return Ese.operate(function(t,r){var n=!1,i=null,o=null,a=!1,s=function(){if(o?.unsubscribe(),o=null,n){n=!1;var u=i;i=null,r.next(u)}a&&r.complete()},f=function(){o=null,a&&r.complete()};t.subscribe(Sj.createOperatorSubscriber(r,function(u){n=!0,i=u,o||Ase.innerFrom(e(u)).subscribe(o=Sj.createOperatorSubscriber(r,s,f))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}H0.audit=Tse});var Ej=b(W0=>{"use strict";Object.defineProperty(W0,"__esModule",{value:!0});W0.auditTime=void 0;var Ose=mn(),Mse=CS(),Cse=Na();function kse(e,t){return t===void 0&&(t=Ose.asyncScheduler),Mse.audit(function(){return Cse.timer(e,t)})}W0.auditTime=kse});var Tj=b($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0});$0.buffer=void 0;var Rse=ee(),Pse=Ar(),Aj=ge(),Ise=Te();function Lse(e){return Rse.operate(function(t,r){var n=[];return t.subscribe(Aj.createOperatorSubscriber(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),Ise.innerFrom(e).subscribe(Aj.createOperatorSubscriber(r,function(){var i=n;n=[],r.next(i)},Pse.noop)),function(){n=null}})}$0.buffer=Lse});var Oj=b(Il=>{"use strict";var kS=Il&&Il.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Il,"__esModule",{value:!0});Il.bufferCount=void 0;var jse=ee(),qse=ge(),Fse=zo();function Nse(e,t){return t===void 0&&(t=null),t=t??e,jse.operate(function(r,n){var i=[],o=0;r.subscribe(qse.createOperatorSubscriber(n,function(a){var s,f,u,l,c=null;o++%t===0&&i.push([]);try{for(var d=kS(i),p=d.next();!p.done;p=d.next()){var h=p.value;h.push(a),e<=h.length&&(c=c??[],c.push(h))}}catch(g){s={error:g}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(s)throw s.error}}if(c)try{for(var m=kS(c),v=m.next();!v.done;v=m.next()){var h=v.value;Fse.arrRemove(i,h),n.next(h)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var f=kS(i),u=f.next();!u.done;u=f.next()){var l=u.value;n.next(l)}}catch(c){a={error:c}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}Il.bufferCount=Nse});var Cj=b(Ll=>{"use strict";var Dse=Ll&&Ll.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.bufferTime=void 0;var Bse=Mn(),zse=ee(),Use=ge(),Hse=zo(),Wse=mn(),$se=gn(),Mj=Uo();function Vse(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=$se.popScheduler(n))!==null&&t!==void 0?t:Wse.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return zse.operate(function(f,u){var l=[],c=!1,d=function(m){var v=m.buffer,g=m.subs;g.unsubscribe(),Hse.arrRemove(l,m),u.next(v),c&&p()},p=function(){if(l){var m=new Bse.Subscription;u.add(m);var v=[],g={buffer:v,subs:m};l.push(g),Mj.executeSchedule(m,o,function(){return d(g)},e)}};a!==null&&a>=0?Mj.executeSchedule(u,o,p,a,!0):c=!0,p();var h=Use.createOperatorSubscriber(u,function(m){var v,g,_=l.slice();try{for(var w=Dse(_),y=w.next();!y.done;y=w.next()){var x=y.value,A=x.buffer;A.push(m),s<=A.length&&d(x)}}catch(E){v={error:E}}finally{try{y&&!y.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}},function(){for(;l?.length;)u.next(l.shift().buffer);h?.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return l=null});f.subscribe(h)})}Ll.bufferTime=Vse});var Pj=b(jl=>{"use strict";var Gse=jl&&jl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(jl,"__esModule",{value:!0});jl.bufferToggle=void 0;var Yse=Mn(),Zse=ee(),kj=Te(),RS=ge(),Rj=Ar(),Kse=zo();function Xse(e,t){return Zse.operate(function(r,n){var i=[];kj.innerFrom(e).subscribe(RS.createOperatorSubscriber(n,function(o){var a=[];i.push(a);var s=new Yse.Subscription,f=function(){Kse.arrRemove(i,a),n.next(a),s.unsubscribe()};s.add(kj.innerFrom(t(o)).subscribe(RS.createOperatorSubscriber(n,f,Rj.noop)))},Rj.noop)),r.subscribe(RS.createOperatorSubscriber(n,function(o){var a,s;try{for(var f=Gse(i),u=f.next();!u.done;u=f.next()){var l=u.value;l.push(o)}}catch(c){a={error:c}}finally{try{u&&!u.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}jl.bufferToggle=Xse});var Lj=b(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.bufferWhen=void 0;var Jse=ee(),Qse=Ar(),Ij=ge(),eue=Te();function tue(e){return Jse.operate(function(t,r){var n=null,i=null,o=function(){i?.unsubscribe();var a=n;n=[],a&&r.next(a),eue.innerFrom(e()).subscribe(i=Ij.createOperatorSubscriber(r,o,Qse.noop))};o(),t.subscribe(Ij.createOperatorSubscriber(r,function(a){return n?.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}V0.bufferWhen=tue});var qj=b(G0=>{"use strict";Object.defineProperty(G0,"__esModule",{value:!0});G0.catchError=void 0;var rue=Te(),nue=ge(),iue=ee();function jj(e){return iue.operate(function(t,r){var n=null,i=!1,o;n=t.subscribe(nue.createOperatorSubscriber(r,void 0,void 0,function(a){o=rue.innerFrom(e(a,jj(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}G0.catchError=jj});var PS=b(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.scanInternals=void 0;var oue=ge();function aue(e,t,r,n,i){return function(o,a){var s=r,f=t,u=0;o.subscribe(oue.createOperatorSubscriber(a,function(l){var c=u++;f=s?e(f,l,c):(s=!0,l),n&&a.next(f)},i&&(function(){s&&a.next(f),a.complete()})))}}Y0.scanInternals=aue});var ql=b(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});Z0.reduce=void 0;var sue=PS(),uue=ee();function lue(e,t){return uue.operate(sue.scanInternals(e,t,arguments.length>=2,!1,!0))}Z0.reduce=lue});var IS=b(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.toArray=void 0;var cue=ql(),fue=ee(),due=function(e,t){return e.push(t),e};function pue(){return fue.operate(function(e,t){cue.reduce(due,[])(e).subscribe(t)})}K0.toArray=pue});var LS=b(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.joinAllInternals=void 0;var hue=Tr(),mue=qa(),gue=id(),vue=$o(),_ue=IS();function bue(e,t){return gue.pipe(_ue.toArray(),vue.mergeMap(function(r){return e(r)}),t?mue.mapOneOrManyArgs(t):hue.identity)}X0.joinAllInternals=bue});var jS=b(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.combineLatestAll=void 0;var yue=_0(),wue=LS();function xue(e){return wue.joinAllInternals(yue.combineLatest,e)}J0.combineLatestAll=xue});var Fj=b(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.combineAll=void 0;var Sue=jS();Q0.combineAll=Sue.combineLatestAll});var zj=b(Ba=>{"use strict";var Nj=Ba&&Ba.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Dj=Ba&&Ba.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.combineLatest=void 0;var Eue=_0(),Aue=ee(),Tue=Rl(),Oue=qa(),Mue=id(),Cue=gn();function Bj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Cue.popResultSelector(e);return r?Mue.pipe(Bj.apply(void 0,Dj([],Nj(e))),Oue.mapOneOrManyArgs(r)):Aue.operate(function(n,i){Eue.combineLatestInit(Dj([n],Nj(Tue.argsOrArgArray(e))))(i)})}Ba.combineLatest=Bj});var Uj=b(za=>{"use strict";var kue=za&&za.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Rue=za&&za.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(za,"__esModule",{value:!0});za.combineLatestWith=void 0;var Pue=zj();function Iue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pue.combineLatest.apply(void 0,Rue([],kue(e)))}za.combineLatestWith=Iue});var qS=b(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.concatMap=void 0;var Hj=$o(),Lue=Ke();function jue(e,t){return Lue.isFunction(t)?Hj.mergeMap(e,t,1):Hj.mergeMap(e,1)}eg.concatMap=jue});var $j=b(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.concatMapTo=void 0;var Wj=qS(),que=Ke();function Fue(e,t){return que.isFunction(t)?Wj.concatMap(function(){return e},t):Wj.concatMap(function(){return e})}tg.concatMapTo=Fue});var Vj=b(Ua=>{"use strict";var Nue=Ua&&Ua.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Due=Ua&&Ua.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.concat=void 0;var Bue=ee(),zue=E0(),Uue=gn(),Hue=Ho();function Wue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Uue.popScheduler(e);return Bue.operate(function(n,i){zue.concatAll()(Hue.from(Due([n],Nue(e)),r)).subscribe(i)})}Ua.concat=Wue});var Gj=b(Ha=>{"use strict";var $ue=Ha&&Ha.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Vue=Ha&&Ha.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.concatWith=void 0;var Gue=Vj();function Yue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gue.concat.apply(void 0,Vue([],$ue(e)))}Ha.concatWith=Yue});var Yj=b(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.fromSubscribable=void 0;var Zue=Qe();function Kue(e){return new Zue.Observable(function(t){return e.subscribe(t)})}rg.fromSubscribable=Kue});var ig=b(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.connect=void 0;var Xue=Or(),Jue=Te(),Que=ee(),ele=Yj(),tle={connector:function(){return new Xue.Subject}};function rle(e,t){t===void 0&&(t=tle);var r=t.connector;return Que.operate(function(n,i){var o=r();Jue.innerFrom(e(ele.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}ng.connect=rle});var Zj=b(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.count=void 0;var nle=ql();function ile(e){return nle.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}og.count=ile});var Xj=b(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.debounce=void 0;var ole=ee(),ale=Ar(),Kj=ge(),sle=Te();function ule(e){return ole.operate(function(t,r){var n=!1,i=null,o=null,a=function(){if(o?.unsubscribe(),o=null,n){n=!1;var s=i;i=null,r.next(s)}};t.subscribe(Kj.createOperatorSubscriber(r,function(s){o?.unsubscribe(),n=!0,i=s,o=Kj.createOperatorSubscriber(r,a,ale.noop),sle.innerFrom(e(s)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}ag.debounce=ule});var Jj=b(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.debounceTime=void 0;var lle=mn(),cle=ee(),fle=ge();function dle(e,t){return t===void 0&&(t=lle.asyncScheduler),cle.operate(function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,n.next(u)}};function f(){var u=a+e,l=t.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}s()}r.subscribe(fle.createOperatorSubscriber(n,function(u){o=u,a=t.now(),i||(i=t.schedule(f,e),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}sg.debounceTime=dle});var hd=b(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.defaultIfEmpty=void 0;var ple=ee(),hle=ge();function mle(e){return ple.operate(function(t,r){var n=!1;t.subscribe(hle.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){n||r.next(e),r.complete()}))})}ug.defaultIfEmpty=mle});var md=b(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.take=void 0;var gle=_i(),vle=ee(),_le=ge();function ble(e){return e<=0?function(){return gle.EMPTY}:vle.operate(function(t,r){var n=0;t.subscribe(_le.createOperatorSubscriber(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}lg.take=ble});var FS=b(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.ignoreElements=void 0;var yle=ee(),wle=ge(),xle=Ar();function Sle(){return yle.operate(function(e,t){e.subscribe(wle.createOperatorSubscriber(t,xle.noop))})}cg.ignoreElements=Sle});var NS=b(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.mapTo=void 0;var Ele=La();function Ale(e){return Ele.map(function(){return e})}fg.mapTo=Ale});var DS=b(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.delayWhen=void 0;var Tle=dd(),Qj=md(),Ole=FS(),Mle=NS(),Cle=$o(),kle=Te();function eq(e,t){return t?function(r){return Tle.concat(t.pipe(Qj.take(1),Ole.ignoreElements()),r.pipe(eq(e)))}:Cle.mergeMap(function(r,n){return kle.innerFrom(e(r,n)).pipe(Qj.take(1),Mle.mapTo(r))})}dg.delayWhen=eq});var tq=b(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.delay=void 0;var Rle=mn(),Ple=DS(),Ile=Na();function Lle(e,t){t===void 0&&(t=Rle.asyncScheduler);var r=Ile.timer(e,t);return Ple.delayWhen(function(){return r})}pg.delay=Lle});var rq=b(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.dematerialize=void 0;var jle=r0(),qle=ee(),Fle=ge();function Nle(){return qle.operate(function(e,t){e.subscribe(Fle.createOperatorSubscriber(t,function(r){return jle.observeNotification(r,t)}))})}hg.dematerialize=Nle});var iq=b(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.distinct=void 0;var Dle=ee(),nq=ge(),Ble=Ar(),zle=Te();function Ule(e,t){return Dle.operate(function(r,n){var i=new Set;r.subscribe(nq.createOperatorSubscriber(n,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),n.next(o))})),t&&zle.innerFrom(t).subscribe(nq.createOperatorSubscriber(n,function(){return i.clear()},Ble.noop))})}mg.distinct=Ule});var BS=b(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.distinctUntilChanged=void 0;var Hle=Tr(),Wle=ee(),$le=ge();function Vle(e,t){return t===void 0&&(t=Hle.identity),e=e??Gle,Wle.operate(function(r,n){var i,o=!0;r.subscribe($le.createOperatorSubscriber(n,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}gg.distinctUntilChanged=Vle;function Gle(e,t){return e===t}});var oq=b(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.distinctUntilKeyChanged=void 0;var Yle=BS();function Zle(e,t){return Yle.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}vg.distinctUntilKeyChanged=Zle});var gd=b(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.throwIfEmpty=void 0;var Kle=Ia(),Xle=ee(),Jle=ge();function Qle(e){return e===void 0&&(e=ece),Xle.operate(function(t,r){var n=!1;t.subscribe(Jle.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(e())}))})}_g.throwIfEmpty=Qle;function ece(){return new Kle.EmptyError}});var sq=b(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.elementAt=void 0;var aq=vS(),tce=Zs(),rce=gd(),nce=hd(),ice=md();function oce(e,t){if(e<0)throw new aq.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(tce.filter(function(i,o){return o===e}),ice.take(1),r?nce.defaultIfEmpty(t):rce.throwIfEmpty(function(){return new aq.ArgumentOutOfRangeError}))}}bg.elementAt=oce});var uq=b(Wa=>{"use strict";var ace=Wa&&Wa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},sce=Wa&&Wa.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.endWith=void 0;var uce=dd(),lce=e0();function cce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return uce.concat(r,lce.of.apply(void 0,sce([],ace(e))))}}Wa.endWith=cce});var lq=b(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.every=void 0;var fce=ee(),dce=ge();function pce(e,t){return fce.operate(function(r,n){var i=0;r.subscribe(dce.createOperatorSubscriber(n,function(o){e.call(t,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}yg.every=pce});var zS=b(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.exhaustMap=void 0;var hce=La(),cq=Te(),mce=ee(),fq=ge();function dq(e,t){return t?function(r){return r.pipe(dq(function(n,i){return cq.innerFrom(e(n,i)).pipe(hce.map(function(o,a){return t(n,o,i,a)}))}))}:mce.operate(function(r,n){var i=0,o=null,a=!1;r.subscribe(fq.createOperatorSubscriber(n,function(s){o||(o=fq.createOperatorSubscriber(n,void 0,function(){o=null,a&&n.complete()}),cq.innerFrom(e(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}wg.exhaustMap=dq});var US=b(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.exhaustAll=void 0;var gce=zS(),vce=Tr();function _ce(){return gce.exhaustMap(vce.identity)}xg.exhaustAll=_ce});var pq=b(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.exhaust=void 0;var bce=US();Sg.exhaust=bce.exhaustAll});var hq=b(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.expand=void 0;var yce=ee(),wce=y0();function xce(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,yce.operate(function(n,i){return wce.mergeInternals(n,i,e,t,void 0,!0,r)})}Eg.expand=xce});var mq=b(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.finalize=void 0;var Sce=ee();function Ece(e){return Sce.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}Ag.finalize=Ece});var HS=b(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.createFind=Fl.find=void 0;var Ace=ee(),Tce=ge();function Oce(e,t){return Ace.operate(gq(e,t,"value"))}Fl.find=Oce;function gq(e,t,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(Tce.createOperatorSubscriber(o,function(s){var f=a++;e.call(t,s,f,i)&&(o.next(n?f:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}Fl.createFind=gq});var vq=b(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.findIndex=void 0;var Mce=ee(),Cce=HS();function kce(e,t){return Mce.operate(Cce.createFind(e,t,"index"))}Tg.findIndex=kce});var _q=b(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.first=void 0;var Rce=Ia(),Pce=Zs(),Ice=md(),Lce=hd(),jce=gd(),qce=Tr();function Fce(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Pce.filter(function(i,o){return e(i,o,n)}):qce.identity,Ice.take(1),r?Lce.defaultIfEmpty(t):jce.throwIfEmpty(function(){return new Rce.EmptyError}))}}Og.first=Fce});var yq=b(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.groupBy=void 0;var Nce=Qe(),Dce=Te(),Bce=Or(),zce=ee(),bq=ge();function Uce(e,t,r,n){return zce.operate(function(i,o){var a;!t||typeof t=="function"?a=t:(r=t.duration,a=t.element,n=t.connector);var s=new Map,f=function(h){s.forEach(h),h(o)},u=function(h){return f(function(m){return m.error(h)})},l=0,c=!1,d=new bq.OperatorSubscriber(o,function(h){try{var m=e(h),v=s.get(m);if(!v){s.set(m,v=n?n():new Bce.Subject);var g=p(m,v);if(o.next(g),r){var _=bq.createOperatorSubscriber(v,function(){v.complete(),_?.unsubscribe()},void 0,void 0,function(){return s.delete(m)});d.add(Dce.innerFrom(r(g)).subscribe(_))}}v.next(a?a(h):h)}catch(w){u(w)}},function(){return f(function(h){return h.complete()})},u,function(){return s.clear()},function(){return c=!0,l===0});i.subscribe(d);function p(h,m){var v=new Nce.Observable(function(g){l++;var _=m.subscribe(g);return function(){_.unsubscribe(),--l===0&&c&&d.unsubscribe()}});return v.key=h,v}})}Mg.groupBy=Uce});var wq=b(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.isEmpty=void 0;var Hce=ee(),Wce=ge();function $ce(){return Hce.operate(function(e,t){e.subscribe(Wce.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}Cg.isEmpty=$ce});var WS=b(Nl=>{"use strict";var Vce=Nl&&Nl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.takeLast=void 0;var Gce=_i(),Yce=ee(),Zce=ge();function Kce(e){return e<=0?function(){return Gce.EMPTY}:Yce.operate(function(t,r){var n=[];t.subscribe(Zce.createOperatorSubscriber(r,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,o;try{for(var a=Vce(n),s=a.next();!s.done;s=a.next()){var f=s.value;r.next(f)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}Nl.takeLast=Kce});var xq=b(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.last=void 0;var Xce=Ia(),Jce=Zs(),Qce=WS(),efe=gd(),tfe=hd(),rfe=Tr();function nfe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Jce.filter(function(i,o){return e(i,o,n)}):rfe.identity,Qce.takeLast(1),r?tfe.defaultIfEmpty(t):efe.throwIfEmpty(function(){return new Xce.EmptyError}))}}kg.last=nfe});var Sq=b(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.materialize=void 0;var $S=r0(),ife=ee(),ofe=ge();function afe(){return ife.operate(function(e,t){e.subscribe(ofe.createOperatorSubscriber(t,function(r){t.next($S.Notification.createNext(r))},function(){t.next($S.Notification.createComplete()),t.complete()},function(r){t.next($S.Notification.createError(r)),t.complete()}))})}Rg.materialize=afe});var Eq=b(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.max=void 0;var sfe=ql(),ufe=Ke();function lfe(e){return sfe.reduce(ufe.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}Pg.max=lfe});var Aq=b(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.flatMap=void 0;var cfe=$o();Ig.flatMap=cfe.mergeMap});var Oq=b(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.mergeMapTo=void 0;var Tq=$o(),ffe=Ke();function dfe(e,t,r){return r===void 0&&(r=1/0),ffe.isFunction(t)?Tq.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),Tq.mergeMap(function(){return e},r))}Lg.mergeMapTo=dfe});var Mq=b(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.mergeScan=void 0;var pfe=ee(),hfe=y0();function mfe(e,t,r){return r===void 0&&(r=1/0),pfe.operate(function(n,i){var o=t;return hfe.mergeInternals(n,i,function(a,s){return e(o,a,s)},r,function(a){o=a},!1,void 0,function(){return o=null})})}jg.mergeScan=mfe});var kq=b($a=>{"use strict";var gfe=$a&&$a.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},vfe=$a&&$a.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty($a,"__esModule",{value:!0});$a.merge=void 0;var _fe=ee(),bfe=fd(),Cq=gn(),yfe=Ho();function wfe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Cq.popScheduler(e),n=Cq.popNumber(e,1/0);return _fe.operate(function(i,o){bfe.mergeAll(n)(yfe.from(vfe([i],gfe(e)),r)).subscribe(o)})}$a.merge=wfe});var Rq=b(Va=>{"use strict";var xfe=Va&&Va.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Sfe=Va&&Va.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Va,"__esModule",{value:!0});Va.mergeWith=void 0;var Efe=kq();function Afe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Efe.merge.apply(void 0,Sfe([],xfe(e)))}Va.mergeWith=Afe});var Pq=b(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.min=void 0;var Tfe=ql(),Ofe=Ke();function Mfe(e){return Tfe.reduce(Ofe.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}qg.min=Mfe});var Ng=b(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.multicast=void 0;var Cfe=od(),Iq=Ke(),kfe=ig();function Rfe(e,t){var r=Iq.isFunction(e)?e:function(){return e};return Iq.isFunction(t)?kfe.connect(t,{connector:r}):function(n){return new Cfe.ConnectableObservable(n,r)}}Fg.multicast=Rfe});var jq=b(fo=>{"use strict";var Pfe=fo&&fo.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Ife=fo&&fo.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(fo,"__esModule",{value:!0});fo.onErrorResumeNext=fo.onErrorResumeNextWith=void 0;var Lfe=Rl(),jfe=OS();function Lq(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Lfe.argsOrArgArray(e);return function(n){return jfe.onErrorResumeNext.apply(void 0,Ife([n],Pfe(r)))}}fo.onErrorResumeNextWith=Lq;fo.onErrorResumeNext=Lq});var qq=b(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.pairwise=void 0;var qfe=ee(),Ffe=ge();function Nfe(){return qfe.operate(function(e,t){var r,n=!1;e.subscribe(Ffe.createOperatorSubscriber(t,function(i){var o=r;r=i,n&&t.next([o,i]),n=!0}))})}Dg.pairwise=Nfe});var Fq=b(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.pluck=void 0;var Dfe=La();function Bfe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return Dfe.map(function(n){for(var i=n,o=0;o<r;o++){var a=i?.[e[o]];if(typeof a<"u")i=a;else return}return i})}Bg.pluck=Bfe});var Nq=b(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.publish=void 0;var zfe=Or(),Ufe=Ng(),Hfe=ig();function Wfe(e){return e?function(t){return Hfe.connect(e)(t)}:function(t){return Ufe.multicast(new zfe.Subject)(t)}}zg.publish=Wfe});var Dq=b(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.publishBehavior=void 0;var $fe=eS(),Vfe=od();function Gfe(e){return function(t){var r=new $fe.BehaviorSubject(e);return new Vfe.ConnectableObservable(t,function(){return r})}}Ug.publishBehavior=Gfe});var Bq=b(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.publishLast=void 0;var Yfe=km(),Zfe=od();function Kfe(){return function(e){var t=new Yfe.AsyncSubject;return new Zfe.ConnectableObservable(e,function(){return t})}}Hg.publishLast=Kfe});var Uq=b(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.publishReplay=void 0;var Xfe=Cm(),Jfe=Ng(),zq=Ke();function Qfe(e,t,r,n){r&&!zq.isFunction(r)&&(n=r);var i=zq.isFunction(r)?r:void 0;return function(o){return Jfe.multicast(new Xfe.ReplaySubject(e,t,n),i)(o)}}Wg.publishReplay=Qfe});var Hq=b(Ga=>{"use strict";var ede=Ga&&Ga.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},tde=Ga&&Ga.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.raceWith=void 0;var rde=MS(),nde=ee(),ide=Tr();function ode(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?nde.operate(function(r,n){rde.raceInit(tde([r],ede(e)))(n)}):ide.identity}Ga.raceWith=ode});var $q=b($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.repeat=void 0;var ade=_i(),sde=ee(),Wq=ge(),ude=Te(),lde=Na();function cde(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return ade.EMPTY}:sde.operate(function(i,o){var a=0,s,f=function(){if(s?.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?lde.timer(n):ude.innerFrom(n(a)),c=Wq.createOperatorSubscriber(o,function(){c.unsubscribe(),u()});l.subscribe(c)}else u()},u=function(){var l=!1;s=i.subscribe(Wq.createOperatorSubscriber(o,void 0,function(){++a<r?s?f():l=!0:o.complete()})),l&&f()};u()})}$g.repeat=cde});var Gq=b(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.repeatWhen=void 0;var fde=Te(),dde=Or(),pde=ee(),Vq=ge();function hde(e){return pde.operate(function(t,r){var n,i=!1,o,a=!1,s=!1,f=function(){return s&&a&&(r.complete(),!0)},u=function(){return o||(o=new dde.Subject,fde.innerFrom(e(o)).subscribe(Vq.createOperatorSubscriber(r,function(){n?l():i=!0},function(){a=!0,f()}))),o},l=function(){s=!1,n=t.subscribe(Vq.createOperatorSubscriber(r,void 0,function(){s=!0,!f()&&u().next()})),i&&(n.unsubscribe(),n=null,i=!1,l())};l()})}Vg.repeatWhen=hde});var Zq=b(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.retry=void 0;var mde=ee(),Yq=ge(),gde=Tr(),vde=Na(),_de=Te();function bde(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,i=t.delay,o=t.resetOnSuccess,a=o===void 0?!1:o;return n<=0?gde.identity:mde.operate(function(s,f){var u=0,l,c=function(){var d=!1;l=s.subscribe(Yq.createOperatorSubscriber(f,function(p){a&&(u=0),f.next(p)},void 0,function(p){if(u++<n){var h=function(){l?(l.unsubscribe(),l=null,c()):d=!0};if(i!=null){var m=typeof i=="number"?vde.timer(i):_de.innerFrom(i(p,u)),v=Yq.createOperatorSubscriber(f,function(){v.unsubscribe(),h()},function(){f.complete()});m.subscribe(v)}else h()}else f.error(p)})),d&&(l.unsubscribe(),l=null,c())};c()})}Gg.retry=bde});var Xq=b(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.retryWhen=void 0;var yde=Te(),wde=Or(),xde=ee(),Kq=ge();function Sde(e){return xde.operate(function(t,r){var n,i=!1,o,a=function(){n=t.subscribe(Kq.createOperatorSubscriber(r,void 0,void 0,function(s){o||(o=new wde.Subject,yde.innerFrom(e(o)).subscribe(Kq.createOperatorSubscriber(r,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}Yg.retryWhen=Sde});var VS=b(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.sample=void 0;var Ede=Te(),Ade=ee(),Tde=Ar(),Jq=ge();function Ode(e){return Ade.operate(function(t,r){var n=!1,i=null;t.subscribe(Jq.createOperatorSubscriber(r,function(o){n=!0,i=o})),Ede.innerFrom(e).subscribe(Jq.createOperatorSubscriber(r,function(){if(n){n=!1;var o=i;i=null,r.next(o)}},Tde.noop))})}Zg.sample=Ode});var Qq=b(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.sampleTime=void 0;var Mde=mn(),Cde=VS(),kde=AS();function Rde(e,t){return t===void 0&&(t=Mde.asyncScheduler),Cde.sample(kde.interval(e,t))}Kg.sampleTime=Rde});var e8=b(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.scan=void 0;var Pde=ee(),Ide=PS();function Lde(e,t){return Pde.operate(Ide.scanInternals(e,t,arguments.length>=2,!0))}Xg.scan=Lde});var r8=b(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.sequenceEqual=void 0;var jde=ee(),qde=ge(),Fde=Te();function Nde(e,t){return t===void 0&&(t=function(r,n){return r===n}),jde.operate(function(r,n){var i=t8(),o=t8(),a=function(f){n.next(f),n.complete()},s=function(f,u){var l=qde.createOperatorSubscriber(n,function(c){var d=u.buffer,p=u.complete;d.length===0?p?a(!1):f.buffer.push(c):!t(c,d.shift())&&a(!1)},function(){f.complete=!0;var c=u.complete,d=u.buffer;c&&a(d.length===0),l?.unsubscribe()});return l};r.subscribe(s(i,o)),Fde.innerFrom(e).subscribe(s(o,i))})}Jg.sequenceEqual=Nde;function t8(){return{buffer:[],complete:!1}}});var YS=b(Ya=>{"use strict";var Dde=Ya&&Ya.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Bde=Ya&&Ya.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.share=void 0;var n8=Te(),zde=Or(),i8=al(),Ude=ee();function Hde(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new zde.Subject}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,f=s===void 0?!0:s;return function(u){var l,c,d,p=0,h=!1,m=!1,v=function(){c?.unsubscribe(),c=void 0},g=function(){v(),l=d=void 0,h=m=!1},_=function(){var w=l;g(),w?.unsubscribe()};return Ude.operate(function(w,y){p++,!m&&!h&&v();var x=d=d??r();y.add(function(){p--,p===0&&!m&&!h&&(c=GS(_,f))}),x.subscribe(y),!l&&p>0&&(l=new i8.SafeSubscriber({next:function(A){return x.next(A)},error:function(A){m=!0,v(),c=GS(g,i,A),x.error(A)},complete:function(){h=!0,v(),c=GS(g,a),x.complete()}}),n8.innerFrom(w).subscribe(l))})(u)}}Ya.share=Hde;function GS(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new i8.SafeSubscriber({next:function(){i.unsubscribe(),e()}});return n8.innerFrom(t.apply(void 0,Bde([],Dde(r)))).subscribe(i)}}});var o8=b(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.shareReplay=void 0;var Wde=Cm(),$de=YS();function Vde(e,t,r){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,r=e.scheduler):a=e??1/0,$de.share({connector:function(){return new Wde.ReplaySubject(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}Qg.shareReplay=Vde});var a8=b(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.single=void 0;var Gde=Ia(),Yde=bS(),Zde=_S(),Kde=ee(),Xde=ge();function Jde(e){return Kde.operate(function(t,r){var n=!1,i,o=!1,a=0;t.subscribe(Xde.createOperatorSubscriber(r,function(s){o=!0,(!e||e(s,a++,t))&&(n&&r.error(new Yde.SequenceError("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(o?new Zde.NotFoundError("No matching values"):new Gde.EmptyError)}))})}ev.single=Jde});var s8=b(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.skip=void 0;var Qde=Zs();function epe(e){return Qde.filter(function(t,r){return e<=r})}tv.skip=epe});var u8=b(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.skipLast=void 0;var tpe=Tr(),rpe=ee(),npe=ge();function ipe(e){return e<=0?tpe.identity:rpe.operate(function(t,r){var n=new Array(e),i=0;return t.subscribe(npe.createOperatorSubscriber(r,function(o){var a=i++;if(a<e)n[a]=o;else{var s=a%e,f=n[s];n[s]=o,r.next(f)}})),function(){n=null}})}rv.skipLast=ipe});var c8=b(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.skipUntil=void 0;var ope=ee(),l8=ge(),ape=Te(),spe=Ar();function upe(e){return ope.operate(function(t,r){var n=!1,i=l8.createOperatorSubscriber(r,function(){i?.unsubscribe(),n=!0},spe.noop);ape.innerFrom(e).subscribe(i),t.subscribe(l8.createOperatorSubscriber(r,function(o){return n&&r.next(o)}))})}nv.skipUntil=upe});var f8=b(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.skipWhile=void 0;var lpe=ee(),cpe=ge();function fpe(e){return lpe.operate(function(t,r){var n=!1,i=0;t.subscribe(cpe.createOperatorSubscriber(r,function(o){return(n||(n=!e(o,i++)))&&r.next(o)}))})}iv.skipWhile=fpe});var p8=b(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.startWith=void 0;var d8=dd(),dpe=gn(),ppe=ee();function hpe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=dpe.popScheduler(e);return ppe.operate(function(n,i){(r?d8.concat(e,n,r):d8.concat(e,n)).subscribe(i)})}ov.startWith=hpe});var vd=b(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.switchMap=void 0;var mpe=Te(),gpe=ee(),h8=ge();function vpe(e,t){return gpe.operate(function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(h8.createOperatorSubscriber(n,function(f){i?.unsubscribe();var u=0,l=o++;mpe.innerFrom(e(f,l)).subscribe(i=h8.createOperatorSubscriber(n,function(c){return n.next(t?t(f,c,l,u++):c)},function(){i=null,s()}))},function(){a=!0,s()}))})}av.switchMap=vpe});var m8=b(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.switchAll=void 0;var _pe=vd(),bpe=Tr();function ype(){return _pe.switchMap(bpe.identity)}sv.switchAll=ype});var v8=b(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.switchMapTo=void 0;var g8=vd(),wpe=Ke();function xpe(e,t){return wpe.isFunction(t)?g8.switchMap(function(){return e},t):g8.switchMap(function(){return e})}uv.switchMapTo=xpe});var _8=b(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.switchScan=void 0;var Spe=vd(),Epe=ee();function Ape(e,t){return Epe.operate(function(r,n){var i=t;return Spe.switchMap(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}lv.switchScan=Ape});var b8=b(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.takeUntil=void 0;var Tpe=ee(),Ope=ge(),Mpe=Te(),Cpe=Ar();function kpe(e){return Tpe.operate(function(t,r){Mpe.innerFrom(e).subscribe(Ope.createOperatorSubscriber(r,function(){return r.complete()},Cpe.noop)),!r.closed&&t.subscribe(r)})}cv.takeUntil=kpe});var y8=b(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.takeWhile=void 0;var Rpe=ee(),Ppe=ge();function Ipe(e,t){return t===void 0&&(t=!1),Rpe.operate(function(r,n){var i=0;r.subscribe(Ppe.createOperatorSubscriber(n,function(o){var a=e(o,i++);(a||t)&&n.next(o),!a&&n.complete()}))})}fv.takeWhile=Ipe});var w8=b(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.tap=void 0;var Lpe=Ke(),jpe=ee(),qpe=ge(),Fpe=Tr();function Npe(e,t,r){var n=Lpe.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?jpe.operate(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(qpe.createOperatorSubscriber(o,function(f){var u;(u=n.next)===null||u===void 0||u.call(n,f),o.next(f)},function(){var f;s=!1,(f=n.complete)===null||f===void 0||f.call(n),o.complete()},function(f){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,f),o.error(f)},function(){var f,u;s&&((f=n.unsubscribe)===null||f===void 0||f.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Fpe.identity}dv.tap=Npe});var ZS=b(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.throttle=void 0;var Dpe=ee(),x8=ge(),Bpe=Te();function zpe(e,t){return Dpe.operate(function(r,n){var i=t??{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,f=s===void 0?!1:s,u=!1,l=null,c=null,d=!1,p=function(){c?.unsubscribe(),c=null,f&&(v(),d&&n.complete())},h=function(){c=null,d&&n.complete()},m=function(g){return c=Bpe.innerFrom(e(g)).subscribe(x8.createOperatorSubscriber(n,p,h))},v=function(){if(u){u=!1;var g=l;l=null,n.next(g),!d&&m(g)}};r.subscribe(x8.createOperatorSubscriber(n,function(g){u=!0,l=g,!(c&&!c.closed)&&(a?v():m(g))},function(){d=!0,!(f&&u&&c&&!c.closed)&&n.complete()}))})}pv.throttle=zpe});var S8=b(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.throttleTime=void 0;var Upe=mn(),Hpe=ZS(),Wpe=Na();function $pe(e,t,r){t===void 0&&(t=Upe.asyncScheduler);var n=Wpe.timer(e,t);return Hpe.throttle(function(){return n},r)}hv.throttleTime=$pe});var A8=b(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.TimeInterval=Dl.timeInterval=void 0;var Vpe=mn(),Gpe=ee(),Ype=ge();function Zpe(e){return e===void 0&&(e=Vpe.asyncScheduler),Gpe.operate(function(t,r){var n=e.now();t.subscribe(Ype.createOperatorSubscriber(r,function(i){var o=e.now(),a=o-n;n=o,r.next(new E8(i,a))}))})}Dl.timeInterval=Zpe;var E8=(function(){function e(t,r){this.value=t,this.interval=r}return e})();Dl.TimeInterval=E8});var T8=b(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.timeoutWith=void 0;var Kpe=mn(),Xpe=f0(),Jpe=d0();function Qpe(e,t,r){var n,i,o;if(r=r??Kpe.async,Xpe.isValidDate(e)?n=e:typeof e=="number"&&(i=e),t)o=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return Jpe.timeout({first:n,each:i,scheduler:r,with:o})}mv.timeoutWith=Qpe});var O8=b(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.timestamp=void 0;var ehe=Mm(),the=La();function rhe(e){return e===void 0&&(e=ehe.dateTimestampProvider),the.map(function(t){return{value:t,timestamp:e.now()}})}gv.timestamp=rhe});var k8=b(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.window=void 0;var M8=Or(),nhe=ee(),C8=ge(),ihe=Ar(),ohe=Te();function ahe(e){return nhe.operate(function(t,r){var n=new M8.Subject;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return t.subscribe(C8.createOperatorSubscriber(r,function(o){return n?.next(o)},function(){n.complete(),r.complete()},i)),ohe.innerFrom(e).subscribe(C8.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new M8.Subject)},ihe.noop,i)),function(){n?.unsubscribe(),n=null}})}vv.window=ahe});var P8=b(Bl=>{"use strict";var she=Bl&&Bl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.windowCount=void 0;var R8=Or(),uhe=ee(),lhe=ge();function che(e,t){t===void 0&&(t=0);var r=t>0?t:e;return uhe.operate(function(n,i){var o=[new R8.Subject],a=[],s=0;i.next(o[0].asObservable()),n.subscribe(lhe.createOperatorSubscriber(i,function(f){var u,l;try{for(var c=she(o),d=c.next();!d.done;d=c.next()){var p=d.value;p.next(f)}}catch(v){u={error:v}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}var h=s-e+1;if(h>=0&&h%r===0&&o.shift().complete(),++s%r===0){var m=new R8.Subject;o.push(m),i.next(m.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(f){for(;o.length>0;)o.shift().error(f);i.error(f)},function(){a=null,o=null}))})}Bl.windowCount=che});var L8=b(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.windowTime=void 0;var fhe=Or(),dhe=mn(),phe=Mn(),hhe=ee(),mhe=ge(),ghe=zo(),vhe=gn(),I8=Uo();function _he(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=vhe.popScheduler(n))!==null&&t!==void 0?t:dhe.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return hhe.operate(function(f,u){var l=[],c=!1,d=function(v){var g=v.window,_=v.subs;g.complete(),_.unsubscribe(),ghe.arrRemove(l,v),c&&p()},p=function(){if(l){var v=new phe.Subscription;u.add(v);var g=new fhe.Subject,_={window:g,subs:v,seen:0};l.push(_),u.next(g.asObservable()),I8.executeSchedule(v,o,function(){return d(_)},e)}};a!==null&&a>=0?I8.executeSchedule(u,o,p,a,!0):c=!0,p();var h=function(v){return l.slice().forEach(v)},m=function(v){h(function(g){var _=g.window;return v(_)}),v(u),u.unsubscribe()};return f.subscribe(mhe.createOperatorSubscriber(u,function(v){h(function(g){g.window.next(v),s<=++g.seen&&d(g)})},function(){return m(function(v){return v.complete()})},function(v){return m(function(g){return g.error(v)})})),function(){l=null}})}_v.windowTime=_he});var F8=b(zl=>{"use strict";var bhe=zl&&zl.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(zl,"__esModule",{value:!0});zl.windowToggle=void 0;var yhe=Or(),whe=Mn(),xhe=ee(),j8=Te(),KS=ge(),q8=Ar(),She=zo();function Ehe(e,t){return xhe.operate(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};j8.innerFrom(e).subscribe(KS.createOperatorSubscriber(n,function(a){var s=new yhe.Subject;i.push(s);var f=new whe.Subscription,u=function(){She.arrRemove(i,s),s.complete(),f.unsubscribe()},l;try{l=j8.innerFrom(t(a))}catch(c){o(c);return}n.next(s.asObservable()),f.add(l.subscribe(KS.createOperatorSubscriber(n,u,q8.noop,o)))},q8.noop)),r.subscribe(KS.createOperatorSubscriber(n,function(a){var s,f,u=i.slice();try{for(var l=bhe(u),c=l.next();!c.done;c=l.next()){var d=c.value;d.next(a)}}catch(p){s={error:p}}finally{try{c&&!c.done&&(f=l.return)&&f.call(l)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}zl.windowToggle=Ehe});var D8=b(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.windowWhen=void 0;var Ahe=Or(),The=ee(),N8=ge(),Ohe=Te();function Mhe(e){return The.operate(function(t,r){var n,i,o=function(s){n.error(s),r.error(s)},a=function(){i?.unsubscribe(),n?.complete(),n=new Ahe.Subject,r.next(n.asObservable());var s;try{s=Ohe.innerFrom(e())}catch(f){o(f);return}s.subscribe(i=N8.createOperatorSubscriber(r,a,a,o))};a(),t.subscribe(N8.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},o,function(){i?.unsubscribe(),n=null}))})}bv.windowWhen=Mhe});var H8=b(Za=>{"use strict";var B8=Za&&Za.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},z8=Za&&Za.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Za,"__esModule",{value:!0});Za.withLatestFrom=void 0;var Che=ee(),U8=ge(),khe=Te(),Rhe=Tr(),Phe=Ar(),Ihe=gn();function Lhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ihe.popResultSelector(e);return Che.operate(function(n,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),f=!1,u=function(c){khe.innerFrom(e[c]).subscribe(U8.createOperatorSubscriber(i,function(d){a[c]=d,!f&&!s[c]&&(s[c]=!0,(f=s.every(Rhe.identity))&&(s=null))},Phe.noop))},l=0;l<o;l++)u(l);n.subscribe(U8.createOperatorSubscriber(i,function(c){if(f){var d=z8([c],B8(a));i.next(r?r.apply(void 0,z8([],B8(d))):d)}}))})}Za.withLatestFrom=Lhe});var W8=b(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.zipAll=void 0;var jhe=U0(),qhe=LS();function Fhe(e){return qhe.joinAllInternals(jhe.zip,e)}yv.zipAll=Fhe});var $8=b(Ka=>{"use strict";var Nhe=Ka&&Ka.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Dhe=Ka&&Ka.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.zip=void 0;var Bhe=U0(),zhe=ee();function Uhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zhe.operate(function(r,n){Bhe.zip.apply(void 0,Dhe([r],Nhe(e))).subscribe(n)})}Ka.zip=Uhe});var V8=b(Xa=>{"use strict";var Hhe=Xa&&Xa.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Whe=Xa&&Xa.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.zipWith=void 0;var $he=$8();function Vhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $he.zip.apply(void 0,Whe([],Hhe(e)))}Xa.zipWith=Vhe});var Q8=b(S=>{"use strict";var Ghe=S&&S.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Yhe=S&&S.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ghe(t,e,r)};Object.defineProperty(S,"__esModule",{value:!0});S.interval=S.iif=S.generate=S.fromEventPattern=S.fromEvent=S.from=S.forkJoin=S.empty=S.defer=S.connectable=S.concat=S.combineLatest=S.bindNodeCallback=S.bindCallback=S.UnsubscriptionError=S.TimeoutError=S.SequenceError=S.ObjectUnsubscribedError=S.NotFoundError=S.EmptyError=S.ArgumentOutOfRangeError=S.firstValueFrom=S.lastValueFrom=S.isObservable=S.identity=S.noop=S.pipe=S.NotificationKind=S.Notification=S.Subscriber=S.Subscription=S.Scheduler=S.VirtualAction=S.VirtualTimeScheduler=S.animationFrameScheduler=S.animationFrame=S.queueScheduler=S.queue=S.asyncScheduler=S.async=S.asapScheduler=S.asap=S.AsyncSubject=S.ReplaySubject=S.BehaviorSubject=S.Subject=S.animationFrames=S.observable=S.ConnectableObservable=S.Observable=void 0;S.filter=S.expand=S.exhaustMap=S.exhaustAll=S.exhaust=S.every=S.endWith=S.elementAt=S.distinctUntilKeyChanged=S.distinctUntilChanged=S.distinct=S.dematerialize=S.delayWhen=S.delay=S.defaultIfEmpty=S.debounceTime=S.debounce=S.count=S.connect=S.concatWith=S.concatMapTo=S.concatMap=S.concatAll=S.combineLatestWith=S.combineLatestAll=S.combineAll=S.catchError=S.bufferWhen=S.bufferToggle=S.bufferTime=S.bufferCount=S.buffer=S.auditTime=S.audit=S.config=S.NEVER=S.EMPTY=S.scheduled=S.zip=S.using=S.timer=S.throwError=S.range=S.race=S.partition=S.pairs=S.onErrorResumeNext=S.of=S.never=S.merge=void 0;S.switchMap=S.switchAll=S.subscribeOn=S.startWith=S.skipWhile=S.skipUntil=S.skipLast=S.skip=S.single=S.shareReplay=S.share=S.sequenceEqual=S.scan=S.sampleTime=S.sample=S.refCount=S.retryWhen=S.retry=S.repeatWhen=S.repeat=S.reduce=S.raceWith=S.publishReplay=S.publishLast=S.publishBehavior=S.publish=S.pluck=S.pairwise=S.onErrorResumeNextWith=S.observeOn=S.multicast=S.min=S.mergeWith=S.mergeScan=S.mergeMapTo=S.mergeMap=S.flatMap=S.mergeAll=S.max=S.materialize=S.mapTo=S.map=S.last=S.isEmpty=S.ignoreElements=S.groupBy=S.first=S.findIndex=S.find=S.finalize=void 0;S.zipWith=S.zipAll=S.withLatestFrom=S.windowWhen=S.windowToggle=S.windowTime=S.windowCount=S.window=S.toArray=S.timestamp=S.timeoutWith=S.timeout=S.timeInterval=S.throwIfEmpty=S.throttleTime=S.throttle=S.tap=S.takeWhile=S.takeUntil=S.takeLast=S.take=S.switchScan=S.switchMapTo=void 0;var Zhe=Qe();Object.defineProperty(S,"Observable",{enumerable:!0,get:function(){return Zhe.Observable}});var Khe=od();Object.defineProperty(S,"ConnectableObservable",{enumerable:!0,get:function(){return Khe.ConnectableObservable}});var Xhe=nd();Object.defineProperty(S,"observable",{enumerable:!0,get:function(){return Xhe.observable}});var Jhe=XI();Object.defineProperty(S,"animationFrames",{enumerable:!0,get:function(){return Jhe.animationFrames}});var Qhe=Or();Object.defineProperty(S,"Subject",{enumerable:!0,get:function(){return Qhe.Subject}});var eme=eS();Object.defineProperty(S,"BehaviorSubject",{enumerable:!0,get:function(){return eme.BehaviorSubject}});var tme=Cm();Object.defineProperty(S,"ReplaySubject",{enumerable:!0,get:function(){return tme.ReplaySubject}});var rme=km();Object.defineProperty(S,"AsyncSubject",{enumerable:!0,get:function(){return rme.AsyncSubject}});var G8=hL();Object.defineProperty(S,"asap",{enumerable:!0,get:function(){return G8.asap}});Object.defineProperty(S,"asapScheduler",{enumerable:!0,get:function(){return G8.asapScheduler}});var Y8=mn();Object.defineProperty(S,"async",{enumerable:!0,get:function(){return Y8.async}});Object.defineProperty(S,"asyncScheduler",{enumerable:!0,get:function(){return Y8.asyncScheduler}});var Z8=vL();Object.defineProperty(S,"queue",{enumerable:!0,get:function(){return Z8.queue}});Object.defineProperty(S,"queueScheduler",{enumerable:!0,get:function(){return Z8.queueScheduler}});var K8=wL();Object.defineProperty(S,"animationFrame",{enumerable:!0,get:function(){return K8.animationFrame}});Object.defineProperty(S,"animationFrameScheduler",{enumerable:!0,get:function(){return K8.animationFrameScheduler}});var X8=EL();Object.defineProperty(S,"VirtualTimeScheduler",{enumerable:!0,get:function(){return X8.VirtualTimeScheduler}});Object.defineProperty(S,"VirtualAction",{enumerable:!0,get:function(){return X8.VirtualAction}});var nme=rS();Object.defineProperty(S,"Scheduler",{enumerable:!0,get:function(){return nme.Scheduler}});var ime=Mn();Object.defineProperty(S,"Subscription",{enumerable:!0,get:function(){return ime.Subscription}});var ome=al();Object.defineProperty(S,"Subscriber",{enumerable:!0,get:function(){return ome.Subscriber}});var J8=r0();Object.defineProperty(S,"Notification",{enumerable:!0,get:function(){return J8.Notification}});Object.defineProperty(S,"NotificationKind",{enumerable:!0,get:function(){return J8.NotificationKind}});var ame=id();Object.defineProperty(S,"pipe",{enumerable:!0,get:function(){return ame.pipe}});var sme=Ar();Object.defineProperty(S,"noop",{enumerable:!0,get:function(){return sme.noop}});var ume=Tr();Object.defineProperty(S,"identity",{enumerable:!0,get:function(){return ume.identity}});var lme=zL();Object.defineProperty(S,"isObservable",{enumerable:!0,get:function(){return lme.isObservable}});var cme=UL();Object.defineProperty(S,"lastValueFrom",{enumerable:!0,get:function(){return cme.lastValueFrom}});var fme=HL();Object.defineProperty(S,"firstValueFrom",{enumerable:!0,get:function(){return fme.firstValueFrom}});var dme=vS();Object.defineProperty(S,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return dme.ArgumentOutOfRangeError}});var pme=Ia();Object.defineProperty(S,"EmptyError",{enumerable:!0,get:function(){return pme.EmptyError}});var hme=_S();Object.defineProperty(S,"NotFoundError",{enumerable:!0,get:function(){return hme.NotFoundError}});var mme=Kx();Object.defineProperty(S,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return mme.ObjectUnsubscribedError}});var gme=bS();Object.defineProperty(S,"SequenceError",{enumerable:!0,get:function(){return gme.SequenceError}});var vme=d0();Object.defineProperty(S,"TimeoutError",{enumerable:!0,get:function(){return vme.TimeoutError}});var _me=Fx();Object.defineProperty(S,"UnsubscriptionError",{enumerable:!0,get:function(){return _me.UnsubscriptionError}});var bme=$L();Object.defineProperty(S,"bindCallback",{enumerable:!0,get:function(){return bme.bindCallback}});var yme=VL();Object.defineProperty(S,"bindNodeCallback",{enumerable:!0,get:function(){return yme.bindNodeCallback}});var wme=_0();Object.defineProperty(S,"combineLatest",{enumerable:!0,get:function(){return wme.combineLatest}});var xme=dd();Object.defineProperty(S,"concat",{enumerable:!0,get:function(){return xme.concat}});var Sme=ej();Object.defineProperty(S,"connectable",{enumerable:!0,get:function(){return Sme.connectable}});var Eme=pd();Object.defineProperty(S,"defer",{enumerable:!0,get:function(){return Eme.defer}});var Ame=_i();Object.defineProperty(S,"empty",{enumerable:!0,get:function(){return Ame.empty}});var Tme=tj();Object.defineProperty(S,"forkJoin",{enumerable:!0,get:function(){return Tme.forkJoin}});var Ome=Ho();Object.defineProperty(S,"from",{enumerable:!0,get:function(){return Ome.from}});var Mme=nj();Object.defineProperty(S,"fromEvent",{enumerable:!0,get:function(){return Mme.fromEvent}});var Cme=oj();Object.defineProperty(S,"fromEventPattern",{enumerable:!0,get:function(){return Cme.fromEventPattern}});var kme=sj();Object.defineProperty(S,"generate",{enumerable:!0,get:function(){return kme.generate}});var Rme=uj();Object.defineProperty(S,"iif",{enumerable:!0,get:function(){return Rme.iif}});var Pme=AS();Object.defineProperty(S,"interval",{enumerable:!0,get:function(){return Pme.interval}});var Ime=cj();Object.defineProperty(S,"merge",{enumerable:!0,get:function(){return Ime.merge}});var Lme=TS();Object.defineProperty(S,"never",{enumerable:!0,get:function(){return Lme.never}});var jme=e0();Object.defineProperty(S,"of",{enumerable:!0,get:function(){return jme.of}});var qme=OS();Object.defineProperty(S,"onErrorResumeNext",{enumerable:!0,get:function(){return qme.onErrorResumeNext}});var Fme=dj();Object.defineProperty(S,"pairs",{enumerable:!0,get:function(){return Fme.pairs}});var Nme=gj();Object.defineProperty(S,"partition",{enumerable:!0,get:function(){return Nme.partition}});var Dme=MS();Object.defineProperty(S,"race",{enumerable:!0,get:function(){return Dme.race}});var Bme=bj();Object.defineProperty(S,"range",{enumerable:!0,get:function(){return Bme.range}});var zme=gS();Object.defineProperty(S,"throwError",{enumerable:!0,get:function(){return zme.throwError}});var Ume=Na();Object.defineProperty(S,"timer",{enumerable:!0,get:function(){return Ume.timer}});var Hme=yj();Object.defineProperty(S,"using",{enumerable:!0,get:function(){return Hme.using}});var Wme=U0();Object.defineProperty(S,"zip",{enumerable:!0,get:function(){return Wme.zip}});var $me=mS();Object.defineProperty(S,"scheduled",{enumerable:!0,get:function(){return $me.scheduled}});var Vme=_i();Object.defineProperty(S,"EMPTY",{enumerable:!0,get:function(){return Vme.EMPTY}});var Gme=TS();Object.defineProperty(S,"NEVER",{enumerable:!0,get:function(){return Gme.NEVER}});Yhe(xj(),S);var Yme=il();Object.defineProperty(S,"config",{enumerable:!0,get:function(){return Yme.config}});var Zme=CS();Object.defineProperty(S,"audit",{enumerable:!0,get:function(){return Zme.audit}});var Kme=Ej();Object.defineProperty(S,"auditTime",{enumerable:!0,get:function(){return Kme.auditTime}});var Xme=Tj();Object.defineProperty(S,"buffer",{enumerable:!0,get:function(){return Xme.buffer}});var Jme=Oj();Object.defineProperty(S,"bufferCount",{enumerable:!0,get:function(){return Jme.bufferCount}});var Qme=Cj();Object.defineProperty(S,"bufferTime",{enumerable:!0,get:function(){return Qme.bufferTime}});var e0e=Pj();Object.defineProperty(S,"bufferToggle",{enumerable:!0,get:function(){return e0e.bufferToggle}});var t0e=Lj();Object.defineProperty(S,"bufferWhen",{enumerable:!0,get:function(){return t0e.bufferWhen}});var r0e=qj();Object.defineProperty(S,"catchError",{enumerable:!0,get:function(){return r0e.catchError}});var n0e=Fj();Object.defineProperty(S,"combineAll",{enumerable:!0,get:function(){return n0e.combineAll}});var i0e=jS();Object.defineProperty(S,"combineLatestAll",{enumerable:!0,get:function(){return i0e.combineLatestAll}});var o0e=Uj();Object.defineProperty(S,"combineLatestWith",{enumerable:!0,get:function(){return o0e.combineLatestWith}});var a0e=E0();Object.defineProperty(S,"concatAll",{enumerable:!0,get:function(){return a0e.concatAll}});var s0e=qS();Object.defineProperty(S,"concatMap",{enumerable:!0,get:function(){return s0e.concatMap}});var u0e=$j();Object.defineProperty(S,"concatMapTo",{enumerable:!0,get:function(){return u0e.concatMapTo}});var l0e=Gj();Object.defineProperty(S,"concatWith",{enumerable:!0,get:function(){return l0e.concatWith}});var c0e=ig();Object.defineProperty(S,"connect",{enumerable:!0,get:function(){return c0e.connect}});var f0e=Zj();Object.defineProperty(S,"count",{enumerable:!0,get:function(){return f0e.count}});var d0e=Xj();Object.defineProperty(S,"debounce",{enumerable:!0,get:function(){return d0e.debounce}});var p0e=Jj();Object.defineProperty(S,"debounceTime",{enumerable:!0,get:function(){return p0e.debounceTime}});var h0e=hd();Object.defineProperty(S,"defaultIfEmpty",{enumerable:!0,get:function(){return h0e.defaultIfEmpty}});var m0e=tq();Object.defineProperty(S,"delay",{enumerable:!0,get:function(){return m0e.delay}});var g0e=DS();Object.defineProperty(S,"delayWhen",{enumerable:!0,get:function(){return g0e.delayWhen}});var v0e=rq();Object.defineProperty(S,"dematerialize",{enumerable:!0,get:function(){return v0e.dematerialize}});var _0e=iq();Object.defineProperty(S,"distinct",{enumerable:!0,get:function(){return _0e.distinct}});var b0e=BS();Object.defineProperty(S,"distinctUntilChanged",{enumerable:!0,get:function(){return b0e.distinctUntilChanged}});var y0e=oq();Object.defineProperty(S,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return y0e.distinctUntilKeyChanged}});var w0e=sq();Object.defineProperty(S,"elementAt",{enumerable:!0,get:function(){return w0e.elementAt}});var x0e=uq();Object.defineProperty(S,"endWith",{enumerable:!0,get:function(){return x0e.endWith}});var S0e=lq();Object.defineProperty(S,"every",{enumerable:!0,get:function(){return S0e.every}});var E0e=pq();Object.defineProperty(S,"exhaust",{enumerable:!0,get:function(){return E0e.exhaust}});var A0e=US();Object.defineProperty(S,"exhaustAll",{enumerable:!0,get:function(){return A0e.exhaustAll}});var T0e=zS();Object.defineProperty(S,"exhaustMap",{enumerable:!0,get:function(){return T0e.exhaustMap}});var O0e=hq();Object.defineProperty(S,"expand",{enumerable:!0,get:function(){return O0e.expand}});var M0e=Zs();Object.defineProperty(S,"filter",{enumerable:!0,get:function(){return M0e.filter}});var C0e=mq();Object.defineProperty(S,"finalize",{enumerable:!0,get:function(){return C0e.finalize}});var k0e=HS();Object.defineProperty(S,"find",{enumerable:!0,get:function(){return k0e.find}});var R0e=vq();Object.defineProperty(S,"findIndex",{enumerable:!0,get:function(){return R0e.findIndex}});var P0e=_q();Object.defineProperty(S,"first",{enumerable:!0,get:function(){return P0e.first}});var I0e=yq();Object.defineProperty(S,"groupBy",{enumerable:!0,get:function(){return I0e.groupBy}});var L0e=FS();Object.defineProperty(S,"ignoreElements",{enumerable:!0,get:function(){return L0e.ignoreElements}});var j0e=wq();Object.defineProperty(S,"isEmpty",{enumerable:!0,get:function(){return j0e.isEmpty}});var q0e=xq();Object.defineProperty(S,"last",{enumerable:!0,get:function(){return q0e.last}});var F0e=La();Object.defineProperty(S,"map",{enumerable:!0,get:function(){return F0e.map}});var N0e=NS();Object.defineProperty(S,"mapTo",{enumerable:!0,get:function(){return N0e.mapTo}});var D0e=Sq();Object.defineProperty(S,"materialize",{enumerable:!0,get:function(){return D0e.materialize}});var B0e=Eq();Object.defineProperty(S,"max",{enumerable:!0,get:function(){return B0e.max}});var z0e=fd();Object.defineProperty(S,"mergeAll",{enumerable:!0,get:function(){return z0e.mergeAll}});var U0e=Aq();Object.defineProperty(S,"flatMap",{enumerable:!0,get:function(){return U0e.flatMap}});var H0e=$o();Object.defineProperty(S,"mergeMap",{enumerable:!0,get:function(){return H0e.mergeMap}});var W0e=Oq();Object.defineProperty(S,"mergeMapTo",{enumerable:!0,get:function(){return W0e.mergeMapTo}});var $0e=Mq();Object.defineProperty(S,"mergeScan",{enumerable:!0,get:function(){return $0e.mergeScan}});var V0e=Rq();Object.defineProperty(S,"mergeWith",{enumerable:!0,get:function(){return V0e.mergeWith}});var G0e=Pq();Object.defineProperty(S,"min",{enumerable:!0,get:function(){return G0e.min}});var Y0e=Ng();Object.defineProperty(S,"multicast",{enumerable:!0,get:function(){return Y0e.multicast}});var Z0e=ld();Object.defineProperty(S,"observeOn",{enumerable:!0,get:function(){return Z0e.observeOn}});var K0e=jq();Object.defineProperty(S,"onErrorResumeNextWith",{enumerable:!0,get:function(){return K0e.onErrorResumeNextWith}});var X0e=qq();Object.defineProperty(S,"pairwise",{enumerable:!0,get:function(){return X0e.pairwise}});var J0e=Fq();Object.defineProperty(S,"pluck",{enumerable:!0,get:function(){return J0e.pluck}});var Q0e=Nq();Object.defineProperty(S,"publish",{enumerable:!0,get:function(){return Q0e.publish}});var ege=Dq();Object.defineProperty(S,"publishBehavior",{enumerable:!0,get:function(){return ege.publishBehavior}});var tge=Bq();Object.defineProperty(S,"publishLast",{enumerable:!0,get:function(){return tge.publishLast}});var rge=Uq();Object.defineProperty(S,"publishReplay",{enumerable:!0,get:function(){return rge.publishReplay}});var nge=Hq();Object.defineProperty(S,"raceWith",{enumerable:!0,get:function(){return nge.raceWith}});var ige=ql();Object.defineProperty(S,"reduce",{enumerable:!0,get:function(){return ige.reduce}});var oge=$q();Object.defineProperty(S,"repeat",{enumerable:!0,get:function(){return oge.repeat}});var age=Gq();Object.defineProperty(S,"repeatWhen",{enumerable:!0,get:function(){return age.repeatWhen}});var sge=Zq();Object.defineProperty(S,"retry",{enumerable:!0,get:function(){return sge.retry}});var uge=Xq();Object.defineProperty(S,"retryWhen",{enumerable:!0,get:function(){return uge.retryWhen}});var lge=Yx();Object.defineProperty(S,"refCount",{enumerable:!0,get:function(){return lge.refCount}});var cge=VS();Object.defineProperty(S,"sample",{enumerable:!0,get:function(){return cge.sample}});var fge=Qq();Object.defineProperty(S,"sampleTime",{enumerable:!0,get:function(){return fge.sampleTime}});var dge=e8();Object.defineProperty(S,"scan",{enumerable:!0,get:function(){return dge.scan}});var pge=r8();Object.defineProperty(S,"sequenceEqual",{enumerable:!0,get:function(){return pge.sequenceEqual}});var hge=YS();Object.defineProperty(S,"share",{enumerable:!0,get:function(){return hge.share}});var mge=o8();Object.defineProperty(S,"shareReplay",{enumerable:!0,get:function(){return mge.shareReplay}});var gge=a8();Object.defineProperty(S,"single",{enumerable:!0,get:function(){return gge.single}});var vge=s8();Object.defineProperty(S,"skip",{enumerable:!0,get:function(){return vge.skip}});var _ge=u8();Object.defineProperty(S,"skipLast",{enumerable:!0,get:function(){return _ge.skipLast}});var bge=c8();Object.defineProperty(S,"skipUntil",{enumerable:!0,get:function(){return bge.skipUntil}});var yge=f8();Object.defineProperty(S,"skipWhile",{enumerable:!0,get:function(){return yge.skipWhile}});var wge=p8();Object.defineProperty(S,"startWith",{enumerable:!0,get:function(){return wge.startWith}});var xge=cd();Object.defineProperty(S,"subscribeOn",{enumerable:!0,get:function(){return xge.subscribeOn}});var Sge=m8();Object.defineProperty(S,"switchAll",{enumerable:!0,get:function(){return Sge.switchAll}});var Ege=vd();Object.defineProperty(S,"switchMap",{enumerable:!0,get:function(){return Ege.switchMap}});var Age=v8();Object.defineProperty(S,"switchMapTo",{enumerable:!0,get:function(){return Age.switchMapTo}});var Tge=_8();Object.defineProperty(S,"switchScan",{enumerable:!0,get:function(){return Tge.switchScan}});var Oge=md();Object.defineProperty(S,"take",{enumerable:!0,get:function(){return Oge.take}});var Mge=WS();Object.defineProperty(S,"takeLast",{enumerable:!0,get:function(){return Mge.takeLast}});var Cge=b8();Object.defineProperty(S,"takeUntil",{enumerable:!0,get:function(){return Cge.takeUntil}});var kge=y8();Object.defineProperty(S,"takeWhile",{enumerable:!0,get:function(){return kge.takeWhile}});var Rge=w8();Object.defineProperty(S,"tap",{enumerable:!0,get:function(){return Rge.tap}});var Pge=ZS();Object.defineProperty(S,"throttle",{enumerable:!0,get:function(){return Pge.throttle}});var Ige=S8();Object.defineProperty(S,"throttleTime",{enumerable:!0,get:function(){return Ige.throttleTime}});var Lge=gd();Object.defineProperty(S,"throwIfEmpty",{enumerable:!0,get:function(){return Lge.throwIfEmpty}});var jge=A8();Object.defineProperty(S,"timeInterval",{enumerable:!0,get:function(){return jge.timeInterval}});var qge=d0();Object.defineProperty(S,"timeout",{enumerable:!0,get:function(){return qge.timeout}});var Fge=T8();Object.defineProperty(S,"timeoutWith",{enumerable:!0,get:function(){return Fge.timeoutWith}});var Nge=O8();Object.defineProperty(S,"timestamp",{enumerable:!0,get:function(){return Nge.timestamp}});var Dge=IS();Object.defineProperty(S,"toArray",{enumerable:!0,get:function(){return Dge.toArray}});var Bge=k8();Object.defineProperty(S,"window",{enumerable:!0,get:function(){return Bge.window}});var zge=P8();Object.defineProperty(S,"windowCount",{enumerable:!0,get:function(){return zge.windowCount}});var Uge=L8();Object.defineProperty(S,"windowTime",{enumerable:!0,get:function(){return Uge.windowTime}});var Hge=F8();Object.defineProperty(S,"windowToggle",{enumerable:!0,get:function(){return Hge.windowToggle}});var Wge=D8();Object.defineProperty(S,"windowWhen",{enumerable:!0,get:function(){return Wge.windowWhen}});var $ge=H8();Object.defineProperty(S,"withLatestFrom",{enumerable:!0,get:function(){return $ge.withLatestFrom}});var Vge=W8();Object.defineProperty(S,"zipAll",{enumerable:!0,get:function(){return Vge.zipAll}});var Gge=V8();Object.defineProperty(S,"zipWith",{enumerable:!0,get:function(){return Gge.zipWith}})});var JS=b(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.checkAbortSignal=t6;Ks.abortBreakPoint=Zge;Ks.makeAbortError=r6;Ks.observeAbortSignal=Kge;Ks.isAbortException=Xge;var e6=Q8(),XS=class extends Error{};function t6(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw r6()}}function Yge(e){return new Promise(t=>setTimeout(t,e))}async function Zge(e){await Yge(1),t6(e)}function r6(){if(typeof DOMException<"u")return new DOMException("aborted","AbortError");let e=new XS("aborted");return e.code="ERR_ABORTED",e}function Kge(e){return e?(0,e6.fromEvent)(e,"abort"):new e6.Observable}function Xge(e){return e instanceof Error&&(e.name==="AbortError"||e.code==="ERR_ABORTED"||!!/\b(aborted|aborterror)\b/i.test(e.message))}});var n6=b(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.makeAbortableReaction=eve;var Jge=io(),_d=Jt(),Qge=JS(),QS=ox();function eve(e,t,r,n,i,o,a){let s;function f(u){(0,Qge.isAbortException)(u)||(console.error(u),(0,_d.isAlive)(e)&&a(u))}(0,_d.addDisposer)(e,(0,Jge.reaction)(()=>{try{return t(e)}catch(u){f(u);return}},async(u,l)=>{if(s&&(0,QS.stopStopToken)(s),!!(0,_d.isAlive)(e)){s=(0,QS.createStopToken)(),i(s);try{let c=await r(u,s,e,l);(0,_d.isAlive)(e)&&o(c)}catch(c){f(c)}}},n)),(0,_d.addDisposer)(e,()=>{s&&(0,QS.stopStopToken)(s)})}});var pn=b(D=>{"use strict";var tve=D&&D.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Js=D&&D.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tve(t,e,r)},i6=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});D.makeAbortableReaction=D.blobToDataURL=D.isFeature=D.SimpleFeature=D.defaultCodonTable=D.defaultStops=D.defaultStarts=D.rIC=D.complementTable=D.isElectron=void 0;D.useDebounce=ave;D.useWidthSetter=sve;D.useDebouncedCallback=uve;D.findParentThat=a6;D.springAnimate=lve;D.findParentThatIs=yd;D.getSession=cve;D.getContainingView=s6;D.getContainingTrack=fve;D.getContainingDisplay=dve;D.assembleLocString=pve;D.assembleLocStringFast=u6;D.parseLocStringOneBased=l6;D.parseLocString=tE;D.compareLocs=c6;D.compareLocStrings=hve;D.clamp=mve;D.bpToPx=rE;D.radToDeg=bve;D.degToRad=yve;D.polarToCartesian=wve;D.cartesianToPolar=xve;D.featureSpanPx=Sve;D.bpSpanPx=f6;D.iterMap=Eve;D.findLastIndex=Ave;D.findLast=Tve;D.renameRegionIfNeeded=d6;D.renameRegionsIfNeeded=Ove;D.minmax=Mve;D.shorten=p6;D.shorten2=Cve;D.stringify=kve;D.revcom=Rve;D.reverse=Pve;D.complement=Ive;D.measureText=h6;D.getFrame=jve;D.generateCodonTable=qve;D.updateStatus=nE;D.updateStatus2=Fve;D.hashCode=m6;D.objectHash=Nve;D.bytesForRegions=Dve;D.isSupportedIndexingAdapter=Bve;D.getBpDisplayStr=zve;D.getProgressDisplayStr=Uve;D.toLocale=Ul;D.getTickDisplayStr=Hve;D.getViewParams=Wve;D.getLayoutId=$ve;D.useLocalStorage=Vve;D.getUriLink=g6;D.getStr=v6;D.coarseStripHTML=_6;D.linkify=Gve;D.measureGridWidth=Yve;D.getEnv=Zve;D.localStorageGetItem=oE;D.localStorageSetItem=b6;D.max=y6;D.min=Kve;D.sum=w6;D.avg=Xve;D.groupBy=Jve;D.notEmpty=Qve;D.mergeIntervals=x6;D.gatherOverlaps=e_e;D.stripAlpha=t_e;D.getStrokeProps=r_e;D.getFillProps=n_e;D.renderToStaticMarkup=i_e;D.isGzip=S6;D.fetchAndMaybeUnzip=E6;D.fetchAndMaybeUnzipText=o_e;D.isObject=A6;D.localStorageGetNumber=a_e;D.localStorageGetBoolean=s_e;D.localStorageSetBoolean=u_e;D.forEachWithStopTokenCheck=l_e;D.testAdapter=c_e;var Xs=U(),rve=IP(),nve=i6(Jh()),bi=Jt(),ive=Qh(),ove=qP(),iE=t5(),o6=ox(),bd=Jf();Js(Jf(),D);Js(cI(),D);Js(fI(),D);Js(dI(),D);Js(lm(),D);Js(EI(),D);function ave(e,t){let[r,n]=(0,Xs.useState)(e);return(0,Xs.useEffect)(()=>{let i=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(i)}},[e,t]),r}function sve(e,t){let[r,{width:n}]=(0,nve.default)();return(0,Xs.useEffect)(()=>{let i;return n&&(0,bi.isAlive)(e)&&(i=requestAnimationFrame(()=>{e.setWidth(n)})),()=>{i&&cancelAnimationFrame(i)}},[t,e,n]),r}function uve(e,t=400){let r=(0,Xs.useRef)(null),n=(0,Xs.useRef)(null);return(0,Xs.useEffect)(()=>{n.current&&clearTimeout(n.current)},[]),function(...o){r.current=o,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current&&e(...r.current)},t)}}function a6(e,t){if(!(0,bi.hasParent)(e))throw new Error("node does not have parent");let r=(0,bi.getParent)(e);for(;r&&(0,bi.isAlive)(r);){if(t(r))return r;if((0,bi.hasParent)(r))r=(0,bi.getParent)(r);else break}throw new Error("no matching node found")}function lve(e,t,r,n=()=>{},i=0,o=400,a=20,s=!0){i||(i=Math.abs(t-e)/1e3);let u;function l(c){let d=Date.now(),p=c.lastPosition,h=c.lastTime||d,m=c.lastVelocity||0;d>h+64&&(h=d);let v=Math.floor(d-h);for(let x=0;x<v;++x){let A=-o*(p-t),E=-a*m,O=(A+E)/1;m+=O*1/1e3,p+=m*1/1e3}let g=Math.abs(m)<=i,_=o!==0?Math.abs(t-p)<=i:!0;(s&&o!==0?e<t?p>t:p<t:!1)||g&&_?(r(t),n()):(r(p),u=requestAnimationFrame(()=>{l({lastPosition:p,lastTime:d,lastVelocity:m})}))}return[()=>{l({lastPosition:e})},()=>{cancelAnimationFrame(u)}]}function yd(e,t){return a6(e,t)}function cve(e){try{return yd(e,bd.isSessionModel)}catch{throw new Error("no session model found!")}}function s6(e){try{return yd(e,bd.isViewModel)}catch{throw new Error("no containing view found")}}function fve(e){try{return yd(e,bd.isTrackModel)}catch{throw new Error("no containing track found")}}function dve(e){try{return yd(e,bd.isDisplayModel)}catch{throw new Error("no containing display found")}}function pve(e){return u6(e,Ul)}function u6(e,t=r=>r){let{assemblyName:r,refName:n,start:i,end:o,reversed:a}=e,s=r?`{${r}}`:"",f;i!==void 0?f=`:${t(i+1)}`:o!==void 0?f=":1":f="";let u;o!==void 0?u=i!==void 0&&i+1===o?"":`..${t(o)}`:u=i!==void 0?"..":"";let l="";return a&&(l="[rev]"),`${s}${n}${f}${u}${l}`}function l6(e,t){if(!e)throw new Error("no location string provided, could not parse");let r=!1;e.endsWith("[rev]")&&(r=!0,e=e.replace(/\[rev]$/,"")),e=e.replace(/\s/,"");let n=/({(.+)})?(.+)/.exec(e);if(!n)throw new Error(`invalid location string: "${e}"`);let[,,i,o]=n,a=i,s=o;if(!a&&s.startsWith("{}"))throw new Error(`no assembly name was provided in location "${s}"`);let f=s.lastIndexOf(":");if(f===-1){if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`Unknown reference sequence "${s}"`)}let u=s.slice(0,f),l=s.slice(f+1);if(t(u,a)&&t(s,a))throw new Error(`ambiguous location string: "${e}"`);if(t(u,a))if(l){let c=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/.exec(l),d=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/.exec(l);if(c){let[,p,,,,h]=c;if(p!==void 0&&h!==void 0)return{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+h.replaceAll(",",""),reversed:r}}else if(d){let[,p,,,h]=d;if(p!==void 0)return h?{assemblyName:a,refName:u,start:+p.replaceAll(",",""),reversed:r}:{assemblyName:a,refName:u,start:+p.replaceAll(",",""),end:+p.replaceAll(",",""),reversed:r}}else throw new Error(`could not parse range "${l}" on location "${e}"`)}else return{assemblyName:a,refName:u,reversed:r};else if(t(s,a))return{assemblyName:a,refName:s,reversed:r};throw new Error(`unknown reference sequence name in location "${e}"`)}function tE(e,t){let r=l6(e,t);return typeof r.start=="number"&&(r.start-=1),r}function c6(e,t){let r=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(r)return r;let n=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(n)return n;if(e.start!==void 0&&t.start!==void 0){let i=e.start-t.start;if(i)return i}if(e.end!==void 0&&t.end!==void 0){let i=e.end-t.end;if(i)return i}return 0}function hve(e,t,r){let n=tE(e,r),i=tE(t,r);return c6(n,i)}function mve(e,t,r){return e<t?t:e>r?r:e}function gve(e){return Math.round(e*10)/10}function rE(e,{reversed:t,end:r=0,start:n=0},i){return gve((t?r-e:e-n)/i)}var vve=180/Math.PI,_ve=Math.PI/180;function bve(e){return e*vve%360}function yve(e){return e*_ve%(2*Math.PI)}function wve(e,t){return[e*Math.cos(t),e*Math.sin(t)]}function xve(e,t){let r=Math.sqrt(e*e+t*t),n=Math.atan(t/e);return[r,n]}function Sve(e,t,r){return f6(e.get("start"),e.get("end"),t,r)}function f6(e,t,r,n){let i=rE(e,r,n),o=rE(t,r,n);return r.reversed?[o,i]:[i,o]}function Eve(e,t,r){let n=Array.from({length:r||0}),i=0;for(let o of e)n[i]=t(o),i+=1;return n}function Ave(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return r;return-1}function Tve(e,t){let r=e.length;for(;r--;)if(t(e[r],r,e))return e[r]}function d6(e,t){if((0,bi.isStateTreeNode)(t)&&!(0,bi.isAlive)(t))return t;if(e?.[t.refName]){t=(0,bi.isStateTreeNode)(t)?{...(0,bi.getSnapshot)(t)}:{...t};let r=e[t.refName];if(r)return{...t,refName:r,originalRefName:t.refName}}return t}async function Ove(e,t){let{regions:r=[],adapterConfig:n}=t;if(!t.sessionId)throw new Error("sessionId is required");let i=r.map(a=>a.assemblyName),o=Object.fromEntries(await Promise.all([...new Set(i)].map(async a=>[a,await e.getRefNameMapForAdapter(n,a,t)])));return{...t,regions:r.map((a,s)=>d6(o[i[s]],a))}}function Mve(e,t){return[Math.min(e,t),Math.max(e,t)]}function p6(e,t=70,r=30){return e.length>t?`${e.slice(0,r)}...${e.slice(-r)}`:e}function Cve(e,t=70){return e.length>t?`${e.slice(0,t)}...`:e}function kve({refName:e,coord:t,assemblyName:r,oob:n},i){return[r&&i?`{${r}}`:"",e?`${p6(e)}:${Ul(t)}${n?" (out of bounds)":""}`:""].join("")}D.isElectron=/electron/i.test(typeof navigator<"u"?navigator.userAgent:"");D.complementTable={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"};function Rve(e){var t;let r="";for(let n=e.length-1;n>=0;n--)r+=(t=D.complementTable[e[n]])!==null&&t!==void 0?t:e[n];return r}function Pve(e){let t="";for(let r=e.length-1;r>=0;r--)t+=e[r];return t}function Ive(e){var t;let r="";for(let n of e)r+=(t=D.complementTable[n])!==null&&t!==void 0?t:n;return r}D.rIC=typeof jest>"u"?typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout(()=>{e()},1):e=>{e()};var Lve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];function h6(e,t=10){var r;let n=.5279276315789471,i=String(e),o=0;for(let a=0;a<i.length;a++){let s=i.charCodeAt(a);o+=(r=Lve[s])!==null&&r!==void 0?r:n}return o*t}function jve(e,t,r,n){return r===1?(e+n)%3+1:-1*((t-n)%3)-1}D.defaultStarts=["ATG"];D.defaultStops=["TAA","TAG","TGA"];D.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"};function qve(e){let t={};for(let r of Object.keys(e)){let n=e[r],i=[];for(let o=0;o<3;o++){let a=r.charAt(o);i[o]=[],i[o][0]=a.toUpperCase(),i[o][1]=a.toLowerCase()}for(let o=0;o<2;o++){let a=i[0][o];for(let s=0;s<2;s++){let f=i[1][s];for(let u=0;u<2;u++){let l=i[2][u],c=a+f+l;t[c]=n}}}}return t}async function nE(e,t,r){t(e);let n=await r();return t(""),n}async function Fve(e,t,r,n){t(e);let i=await n();return(0,o6.checkStopToken)(r),t(""),i}function m6(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}function Nve(e){return`${m6(JSON.stringify(e))}`}async function Dve(e,t){return(await Promise.all(e.map(n=>t.blocksForRange(n.refName,n.start,n.end)))).flat().map(n=>({start:n.minv.blockPosition,end:n.maxv.blockPosition+65535})).reduce((n,i)=>n+i.end-i.start,0)}function Bve(e=""){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(e)}function zve(e){return Math.floor(e/1e6)>0?`${Ja(e/1e6)}Mbp`:Math.floor(e/1e3)>0?`${Ja(e/1e3)}Kbp`:`${Math.floor(e)}bp`}function Ja(e){return Ul(Number.parseFloat(e.toPrecision(3)))}function Uve(e,t){return Math.floor(t/1e6)>0?`${Ja(e/1e6)}/${Ja(t/1e6)}Mb`:Math.floor(t/1e3)>0?`${Ja(e/1e3)}/${Ja(t/1e3)}Kb`:`${Ja(e)}/${Ja(t)}}bytes`}function Ul(e){return e.toLocaleString("en-US")}function Hve(e,t){return Math.floor(t/1e3)>0?`${Ul(Number.parseFloat((e/1e6).toFixed(2)))}M`:Ul(Math.floor(e))}function Wve(e,t){let{dynamicBlocks:r,staticBlocks:n,offsetPx:i}=s6(e),o=r?.contentBlocks[0]||{},a=n?.contentBlocks[0]||{},s=n?.contentBlocks[1]||{};return{offsetPx:t?0:i-a.offsetPx,offsetPx1:t?0:i-s.offsetPx,start:o.start,end:o.end}}function $ve({sessionId:e,layoutId:t}){return`${e}-${t}`}function Vve(e,t){let[r,n]=(0,Xs.useState)(()=>{if(typeof window>"u")return t;try{let o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return console.error(o),t}});return[r,o=>{try{let a=o instanceof Function?o(r):o;n(a),typeof window<"u"&&window.localStorage.setItem(e,JSON.stringify(a))}catch(a){console.error(a)}}]}function g6(e){let{uri:t,baseUri:r=""}=e,n;try{n=new URL(t,r).href}catch{n=t}return n}function v6(e){return A6(e)?(0,bd.isUriLocation)(e)?g6(e):JSON.stringify(e):String(e)}function _6(e){return e.replaceAll(/(<([^>]+)>)/gi,"")}function Gve(e){let t=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[-A-Z0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\u0026@#/%=~()_|])/gi;return e.replaceAll(t,`$1<a href='$2' target="_blank">$2</a>`)}function Yve(e,t){let{padding:r=30,minWidth:n=80,fontSize:i=12,maxWidth:o=1e3,stripHTML:a=!1}=t||{};return y6(e.map(s=>v6(s)).map(s=>a?_6(s):s).map(s=>h6(s,i)).map(s=>Math.min(Math.max(s+r,n),o)))}function Zve(e){return(0,bi.getEnv)(e)}function oE(e){return typeof localStorage<"u"?localStorage.getItem(e):void 0}function b6(e,t){typeof localStorage<"u"&&localStorage.setItem(e,t)}function y6(e,t=Number.NEGATIVE_INFINITY){let r=t;for(let n of e)r=Math.max(n,r);return r}function Kve(e,t=Number.POSITIVE_INFINITY){let r=t;for(let n of e)r=Math.min(n,r);return r}function w6(e){let t=0;for(let r of e)t+=r;return t}function Xve(e){return w6(e)/e.length}function Jve(e,t){let r={};for(let n of e){let i=t(n);r[i]||(r[i]=[]),r[i].push(n)}return r}function Qve(e){return e!=null}function x6(e,t=5e3){if(e.length<=1)return e;let r=[],n=null;e=e.sort((i,o)=>i.start-o.start),r.push(e[0]);for(let i=1;i<e.length;i++)n=r.at(-1),n.end+t<e[i].start-t?r.push(e[i]):n.end<e[i].end&&(n.end=Math.max(n.end,e[i].end),r.pop(),r.push(n));return r}function e_e(e,t=5e3){let r={};for(let n of e)r[n.refName]||(r[n.refName]=[]),r[n.refName].push(n);return Object.values(r).flatMap(n=>x6(n.sort((i,o)=>i.start-o.start),t))}function t_e(e){return(0,iE.colord)(e).alpha(1).toHex()}function r_e(e){if(e){let t=(0,iE.colord)(e);return{strokeOpacity:t.alpha(),stroke:t.alpha(1).toHex()}}else return{}}function n_e(e){if(e){let t=(0,iE.colord)(e);return{fillOpacity:t.alpha(),fill:t.alpha(1).toHex()}}else return{}}function i_e(e){let t=document.createElement("div");return(0,ive.flushSync)(()=>{(0,ove.createRoot)(t).render(e)}),t.innerHTML.replaceAll(/\brgba\((.+?),[^,]+?\)/g,"rgb($1)")}function S6(e){return e[0]===31&&e[1]===139&&e[2]===8}async function E6(e,t={}){let{statusCallback:r=()=>{}}=t,n=await nE("Downloading file",r,()=>e.readFile(t));return S6(n)?await nE("Unzipping",r,()=>(0,rve.unzip)(n)):n}async function o_e(e,t){let r=await E6(e,t);if(r.length>536870888)throw new Error("Data exceeds maximum string length (512MB)");return new TextDecoder("utf8",{fatal:!0}).decode(r)}function A6(e){return typeof e=="object"&&e!==null}function a_e(e,t){var r;return+((r=oE(e))!==null&&r!==void 0?r:t)}function s_e(e,t){return!!JSON.parse(oE(e)||JSON.stringify(t))}function u_e(e,t){b6(e,JSON.stringify(t))}function l_e(e,t,r,n=400){let i=performance.now(),o=0;for(let a of e)performance.now()-i>n&&((0,o6.checkStopToken)(t),i=performance.now()),r(a,o++)}function c_e(e,t,r,n){return t.test(e)&&!r||r===n}var T6=TI();Object.defineProperty(D,"SimpleFeature",{enumerable:!0,get:function(){return i6(T6).default}});Object.defineProperty(D,"isFeature",{enumerable:!0,get:function(){return T6.isFeature}});var f_e=Lx();Object.defineProperty(D,"blobToDataURL",{enumerable:!0,get:function(){return f_e.blobToDataURL}});var d_e=n6();Object.defineProperty(D,"makeAbortableReaction",{enumerable:!0,get:function(){return d_e.makeAbortableReaction}});Js(JS(),D)});var M6=b(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.default=p_e;var O6=pn();function p_e(e,t="",r=5e3){let n=[e];for(;n.length;){let i=n.pop();for(let[o,a]of Object.entries(i)){if(t.length>r)return(0,O6.hashCode)(t);typeof a=="object"&&a!==null?n.push(a):t+=`${o}-${a}`}}return`adp-${(0,O6.hashCode)(t)}`}});var C6=b(wd=>{"use strict";var h_e=wd&&wd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wd,"__esModule",{value:!0});wd.adapterConfigCacheKey=g_e;var m_e=h_e(M6());function g_e(e={}){return`${(0,m_e.default)(e)}`}});var R6=b(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.getAdapter=k6;xd.freeAdapterResources=b_e;xd.clearAdapterCache=y_e;var v_e=C6(),Qs={};async function __e(e,t,r){let n=r?.type;if(!n)throw new Error(`could not determine adapter type from adapter config snapshot ${JSON.stringify(r)}`);let i=e.getAdapterType(n);if(!i)throw new Error(`unknown data adapter type ${n}`);let o=i.configSchema.create(r,{pluginManager:e}),a=k6.bind(null,e,t),s=await i.getAdapterClass();return{dataAdapter:new s(o,a,e),sessionIds:new Set([t])}}async function k6(e,t,r){var n;let i=(0,v_e.adapterConfigCacheKey)(r);(n=Qs[i])!==null&&n!==void 0||(Qs[i]=__e(e,t,r));let o=await Qs[i];return o.sessionIds.add(t),o}async function b_e(e){let t=Object.keys(e);if(t.length===1&&t[0]==="sessionId"){let{sessionId:r}=e;for(let[n,i]of Object.entries(Qs)){let o=await i;o.sessionIds.delete(r),o.sessionIds.size===0&&delete Qs[n]}}else for(let r of Object.values(Qs)){let n=await r,i=e.regions||(e.region?[e.region]:[]);for(let o of i)o.refName!==void 0&&n.dataAdapter.freeResources(o)}}function y_e(){Qs={}}});var U6=b((x6e,z6)=>{z6.exports=JBrowseExports["@jbrowse/core/pluggableElementTypes/ViewType"]});var H6=b(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.genomeToTranscriptSeqMapping=A_e;function A_e(e){var t,r;let n=e.strand,i=e.refName,o=(r=(t=e.subfeatures)===null||t===void 0?void 0:t.filter(c=>c.type==="CDS"))!==null&&r!==void 0?r:[],a=new Map;for(let c of o){let d=`${c.start}-${c.end}`;a.has(d)||a.set(d,c)}let s=Array.from(a.values()).sort((c,d)=>n*(c.start-d.start)),f={},u={},l=0;if(n!==-1)for(let c of s)for(let d=c.start;d<c.end;d++){let p=Math.floor(l++/3);f[d]=p,u[p]||(u[p]=d)}else for(let c of s)for(let d=c.end;d>=c.start;d--){let p=Math.floor(l++/3);f[d]=p,u[p]||(u[p]=d)}return{g2p:f,p2g:u,refName:i,strand:n}}});var pE=b(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.ErrorBoundary=void 0;var T_e=ae(),O_e=U(),dE=class extends O_e.Component{constructor(t){super(t),this.state={error:void 0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t})}render(){return this.state.error?(0,T_e.jsx)(this.props.FallbackComponent,{error:this.state.error}):this.props.children}};xv.ErrorBoundary=dE});var Nr,hE,W6,$6,V6=L(()=>{Nr=T(U()),hE=T(Se()),W6=(0,hE.observer)(function({model:e}){let{resizeHandleWidth:t}=e,[r,n]=(0,Nr.useState)(!1),i=(0,Nr.useRef)(!1),o=(0,Nr.useRef)(0);return(0,Nr.useEffect)(()=>{function a(f){f.preventDefault();let u=f.clientX;if(o.current===0)o.current=f.clientX;else{let l=u-o.current;l&&(i.current||(i.current=!0,window.requestAnimationFrame(()=>{e.setTreeAreaWidth(e.treeAreaWidth+l),i.current=!1,o.current=f.clientX})))}}function s(){o.current=0,r&&n(!1)}return r?(document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",s,!0),()=>{document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",s,!0)}):()=>{}},[r,e]),Nr.default.createElement("div",null,Nr.default.createElement("div",{onMouseDown:()=>{n(!0)},style:{cursor:"ew-resize",height:"100%",width:t,background:"rgba(200,200,200)",position:"relative"}}))}),$6=(0,hE.observer)(function({model:e}){let{resizeHandleWidth:t}=e,[r,n]=(0,Nr.useState)(!1),i=(0,Nr.useRef)(!1),o=(0,Nr.useRef)(0);return(0,Nr.useEffect)(()=>{function a(f){f.preventDefault();let u=f.clientY;if(o.current===0)o.current=f.clientY;else{let l=u-o.current;l&&(i.current||(i.current=!0,window.requestAnimationFrame(()=>{e.setHeight(e.height+l),i.current=!1,o.current=f.clientY})))}}function s(){o.current=0,r&&n(!1)}return r?(document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",s,!0),()=>{document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",s,!0)}):()=>{}},[r,e]),Nr.default.createElement("div",null,Nr.default.createElement("div",{onMouseDown:()=>{n(!0)},style:{cursor:"ns-resize",width:"100%",height:t,background:"rgba(200,200,200)",position:"relative"}}))})});var ho,G6,Y6,M_e,Z6,K6=L(()=>{ho=T(U()),G6=T(vt()),Y6=T(Se()),M_e=(0,Y6.observer)(({model:e})=>{let{msaAreaHeight:t,scrollY:r,totalHeight:n}=e,[i,o]=(0,ho.useState)(!1),a=(0,ho.useRef)(!1),[s,f]=(0,ho.useState)(),u="rgba(66, 119, 127, 0.3)",l=t/n,c=-r,d=c+t,p=c*l,h=d*l;return(0,ho.useEffect)(()=>{function m(g){s!==void 0&&(a.current||(a.current=!0,window.requestAnimationFrame(()=>{e.setScrollY((0,G6.clamp)(s.scrollY-(g.clientY-s.clientY)/l,-n,0)),a.current=!1})))}function v(){f(void 0)}if(s!==void 0)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mousemove",v)}},[e,l,n,s]),ho.default.createElement("div",{style:{position:"relative",width:20,height:t,borderLeft:"1px solid #555",borderTop:"1px solid #555",boxSizing:"border-box"}},ho.default.createElement("div",{style:{position:"absolute",top:Math.max(0,p),left:0,background:i?"rgba(66,119,127,0.6)":u,cursor:"pointer",boxSizing:"border-box",width:20,height:Math.max(h-p,20),zIndex:100},onMouseOver:()=>{o(!0)},onMouseOut:()=>{o(!1)},onMouseDown:m=>{f({clientY:m.clientY,scrollY:e.scrollY})}}))}),Z6=M_e});var X6,J6,Q6=L(()=>{"use client";Pt();X6=T(ae(),1),J6=(0,Oe.createSvgIcon)((0,X6.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help")});var e3,t3,r3,n3,C_e,k_e,i3,o3=L(()=>{e3=T(U()),t3=T(pe()),r3=T(Se()),n3=T(De()),C_e=(0,n3.makeStyles)()({margin:{margin:"auto",marginLeft:10}}),k_e=(0,r3.observer)(function({model:e}){let{mouseOverRowName:t,mouseCol:r}=e,{classes:n}=C_e();return t&&r!==void 0?e3.default.createElement(t3.Typography,{className:n.margin},t,":",e.mouseOverCoordToGapRemovedRowCoordOneBased(t,r)," ","(",e.mouseOverCoordToRowLetter(t,r),")"):null}),i3=k_e});var Cn=b(mE=>{"use strict";"use client";Object.defineProperty(mE,"__esModule",{value:!0});Object.defineProperty(mE,"default",{enumerable:!0,get:function(){return R_e.createSvgIcon}});var R_e=Ly()});var a3=b(Sv=>{"use strict";"use client";var P_e=Lt().default;Object.defineProperty(Sv,"__esModule",{value:!0});Sv.default=void 0;var I_e=P_e(Cn()),L_e=ae(),R6e=Sv.default=(0,I_e.default)((0,L_e.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")});var s3=b(Go=>{"use strict";var j_e=Go&&Go.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),q_e=Go&&Go.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),F_e=Go&&Go.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),i=0;i<n.length;i++)n[i]!=="default"&&j_e(r,t,n[i]);return q_e(r,t),r}})();Object.defineProperty(Go,"__esModule",{value:!0});var N_e=ae(),D_e=F_e(U()),B_e=pe(),z_e=D_e.forwardRef(function(t,r){return(0,N_e.jsx)(B_e.Menu,{...t,ref:r,style:{pointerEvents:"none",...t.style},slotProps:{...t.slotProps,paper:{style:{pointerEvents:"auto"}}}})});Go.default=z_e});var u3=b(Ev=>{"use strict";"use client";var U_e=Lt().default;Object.defineProperty(Ev,"__esModule",{value:!0});Ev.default=void 0;var H_e=U_e(Cn()),W_e=ae(),L6e=Ev.default=(0,H_e.default)((0,W_e.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight")});var l3=b(Av=>{"use strict";"use client";var $_e=Lt().default;Object.defineProperty(Av,"__esModule",{value:!0});Av.default=void 0;var V_e=$_e(Cn()),G_e=ae(),q6e=Av.default=(0,V_e.default)((0,G_e.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox")});var c3=b(Tv=>{"use strict";"use client";var Y_e=Lt().default;Object.defineProperty(Tv,"__esModule",{value:!0});Tv.default=void 0;var Z_e=Y_e(Cn()),K_e=ae(),N6e=Tv.default=(0,Z_e.default)((0,K_e.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank")});var f3=b(Ov=>{"use strict";"use client";var X_e=Lt().default;Object.defineProperty(Ov,"__esModule",{value:!0});Ov.default=void 0;var J_e=X_e(Cn()),Q_e=ae(),B6e=Ov.default=(0,J_e.default)((0,Q_e.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked")});var d3=b(Mv=>{"use strict";"use client";var ebe=Lt().default;Object.defineProperty(Mv,"__esModule",{value:!0});Mv.default=void 0;var tbe=ebe(Cn()),rbe=ae(),U6e=Mv.default=(0,tbe.default)((0,rbe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked")});var Cv=b($l=>{"use strict";var Sd=$l&&$l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0});$l.MenuItemEndDecoration=gE;var Ot=ae(),mo=U(),nbe=Sd(u3()),ibe=Sd(l3()),obe=Sd(c3()),abe=Sd(f3()),sbe=Sd(d3()),Yo=pe(),ube=De(),lbe=pn(),p3=(0,ube.makeStyles)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function gE(e){let{classes:t}=p3(),{type:r}=e,n,i;"checked"in e&&({checked:n,disabled:i}=e);let o;switch(r){case"subMenu":{o=(0,Ot.jsx)(nbe.default,{color:"action"});break}case"checkbox":{if(n){let a=i?"inherit":void 0;o=(0,Ot.jsx)(ibe.default,{color:a})}else o=(0,Ot.jsx)(obe.default,{color:"action"});break}case"radio":{if(n){let a=i?"inherit":void 0;o=(0,Ot.jsx)(abe.default,{color:a})}else o=(0,Ot.jsx)(sbe.default,{color:"action"});break}}return(0,Ot.jsx)("div",{className:t.menuItemEndDecoration,children:o})}function h3(e){return e.type!=="divider"&&e.type!=="subHeader"&&!e.disabled}function cbe(e,t){let r=e.slice(t+1).findIndex(h3);return r===-1?r:t+1+r}function fbe(e,t){return(0,lbe.findLastIndex)(e.slice(0,t),h3)}var m3=(0,mo.forwardRef)(function(t,r){let[n,i]=(0,mo.useState)(),[o,a]=(0,mo.useState)(),[s,f]=(0,mo.useState)(!1),[u,l]=(0,mo.useState)(),[c,d]=(0,mo.useState)(),p=(0,mo.useRef)(null),{classes:h}=p3(),{menuItems:m,onMenuItemClick:v,open:g,onClose:_,anchorEl:w,top:y=!1}=t;(0,mo.useEffect)(()=>{g||(i(void 0),a(void 0))},[g]),(0,mo.useEffect)(()=>{let M=g&&!!n,C;return M&&!s?C=setTimeout(()=>{f(!0)},300):!M&&s&&(C=setTimeout(()=>{f(!1)},300)),()=>{clearTimeout(C)}},[s,g,n]),(0,mo.useEffect)(()=>{if(w){let M=w.getBoundingClientRect();c?(M.top!==c.top||M.left+M.width!==c.left)&&d({top:M.top,left:M.left+M.width}):d({top:M.top,left:M.left+M.width})}else c||d({})},[c,w]);let x=m.some(M=>"icon"in M&&M.icon),A={};function E(M){return C=>{v(C,M)}}let O=(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsx)(Yo.MenuList,{autoFocusItem:g&&!s,dense:!0,children:m.sort((M,C)=>(C.priority||0)-(M.priority||0)).map((M,C)=>{if(M.type==="divider")return(0,Ot.jsx)(Yo.Divider,{component:"li"},`divider-${JSON.stringify(M)}-${C}`);if(M.type==="subHeader")return(0,Ot.jsx)(Yo.ListSubheader,{children:M.label},`subHeader-${M.label}-${C}`);let k=null,q=null;if(M.icon){let R=M.icon;k=(0,Ot.jsx)(Yo.ListItemIcon,{children:(0,Ot.jsx)(R,{})})}"subMenu"in M?q=(0,Ot.jsx)(gE,{type:"subMenu"}):(M.type==="checkbox"||M.type==="radio")&&(q=(0,Ot.jsx)(gE,{type:M.type,checked:M.checked,disabled:M.disabled}));let N="onClick"in M?E(M.onClick):void 0;return(0,Ot.jsxs)(Yo.MenuItem,{style:A,selected:C===u,onClick:N,onMouseMove:R=>{R.currentTarget!==document.activeElement&&(R.currentTarget.focus(),l(C)),"subMenu"in M?o!==C&&(i(R.currentTarget),a(C)):(i(void 0),a(void 0))},onKeyDown:R=>{switch(R.key){case"ArrowLeft":case"Escape":{_?.(R,"escapeKeyDown");break}case"ArrowUp":{l(fbe(m,C));break}case"ArrowDown":{let F=cbe(m,C);l(F);break}default:"subMenu"in M&&(R.key==="ArrowRight"||R.key==="Enter")&&(i(R.currentTarget),a(C),f(!0))}},disabled:!!M.disabled,children:[k,(0,Ot.jsx)(Yo.ListItemText,{primary:M.label,secondary:M.subLabel,inset:x&&!M.icon}),q]},M.id||String(M.label))})}),m.map((M,C)=>{let k=null;return"subMenu"in M&&(k=(0,Ot.jsx)(m3,{anchorEl:n,open:s&&o===C,onClose:()=>{f(!1),i(void 0)},onMenuItemClick:v,menuItems:M.subMenu},M.id||String(M.label))),k})]});return y?O:(0,Ot.jsx)(Yo.Grow,{in:g,style:{transformOrigin:"0 0 0"},ref:r,children:(0,Ot.jsx)(Yo.Paper,{elevation:8,ref:p,className:h.paper,style:{...c},children:O})})});function dbe(e){let{open:t,onClose:r,menuItems:n,onMenuItemClick:i,...o}=e;return(0,Ot.jsx)(Yo.Popover,{open:t,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"right",...o.anchorOrigin},transformOrigin:{vertical:"top",horizontal:"left",...o.transformOrigin},...o,children:(0,Ot.jsx)(m3,{open:t,onClose:r,menuItems:n,onMenuItemClick:i,top:!0})})}$l.default=dbe});var vE=b(Dr=>{"use strict";var pbe=Dr&&Dr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),hbe=Dr&&Dr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),mbe=Dr&&Dr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),i=0;i<n.length;i++)n[i]!=="default"&&pbe(r,t,n[i]);return hbe(r,t),r}})();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.usePopupState=vbe;Dr.bindTrigger=_be;Dr.bindToggle=bbe;Dr.bindHover=ybe;Dr.bindFocus=wbe;Dr.bindPopover=xbe;Dr.bindMenu=Sbe;Dr.bindPopper=Ebe;var Qa=U(),gbe=mbe(U());function vbe(e){let{parentPopupState:t}=e||{},r=gbe.useId(),[n,i]=(0,Qa.useState)(!1),[o,a]=(0,Qa.useState)(!1),[s,f]=(0,Qa.useState)(),[u,l]=(0,Qa.useState)(!1),[c,d]=(0,Qa.useState)(!1),[p,h]=(0,Qa.useState)(),[m,v]=(0,Qa.useState)(),g=(0,Qa.useCallback)(A=>{a(!0),f(A)},[]),_=A=>{n?y(A):w(A)},w=A=>{let E=A instanceof Element?void 0:A,O=A instanceof Element?A:A?.currentTarget instanceof Element?A.currentTarget:void 0;if(E?.type!=="touchstart"){if(t){if(!t.isOpen)return;t.childHandle&&t.childHandle.close(),t.setChildHandle({popupId:r,close:y})}i(!0),l(M=>E?.type==="mouseover"||M),d(M=>E?.type==="focus"||M),h(E?.type),o||(E?.currentTarget?f(E.currentTarget):O&&f(O))}},y=A=>{let E=A instanceof Element?void 0:A;E?.type!=="touchstart"&&(m?.close(),t?.setChildHandle(void 0),i(!1),l(!1),d(!1))};return{isOpen:n,anchorEl:s,setAnchorElUsed:o,setAnchorEl:g,popupId:r,open:w,close:y,toggle:_,setOpen:(A,E)=>{A?w(E):y(E)},hovered:u,focused:c,_openEventType:p,childHandle:m,setChildHandle:v}}function _be(e){return{onClick:e.open}}function bbe(e){return{onClick:e.toggle}}function ybe(e){let{open:t}=e;return{onMouseOver:t}}function wbe(e){let{open:t}=e;return{onFocus:t}}function xbe({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function Sbe({isOpen:e,anchorEl:t,close:r,popupId:n}){return{id:n,anchorEl:t,anchorReference:"anchorEl",open:e,onClose:r}}function Ebe({isOpen:e,anchorEl:t,popupId:r}){return{id:r,anchorEl:t,open:e}}});var _E=b(Ad=>{"use strict";var v3=Ad&&Ad.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});var Ge=ae(),ru=U(),Abe=v3(a3()),Zo=pe(),Tbe=v3(s3()),g3=Cv(),Ed=vE(),Vl=(0,ru.createContext)({parentPopupState:void 0,rootPopupState:void 0});function Obe({onClick:e,closeAfterItemClick:t,...r}){let{rootPopupState:n,parentPopupState:i}=(0,ru.useContext)(Vl);if(!n)throw new Error("must be used inside a CascadingMenu");return(0,Ge.jsx)(Zo.MenuItem,{...r,onClick:o=>{t&&n.close(),e?.(o)},onMouseOver:()=>{i?.childHandle&&(i.childHandle.close(),i.setChildHandle(void 0))}})}function Mbe({title:e,Icon:t,inset:r,...n}){let{parentPopupState:i}=(0,ru.useContext)(Vl),o=(0,Ed.usePopupState)({parentPopupState:i}),{onMouseOver:a,...s}=(0,Ed.bindHover)(o);return(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsxs)(Zo.MenuItem,{...(0,Ed.bindFocus)(o),...s,onMouseOver:f=>{i?.childHandle&&(i.childHandle.close(),i.setChildHandle(void 0)),a(f)},children:[t?(0,Ge.jsx)(Zo.ListItemIcon,{children:(0,Ge.jsx)(t,{})}):null,(0,Ge.jsx)(Zo.ListItemText,{primary:e,inset:r}),(0,Ge.jsx)(Abe.default,{})]}),(0,Ge.jsx)(Cbe,{...n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:o})]})}function Cbe({popupState:e,onMenuItemClick:t,menuItems:r,classes:n,...i}){let{rootPopupState:o}=(0,ru.useContext)(Vl),a=(0,ru.useMemo)(()=>({rootPopupState:o||e,parentPopupState:e}),[o,e]);return(0,Ge.jsx)(Vl.Provider,{value:a,children:(0,Ge.jsx)(Tbe.default,{...i,...(0,Ed.bindMenu)(e)})})}function kbe({popupState:e,onMenuItemClick:t,menuItems:r,...n}){let{rootPopupState:i}=(0,ru.useContext)(Vl),o=(0,ru.useMemo)(()=>({rootPopupState:i||e,parentPopupState:e}),[i,e]);return(0,Ge.jsx)(Vl.Provider,{value:o,children:(0,Ge.jsx)(Zo.Menu,{...n,...(0,Ed.bindMenu)(e)})})}function Rbe({item:e}){return"subMenu"in e?(0,Ge.jsx)(g3.MenuItemEndDecoration,{type:"subMenu"}):e.type==="checkbox"||e.type==="radio"?(0,Ge.jsx)(g3.MenuItemEndDecoration,{type:e.type,checked:e.checked,disabled:e.disabled}):null}function _3({onMenuItemClick:e,closeAfterItemClick:t,menuItems:r,...n}){let i=r.some(o=>"icon"in o&&o.icon);return(0,Ge.jsx)(Ge.Fragment,{children:r.toSorted((o,a)=>(a.priority||0)-(o.priority||0)).map((o,a)=>"subMenu"in o?(0,Ge.jsx)(Mbe,{title:o.label,Icon:o.icon,inset:i&&!o.icon,onMenuItemClick:e,menuItems:o.subMenu,children:(0,Ge.jsx)(_3,{...n,closeAfterItemClick:t,onMenuItemClick:e,menuItems:o.subMenu})},`subMenu-${o.label}-${a}`):o.type==="divider"?(0,Ge.jsx)(Zo.Divider,{component:"li"},`divider-${JSON.stringify(o)}-${a}`):o.type==="subHeader"?(0,Ge.jsx)(Zo.ListSubheader,{children:o.label},`subHeader-${o.label}-${a}`):(0,Ge.jsxs)(Obe,{closeAfterItemClick:t,onClick:"onClick"in o?s=>{e(s,o.onClick)}:void 0,disabled:!!o.disabled,children:[o.icon?(0,Ge.jsx)(Zo.ListItemIcon,{children:(0,Ge.jsx)(o.icon,{})}):null," ",(0,Ge.jsx)(Zo.ListItemText,{primary:o.label,secondary:o.subLabel,inset:i&&!o.icon}),(0,Ge.jsx)(Pbe,{}),(0,Ge.jsx)(Rbe,{item:o})]},`${o.label}-${a}`))})}function Pbe(){return(0,Ge.jsx)("div",{style:{flexGrow:1,minWidth:10}})}function Ibe(e){let{closeAfterItemClick:t=!0,...r}=e;return(0,Ge.jsx)(kbe,{...r,children:(0,Ge.jsx)(_3,{...r,closeAfterItemClick:t})})}Ad.default=Ibe});var Od=b(Td=>{"use strict";var Lbe=Td&&Td.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});var kv=ae(),jbe=U(),qbe=Lbe(_E()),Fbe=pe(),Nbe=Se(),bE=vE(),Dbe=(0,Nbe.observer)(function({children:t,menuItems:r,closeAfterItemClick:n=!0,stopPropagation:i,setOpen:o,onClick:a,...s}){let f=(0,bE.usePopupState)(),{onClick:u,...l}=(0,bE.bindTrigger)(f),{isOpen:c}=f;return(0,jbe.useEffect)(()=>{o?.(c)},[c,o]),(0,kv.jsxs)(kv.Fragment,{children:[(0,kv.jsx)(Fbe.IconButton,{onClick:d=>{i&&d.stopPropagation(),u(d),a?.()},...l,...s,disabled:r.length===0,children:t}),(0,kv.jsx)(qbe.default,{...(0,bE.bindPopover)(f),onMenuItemClick:(d,p)=>{p()},menuItems:r,closeAfterItemClick:n,popupState:f})]})});Td.default=Dbe});var b3,y3,w3=L(()=>{"use client";Pt();b3=T(ae(),1),y3=(0,Oe.createSvgIcon)((0,b3.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")});var x3,S3,E3=L(()=>{"use client";Pt();x3=T(ae(),1),S3=(0,Oe.createSvgIcon)((0,x3.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")});var A3,yE,T3=L(()=>{"use client";Pt();A3=T(ae(),1),yE=(0,Oe.createSvgIcon)((0,A3.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen")});var O3,M3,C3=L(()=>{"use client";Pt();O3=T(ae(),1),M3=(0,Oe.createSvgIcon)((0,O3.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List")});var k3,R3,P3=L(()=>{"use client";Pt();k3=T(ae(),1),R3=(0,Oe.createSvgIcon)((0,k3.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")});var wE,I3,L3=L(()=>{"use client";Pt();wE=T(ae(),1),I3=(0,Oe.createSvgIcon)([(0,wE.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,wE.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera")});var j3,q3,F3=L(()=>{"use client";Pt();j3=T(ae(),1),q3=(0,Oe.createSvgIcon)((0,j3.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")});var N3,D3,B3=L(()=>{"use client";Pt();N3=T(ae(),1),D3=(0,Oe.createSvgIcon)((0,N3.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort")});var z3,U3,H3=L(()=>{"use client";Pt();z3=T(ae(),1),U3=(0,Oe.createSvgIcon)((0,z3.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")});var W3=b(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.default=void 0;var Bbe={black:"#000",white:"#fff"},d3e=Rv.default=Bbe});var $3=b(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.default=void 0;var zbe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},h3e=Pv.default=zbe});var V3=b(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.default=void 0;var Ube={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g3e=Iv.default=Ube});var G3=b(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.default=void 0;var Hbe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_3e=Lv.default=Hbe});var Y3=b(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.default=void 0;var Wbe={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},y3e=jv.default=Wbe});var Z3=b(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.default=void 0;var $be={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},x3e=qv.default=$be});var K3=b(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.default=void 0;var Vbe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},E3e=Fv.default=Vbe});var X3=b(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.default=void 0;var Gbe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},T3e=Nv.default=Gbe});var J3=b(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.default=void 0;var Ybe={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},M3e=Dv.default=Ybe});var Q3=b(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.default=void 0;var Zbe={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},k3e=Bv.default=Zbe});var eF=b(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.default=void 0;var Kbe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},P3e=zv.default=Kbe});var tF=b(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.default=void 0;var Xbe={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},L3e=Uv.default=Xbe});var rF=b(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.default=void 0;var Jbe={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},q3e=Hv.default=Jbe});var nF=b(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.default=void 0;var Qbe={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},N3e=Wv.default=Qbe});var iF=b($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.default=void 0;var eye={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},B3e=$v.default=eye});var oF=b(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.default=void 0;var tye={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},U3e=Vv.default=tye});var aF=b(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.default=void 0;var rye={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},W3e=Gv.default=rye});var sF=b(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.default=void 0;var nye={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},V3e=Yv.default=nye});var uF=b(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.default=void 0;var iye={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Y3e=Zv.default=iye});var lF=b(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.default=void 0;var oye={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"},K3e=Kv.default=oye});var cF=b(Mt=>{"use strict";var Ht=Lt().default;Object.defineProperty(Mt,"__esModule",{value:!0});Object.defineProperty(Mt,"amber",{enumerable:!0,get:function(){return yye.default}});Object.defineProperty(Mt,"blue",{enumerable:!0,get:function(){return dye.default}});Object.defineProperty(Mt,"blueGrey",{enumerable:!0,get:function(){return Aye.default}});Object.defineProperty(Mt,"brown",{enumerable:!0,get:function(){return Sye.default}});Object.defineProperty(Mt,"common",{enumerable:!0,get:function(){return aye.default}});Object.defineProperty(Mt,"cyan",{enumerable:!0,get:function(){return hye.default}});Object.defineProperty(Mt,"deepOrange",{enumerable:!0,get:function(){return xye.default}});Object.defineProperty(Mt,"deepPurple",{enumerable:!0,get:function(){return cye.default}});Object.defineProperty(Mt,"green",{enumerable:!0,get:function(){return gye.default}});Object.defineProperty(Mt,"grey",{enumerable:!0,get:function(){return Eye.default}});Object.defineProperty(Mt,"indigo",{enumerable:!0,get:function(){return fye.default}});Object.defineProperty(Mt,"lightBlue",{enumerable:!0,get:function(){return pye.default}});Object.defineProperty(Mt,"lightGreen",{enumerable:!0,get:function(){return vye.default}});Object.defineProperty(Mt,"lime",{enumerable:!0,get:function(){return _ye.default}});Object.defineProperty(Mt,"orange",{enumerable:!0,get:function(){return wye.default}});Object.defineProperty(Mt,"pink",{enumerable:!0,get:function(){return uye.default}});Object.defineProperty(Mt,"purple",{enumerable:!0,get:function(){return lye.default}});Object.defineProperty(Mt,"red",{enumerable:!0,get:function(){return sye.default}});Object.defineProperty(Mt,"teal",{enumerable:!0,get:function(){return mye.default}});Object.defineProperty(Mt,"yellow",{enumerable:!0,get:function(){return bye.default}});var aye=Ht(W3()),sye=Ht($3()),uye=Ht(V3()),lye=Ht(G3()),cye=Ht(Y3()),fye=Ht(Z3()),dye=Ht(K3()),pye=Ht(X3()),hye=Ht(J3()),mye=Ht(Q3()),gye=Ht(eF()),vye=Ht(tF()),_ye=Ht(rF()),bye=Ht(nF()),yye=Ht(iF()),wye=Ht(oF()),xye=Ht(aF()),Sye=Ht(sF()),Eye=Ht(uF()),Aye=Ht(lF())});var hF=b((Q3e,pF)=>{"use strict";var Tye=function(t){return Oye(t)&&!Mye(t)};function Oye(e){return!!e&&typeof e=="object"}function Mye(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Rye(e)}var Cye=typeof Symbol=="function"&&Symbol.for,kye=Cye?Symbol.for("react.element"):60103;function Rye(e){return e.$$typeof===kye}function Pye(e){return Array.isArray(e)?[]:{}}function Md(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Gl(Pye(e),e,t):e}function Iye(e,t,r){return e.concat(t).map(function(n){return Md(n,r)})}function Lye(e,t){if(!t.customMerge)return Gl;var r=t.customMerge(e);return typeof r=="function"?r:Gl}function jye(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function fF(e){return Object.keys(e).concat(jye(e))}function dF(e,t){try{return t in e}catch{return!1}}function qye(e,t){return dF(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Fye(e,t,r){var n={};return r.isMergeableObject(e)&&fF(e).forEach(function(i){n[i]=Md(e[i],r)}),fF(t).forEach(function(i){qye(e,i)||(dF(e,i)&&r.isMergeableObject(t[i])?n[i]=Lye(i,r)(e[i],t[i],r):n[i]=Md(t[i],r))}),n}function Gl(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Iye,r.isMergeableObject=r.isMergeableObject||Tye,r.cloneUnlessOtherwiseSpecified=Md;var n=Array.isArray(t),i=Array.isArray(e),o=n===i;return o?n?r.arrayMerge(e,t,r):Fye(e,t,r):Md(t,r)}Gl.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return Gl(n,i,r)},{})};var Nye=Gl;pF.exports=Nye});var MF=b(Ko=>{"use strict";var Dye=Ko&&Ko.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.defaultThemes=void 0;Ko.createJBrowseBaseTheme=TF;Ko.createJBrowseTheme=Xye;var gF=pe(),go=cF(),Xv=Dye(hF()),ht=(0,gF.createTheme)(),Bye=ht.palette.augmentColor({color:{main:"#0D233F"}}),zye=ht.palette.augmentColor({color:{main:"#721E63"}}),Uye=ht.palette.augmentColor({color:{main:"#135560"}}),xE=ht.palette.augmentColor({color:{main:"#FFB11D"}}),mF=ht.palette.augmentColor({color:{main:"#aaa"}}),Hye={A:ht.palette.augmentColor({color:go.green}),C:ht.palette.augmentColor({color:go.blue}),G:ht.palette.augmentColor({color:go.orange}),T:ht.palette.augmentColor({color:go.red})},Wye=[null,ht.palette.augmentColor({color:{main:"#FF8080"}}),ht.palette.augmentColor({color:{main:"#80FF80"}}),ht.palette.augmentColor({color:{main:"#8080FF"}}),ht.palette.augmentColor({color:{main:"#8080FF"}}),ht.palette.augmentColor({color:{main:"#80FF80"}}),ht.palette.augmentColor({color:{main:"#FF8080"}})],$ye=[null,ht.palette.augmentColor({color:{main:"#8f8f8f"}}),ht.palette.augmentColor({color:{main:"#adadad"}}),ht.palette.augmentColor({color:{main:"#d8d8d8"}}),ht.palette.augmentColor({color:{main:"#d8d8d8"}}),ht.palette.augmentColor({color:{main:"#adadad"}}),ht.palette.augmentColor({color:{main:"#8f8f8f"}})],vF="#e22",_F="#3e3",bF="#800080",yF="#808080",wF="#f00",xF="#00f",SF="#97b8c9",Jv={primary:Bye,secondary:zye,tertiary:Uye,quaternary:xE,highlight:xE,stopCodon:vF,startCodon:_F,insertion:bF,deletion:yF,softclip:xF,hardclip:wF,bases:Hye,frames:$ye,framesCDS:Wye,skip:SF};function EF(){return{palette:{...Jv,mode:void 0},components:{MuiLink:{styleOverrides:{root:({theme:e})=>({color:e.palette.tertiary.main})}}}}}function Vye(){return{...EF(),name:"Default (from config)"}}function Gye(){return{...EF(),name:"Light (stock)"}}function Yye(){return{name:"Dark (stock)",palette:{...Jv,mode:"dark"},components:{MuiAppBar:{defaultProps:{enableColorOnDark:!0},styleOverrides:{root:({theme:e})=>e.palette.primary.main}}}}}function Zye(){return{name:"Dark (minimal)",palette:{...Jv,mode:"dark",primary:{main:go.grey[700]},secondary:{main:go.grey[800]},tertiary:ht.palette.augmentColor({color:{main:go.grey[900]}})}}}function Kye(){return{name:"Light (minimal)",palette:{...Jv,primary:{main:go.grey[900]},secondary:{main:go.grey[800]},tertiary:ht.palette.augmentColor({color:{main:go.grey[900]}})}}}Ko.defaultThemes={default:Vye(),lightStock:Gye(),lightMinimal:Kye(),darkMinimal:Zye(),darkStock:Yye()};function AF(e,t){return t}function TF(e){var t,r,n,i,o,a;let s={palette:e?.palette,typography:{fontSize:12},spacing:4,components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:12}}},MuiButton:{defaultProps:{size:"small"},styleOverrides:{root:({theme:f})=>f.palette.mode==="dark"?{color:f.palette.text.primary}:void 0}},MuiAccordion:{defaultProps:{disableGutters:!0,slotProps:{transition:{timeout:150,unmountOnExit:!0}}}},MuiFilledInput:{defaultProps:{margin:"dense"}},MuiFormControl:{defaultProps:{margin:"dense",size:"small"}},MuiFormHelperText:{defaultProps:{margin:"dense"}},MuiIconButton:{defaultProps:{size:"small"}},MuiInputBase:{defaultProps:{margin:"dense"}},MuiAutocomplete:{defaultProps:{size:"small"}},MuiInputLabel:{defaultProps:{margin:"dense"}},MuiToolbar:{defaultProps:{variant:"dense"}},MuiListItem:{defaultProps:{dense:!0}},MuiOutlinedInput:{defaultProps:{margin:"dense"}},MuiFab:{defaultProps:{size:"small"},styleOverrides:{secondary:{backgroundColor:(r=(t=e?.palette)===null||t===void 0?void 0:t.quaternary)===null||r===void 0?void 0:r.main}}},MuiTable:{defaultProps:{size:"small"}},MuiPopover:{defaultProps:{transitionDuration:0}},MuiMenu:{defaultProps:{transitionDuration:0}},MuiMenuItem:{defaultProps:{dense:!0}},MuiTextField:{defaultProps:{margin:"dense",variant:"standard"}},MuiLink:{styleOverrides:{root:({theme:f})=>({color:f.palette.text.secondary})}},MuiCheckbox:{styleOverrides:{root:({theme:f})=>f.palette.mode==="dark"?{color:f.palette.text.secondary,"&.Mui-checked":{color:f.palette.text.secondary}}:void 0}},MuiRadio:{styleOverrides:{root:({theme:f})=>f.palette.mode==="dark"?{color:f.palette.text.secondary,"&.Mui-checked":{color:f.palette.text.secondary}}:void 0}},MuiFormLabel:{styleOverrides:{root:({theme:f})=>f.palette.mode==="dark"?{color:f.palette.text.secondary,"&.Mui-focused":{color:f.palette.text.secondary}}:void 0}},MuiAccordionSummary:{styleOverrides:{root:{backgroundColor:(i=(n=e?.palette)===null||n===void 0?void 0:n.tertiary)===null||i===void 0?void 0:i.main},content:{color:(a=(o=e?.palette)===null||o===void 0?void 0:o.tertiary)===null||a===void 0?void 0:a.contrastText}}},MuiToggleButtonGroup:{defaultProps:{size:"small"}}}};return(0,Xv.default)(s,e||{},{arrayMerge:AF})}function Xye(e={},t=Ko.defaultThemes,r="default"){return(0,gF.createTheme)(TF(r==="default"?(0,Xv.default)(t.default,OF(e),{arrayMerge:AF}):Jye(t[r])))}function OF(e={}){var t;for(let r of["primary","secondary","tertiary","quaternary","highlight"])!((t=e.palette)===null||t===void 0)&&t[r]&&(e=(0,Xv.default)(e,{palette:{[r]:ht.palette.augmentColor("color"in e.palette[r]?e.palette[r]:{color:e.palette[r]})}}));return e}function Jye(e={}){let{palette:t}=e;return OF((0,Xv.default)(e,{palette:{quaternary:t?.quaternary||mF,tertiary:t?.tertiary||mF,highlight:t?.highlight||xE,insertion:t?.insertion||bF,softclip:t?.softclip||xF,skip:t?.skip||SF,hardclip:t?.hardclip||wF,deletion:t?.deletion||yF,startCodon:t?.startCodon||_F,stopCodon:t?.stopCodon||vF}}))}});var RF=b(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Logomark=Qye;Qv.LogoFull=e1e;var Wt=ae();function CF(e){return e==="black"?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:e==="white"?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function Qye({variant:e}){return(0,Wt.jsx)("svg",{viewBox:"0 0 175 175",children:(0,Wt.jsx)(kF,{variant:e})})}function e1e({variant:e}){return(0,Wt.jsxs)("svg",{viewBox:"0 0 641 175",children:[(0,Wt.jsx)(t1e,{variant:e}),(0,Wt.jsx)(kF,{variant:e})]})}function kF({variant:e}){let t=CF(e);return(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsx)("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),(0,Wt.jsx)("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),(0,Wt.jsx)("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),(0,Wt.jsx)("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),(0,Wt.jsx)("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"})]})}function t1e({variant:e}){let t=CF(e);return(0,Wt.jsxs)("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight},children:[(0,Wt.jsx)("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),(0,Wt.jsx)("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),(0,Wt.jsx)("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),(0,Wt.jsx)("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),(0,Wt.jsx)("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),(0,Wt.jsx)("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),(0,Wt.jsx)("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"})]})}});var jF=b(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});var PF=ae(),IF=U(),LF=pe(),r1e=Se(),n1e=De(),i1e=pn(),o1e=(0,n1e.makeStyles)()({importFormEntry:{minWidth:180}}),a1e=(0,r1e.observer)(function({session:e,onChange:t,label:r="Assembly",selected:n,InputProps:i,TextFieldProps:o,localStorageKey:a,helperText:s="Select assembly to view"}){let{classes:f}=o1e(),{assemblyNames:u,assemblyManager:l}=e,c=new URLSearchParams(window.location.search).get("config"),[d,p]=typeof jest>"u"&&a?(0,i1e.useLocalStorage)(`lastAssembly-${[window.location.host+window.location.pathname,c,a].join("-")}`,n):(0,IF.useState)(n),h=u.includes(d||"")?d:n;(0,IF.useEffect)(()=>{h&&h!==n&&t(h)},[h,t,n]);let m=u.length?"":"No configured assemblies";return(0,PF.jsx)(LF.TextField,{select:!0,"data-testid":"assembly-selector-textfield",label:r,variant:"outlined",helperText:m||s,value:h||"",onChange:v=>{p(v.target.value)},error:!!m,disabled:!!m,className:f.importFormEntry,...o,slotProps:{input:i,htmlInput:{"data-testid":"assembly-selector"}},children:u.map(v=>{var g;return(0,PF.jsx)(LF.MenuItem,{value:v,children:((g=l.get(v))===null||g===void 0?void 0:g.displayName)||v},v)})})});SE.default=a1e});var qF=b(e_=>{"use strict";"use client";var s1e=Lt().default;Object.defineProperty(e_,"__esModule",{value:!0});e_.default=void 0;var u1e=s1e(Cn()),l1e=ae(),nFe=e_.default=(0,u1e.default)((0,l1e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")});var FF=b(t_=>{"use strict";"use client";var c1e=Lt().default;Object.defineProperty(t_,"__esModule",{value:!0});t_.default=void 0;var f1e=c1e(Cn()),d1e=ae(),oFe=t_.default=(0,f1e.default)((0,d1e.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")});var NF=b(r_=>{"use strict";"use client";var p1e=Lt().default;Object.defineProperty(r_,"__esModule",{value:!0});r_.default=void 0;var h1e=p1e(Cn()),m1e=ae(),sFe=r_.default=(0,h1e.default)((0,m1e.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")});var DF=b(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});EE.default=b1e;var g1e=ae(),v1e=De(),_1e=(0,v1e.makeStyles)()(e=>({bg:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:e.palette.mode==="dark"?"#833":"#f88",border:`1px solid ${e.palette.divider}`}}));function b1e({children:e}){let{classes:t}=_1e();return(0,g1e.jsx)("div",{className:t.bg,children:e})}});var zF=b((cFe,BF)=>{BF.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(i){e.addRange(i)}),t&&t.focus()}}});var AE=b((fFe,HF)=>{"use strict";var y1e=zF(),UF={"text/plain":"Text","text/html":"Url",default:"Text"},w1e="Copy to clipboard: #{key}, Enter";function x1e(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function S1e(e,t){var r,n,i,o,a,s,f=!1;t||(t={}),r=t.debug||!1;try{i=y1e(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=UF[t.format]||UF.default;window.clipboardData.setData(c,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");f=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(c){r&&console.error("unable to copy using clipboardData: ",c),r&&console.error("falling back to prompt"),n=x1e("message"in t?t.message:w1e),window.prompt(n,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return f}HF.exports=S1e});var $F=b(TE=>{var WF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");TE.encode=function(e){if(0<=e&&e<WF.length)return WF[e];throw new TypeError("Must be between 0 and 63: "+e)};TE.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,s=43,f=47,u=26,l=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:o<=e&&e<=a?e-o+l:e==s?62:e==f?63:-1}});var CE=b(ME=>{var VF=$F(),OE=5,GF=1<<OE,YF=GF-1,ZF=GF;function E1e(e){return e<0?(-e<<1)+1:(e<<1)+0}function A1e(e){var t=(e&1)===1,r=e>>1;return t?-r:r}ME.encode=function(t){var r="",n,i=E1e(t);do n=i&YF,i>>>=OE,i>0&&(n|=ZF),r+=VF.encode(n);while(i>0);return r};ME.decode=function(t,r,n){var i=t.length,o=0,a=0,s,f;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(f=VF.decode(t.charCodeAt(r++)),f===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(f&ZF),f&=YF,o=o+(f<<a),a+=OE}while(s);n.value=A1e(o),n.rest=r}});var Zl=b(cr=>{function T1e(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}cr.getArg=T1e;var KF=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,O1e=/^data:.+\,.+$/;function Cd(e){var t=e.match(KF);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}cr.urlParse=Cd;function Yl(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}cr.urlGenerate=Yl;var M1e=32;function C1e(e){var t=[];return function(r){for(var n=0;n<t.length;n++)if(t[n].input===r){var i=t[0];return t[0]=t[n],t[n]=i,t[0].result}var o=e(r);return t.unshift({input:r,result:o}),t.length>M1e&&t.pop(),o}}var kE=C1e(function(t){var r=t,n=Cd(t);if(n){if(!n.path)return t;r=n.path}for(var i=cr.isAbsolute(r),o=[],a=0,s=0;;)if(a=s,s=r.indexOf("/",a),s===-1){o.push(r.slice(a));break}else for(o.push(r.slice(a,s));s<r.length&&r[s]==="/";)s++;for(var f,u=0,s=o.length-1;s>=0;s--)f=o[s],f==="."?o.splice(s,1):f===".."?u++:u>0&&(f===""?(o.splice(s+1,u),u=0):(o.splice(s,2),u--));return r=o.join("/"),r===""&&(r=i?"/":"."),n?(n.path=r,Yl(n)):r});cr.normalize=kE;function XF(e,t){e===""&&(e="."),t===""&&(t=".");var r=Cd(t),n=Cd(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Yl(r);if(r||t.match(O1e))return t;if(n&&!n.host&&!n.path)return n.host=t,Yl(n);var i=t.charAt(0)==="/"?t:kE(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,Yl(n)):i}cr.join=XF;cr.isAbsolute=function(e){return e.charAt(0)==="/"||KF.test(e)};function k1e(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}cr.relative=k1e;var JF=(function(){var e=Object.create(null);return!("__proto__"in e)})();function QF(e){return e}function R1e(e){return eN(e)?"$"+e:e}cr.toSetString=JF?QF:R1e;function P1e(e){return eN(e)?e.slice(1):e}cr.fromSetString=JF?QF:P1e;function eN(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}function I1e(e,t,r){var n=Xo(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:Xo(e.name,t.name)}cr.compareByOriginalPositions=I1e;function L1e(e,t,r){var n;return n=e.originalLine-t.originalLine,n!==0||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:Xo(e.name,t.name)}cr.compareByOriginalPositionsNoSource=L1e;function j1e(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=Xo(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:Xo(e.name,t.name)}cr.compareByGeneratedPositionsDeflated=j1e;function q1e(e,t,r){var n=e.generatedColumn-t.generatedColumn;return n!==0||r||(n=Xo(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:Xo(e.name,t.name)}cr.compareByGeneratedPositionsDeflatedNoLine=q1e;function Xo(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function F1e(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=Xo(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:Xo(e.name,t.name)}cr.compareByGeneratedPositionsInflated=F1e;function N1e(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}cr.parseSourceMapInput=N1e;function D1e(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Cd(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=XF(Yl(n),t)}return kE(t)}cr.computeSourceURL=D1e});var IE=b(tN=>{var RE=Zl(),PE=Object.prototype.hasOwnProperty,nu=typeof Map<"u";function Jo(){this._array=[],this._set=nu?new Map:Object.create(null)}Jo.fromArray=function(t,r){for(var n=new Jo,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n};Jo.prototype.size=function(){return nu?this._set.size:Object.getOwnPropertyNames(this._set).length};Jo.prototype.add=function(t,r){var n=nu?t:RE.toSetString(t),i=nu?this.has(t):PE.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||(nu?this._set.set(t,o):this._set[n]=o)};Jo.prototype.has=function(t){if(nu)return this._set.has(t);var r=RE.toSetString(t);return PE.call(this._set,r)};Jo.prototype.indexOf=function(t){if(nu){var r=this._set.get(t);if(r>=0)return r}else{var n=RE.toSetString(t);if(PE.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')};Jo.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)};Jo.prototype.toArray=function(){return this._array.slice()};tN.ArraySet=Jo});var iN=b(nN=>{var rN=Zl();function B1e(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||rN.compareByGeneratedPositionsInflated(e,t)<=0}function n_(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n_.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};n_.prototype.add=function(t){B1e(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};n_.prototype.toArray=function(){return this._sorted||(this._array.sort(rN.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};nN.MappingList=n_});var LE=b(oN=>{var kd=CE(),qt=Zl(),i_=IE().ArraySet,z1e=iN().MappingList;function Gn(e){e||(e={}),this._file=qt.getArg(e,"file",null),this._sourceRoot=qt.getArg(e,"sourceRoot",null),this._skipValidation=qt.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=qt.getArg(e,"ignoreInvalidMapping",!1),this._sources=new i_,this._names=new i_,this._mappings=new z1e,this._sourcesContents=null}Gn.prototype._version=3;Gn.fromSourceMap=function(t,r){var n=t.sourceRoot,i=new Gn(Object.assign(r||{},{file:t.file,sourceRoot:n}));return t.eachMapping(function(o){var a={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(a.source=o.source,n!=null&&(a.source=qt.relative(n,a.source)),a.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(a.name=o.name)),i.addMapping(a)}),t.sources.forEach(function(o){var a=o;n!==null&&(a=qt.relative(n,o)),i._sources.has(a)||i._sources.add(a);var s=t.sourceContentFor(o);s!=null&&i.setSourceContent(o,s)}),i};Gn.prototype.addMapping=function(t){var r=qt.getArg(t,"generated"),n=qt.getArg(t,"original",null),i=qt.getArg(t,"source",null),o=qt.getArg(t,"name",null);!this._skipValidation&&this._validateMapping(r,n,i,o)===!1||(i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o}))};Gn.prototype.setSourceContent=function(t,r){var n=t;this._sourceRoot!=null&&(n=qt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[qt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[qt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};Gn.prototype.applySourceMap=function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=qt.relative(o,i));var a=new i_,s=new i_;this._mappings.unsortedForEach(function(f){if(f.source===i&&f.originalLine!=null){var u=t.originalPositionFor({line:f.originalLine,column:f.originalColumn});u.source!=null&&(f.source=u.source,n!=null&&(f.source=qt.join(n,f.source)),o!=null&&(f.source=qt.relative(o,f.source)),f.originalLine=u.line,f.originalColumn=u.column,u.name!=null&&(f.name=u.name))}var l=f.source;l!=null&&!a.has(l)&&a.add(l);var c=f.name;c!=null&&!s.has(c)&&s.add(c)},this),this._sources=a,this._names=s,t.sources.forEach(function(f){var u=t.sourceContentFor(f);u!=null&&(n!=null&&(f=qt.join(n,f)),o!=null&&(f=qt.relative(o,f)),this.setSourceContent(f,u))},this)};Gn.prototype._validateMapping=function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number"){var o="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(o),!1;throw new Error(o)}if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;var o="Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(o),!1;throw new Error(o)}};Gn.prototype._serializeMappings=function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,s="",f,u,l,c,d=this._mappings.toArray(),p=0,h=d.length;p<h;p++){if(u=d[p],f="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)f+=";",r++;else if(p>0){if(!qt.compareByGeneratedPositionsInflated(u,d[p-1]))continue;f+=","}f+=kd.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(c=this._sources.indexOf(u.source),f+=kd.encode(c-a),a=c,f+=kd.encode(u.originalLine-1-i),i=u.originalLine-1,f+=kd.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(l=this._names.indexOf(u.name),f+=kd.encode(l-o),o=l)),s+=f}return s};Gn.prototype._generateSourcesContent=function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=qt.relative(r,n));var i=qt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};Gn.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};Gn.prototype.toString=function(){return JSON.stringify(this.toJSON())};oN.SourceMapGenerator=Gn});var aN=b(iu=>{iu.GREATEST_LOWER_BOUND=1;iu.LEAST_UPPER_BOUND=2;function jE(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,s=i(r,n[a],!0);return s===0?a:s>0?t-a>1?jE(a,t,r,n,i,o):o==iu.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?jE(e,a,r,n,i,o):o==iu.LEAST_UPPER_BOUND?a:e<0?-1:e}iu.search=function(t,r,n,i){if(r.length===0)return-1;var o=jE(-1,r.length,t,r,n,i||iu.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o}});var lN=b(uN=>{function U1e(e){function t(i,o,a){var s=i[o];i[o]=i[a],i[a]=s}function r(i,o){return Math.round(i+Math.random()*(o-i))}function n(i,o,a,s){if(a<s){var f=r(a,s),u=a-1;t(i,f,s);for(var l=i[s],c=a;c<s;c++)o(i[c],l,!1)<=0&&(u+=1,t(i,u,c));t(i,u+1,c);var d=u+1;n(i,o,a,d-1),n(i,o,d+1,s)}}return n}function H1e(e){let t=U1e.toString();return new Function(`return ${t}`)()(e)}var sN=new WeakMap;uN.quickSort=function(e,t,r=0){let n=sN.get(t);n===void 0&&(n=H1e(t),sN.set(t,n)),n(e,t,r,e.length-1)}});var dN=b(o_=>{var he=Zl(),FE=aN(),Kl=IE().ArraySet,W1e=CE(),Rd=lN().quickSort;function st(e,t){var r=e;return typeof e=="string"&&(r=he.parseSourceMapInput(e)),r.sections!=null?new yi(r,t):new Cr(r,t)}st.fromSourceMap=function(e,t){return Cr.fromSourceMap(e,t)};st.prototype._version=3;st.prototype.__generatedMappings=null;Object.defineProperty(st.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});st.prototype.__originalMappings=null;Object.defineProperty(st.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});st.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return n===";"||n===","};st.prototype._parseMappings=function(t,r){throw new Error("Subclasses must implement _parseMappings")};st.GENERATED_ORDER=1;st.ORIGINAL_ORDER=2;st.GREATEST_LOWER_BOUND=1;st.LEAST_UPPER_BOUND=2;st.prototype.eachMapping=function(t,r,n){var i=r||null,o=n||st.GENERATED_ORDER,a;switch(o){case st.GENERATED_ORDER:a=this._generatedMappings;break;case st.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var s=this.sourceRoot,f=t.bind(i),u=this._names,l=this._sources,c=this._sourceMapURL,d=0,p=a.length;d<p;d++){var h=a[d],m=h.source===null?null:l.at(h.source);m!==null&&(m=he.computeSourceURL(s,m,c)),f({source:m,generatedLine:h.generatedLine,generatedColumn:h.generatedColumn,originalLine:h.originalLine,originalColumn:h.originalColumn,name:h.name===null?null:u.at(h.name)})}};st.prototype.allGeneratedPositionsFor=function(t){var r=he.getArg(t,"line"),n={source:he.getArg(t,"source"),originalLine:r,originalColumn:he.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",he.compareByOriginalPositions,FE.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var s=a.originalLine;a&&a.originalLine===s;)i.push({line:he.getArg(a,"generatedLine",null),column:he.getArg(a,"generatedColumn",null),lastColumn:he.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var f=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==f;)i.push({line:he.getArg(a,"generatedLine",null),column:he.getArg(a,"generatedColumn",null),lastColumn:he.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i};o_.SourceMapConsumer=st;function Cr(e,t){var r=e;typeof e=="string"&&(r=he.parseSourceMapInput(e));var n=he.getArg(r,"version"),i=he.getArg(r,"sources"),o=he.getArg(r,"names",[]),a=he.getArg(r,"sourceRoot",null),s=he.getArg(r,"sourcesContent",null),f=he.getArg(r,"mappings"),u=he.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=he.normalize(a)),i=i.map(String).map(he.normalize).map(function(l){return a&&he.isAbsolute(a)&&he.isAbsolute(l)?he.relative(a,l):l}),this._names=Kl.fromArray(o.map(String),!0),this._sources=Kl.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(l){return he.computeSourceURL(a,l,t)}),this.sourceRoot=a,this.sourcesContent=s,this._mappings=f,this._sourceMapURL=t,this.file=u}Cr.prototype=Object.create(st.prototype);Cr.prototype.consumer=st;Cr.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=he.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Cr.fromSourceMap=function(t,r){var n=Object.create(Cr.prototype),i=n._names=Kl.fromArray(t._names.toArray(),!0),o=n._sources=Kl.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return he.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),s=n.__generatedMappings=[],f=n.__originalMappings=[],u=0,l=a.length;u<l;u++){var c=a[u],d=new fN;d.generatedLine=c.generatedLine,d.generatedColumn=c.generatedColumn,c.source&&(d.source=o.indexOf(c.source),d.originalLine=c.originalLine,d.originalColumn=c.originalColumn,c.name&&(d.name=i.indexOf(c.name)),f.push(d)),s.push(d)}return Rd(n.__originalMappings,he.compareByOriginalPositions),n};Cr.prototype._version=3;Object.defineProperty(Cr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function fN(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var qE=he.compareByGeneratedPositionsDeflatedNoLine;function cN(e,t){let r=e.length,n=e.length-t;if(!(n<=1))if(n==2){let i=e[t],o=e[t+1];qE(i,o)>0&&(e[t]=o,e[t+1]=i)}else if(n<20)for(let i=t;i<r;i++)for(let o=i;o>t;o--){let a=e[o-1],s=e[o];if(qE(a,s)<=0)break;e[o-1]=s,e[o]=a}else Rd(e,qE,t)}Cr.prototype._parseMappings=function(t,r){var n=1,i=0,o=0,a=0,s=0,f=0,u=t.length,l=0,c={},d={},p=[],h=[],m,v,g,_,w;let y=0;for(;l<u;)if(t.charAt(l)===";")n++,l++,i=0,cN(h,y),y=h.length;else if(t.charAt(l)===",")l++;else{for(m=new fN,m.generatedLine=n,_=l;_<u&&!this._charIsMappingSeparator(t,_);_++);for(v=t.slice(l,_),g=[];l<_;)W1e.decode(t,l,d),w=d.value,l=d.rest,g.push(w);if(g.length===2)throw new Error("Found a source, but no line and column");if(g.length===3)throw new Error("Found a source and line, but no column");if(m.generatedColumn=i+g[0],i=m.generatedColumn,g.length>1&&(m.source=s+g[1],s+=g[1],m.originalLine=o+g[2],o=m.originalLine,m.originalLine+=1,m.originalColumn=a+g[3],a=m.originalColumn,g.length>4&&(m.name=f+g[4],f+=g[4])),h.push(m),typeof m.originalLine=="number"){let A=m.source;for(;p.length<=A;)p.push(null);p[A]===null&&(p[A]=[]),p[A].push(m)}}cN(h,y),this.__generatedMappings=h;for(var x=0;x<p.length;x++)p[x]!=null&&Rd(p[x],he.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...p)};Cr.prototype._findMapping=function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return FE.search(t,r,o,a)};Cr.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};Cr.prototype.originalPositionFor=function(t){var r={generatedLine:he.getArg(t,"line"),generatedColumn:he.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",he.compareByGeneratedPositionsDeflated,he.getArg(t,"bias",st.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=he.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=he.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=he.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:he.getArg(i,"originalLine",null),column:he.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};Cr.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1};Cr.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=he.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=he.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};Cr.prototype.generatedPositionFor=function(t){var r=he.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:he.getArg(t,"line"),originalColumn:he.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",he.compareByOriginalPositions,he.getArg(t,"bias",st.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:he.getArg(o,"generatedLine",null),column:he.getArg(o,"generatedColumn",null),lastColumn:he.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};o_.BasicSourceMapConsumer=Cr;function yi(e,t){var r=e;typeof e=="string"&&(r=he.parseSourceMapInput(e));var n=he.getArg(r,"version"),i=he.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Kl,this._names=new Kl;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var s=he.getArg(a,"offset"),f=he.getArg(s,"line"),u=he.getArg(s,"column");if(f<o.line||f===o.line&&u<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=s,{generatedOffset:{generatedLine:f+1,generatedColumn:u+1},consumer:new st(he.getArg(a,"map"),t)}})}yi.prototype=Object.create(st.prototype);yi.prototype.constructor=st;yi.prototype._version=3;Object.defineProperty(yi.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});yi.prototype.originalPositionFor=function(t){var r={generatedLine:he.getArg(t,"line"),generatedColumn:he.getArg(t,"column")},n=FE.search(r,this._sections,function(o,a){var s=o.generatedLine-a.generatedOffset.generatedLine;return s||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};yi.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};yi.prototype.sourceContentFor=function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o||o==="")return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};yi.prototype.generatedPositionFor=function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(he.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}};yi.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var s=o[a],f=i.consumer._sources.at(s.source);f!==null&&(f=he.computeSourceURL(i.consumer.sourceRoot,f,this._sourceMapURL)),this._sources.add(f),f=this._sources.indexOf(f);var u=null;s.name&&(u=i.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var l={source:f,generatedLine:s.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(i.generatedOffset.generatedLine===s.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}Rd(this.__generatedMappings,he.compareByGeneratedPositionsDeflated),Rd(this.__originalMappings,he.compareByOriginalPositions)};o_.IndexedSourceMapConsumer=yi});var hN=b(pN=>{var $1e=LE().SourceMapGenerator,a_=Zl(),V1e=/(\r?\n)/,G1e=10,Xl="$$$isSourceNode$$$";function kn(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[Xl]=!0,n!=null&&this.add(n)}kn.fromStringWithSourceMap=function(t,r,n){var i=new kn,o=t.split(V1e),a=0,s=function(){var d=h(),p=h()||"";return d+p;function h(){return a<o.length?o[a++]:void 0}},f=1,u=0,l=null;return r.eachMapping(function(d){if(l!==null)if(f<d.generatedLine)c(l,s()),f++,u=0;else{var p=o[a]||"",h=p.substr(0,d.generatedColumn-u);o[a]=p.substr(d.generatedColumn-u),u=d.generatedColumn,c(l,h),l=d;return}for(;f<d.generatedLine;)i.add(s()),f++;if(u<d.generatedColumn){var p=o[a]||"";i.add(p.substr(0,d.generatedColumn)),o[a]=p.substr(d.generatedColumn),u=d.generatedColumn}l=d},this),a<o.length&&(l&&c(l,s()),i.add(o.splice(a).join(""))),r.sources.forEach(function(d){var p=r.sourceContentFor(d);p!=null&&(n!=null&&(d=a_.join(n,d)),i.setSourceContent(d,p))}),i;function c(d,p){if(d===null||d.source===void 0)i.add(p);else{var h=n?a_.join(n,d.source):d.source;i.add(new kn(d.originalLine,d.originalColumn,h,p,d.name))}}};kn.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Xl]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};kn.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Xl]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};kn.prototype.walk=function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Xl]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};kn.prototype.join=function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this};kn.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[Xl]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this};kn.prototype.setSourceContent=function(t,r){this.sourceContents[a_.toSetString(t)]=r};kn.prototype.walkSourceContents=function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Xl]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(a_.fromSetString(i[r]),this.sourceContents[i[r]])};kn.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t};kn.prototype.toStringWithSourceMap=function(t){var r={code:"",line:1,column:0},n=new $1e(t),i=!1,o=null,a=null,s=null,f=null;return this.walk(function(u,l){r.code+=u,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||a!==l.line||s!==l.column||f!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),o=l.source,a=l.line,s=l.column,f=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var c=0,d=u.length;c<d;c++)u.charCodeAt(c)===G1e?(r.line++,r.column=0,c+1===d?(o=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(u,l){n.setSourceContent(u,l)}),{code:r.code,map:n}};pN.SourceNode=kn});var mN=b(s_=>{s_.SourceMapGenerator=LE().SourceMapGenerator;s_.SourceMapConsumer=dN().SourceMapConsumer;s_.SourceNode=hN().SourceNode});var gN=b(u_=>{"use strict";"use client";var Y1e=Lt().default;Object.defineProperty(u_,"__esModule",{value:!0});u_.default=void 0;var Z1e=Y1e(Cn()),K1e=ae(),SFe=u_.default=(0,Z1e.default)((0,K1e.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")});var NE=b(Pd=>{"use strict";var X1e=Pd&&Pd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=ewe;var vN=ae(),J1e=X1e(gN()),Q1e=pe();function ewe(e){let{children:t,...r}=e;return(0,vN.jsxs)(Q1e.Link,{...r,target:"_blank",rel:"noopener noreferrer",children:[t," ",(0,vN.jsx)(J1e.default,{fontSize:"small"})]})}});var l_,DE=L(()=>{l_=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");let t={};return Object.keys(e).forEach(r=>{let[n,i]=e[r];t[n]=i}),t}});function wi(e){return Object.keys(e)}var c_=L(()=>{});function vo(e,t){if(!e)throw new Error(t)}var f_=L(()=>{});function Jl(e,t){return t}var d_=L(()=>{});var p_,_N=L(()=>{f_();d_();p_=e=>{let t=e.length,r=0,n="";for(;r<t;r++){let i=e[r];if(i==null)continue;let o;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=p_(i);else{vo(!Jl(i,!1)),o="";for(let a in i)i[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}return n}});function bN(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var yN=L(()=>{});var wN,xN=L(()=>{wN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}});function SN(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var BE=L(()=>{});function Id(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return _o={name:i.name,styles:i.styles,next:_o},i.name;var o=r;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)_o={name:a.name,styles:a.styles,next:_o},a=a.next;var s=o.styles+";";return s}return owe(e,t,r)}case"function":{if(e!==void 0){var f=_o,u=r(e);return _o=f,Id(e,t,u)}break}}var l=r;if(t==null)return l;var c=t[l];return c!==void 0?c:l}function owe(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Id(e,t,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":EN(s)&&(n+=zE(o)+":"+AN(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&twe)throw new Error(iwe);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var f=0;f<a.length;f++)EN(a[f])&&(n+=zE(o)+":"+AN(o,a[f])+";");else{var u=Id(e,t,a);switch(o){case"animation":case"animationName":{n+=zE(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}}return n}function ou(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";_o=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,i+=Id(r,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Id(r,t,e[s]),n){var f=o;i+=f[s]}TN.lastIndex=0;for(var u="",l;(l=TN.exec(i))!==null;)u+="-"+l[1];var c=bN(i)+u;return{name:c,styles:i,next:_o}}var twe,rwe,nwe,ON,EN,zE,AN,iwe,TN,_o,h_=L(()=>{yN();xN();BE();twe=!1,rwe=/[A-Z]|^ms/g,nwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ON=function(t){return t.charCodeAt(1)===45},EN=function(t){return t!=null&&typeof t!="boolean"},zE=SN(function(e){return ON(e)?e:e.replace(rwe,"-$&").toLowerCase()}),AN=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(nwe,function(n,i,o){return _o={name:i,styles:o,next:_o},i})}return wN[t]!==1&&!ON(t)&&typeof r=="number"&&r!==0?r+"px":r},iwe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";TN=/label:\s*([^\s;{]+)\s*(;|$)/g});function Ld(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var awe,m_,Ql,g_=L(()=>{awe=!0;m_=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||awe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Ql=function(t,r,n){m_(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}}});function CN(e,t){var r;let n=(0,MN.useRef)();return(!n.current||t.length!==((r=n.current.prevDeps)===null||r===void 0?void 0:r.length)||n.current.prevDeps.map((i,o)=>i===t[o]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}var MN,kN=L(()=>{MN=T(U())});function RN(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}var PN=L(()=>{});function v_(e){let{useCache:t}=e;function r(){let n=t(),{css:i,cx:o}=CN(()=>swe({cache:n}),[n]);return{css:i,cx:o}}return{useCssAndCx:r}}var swe,IN,UE=L(()=>{_N();h_();g_();kN();PN();({createCssAndCx:swe}=(()=>{function e(r,n,i){let o=[],a=Ld(r,o,i);return o.length<2?i:a+n(o)}function t(r){let{cache:n}=r,i=(...a)=>{let s=ou(a,n.registered);Ql(n,s,!1);let f=`${n.key}-${s.name}`;e:{let u=a[0];if(!RN(u))break e;IN.saveClassNameCSSObjectMapping(n,f,u)}return f};return{css:i,cx:(...a)=>{let s=p_(a),f=IN.fixClassName(n,s,i);return e(n.registered,i,f)}}}return{createCssAndCx:t}})());IN=(()=>{let e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,r,n)=>{let i=e.get(t);i===void 0&&(i=new Map,e.set(t,i)),i.set(r,n)},fixClassName:(()=>{function t(r){let n=!1;return r.map(([i,o])=>{if(o===void 0)return i;let a;if(n)a={"&&":o};else{a=i;for(let s in o)if(s.startsWith("@media")){n=!0;break}}return a})}return(r,n,i)=>{let o=e.get(r);return p_(t(n.split(" ").map(a=>[a,o?.get(a)])).map(a=>typeof a=="string"?a:i(a)))}})()}})()});function xi(e){if(!(e instanceof Object)||typeof e=="function")return e;let t=[];for(let r in e){let n=e[r],i=typeof n;if(!(i==="string"||i==="number"&&!isNaN(n)||i==="boolean"||n===void 0||n===null))return e;t.push(`${r}:${i}_${n}`)}return"xSqLiJdLMd9s"+t.join("|")}var __=L(()=>{});function ec(e,t,r){if(!(t instanceof Object))return e;let n={};return wi(e).forEach(i=>n[i]=r(e[i],t[i])),wi(t).forEach(i=>{if(i in e)return;let o=t[i];typeof o=="string"&&(n[i]=o)}),n}var b_=L(()=>{c_()});var HE,LN,jN=L(()=>{HE=T(U());__();b_();LN=({classes:e,theme:t,muiStyleOverridesParams:r,css:n,cx:i,name:o})=>{var a,s;e:{if(o==="makeStyle no name"){o=void 0;break e}if(r!==void 0&&o===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let f;try{f=o===void 0?void 0:((s=(a=t.components)===null||a===void 0?void 0:a[o])===null||s===void 0?void 0:s.styleOverrides)||void 0}catch{}let u=(0,HE.useMemo)(()=>{if(f===void 0)return;let l={};for(let c in f){let d=f[c];d instanceof Object&&(l[c]=n(typeof d=="function"?d({theme:t,ownerState:r?.ownerState,...r?.props}):d))}return l},[f,xi(r?.props),xi(r?.ownerState),n]);return e=(0,HE.useMemo)(()=>ec(e,u,i),[e,u,i]),{classes:e}}});function lwe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function cwe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var uwe,qN,FN=L(()=>{uwe=!1;qN=(function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!uwe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cwe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=lwe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e})()});var kr,jd,He,y_,tc,rc,NN,w_,DN,x_=L(()=>{kr="-ms-",jd="-moz-",He="-webkit-",y_="comm",tc="rule",rc="decl",NN="@import",w_="@keyframes",DN="@layer"});function UN(e,t){return Ft(e,0)^45?(((t<<2^Ft(e,0))<<2^Ft(e,1))<<2^Ft(e,2))<<2^Ft(e,3):0}function S_(e){return e.trim()}function WE(e,t){return(e=t.exec(e))?e[0]:e}function Be(e,t,r){return e.replace(t,r)}function qd(e,t){return e.indexOf(t)}function Ft(e,t){return e.charCodeAt(t)|0}function es(e,t,r){return e.slice(t,r)}function Gr(e){return e.length}function nc(e){return e.length}function ic(e,t){return t.push(e),e}function $E(e,t){return e.map(t).join("")}var BN,au,zN,oc=L(()=>{BN=Math.abs,au=String.fromCharCode,zN=Object.assign});function Fd(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:E_,column:ac,length:a,return:""}}function lc(e,t){return zN(Fd("",null,null,"",null,null,0),e,{length:-e.length},t)}function WN(){return $t}function $N(){return $t=Yr>0?Ft(uc,--Yr):0,ac--,$t===10&&(ac=1,E_--),$t}function Zr(){return $t=Yr<HN?Ft(uc,Yr++):0,ac++,$t===10&&(ac=1,E_++),$t}function Yn(){return Ft(uc,Yr)}function Nd(){return Yr}function cc(e,t){return es(uc,e,t)}function sc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A_(e){return E_=ac=1,HN=Gr(uc=e),Yr=0,[]}function T_(e){return uc="",e}function fc(e){return S_(cc(Yr-1,VE(e===91?e+2:e===40?e+1:e)))}function VN(e){for(;($t=Yn())&&$t<33;)Zr();return sc(e)>2||sc($t)>3?"":" "}function GN(e,t){for(;--t&&Zr()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return cc(e,Nd()+(t<6&&Yn()==32&&Zr()==32))}function VE(e){for(;Zr();)switch($t){case e:return Yr;case 34:case 39:e!==34&&e!==39&&VE($t);break;case 40:e===41&&VE(e);break;case 92:Zr();break}return Yr}function YN(e,t){for(;Zr()&&e+$t!==57;)if(e+$t===84&&Yn()===47)break;return"/*"+cc(t,Yr-1)+"*"+au(e===47?e:Zr())}function ZN(e){for(;!sc(Yn());)Zr();return cc(e,Yr)}var E_,ac,HN,Yr,$t,uc,GE=L(()=>{oc();E_=1,ac=1,HN=0,Yr=0,$t=0,uc=""});function JN(e){return T_(O_("",null,null,null,[""],e=A_(e),0,[0],e))}function O_(e,t,r,n,i,o,a,s,f){for(var u=0,l=0,c=a,d=0,p=0,h=0,m=1,v=1,g=1,_=0,w="",y=i,x=o,A=n,E=w;v;)switch(h=_,_=Zr()){case 40:if(h!=108&&Ft(E,c-1)==58){qd(E+=Be(fc(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:E+=fc(_);break;case 9:case 10:case 13:case 32:E+=VN(h);break;case 92:E+=GN(Nd()-1,7);continue;case 47:switch(Yn()){case 42:case 47:ic(fwe(YN(Zr(),Nd()),t,r),f);break;default:E+="/"}break;case 123*m:s[u++]=Gr(E)*g;case 125*m:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+l:g==-1&&(E=Be(E,/\f/g,"")),p>0&&Gr(E)-c&&ic(p>32?XN(E+";",n,r,c-1):XN(Be(E," ","")+";",n,r,c-2),f);break;case 59:E+=";";default:if(ic(A=KN(E,t,r,u,l,i,s,w,y=[],x=[],c),o),_===123)if(l===0)O_(E,t,A,A,y,o,c,s,x);else switch(d===99&&Ft(E,3)===110?100:d){case 100:case 108:case 109:case 115:O_(e,A,A,n&&ic(KN(e,A,A,0,0,i,s,w,i,y=[],c),x),i,x,c,s,n?y:x);break;default:O_(E,A,A,A,[""],x,0,s,x)}}u=l=p=0,m=g=1,w=E="",c=a;break;case 58:c=1+Gr(E),p=h;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&$N()==125)continue}switch(E+=au(_),_*m){case 38:g=l>0?1:(E+="\f",-1);break;case 44:s[u++]=(Gr(E)-1)*g,g=1;break;case 64:Yn()===45&&(E+=fc(Zr())),d=Yn(),l=c=Gr(w=E+=ZN(Nd())),_++;break;case 45:h===45&&Gr(E)==2&&(m=0)}}return o}function KN(e,t,r,n,i,o,a,s,f,u,l){for(var c=i-1,d=i===0?o:[""],p=nc(d),h=0,m=0,v=0;h<n;++h)for(var g=0,_=es(e,c+1,c=BN(m=a[h])),w=e;g<p;++g)(w=S_(m>0?d[g]+" "+_:Be(_,/&\f/g,d[g])))&&(f[v++]=w);return Fd(e,t,r,i===0?tc:s,f,u,l)}function fwe(e,t,r){return Fd(e,t,r,y_,au(WN()),es(e,2,-2),0)}function XN(e,t,r,n){return Fd(e,t,r,rc,es(e,0,n),es(e,n+1,-1),n)}var QN=L(()=>{x_();oc();GE()});var eD=L(()=>{});function su(e,t){for(var r="",n=nc(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function tD(e,t,r,n){switch(e.type){case DN:if(e.children.length)break;case NN:case rc:return e.return=e.return||e.value;case y_:return"";case w_:return e.return=e.value+"{"+su(e.children,n)+"}";case tc:e.value=e.props.join(",")}return Gr(r=su(e.children,n))?e.return=e.value+"{"+r+"}":""}var rD=L(()=>{x_();oc()});function nD(e){var t=nc(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}function iD(e){return function(t){t.root||(t=t.return)&&e(t)}}var oD=L(()=>{oc()});var aD=L(()=>{x_();oc();QN();eD();GE();rD();oD()});var M_=L(()=>{});function uD(e,t){switch(UN(e,t)){case 5103:return He+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return He+e+jd+e+kr+e+e;case 6828:case 4268:return He+e+kr+e+e;case 6165:return He+e+kr+"flex-"+e+e;case 5187:return He+e+Be(e,/(\w+).+(:[^]+)/,He+"box-$1$2"+kr+"flex-$1$2")+e;case 5443:return He+e+kr+"flex-item-"+Be(e,/flex-|-self/,"")+e;case 4675:return He+e+kr+"flex-line-pack"+Be(e,/align-content|flex-|-self/,"")+e;case 5548:return He+e+kr+Be(e,"shrink","negative")+e;case 5292:return He+e+kr+Be(e,"basis","preferred-size")+e;case 6060:return He+"box-"+Be(e,"-grow","")+He+e+kr+Be(e,"grow","positive")+e;case 4554:return He+Be(e,/([^-])(transform)/g,"$1"+He+"$2")+e;case 6187:return Be(Be(Be(e,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),e,"")+e;case 5495:case 3959:return Be(e,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return Be(Be(e,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+kr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+e+e;case 4095:case 3583:case 4068:case 2532:return Be(e,/(.+)-inline(.+)/,He+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gr(e)-1-t>6)switch(Ft(e,t+1)){case 109:if(Ft(e,t+4)!==45)break;case 102:return Be(e,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+jd+(Ft(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~qd(e,"stretch")?uD(Be(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ft(e,t+1)!==115)break;case 6444:switch(Ft(e,Gr(e)-3-(~qd(e,"!important")&&10))){case 107:return Be(e,":",":"+He)+e;case 101:return Be(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+He+(Ft(e,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+kr+"$2box$3")+e}break;case 5936:switch(Ft(e,t+11)){case 114:return He+e+kr+Be(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return He+e+kr+Be(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return He+e+kr+Be(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return He+e+kr+e+e}return e}var dwe,pwe,hwe,sD,mwe,gwe,vwe,_we,lD,YE=L(()=>{FN();aD();M_();BE();dwe=function(t,r,n){for(var i=0,o=0;i=o,o=Yn(),i===38&&o===12&&(r[n]=1),!sc(o);)Zr();return cc(t,Yr)},pwe=function(t,r){var n=-1,i=44;do switch(sc(i)){case 0:i===38&&Yn()===12&&(r[n]=1),t[n]+=dwe(Yr-1,r,n);break;case 2:t[n]+=fc(i);break;case 4:if(i===44){t[++n]=Yn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=au(i)}while(i=Zr());return t},hwe=function(t,r){return T_(pwe(A_(t),r))},sD=new WeakMap,mwe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!sD.get(n))&&!i){sD.set(t,!0);for(var o=[],a=hwe(r,o),s=n.props,f=0,u=0;f<a.length;f++)for(var l=0;l<s.length;l++,u++)t.props[u]=o[f]?a[f].replace(/&\f/g,s[l]):s[l]+" "+a[f]}}},gwe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};vwe=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case rc:t.return=uD(t.value,t.length);break;case w_:return su([lc(t,{value:Be(t.value,"@","@"+He)})],i);case tc:if(t.length)return $E(t.props,function(o){switch(WE(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return su([lc(t,{props:[Be(o,/:(read-\w+)/,":"+jd+"$1")]})],i);case"::placeholder":return su([lc(t,{props:[Be(o,/:(plac\w+)/,":"+He+"input-$1")]}),lc(t,{props:[Be(o,/:(plac\w+)/,":"+jd+"$1")]}),lc(t,{props:[Be(o,/:(plac\w+)/,kr+"input-$1")]})],i)}return""})}},_we=[vwe],lD=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||_we,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)o[v[g]]=!0;s.push(m)});var f,u=[mwe,gwe];{var l,c=[tD,iD(function(m){l.insert(m)})],d=nD(u.concat(i,c)),p=function(v){return su(JN(v),d)};f=function(v,g,_,w){l=_,p(v?v+"{"+g.styles+"}":g.styles),w&&(h.inserted[g.name]=!0)}}var h={key:r,sheet:new qN({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return h.sheet.hydrate(s),h}});var ZE=L(()=>{});var fD=b(Xe=>{"use strict";var fr=typeof Symbol=="function"&&Symbol.for,KE=fr?Symbol.for("react.element"):60103,XE=fr?Symbol.for("react.portal"):60106,C_=fr?Symbol.for("react.fragment"):60107,k_=fr?Symbol.for("react.strict_mode"):60108,R_=fr?Symbol.for("react.profiler"):60114,P_=fr?Symbol.for("react.provider"):60109,I_=fr?Symbol.for("react.context"):60110,JE=fr?Symbol.for("react.async_mode"):60111,L_=fr?Symbol.for("react.concurrent_mode"):60111,j_=fr?Symbol.for("react.forward_ref"):60112,q_=fr?Symbol.for("react.suspense"):60113,bwe=fr?Symbol.for("react.suspense_list"):60120,F_=fr?Symbol.for("react.memo"):60115,N_=fr?Symbol.for("react.lazy"):60116,ywe=fr?Symbol.for("react.block"):60121,wwe=fr?Symbol.for("react.fundamental"):60117,xwe=fr?Symbol.for("react.responder"):60118,Swe=fr?Symbol.for("react.scope"):60119;function Rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KE:switch(e=e.type,e){case JE:case L_:case C_:case R_:case k_:case q_:return e;default:switch(e=e&&e.$$typeof,e){case I_:case j_:case N_:case F_:case P_:return e;default:return t}}case XE:return t}}}function cD(e){return Rn(e)===L_}Xe.AsyncMode=JE;Xe.ConcurrentMode=L_;Xe.ContextConsumer=I_;Xe.ContextProvider=P_;Xe.Element=KE;Xe.ForwardRef=j_;Xe.Fragment=C_;Xe.Lazy=N_;Xe.Memo=F_;Xe.Portal=XE;Xe.Profiler=R_;Xe.StrictMode=k_;Xe.Suspense=q_;Xe.isAsyncMode=function(e){return cD(e)||Rn(e)===JE};Xe.isConcurrentMode=cD;Xe.isContextConsumer=function(e){return Rn(e)===I_};Xe.isContextProvider=function(e){return Rn(e)===P_};Xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KE};Xe.isForwardRef=function(e){return Rn(e)===j_};Xe.isFragment=function(e){return Rn(e)===C_};Xe.isLazy=function(e){return Rn(e)===N_};Xe.isMemo=function(e){return Rn(e)===F_};Xe.isPortal=function(e){return Rn(e)===XE};Xe.isProfiler=function(e){return Rn(e)===R_};Xe.isStrictMode=function(e){return Rn(e)===k_};Xe.isSuspense=function(e){return Rn(e)===q_};Xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C_||e===L_||e===R_||e===k_||e===q_||e===bwe||typeof e=="object"&&e!==null&&(e.$$typeof===N_||e.$$typeof===F_||e.$$typeof===P_||e.$$typeof===I_||e.$$typeof===j_||e.$$typeof===wwe||e.$$typeof===xwe||e.$$typeof===Swe||e.$$typeof===ywe)};Xe.typeOf=Rn});var pD=b((PNe,dD)=>{"use strict";dD.exports=fD()});var yD=b((INe,bD)=>{"use strict";var QE=pD(),Ewe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Awe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Twe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eA={};eA[QE.ForwardRef]=Twe;eA[QE.Memo]=vD;function hD(e){return QE.isMemo(e)?vD:eA[e.$$typeof]||Ewe}var Owe=Object.defineProperty,Mwe=Object.getOwnPropertyNames,mD=Object.getOwnPropertySymbols,Cwe=Object.getOwnPropertyDescriptor,kwe=Object.getPrototypeOf,gD=Object.prototype;function _D(e,t,r){if(typeof t!="string"){if(gD){var n=kwe(t);n&&n!==gD&&_D(e,n,r)}var i=Mwe(t);mD&&(i=i.concat(mD(t)));for(var o=hD(e),a=hD(t),s=0;s<i.length;++s){var f=i[s];if(!Awe[f]&&!(r&&r[f])&&!(a&&a[f])&&!(o&&o[f])){var u=Cwe(t,f);try{Owe(e,f,u)}catch{}}}}return e}bD.exports=_D});var Dd,Rwe,wD,tA,rA,nA=L(()=>{Dd=T(U()),Rwe=function(t){return t()},wD=Dd.useInsertionEffect?Dd.useInsertionEffect:!1,tA=wD||Rwe,rA=wD||Dd.useLayoutEffect});var Zn,Bd,xD,oA,Pwe,aA,D_,B_,z_,iA,SD,Iwe,Lwe,ED,sA=L(()=>{Zn=T(U()),Bd=T(U());YE();ZE();M_();g_();h_();nA();xD=!1,oA=Zn.createContext(typeof HTMLElement<"u"?lD({key:"css"}):null),Pwe=oA.Provider,aA=function(){return(0,Bd.useContext)(oA)},D_=function(t){return(0,Bd.forwardRef)(function(r,n){var i=(0,Bd.useContext)(oA);return t(r,i,n)})},B_=Zn.createContext({}),z_={}.hasOwnProperty,iA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SD=function(t,r){var n={};for(var i in r)z_.call(r,i)&&(n[i]=r[i]);return n[iA]=t,n},Iwe=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return m_(r,n,i),tA(function(){return Ql(r,n,i)}),null},Lwe=D_(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[iA],o=[n],a="";typeof e.className=="string"?a=Ld(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=ou(o,void 0,Zn.useContext(B_));a+=t.key+"-"+s.name;var f={};for(var u in e)z_.call(e,u)&&u!=="css"&&u!==iA&&!xD&&(f[u]=e[u]);return f.className=a,r&&(f.ref=r),Zn.createElement(Zn.Fragment,null,Zn.createElement(Iwe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),Zn.createElement(i,f))}),ED=Lwe});function uA(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ou(t)}function OD(){var e=uA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ts,eDe,AD,TD,U_=L(()=>{sA();sA();ts=T(U());g_();nA();h_();YE();ZE();M_();eDe=T(yD()),AD=function(t,r){var n=arguments;if(r==null||!z_.call(r,"css"))return ts.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=ED,o[1]=SD(t,r);for(var a=2;a<i;a++)o[a]=n[a];return ts.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(AD||(AD={}));TD=D_(function(e,t){var r=e.styles,n=ou([r],void 0,ts.useContext(B_)),i=ts.useRef();return rA(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,f=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),f!==null&&(s=!0,f.setAttribute("data-emotion",o),a.hydrate([f])),i.current=[a,s],function(){a.flush()}},[t]),rA(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&Ql(t,n.next,!0),a.tags.length){var f=a.tags[a.tags.length-1].nextElementSibling;a.before=f,a.flush()}t.insert("",n,a,!1)},[t,n.name]),null})});function Ud(e){let{useTheme:t,cache:r}=e,{useCache:n}=lA({cacheProvidedAtInception:r}),{useCssAndCx:i}=v_({useCache:n});function o(s){let{name:f,uniqId:u=`${Fwe++}`}=s??{},l=typeof f!="object"?f:Object.keys(f)[0];return function(c){let d=typeof c=="function"?c:()=>c;return function(h,m){let v=t(),{css:g,cx:_}=i(),w=n(),y=(0,zd.useMemo)(()=>{let x={},A=typeof Proxy<"u"&&new Proxy({},{get:(M,C)=>(typeof C=="symbol"&&vo(!1),x[C]=`${w.key}-${u}${l!==void 0?`-${l}`:""}-${C}-ref`)}),E=d(v,h,A||{}),O=l_(wi(E).map(M=>{let C=E[M];return C.label||(C.label=`${l!==void 0?`${l}-`:""}${M}`),[M,`${g(C)}${Jl(M,M in x)?` ${x[M]}`:""}`]}));return wi(x).forEach(M=>{M in O||(O[M]=x[M])}),O},[w,g,_,v,xi(h)]);{let x=m?.props.classes;y=(0,zd.useMemo)(()=>ec(y,x,_),[y,xi(x),_])}{let x=LN({classes:y,css:g,cx:_,name:l??"makeStyle no name",idOfUseStyles:u,muiStyleOverridesParams:m,theme:v});x.classes!==void 0&&(y=x.classes),x.css!==void 0&&(g=x.css),x.cx!==void 0&&(_=x.cx)}return{classes:y,theme:v,css:g,cx:_}}}}function a(){let s=t(),{css:f,cx:u}=i();return{theme:s,css:f,cx:u}}return{makeStyles:o,useStyles:a}}function CD(e){let{children:t,value:r}=e;return zd.default.createElement(MD.Provider,{value:r},t)}var zd,H_,qwe,Fwe,MD,lA,W_=L(()=>{"use client";zd=T(U());DE();c_();UE();__();d_();f_();b_();H_=T(U());jN();U_();qwe=aA,Fwe=0;MD=(0,H_.createContext)(void 0);({createUseCache:lA}=(()=>{function e(){return(0,H_.useContext)(MD)}function t(r){let{cacheProvidedAtInception:n}=r;function i(){var o;let a=qwe(),s=e(),f=(o=n??s)!==null&&o!==void 0?o:a;if(f===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return f}return{useCache:i}}return{createUseCache:t}})())});function cA(e){return e.charAt(0).toUpperCase()+e.slice(1)}var kD=L(()=>{});function fA(e){let{useTheme:t,cache:r}=e,{makeStyles:n}=Ud({useTheme:t,cache:r});function i(o,a,s){let f=typeof o=="string"?(()=>{let p=o,h=function({children:m,...v}){return(0,dc.createElement)(p,v,m)};return Object.defineProperty(h,"name",{value:cA(p)}),h})():o,u=(()=>{{let{name:h}=s??{};if(h!==void 0)return typeof h!="object"?h:Object.keys(h)[0]}let p;e:{let h=f.displayName;if(typeof h!="string"||h==="")break e;p=h}e:{if(p!==void 0)break e;let h=f.name;if(typeof h!="string"||h==="")break e;p=h}if(p!==void 0)return p=p.replace(/\$/g,"usd"),p=p.replace(/\(/g,"_").replace(/\)/g,"_"),p=p.replace(/[^a-zA-Z0-9-_]/g,"_"),p})(),l=n({...s,name:u})(typeof a=="function"?(p,h,m)=>PD(a(p,h,m)):PD(a));function c(p){for(let h in p)if(h!=="root")return!0;return!1}let d=(0,dc.forwardRef)(function(p,h){let{className:m,classes:v,...g}=p,{classes:_,cx:w}=l(p,{props:p}),y=w(_.root,m);return ID.set(_,{..._,root:y}),dc.default.createElement(f,{ref:h,className:c(_)?m:y,...typeof o=="string"?{}:{classes:_},...g})});return u!==void 0&&(d.displayName=`${cA(u)}WithStyles`,Object.defineProperty(d,"name",{value:d.displayName})),d}return i.getClasses=Nwe,{withStyles:i}}function Nwe(e){let t=e.classes;if(t===void 0)throw new Error(RD);let r=ID.get(t);if(r===void 0)throw new Error(RD);return r}function PD(e){let t={},r={};return Object.keys(e).forEach(n=>(n.startsWith("@media")?r:t)[n]=e[n]),Object.keys(r).forEach(n=>{let i=r[n];Object.keys(i).forEach(o=>{var a;return t[o]={...(a=t[o])!==null&&a!==void 0?a:{},[n]:i[o]}})}),t}var dc,ID,RD,LD=L(()=>{dc=T(U());W_();kD();ID=new WeakMap,RD="getClasses should only be used in conjunction with withStyles"});var jD,qD=L(()=>{jD=!(typeof document=="object"&&typeof document?.getElementById=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u")});function dA(e){FD=0,rs.splice(0,rs.length);let{useContext:t,usePlugin:r,cache:n}=e,{useCache:i}=lA({cacheProvidedAtInception:n}),{useCssAndCx:o}=v_({useCache:i});return{tss:V_({useContext:t,useCache:i,useCssAndCx:o,usePlugin:r??(({classes:f,cx:u,css:l})=>({classes:f,cx:u,css:l})),name:void 0,doesUseNestedSelectors:!1})}}function V_(e){let{useContext:t,useCache:r,useCssAndCx:n,usePlugin:i,name:o,doesUseNestedSelectors:a}=e;return{withParams:()=>V_({...e}),withName:s=>V_({...e,name:typeof s!="object"?s:Object.keys(s)[0]}),withNestedSelectors:()=>V_({...e,doesUseNestedSelectors:!0}),create:s=>{let f=`x${FD++}`;if(o!==void 0)for(;;){let l=rs.find(c=>c.name===o);if(l===void 0)break;rs.splice(rs.indexOf(l),1)}let u=typeof s=="function"?s:()=>s;return function(c){var d,p,h;let{classesOverrides:m,...v}=c??{},g=t(),{css:_,cx:w}=n(),y=r(),x=()=>{let O={},M=u({...c,...g,...a?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:(k,q)=>{if(typeof q=="symbol"&&vo(!1),jD&&o===void 0)throw new Error(["tss-react: In SSR setups, in order to use nested selectors, you must also give a unique name to the useStyle function.",'Solution: Use tss.withName("ComponentName").withNestedSelectors<...>()... to set a name.'].join(`
`));e:{if(o===void 0)break e;let N=rs.find(R=>R.name===o&&R.idOfUseStyles===f);N===void 0&&(N={name:o,idOfUseStyles:f,nestedSelectorRuleNames:new Set},rs.push(N)),N.nestedSelectorRuleNames.add(q)}e:{if(o===void 0||!(rs.find(R=>R.name===o&&R.idOfUseStyles!==f&&R.nestedSelectorRuleNames.has(q))!==void 0))break e;throw new Error([`tss-react: There are in your codebase two different useStyles named "${o}" that`,`both use use the nested selector ${q}.
`,`This may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.
`,`Solution: Ensure each useStyles using nested selectors has a unique name.
`,'Use: tss.withName("UniqueName").withNestedSelectors<...>()...'].join(" "))}return O[q]=`${y.key}-${o!==void 0?o:f}-${q}-ref`}})}:{}}),C=l_(wi(M).map(k=>{let q=M[k];return q.label||(q.label=`${o!==void 0?`${o}-`:""}${k}`),[k,`${_(q)}${Jl(k,k in O)?` ${O[k]}`:""}`]}));return wi(O).forEach(k=>{k in C||(C[k]=O[k])}),C=ec(C,m,w),C},A=Dwe({cache:y,cssObjectByRuleNameOrGetCssObjectByRuleName:s,classesOverridesRef:xi(m),paramsAndPluginParamsRef:xi(v),idOfUseStyles:f,context:g,getClasses:x}),E=i({classes:A,css:_,cx:w,idOfUseStyles:f,name:o,...g,...v});return{classes:(d=E.classes)!==null&&d!==void 0?d:A,css:(p=E.css)!==null&&p!==void 0?p:_,cx:(h=E.cx)!==null&&h!==void 0?h:w,...g}}}}}function Dwe(e){let{cache:t,cssObjectByRuleNameOrGetCssObjectByRuleName:r,classesOverridesRef:n,paramsAndPluginParamsRef:i,idOfUseStyles:o,context:a,getClasses:s}=e;e:{let u=$_.get(t);if(u===void 0)break e;let l=u.get(r);if(l===void 0)break e;let c=l.get(n);if(c===void 0)break e;let d=c.get(i);if(d===void 0)break e;let p=d.find(({context:h})=>{if(h===a)return!0;if(wi(h).length!==wi(a).length)return!1;for(let m in h)if(xi(h[m])!==xi(a[m]))return!1;return!0});if(p===void 0)break e;if(p?.idOfUseStyles!==o){d.splice(d.indexOf(p),1);break e}return p.result}let f=s();{$_.has(t)||$_.set(t,new WeakMap);let u=$_.get(t);vo(u!==void 0),u.has(r)||u.set(r,new Map);let l=u.get(r);vo(l!==void 0),l.has(n)||(l.size>200&&l.clear(),l.set(n,new Map));let c=l.get(n);if(vo(c!==void 0),!c.has(i)){e:{let p=typeof i=="string"?257:5;if(c.size<p)break e;c.clear()}c.set(i,[])}let d=c.get(i);vo(d!==void 0),d.length>5&&(d=[]),d.push({idOfUseStyles:o,context:a,result:f})}return f}var FD,rs,$_,ND=L(()=>{W_();UE();f_();DE();c_();d_();__();b_();qD();FD=0,rs=[];$_=new WeakMap});function BD(e){let{styles:t}=e;return DD.default.createElement(TD,{styles:uA(t)})}var DD,zD=L(()=>{"use client";DD=T(U());U_()});var HD={};jr(HD,{GlobalStyles:()=>BD,TssCacheProvider:()=>CD,createMakeAndWithStyles:()=>Bwe,createMakeStyles:()=>Ud,createTss:()=>dA,createWithStyles:()=>fA,keyframes:()=>OD,tss:()=>UD,useStyles:()=>zwe});function Bwe(e){return{...Ud(e),...fA(e)}}var UD,zwe,WD=L(()=>{"use client";W_();LD();ND();U_();zD();({tss:UD}=dA({useContext:()=>({})})),zwe=UD.create({})});var hA=b(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});pA.default=Gwe;var Uwe=ae(),Hwe=pe(),Wwe=(WD(),Iy(HD)),$we=De(),Vwe=(0,$we.makeStyles)()({dots:{"&::after":{display:"inline-block",content:'""',width:"1em",textAlign:"left",animation:`${(0,Wwe.keyframes)`
      0% {
        content: '';
      }
      25% {
          content: '.';
      }
      50% {
        content: '..';
      }
      75% {
        content: '...';
      }
      `} 1.2s infinite ease-in-out`}}});function Gwe({message:e,variant:t="body2",...r}){let{cx:n,classes:i}=Vwe();return(0,Uwe.jsx)(Hwe.Typography,{className:n(i.dots,r.className),...r,variant:t,children:e||"Loading"})}});var YD=b(Hd=>{"use strict";var Y_=Hd&&Hd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.default=axe;var Pn=ae(),G_=U(),pc=pe(),Ywe=Y_(AE()),Zwe=mN(),Kwe=De(),Xwe=Y_(Z_()),$D=Y_(NE()),Jwe=Y_(hA());async function GD(e){let t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status} fetching ${e}: ${await t.text()}`);return t}async function Qwe(e){return(await GD(e)).json()}async function exe(e){return(await GD(e)).text()}var mA={};async function txe(e){var t;if(mA[e]!==void 0)return mA[e];let r=new URL(e).search,n=await exe(e),i=((t=new RegExp(/\/\/# sourceMappingURL=(.*)/).exec(n))===null||t===void 0?void 0:t[1])||"";i=new URL(i,e).href+r;let o=await Qwe(i),a=new Zwe.SourceMapConsumer(o);return mA[e]=a,a}async function rxe(e){let t=e.split(`
`),r=[];for(let n of t){let i=new RegExp(/(.*)(https?:\/\/.*):(\d+):(\d+)/).exec(n);if(i===null){r.push(n);continue}let o=i[2],s=(await txe(o)).originalPositionFor({line:Number.parseInt(i[3]),column:Number.parseInt(i[4])});if(!s.source||!s.line||!s.column){r.push(n);continue}r.push(`${s.source}:${s.line}:${s.column+1} (${i[1].trim()})`)}return r.join(`
`)}var VD=1e4;function nxe(e,t){if(e.startsWith("Error:")){let r=`${t}`;return e.slice(r.length)}else return e}var ixe=(0,Kwe.makeStyles)()(e=>({pre:{background:(0,pc.alpha)(e.palette.error.main,.2),border:`1px solid ${e.palette.divider}`,overflow:"auto",margin:20,maxHeight:300}}));function oxe({text:e,extra:t}){let{classes:r}=ixe(),n=encodeURIComponent(`${[`I got this error from JBrowse, here is the stack trace:
`,"```",e,"```",t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`)}
`),i=[e,t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join(`
`),o="jbrowse2@berkeley.edu",a=`https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${n}`,s=`mailto:${o}?subject=JBrowse%202%20error&body=${n}`;return(0,Pn.jsxs)(Pn.Fragment,{children:[(0,Pn.jsxs)(pc.Typography,{children:["Post a new issue at"," ",(0,Pn.jsx)($D.default,{href:a,children:"GitHub"})," or send an email to ",(0,Pn.jsx)($D.default,{href:s,children:o})," "]}),(0,Pn.jsx)("pre",{className:r.pre,children:i})]})}function axe({error:e,onClose:t,extra:r}){let[n,i]=(0,G_.useState)(),[o,a]=(0,G_.useState)(),[s,f]=(0,G_.useState)(!1),u=`${typeof e=="object"&&e!==null&&"stack"in e?e.stack:""}`,l=e?`${e}`:"",c=nxe(u,l);(0,G_.useEffect)(()=>{(async()=>{try{let p=await rxe(c);i(p)}catch(p){console.error(p),i(c),a(p)}})()},[c]);let d=[o?"Error loading source map, showing raw stack trace below:":"",l.length>VD?`${l.slice(0,VD)}...`:l,n||"No stack trace available",window.JBrowseSession?`JBrowse ${window.JBrowseSession.version}`:""].filter(p=>!!p).join(`
`);return(0,Pn.jsxs)(Xwe.default,{open:!0,onClose:t,title:"Stack trace",maxWidth:"xl",children:[(0,Pn.jsx)(pc.DialogContent,{children:n===void 0?(0,Pn.jsx)(Jwe.default,{variant:"h6"}):(0,Pn.jsx)(oxe,{text:d,extra:r})}),(0,Pn.jsxs)(pc.DialogActions,{children:[(0,Pn.jsx)(pc.Button,{variant:"contained",color:"secondary",onClick:()=>{(0,Ywe.default)(d),f(!0),setTimeout(()=>{f(!1)},1e3)},children:s?"Copied!":"Copy stack trace to clipboard"}),(0,Pn.jsx)(pc.Button,{variant:"contained",color:"primary",onClick:t,children:"Close"})]})]})}});var X_=b(Si=>{"use strict";var sxe=Si&&Si.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),uxe=Si&&Si.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),lxe=Si&&Si.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),i=0;i<n.length;i++)n[i]!=="default"&&sxe(r,t,n[i]);return uxe(r,t),r}})(),vA=Si&&Si.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});var Kn=ae(),gA=U(),cxe=vA(FF()),fxe=vA(NF()),K_=pe(),dxe=De(),pxe=vA(DF()),hxe=(0,gA.lazy)(()=>Promise.resolve().then(()=>lxe(YD()))),ZD=(0,dxe.makeStyles)()(e=>({bg:{background:e.palette.divider,border:"1px solid black",margin:20},iconFloat:{float:"right",marginLeft:100}}));function mxe(e){let t="",r="is not assignable",n=e.indexOf(r);if(n!==-1){let i=e.slice(0,n+r.length),o=/.*at path "(.*)" snapshot `(.*)` is not assignable/m.exec(i);o&&(e=`Failed to load element at ${o[1]}...Failed element had snapshot`,t=o[2]);let a=/.*snapshot `(.*)` is not assignable/.exec(i);a&&(e="Failed to load element...Failed element had snapshot",t=a[1])}return t}function gxe({error:e,onReset:t}){let{classes:r}=ZD(),[n,i]=(0,gA.useState)(!1);return(0,Kn.jsxs)("div",{className:r.iconFloat,children:[typeof e=="object"&&e&&"stack"in e?(0,Kn.jsx)(K_.Tooltip,{title:"Get stack trace",children:(0,Kn.jsx)(K_.IconButton,{onClick:()=>{i(!0)},color:"primary",children:(0,Kn.jsx)(fxe.default,{})})}):null,t?(0,Kn.jsx)(K_.Tooltip,{title:"Retry",children:(0,Kn.jsx)(K_.IconButton,{onClick:t,color:"primary",children:(0,Kn.jsx)(cxe.default,{})})}):null,n?(0,Kn.jsx)(gA.Suspense,{fallback:null,children:(0,Kn.jsx)(hxe,{error:e,onClose:()=>{i(!1)}})}):null]})}function vxe({error:e,onReset:t}){let{classes:r}=ZD(),n=`${e}`,i=n.indexOf("expected an instance of"),o=i!==-1?n.slice(0,i):n,a=mxe(n);return(0,Kn.jsxs)(pxe.default,{children:[o.slice(0,1e4),(0,Kn.jsx)(gxe,{error:e,onReset:t}),a?(0,Kn.jsx)("pre",{className:r.bg,children:JSON.stringify(JSON.parse(a),null,2)}):null]})}Si.default=vxe});var l4=b((qDe,u4)=>{"use strict";var{entries:i4,setPrototypeOf:KD,isFrozen:_xe,getPrototypeOf:bxe,getOwnPropertyDescriptor:yxe}=Object,{freeze:Xr,seal:Xn,create:EA}=Object,{apply:AA,construct:TA}=typeof Reflect<"u"&&Reflect;Xr||(Xr=function(t){return t});Xn||(Xn=function(t){return t});AA||(AA=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return t.apply(r,i)});TA||(TA=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});var J_=Jr(Array.prototype.forEach),wxe=Jr(Array.prototype.lastIndexOf),XD=Jr(Array.prototype.pop),Wd=Jr(Array.prototype.push),xxe=Jr(Array.prototype.splice),eb=Jr(String.prototype.toLowerCase),_A=Jr(String.prototype.toString),bA=Jr(String.prototype.match),$d=Jr(String.prototype.replace),Sxe=Jr(String.prototype.indexOf),Exe=Jr(String.prototype.trim),Ei=Jr(Object.prototype.hasOwnProperty),Kr=Jr(RegExp.prototype.test),Vd=Axe(TypeError);function Jr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return AA(e,t,n)}}function Axe(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return TA(e,r)}}function Le(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eb;KD&&KD(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){let o=r(i);o!==i&&(_xe(t)||(t[n]=o),i=o)}e[i]=!0}return e}function Txe(e){for(let t=0;t<e.length;t++)Ei(e,t)||(e[t]=null);return e}function Qo(e){let t=EA(null);for(let[r,n]of i4(e))Ei(e,r)&&(Array.isArray(n)?t[r]=Txe(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Qo(n):t[r]=n);return t}function Gd(e,t){for(;e!==null;){let n=yxe(e,t);if(n){if(n.get)return Jr(n.get);if(typeof n.value=="function")return Jr(n.value)}e=bxe(e)}function r(){return null}return r}var JD=Xr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yA=Xr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wA=Xr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oxe=Xr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xA=Xr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Mxe=Xr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),QD=Xr(["#text"]),e4=Xr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),SA=Xr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),t4=Xr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Q_=Xr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cxe=Xn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kxe=Xn(/<%[\w\W]*|[\w\W]*%>/gm),Rxe=Xn(/\$\{[\w\W]*/gm),Pxe=Xn(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ixe=Xn(/^aria-[\-\w]+$/),o4=Xn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Lxe=Xn(/^(?:\w+script|data):/i),jxe=Xn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),a4=Xn(/^html$/i),qxe=Xn(/^[a-z][.\w]*(-[.\w]+)+$/i),r4=Object.freeze({__proto__:null,ARIA_ATTR:Ixe,ATTR_WHITESPACE:jxe,CUSTOM_ELEMENT:qxe,DATA_ATTR:Pxe,DOCTYPE_NAME:a4,ERB_EXPR:kxe,IS_ALLOWED_URI:o4,IS_SCRIPT_OR_DATA:Lxe,MUSTACHE_EXPR:Cxe,TMPLIT_EXPR:Rxe}),Yd={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Fxe=function(){return typeof window>"u"?null:window},Nxe=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null,i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));let o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},n4=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function s4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fxe(),t=we=>s4(we);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Yd.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,i=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:f,NodeFilter:u,NamedNodeMap:l=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:c,DOMParser:d,trustedTypes:p}=e,h=f.prototype,m=Gd(h,"cloneNode"),v=Gd(h,"remove"),g=Gd(h,"nextSibling"),_=Gd(h,"childNodes"),w=Gd(h,"parentNode");if(typeof a=="function"){let we=r.createElement("template");we.content&&we.content.ownerDocument&&(r=we.content.ownerDocument)}let y,x="",{implementation:A,createNodeIterator:E,createDocumentFragment:O,getElementsByTagName:M}=r,{importNode:C}=n,k=n4();t.isSupported=typeof i4=="function"&&typeof w=="function"&&A&&A.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:q,ERB_EXPR:N,TMPLIT_EXPR:R,DATA_ATTR:F,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:H}=r4,{IS_ALLOWED_URI:Q}=r4,_e=null,le=Le({},[...JD,...yA,...wA,...xA,...QD]),W=null,ke=Le({},[...e4,...SA,...t4,...Q_]),B=Object.seal(EA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,xe=null,ye=Object.seal(EA(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),oe=!0,ce=!0,Ee=!1,fe=!0,Z=!1,Y=!0,ne=!1,re=!1,ie=!1,X=!1,te=!1,ue=!1,ve=!0,$=!1,J="user-content-",K=!0,de=!1,be={},Me=null,Ye=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Kt=null,_r=Le({},["audio","video","img","source","image","track"]),Ce=null,ar=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qn="http://www.w3.org/1998/Math/MathML",ji="http://www.w3.org/2000/svg",Ur="http://www.w3.org/1999/xhtml",Xt=Ur,Ne=!1,Ze=null,Fn=Le({},[qn,ji,Ur],_A),At=Le({},["mi","mo","mn","ms","mtext"]),oi=Le({},["annotation-xml"]),Ir=Le({},["title","style","font","a","script"]),Dt=null,br=["application/xhtml+xml","text/html"],gt="text/html",Je=null,on=null,vs=r.createElement("form"),_s=function(P){return P instanceof RegExp||P instanceof Function},qi=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===P)){if((!P||typeof P!="object")&&(P={}),P=Qo(P),Dt=br.indexOf(P.PARSER_MEDIA_TYPE)===-1?gt:P.PARSER_MEDIA_TYPE,Je=Dt==="application/xhtml+xml"?_A:eb,_e=Ei(P,"ALLOWED_TAGS")?Le({},P.ALLOWED_TAGS,Je):le,W=Ei(P,"ALLOWED_ATTR")?Le({},P.ALLOWED_ATTR,Je):ke,Ze=Ei(P,"ALLOWED_NAMESPACES")?Le({},P.ALLOWED_NAMESPACES,_A):Fn,Ce=Ei(P,"ADD_URI_SAFE_ATTR")?Le(Qo(ar),P.ADD_URI_SAFE_ATTR,Je):ar,Kt=Ei(P,"ADD_DATA_URI_TAGS")?Le(Qo(_r),P.ADD_DATA_URI_TAGS,Je):_r,Me=Ei(P,"FORBID_CONTENTS")?Le({},P.FORBID_CONTENTS,Je):Ye,se=Ei(P,"FORBID_TAGS")?Le({},P.FORBID_TAGS,Je):Qo({}),xe=Ei(P,"FORBID_ATTR")?Le({},P.FORBID_ATTR,Je):Qo({}),be=Ei(P,"USE_PROFILES")?P.USE_PROFILES:!1,oe=P.ALLOW_ARIA_ATTR!==!1,ce=P.ALLOW_DATA_ATTR!==!1,Ee=P.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Z=P.SAFE_FOR_TEMPLATES||!1,Y=P.SAFE_FOR_XML!==!1,ne=P.WHOLE_DOCUMENT||!1,X=P.RETURN_DOM||!1,te=P.RETURN_DOM_FRAGMENT||!1,ue=P.RETURN_TRUSTED_TYPE||!1,ie=P.FORCE_BODY||!1,ve=P.SANITIZE_DOM!==!1,$=P.SANITIZE_NAMED_PROPS||!1,K=P.KEEP_CONTENT!==!1,de=P.IN_PLACE||!1,Q=P.ALLOWED_URI_REGEXP||o4,Xt=P.NAMESPACE||Ur,At=P.MATHML_TEXT_INTEGRATION_POINTS||At,oi=P.HTML_INTEGRATION_POINTS||oi,B=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&_s(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&_s(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(B.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(ce=!1),te&&(X=!0),be&&(_e=Le({},QD),W=[],be.html===!0&&(Le(_e,JD),Le(W,e4)),be.svg===!0&&(Le(_e,yA),Le(W,SA),Le(W,Q_)),be.svgFilters===!0&&(Le(_e,wA),Le(W,SA),Le(W,Q_)),be.mathMl===!0&&(Le(_e,xA),Le(W,t4),Le(W,Q_))),P.ADD_TAGS&&(typeof P.ADD_TAGS=="function"?ye.tagCheck=P.ADD_TAGS:(_e===le&&(_e=Qo(_e)),Le(_e,P.ADD_TAGS,Je))),P.ADD_ATTR&&(typeof P.ADD_ATTR=="function"?ye.attributeCheck=P.ADD_ATTR:(W===ke&&(W=Qo(W)),Le(W,P.ADD_ATTR,Je))),P.ADD_URI_SAFE_ATTR&&Le(Ce,P.ADD_URI_SAFE_ATTR,Je),P.FORBID_CONTENTS&&(Me===Ye&&(Me=Qo(Me)),Le(Me,P.FORBID_CONTENTS,Je)),K&&(_e["#text"]=!0),ne&&Le(_e,["html","head","body"]),_e.table&&(Le(_e,["tbody"]),delete se.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=P.TRUSTED_TYPES_POLICY,x=y.createHTML("")}else y===void 0&&(y=Nxe(p,i)),y!==null&&typeof x=="string"&&(x=y.createHTML(""));Xr&&Xr(P),on=P}},Fi=Le({},[...yA,...wA,...Oxe]),Ao=Le({},[...xA,...Mxe]),ky=function(P){let V=w(P);(!V||!V.tagName)&&(V={namespaceURI:Xt,tagName:"template"});let me=eb(P.tagName),lt=eb(V.tagName);return Ze[P.namespaceURI]?P.namespaceURI===ji?V.namespaceURI===Ur?me==="svg":V.namespaceURI===qn?me==="svg"&&(lt==="annotation-xml"||At[lt]):!!Fi[me]:P.namespaceURI===qn?V.namespaceURI===Ur?me==="math":V.namespaceURI===ji?me==="math"&&oi[lt]:!!Ao[me]:P.namespaceURI===Ur?V.namespaceURI===ji&&!oi[lt]||V.namespaceURI===qn&&!At[lt]?!1:!Ao[me]&&(Ir[me]||!Fi[me]):!!(Dt==="application/xhtml+xml"&&Ze[P.namespaceURI]):!1},Sn=function(P){Wd(t.removed,{element:P});try{w(P).removeChild(P)}catch{v(P)}},Ni=function(P,V){try{Wd(t.removed,{attribute:V.getAttributeNode(P),from:V})}catch{Wd(t.removed,{attribute:null,from:V})}if(V.removeAttribute(P),P==="is")if(X||te)try{Sn(V)}catch{}else try{V.setAttribute(P,"")}catch{}},xu=function(P){let V=null,me=null;if(ie)P="<remove></remove>"+P;else{let Bt=bA(P,/^[\r\n\t ]+/);me=Bt&&Bt[0]}Dt==="application/xhtml+xml"&&Xt===Ur&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");let lt=y?y.createHTML(P):P;if(Xt===Ur)try{V=new d().parseFromString(lt,Dt)}catch{}if(!V||!V.documentElement){V=A.createDocument(Xt,"template",null);try{V.documentElement.innerHTML=Ne?x:lt}catch{}}let Lr=V.body||V.documentElement;return P&&me&&Lr.insertBefore(r.createTextNode(me),Lr.childNodes[0]||null),Xt===Ur?M.call(V,ne?"html":"body")[0]:ne?V.documentElement:Lr},KO=function(P){return E.call(P.ownerDocument||P,P,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ry=function(P){return P instanceof c&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof l)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},XO=function(P){return typeof s=="function"&&P instanceof s};function To(we,P,V){J_(we,me=>{me.call(t,P,V,on)})}let JO=function(P){let V=null;if(To(k.beforeSanitizeElements,P,null),Ry(P))return Sn(P),!0;let me=Je(P.nodeName);if(To(k.uponSanitizeElement,P,{tagName:me,allowedTags:_e}),Y&&P.hasChildNodes()&&!XO(P.firstElementChild)&&Kr(/<[/\w!]/g,P.innerHTML)&&Kr(/<[/\w!]/g,P.textContent)||P.nodeType===Yd.progressingInstruction||Y&&P.nodeType===Yd.comment&&Kr(/<[/\w]/g,P.data))return Sn(P),!0;if(!(ye.tagCheck instanceof Function&&ye.tagCheck(me))&&(!_e[me]||se[me])){if(!se[me]&&e2(me)&&(B.tagNameCheck instanceof RegExp&&Kr(B.tagNameCheck,me)||B.tagNameCheck instanceof Function&&B.tagNameCheck(me)))return!1;if(K&&!Me[me]){let lt=w(P)||P.parentNode,Lr=_(P)||P.childNodes;if(Lr&&lt){let Bt=Lr.length;for(let an=Bt-1;an>=0;--an){let Oo=m(Lr[an],!0);Oo.__removalCount=(P.__removalCount||0)+1,lt.insertBefore(Oo,g(P))}}}return Sn(P),!0}return P instanceof f&&!ky(P)||(me==="noscript"||me==="noembed"||me==="noframes")&&Kr(/<\/no(script|embed|frames)/i,P.innerHTML)?(Sn(P),!0):(Z&&P.nodeType===Yd.text&&(V=P.textContent,J_([q,N,R],lt=>{V=$d(V,lt," ")}),P.textContent!==V&&(Wd(t.removed,{element:P.cloneNode()}),P.textContent=V)),To(k.afterSanitizeElements,P,null),!1)},QO=function(P,V,me){if(ve&&(V==="id"||V==="name")&&(me in r||me in vs))return!1;if(!(ce&&!xe[V]&&Kr(F,V))){if(!(oe&&Kr(G,V))){if(!(ye.attributeCheck instanceof Function&&ye.attributeCheck(V,P))){if(!W[V]||xe[V]){if(!(e2(P)&&(B.tagNameCheck instanceof RegExp&&Kr(B.tagNameCheck,P)||B.tagNameCheck instanceof Function&&B.tagNameCheck(P))&&(B.attributeNameCheck instanceof RegExp&&Kr(B.attributeNameCheck,V)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(V,P))||V==="is"&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&Kr(B.tagNameCheck,me)||B.tagNameCheck instanceof Function&&B.tagNameCheck(me))))return!1}else if(!Ce[V]){if(!Kr(Q,$d(me,j,""))){if(!((V==="src"||V==="xlink:href"||V==="href")&&P!=="script"&&Sxe(me,"data:")===0&&Kt[P])){if(!(Ee&&!Kr(z,$d(me,j,"")))){if(me)return!1}}}}}}}return!0},e2=function(P){return P!=="annotation-xml"&&bA(P,H)},t2=function(P){To(k.beforeSanitizeAttributes,P,null);let{attributes:V}=P;if(!V||Ry(P))return;let me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0},lt=V.length;for(;lt--;){let Lr=V[lt],{name:Bt,namespaceURI:an,value:Oo}=Lr,Su=Je(Bt),Py=Oo,yr=Bt==="value"?Py:Exe(Py);if(me.attrName=Su,me.attrValue=yr,me.keepAttr=!0,me.forceKeepAttr=void 0,To(k.uponSanitizeAttribute,P,me),yr=me.attrValue,$&&(Su==="id"||Su==="name")&&(Ni(Bt,P),yr=J+yr),Y&&Kr(/((--!?|])>)|<\/(style|title|textarea)/i,yr)){Ni(Bt,P);continue}if(Su==="attributename"&&bA(yr,"href")){Ni(Bt,P);continue}if(me.forceKeepAttr)continue;if(!me.keepAttr){Ni(Bt,P);continue}if(!fe&&Kr(/\/>/i,yr)){Ni(Bt,P);continue}Z&&J_([q,N,R],n2=>{yr=$d(yr,n2," ")});let r2=Je(P.nodeName);if(!QO(r2,Su,yr)){Ni(Bt,P);continue}if(y&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!an)switch(p.getAttributeType(r2,Su)){case"TrustedHTML":{yr=y.createHTML(yr);break}case"TrustedScriptURL":{yr=y.createScriptURL(yr);break}}if(yr!==Py)try{an?P.setAttributeNS(an,Bt,yr):P.setAttribute(Bt,yr),Ry(P)?Sn(P):XD(t.removed)}catch{Ni(Bt,P)}}To(k.afterSanitizeAttributes,P,null)},V$=function we(P){let V=null,me=KO(P);for(To(k.beforeSanitizeShadowDOM,P,null);V=me.nextNode();)To(k.uponSanitizeShadowNode,V,null),JO(V),t2(V),V.content instanceof o&&we(V.content);To(k.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(we){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=null,me=null,lt=null,Lr=null;if(Ne=!we,Ne&&(we="<!-->"),typeof we!="string"&&!XO(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw Vd("dirty is not a string, aborting")}else throw Vd("toString is not a function");if(!t.isSupported)return we;if(re||qi(P),t.removed=[],typeof we=="string"&&(de=!1),de){if(we.nodeName){let Oo=Je(we.nodeName);if(!_e[Oo]||se[Oo])throw Vd("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof s)V=xu("<!---->"),me=V.ownerDocument.importNode(we,!0),me.nodeType===Yd.element&&me.nodeName==="BODY"||me.nodeName==="HTML"?V=me:V.appendChild(me);else{if(!X&&!Z&&!ne&&we.indexOf("<")===-1)return y&&ue?y.createHTML(we):we;if(V=xu(we),!V)return X?null:ue?x:""}V&&ie&&Sn(V.firstChild);let Bt=KO(de?we:V);for(;lt=Bt.nextNode();)JO(lt),t2(lt),lt.content instanceof o&&V$(lt.content);if(de)return we;if(X){if(te)for(Lr=O.call(V.ownerDocument);V.firstChild;)Lr.appendChild(V.firstChild);else Lr=V;return(W.shadowroot||W.shadowrootmode)&&(Lr=C.call(n,Lr,!0)),Lr}let an=ne?V.outerHTML:V.innerHTML;return ne&&_e["!doctype"]&&V.ownerDocument&&V.ownerDocument.doctype&&V.ownerDocument.doctype.name&&Kr(a4,V.ownerDocument.doctype.name)&&(an="<!DOCTYPE "+V.ownerDocument.doctype.name+`>
`+an),Z&&J_([q,N,R],Oo=>{an=$d(an,Oo," ")}),y&&ue?y.createHTML(an):an},t.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qi(we),re=!0},t.clearConfig=function(){on=null,re=!1},t.isValidAttribute=function(we,P,V){on||qi({});let me=Je(we),lt=Je(P);return QO(me,lt,V)},t.addHook=function(we,P){typeof P=="function"&&Wd(k[we],P)},t.removeHook=function(we,P){if(P!==void 0){let V=wxe(k[we],P);return V===-1?void 0:xxe(k[we],V,1)[0]}return XD(k[we])},t.removeHooks=function(we){k[we]=[]},t.removeAllHooks=function(){k=n4()},t}var Dxe=s4();u4.exports=Dxe});var f4=b((FDe,c4)=>{"use strict";var Bxe=/["'&<>]/;c4.exports=zxe;function zxe(e){var t=""+e,r=Bxe.exec(t);if(!r)return t;var n,i="",o=0,a=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==o&&(i+=t.substring(a,o)),a=o+1,i+=n}return a!==o?i+t.substring(a,o):i}});var OA=b(Zd=>{"use strict";var h4=Zd&&Zd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=Yxe;var Uxe=ae(),d4=h4(l4()),Hxe=h4(f4()),Wxe=pn(),$xe=["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","sup","sub","td","tfoot","th","thead","tr","u","ul"],p4=!1,Vxe=new RegExp($xe.map(e=>`<${e}\\b[^>]*>`).join("|"),"i");function Gxe(e){return Vxe.test(e)}function Yxe({html:e,className:t}){let r=(0,Wxe.linkify)(`${e}`),n=Gxe(r)?r:(0,Hxe.default)(r);return p4||(p4=!0,d4.default.addHook("afterSanitizeAttributes",i=>{i.tagName==="A"&&(i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target","_blank"))})),(0,Uxe.jsx)("span",{className:t,dangerouslySetInnerHTML:{__html:d4.default.sanitize(n)}})}});var Z_=b(Kd=>{"use strict";var MA=Kd&&Kd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kd,"__esModule",{value:!0});var Ai=ae(),Zxe=U(),Kxe=pE(),Xxe=MA(qF()),ns=pe(),Jxe=Se(),Qxe=De(),eSe=MA(X_()),tSe=MA(OA()),m4=(0,Qxe.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},errorBox:{width:800,margin:40}}));function rSe({error:e}){let{classes:t}=m4();return(0,Ai.jsx)("div",{className:t.errorBox,children:(0,Ai.jsx)(eSe.default,{error:e})})}var nSe=(0,Jxe.observer)(function(e){let{classes:t}=m4(),{titleNode:r,...n}=e,{title:i,header:o,children:a,onClose:s}=n,f=(0,ns.useTheme)();return(0,Ai.jsx)(ns.Dialog,{...n,children:(0,Ai.jsxs)(ns.ScopedCssBaseline,{children:[(0,Zxe.isValidElement)(o)?o:(0,Ai.jsxs)(ns.DialogTitle,{children:[r||(0,Ai.jsx)(tSe.default,{html:i||""}),s?(0,Ai.jsx)(ns.IconButton,{className:t.closeButton,onClick:()=>{s()},children:(0,Ai.jsx)(Xxe.default,{})}):null]}),(0,Ai.jsx)(ns.Divider,{}),(0,Ai.jsx)(Kxe.ErrorBoundary,{FallbackComponent:rSe,children:(0,Ai.jsx)(ns.ThemeProvider,{theme:(0,ns.createTheme)(f,{components:{MuiInputBase:{styleOverrides:{input:{boxSizing:"content-box!important"}}}}}),children:a})})]})})});Kd.default=nSe});var g4=b(Jd=>{"use strict";var iSe=Jd&&Jd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jd,"__esModule",{value:!0});var tb=ae(),Xd=U(),oSe=iSe(Jh()),CA=pe(),aSe=De(),sSe=(0,aSe.makeStyles)()(e=>({input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderWidth:2}})),uSe=(0,Xd.forwardRef)(function(t,r){let{value:n,setValue:i,variant:o,...a}=t,[s,{width:f}]=(0,oSe.default)(),[u,l]=(0,Xd.useState)(),[c,d]=(0,Xd.useState)(null),[p,h]=(0,Xd.useState)(!1);(0,Xd.useEffect)(()=>{p&&(c?.blur(),h(!1))},[p,c]);let{classes:m}=sSe(t,{props:t}),v=(0,CA.useTheme)(),g=u===void 0?n:u;return(0,tb.jsxs)("div",{...a,ref:r,children:[(0,tb.jsx)("div",{style:{position:"relative"},children:(0,tb.jsx)(CA.Typography,{ref:s,component:"span",variant:o,className:m.typography,children:g})}),(0,tb.jsx)(CA.InputBase,{inputRef:_=>{d(_)},className:m.inputBase,inputProps:{style:{width:f,...o&&o!=="inherit"?v.typography[o]:{}}},classes:{input:m.input,root:m.inputRoot,focused:m.inputFocused},value:g,onChange:_=>{l(_.target.value)},onKeyDown:_=>{_.key==="Enter"?c?.blur():_.key==="Escape"&&(l(void 0),h(!0))},onBlur:()=>{i(u||n||""),l(void 0)}})]})});Jd.default=uSe});var v4=b(ep=>{"use strict";var lSe=ep&&ep.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});ep.default=fSe;var hc=ae(),cSe=lSe(Z_()),Qd=pe();function fSe({onClose:e,open:t,onFactoryReset:r}){function n(i){i==="reset"&&r(),e()}return(0,hc.jsxs)(cSe.default,{title:"Reset",onClose:()=>{n()},open:t,children:[(0,hc.jsx)(Qd.DialogContent,{children:(0,hc.jsx)(Qd.DialogContentText,{children:"Are you sure you want to reset? This will restore the default configuration."})}),(0,hc.jsxs)(Qd.DialogActions,{children:[(0,hc.jsx)(Qd.Button,{onClick:()=>{n()},color:"primary",children:"Cancel"}),(0,hc.jsx)(Qd.Button,{onClick:()=>{n("reset")},color:"primary",variant:"contained",children:"OK"})]})]})}});var b4=b(tp=>{"use strict";var _4=tp&&tp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tp,"__esModule",{value:!0});tp.default=gSe;var Jn=ae(),dSe=U(),mc=pe(),pSe=_4(X_()),hSe=_4(v4()),mSe=({onFactoryReset:e,resetButtonText:t})=>{let[r,n]=(0,dSe.useState)(!1);return(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)(mc.Button,{"data-testid":"fatal-error",color:"primary",variant:"contained",onClick:()=>{n(!0)},children:t}),(0,Jn.jsx)(hSe.default,{onClose:()=>{n(!1)},open:r,onFactoryReset:e})]})};function gSe({componentStack:e,error:t="No error message provided",onFactoryReset:r,resetButtonText:n="Factory Reset"}){return(0,Jn.jsxs)(mc.Dialog,{maxWidth:"xl",open:!0,children:[(0,Jn.jsx)(mc.DialogTitle,{children:"Fatal error"}),(0,Jn.jsxs)(mc.DialogContent,{children:[(0,Jn.jsx)(pSe.default,{error:t}),(0,Jn.jsx)("pre",{children:e})]}),(0,Jn.jsxs)(mc.DialogActions,{children:[(0,Jn.jsx)(mc.Button,{color:"secondary",variant:"contained",onClick:()=>{window.location.reload()},children:"Refresh"}),(0,Jn.jsx)(mSe,{onFactoryReset:r,resetButtonText:n})]})]})}});var y4=b(rb=>{"use strict";"use client";var vSe=Lt().default;Object.defineProperty(rb,"__esModule",{value:!0});rb.default=void 0;var _Se=vSe(Cn()),bSe=ae(),HDe=rb.default=(0,_Se.default)((0,bSe.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown")});var x4=b(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.UNSUPPORTED=bt.UNKNOWN=void 0;bt.getTrackAssemblyNames=ySe;bt.getConfAssemblyNames=w4;bt.getRpcSessionId=wSe;bt.getParentRenderProps=xSe;bt.getBlob=SSe;bt.getBlobMap=ESe;bt.setBlobMap=ASe;bt.storeBlobLocation=OSe;bt.makeIndex=MSe;bt.makeIndexType=CSe;bt.getFileName=kSe;bt.guessAdapter=RSe;bt.guessTrackType=PSe;bt.generateUnsupportedTrackConf=ISe;bt.generateUnknownTrackConf=LSe;bt.getTrackName=jSe;var vc=Jt(),rp=pn(),gc=wx();function ySe(e){return w4(e.configuration)}function w4(e){let t=(0,gc.readConfObject)(e,"assemblyNames");if(!t){let r=(0,vc.getParent)(e);if("sequence"in r)return[(0,gc.readConfObject)(r,"name")];throw new Error("unknown assembly names")}return t}function wSe(e){let t;for(let r=e;!(0,vc.isRoot)(r);r=(0,vc.getParent)(r))"rpcSessionId"in r&&(t=r.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t}function xSe(e){for(let t=(0,vc.getParent)(e);!(0,vc.isRoot)(t);t=(0,vc.getParent)(t))if("renderProps"in t)return t.renderProps();return{}}bt.UNKNOWN="UNKNOWN";bt.UNSUPPORTED="UNSUPPORTED";var nb={};function SSe(e){return nb[e]}function ESe(){return nb}function ASe(e){nb=e}var TSe=0;function OSe(e){if("blob"in e){let t=`b${+Date.now()}-${TSe++}`;return nb[t]=e.blob,{name:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e}function MSe(e,t){return"uri"in e?{uri:e.uri+t,locationType:"UriLocation"}:"localPath"in e?{localPath:e.localPath+t,locationType:"LocalPathLocation"}:e}function CSe(e,t,r){return e?.toUpperCase().endsWith(t)?t:r}function kSe(e){let t="uri"in e?e.uri:void 0,r="localPath"in e?e.localPath:void 0,n="blobId"in e?e:void 0;return n?.name||t?.slice(t.lastIndexOf("/")+1)||r?.slice(r.replace(/\\/g,"/").lastIndexOf("/")+1)||""}function RSe(e,t,r,n){if(n){let{pluginManager:i}=(0,rp.getEnv)(n),a=i.evaluateExtensionPoint("Core-guessAdapterForLocation",(s,f,u)=>{})(e,t,r);if(a)return a}return{type:bt.UNKNOWN}}function PSe(e,t){if(t){let r=(0,rp.getSession)(t),i=(0,rp.getEnv)(r).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",o=>{})(e);if(i)return i}return"FeatureTrack"}function ISe(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unsupported)`,description:`Support not yet implemented for "${t}"`,category:r,trackId:""};return n.trackId=(0,rp.objectHash)(n),n}function LSe(e,t,r){let n={type:"FeatureTrack",name:`${e} (Unknown)`,description:`Could not determine track type for "${t}"`,category:r,trackId:""};return n.trackId=(0,rp.objectHash)(n),n}function jSe(e,t){let r=(0,gc.readConfObject)(e,"name");if(!r&&(0,gc.readConfObject)(e,"type")==="ReferenceSequenceTrack"){let n=t.assemblies.find(i=>i.sequence===e);return n?`Reference sequence (${(0,gc.readConfObject)(n,"displayName")||(0,gc.readConfObject)(n,"name")})`:"Reference sequence"}return r}});var A4=b(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});var is=ae(),uu=pe(),qSe=De(),FSe=pn(),S4=x4();function NSe(e){return"localPath"in e}function E4(e){return"blobId"in e}var DSe=(0,qSe.makeStyles)()(e=>({filename:{marginLeft:e.spacing(1)}}));function BSe({location:e,setLocation:t}){let{classes:r}=DSe(),n=e&&(E4(e)&&e.name||NSe(e)&&e.localPath),i=e&&E4(e)&&!(0,S4.getBlob)(e.blobId);return(0,is.jsxs)(uu.Box,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,is.jsx)(uu.Box,{children:(0,is.jsx)(uu.FormControl,{fullWidth:!0,children:(0,is.jsxs)(uu.Button,{variant:"outlined",component:"label",children:["Choose File",(0,is.jsx)("input",{type:"file",hidden:!0,onChange:({target:o})=>{var a;let s=(a=o.files)===null||a===void 0?void 0:a[0];if(s)if(FSe.isElectron){let{webUtils:f}=window.require("electron");t({localPath:f.getPathForFile(s),locationType:"LocalPathLocation"})}else t((0,S4.storeBlobLocation)({blob:s}))}})]})})}),(0,is.jsxs)(uu.Box,{children:[(0,is.jsx)(uu.Typography,{component:"span",className:r.filename,color:n?"initial":"textSecondary",children:n||"No file chosen"}),i?(0,is.jsx)(uu.Typography,{color:"error",children:"(need to reload)"}):null]})]})}kA.default=BSe});var T4=b(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});var zSe=ae(),USe=pe(),HSe=Se(),WSe=Jf(),$Se=(0,HSe.observer)(function({location:e,label:t,style:r,setLocation:n}){return(0,zSe.jsx)(USe.TextField,{variant:"outlined",fullWidth:!0,defaultValue:e&&(0,WSe.isUriLocation)(e)?e.uri:"",label:t||"Enter URL",style:r,onChange:i=>{n({uri:i.target.value.trim(),locationType:"UriLocation"})},slotProps:{htmlInput:{"data-testid":"urlInput"}}})});RA.default=$Se});var k4=b(ip=>{"use strict";var IA=ip&&ip.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ip,"__esModule",{value:!0});var rt=ae(),ib=U(),VSe=IA(y4()),vn=pe(),GSe=Se(),YSe=IA(A4()),ZSe=IA(T4()),PA=pn(),np=Jf(),O4=2;function KSe(e){let{title:t,children:r,...n}=e;return(0,rt.jsx)(vn.Tooltip,{title:t||"",children:(0,rt.jsx)(vn.ToggleButton,{...n,children:r})})}function M4(e,t){return typeof e=="string"&&e.length>t?`${e.slice(0,Math.max(0,t))}\u2026`:e}function XSe({children:e}){return(0,rt.jsx)("div",{style:{display:"flex",gap:4},children:e})}function JSe({children:e}){return(0,rt.jsx)(vn.Box,{display:"flex",flexDirection:"row",children:(0,rt.jsx)(vn.Box,{children:e})})}function C4(e){let{setLocation:t,inline:r,toggleButtonValue:n,selectedAccount:i}=e;return(0,rt.jsx)(rt.Fragment,{children:i?.SelectorComponent?(0,rt.jsx)(i.SelectorComponent,{...e,setLocation:t}):n==="url"?(0,rt.jsx)(ZSe.default,{...e,setLocation:t,label:i?.selectorLabel,style:r?{margin:0}:void 0}):n==="file"?(0,rt.jsx)(YSe.default,{...e}):null})}var QSe=(0,GSe.observer)(function(e){let{inline:t,location:r,name:n,description:i,rootModel:o,setLocation:a}=e,s=!r||(0,np.isUriLocation)(r)?"url":"file",[f,u]=(0,ib.useState)(r&&"internetAccountId"in r&&r.internetAccountId?r.internetAccountId:s),l=(0,np.isAppRootModel)(o)?o.internetAccounts.filter(A=>A.type!=="HTTPBasicInternetAccount"):[],[c,d]=(0,PA.useLocalStorage)("fileSelector-recentlyUsedInternetAccounts",[]),p=Object.fromEntries(l.map(A=>[A.internetAccountId,A])),h=[...new Set(l.map(A=>A.internetAccountId))].sort((A,E)=>c.indexOf(A)-c.indexOf(E)),m=h.slice(0,O4),v=h.slice(O4),[g,_]=(0,ib.useState)(null),w=p[f],y=(0,ib.useCallback)(A=>{a({...A,...w&&(0,np.isUriLocation)(A)?{internetAccountId:w.internetAccountId}:{}})},[a,w]);(0,ib.useEffect)(()=>{w&&(0,np.isUriLocation)(r)&&r.internetAccountId!==w.internetAccountId&&y(r)},[r,w,y]);let x=t?XSe:JSe;return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(vn.Box,{display:"flex",children:(0,rt.jsx)(vn.InputLabel,{shrink:!0,children:n})}),(0,rt.jsxs)(vn.FormGroup,{children:[(0,rt.jsxs)(x,{children:[(0,rt.jsxs)(vn.ToggleButtonGroup,{value:f,exclusive:!0,size:"small",onChange:(A,E)=>{d([...new Set([E,...c].filter(PA.notEmpty))]),E&&u(E),(0,np.isUriLocation)(r)&&y(r)},"aria-label":"file, url, or account picker",children:[new URLSearchParams(window.location.search).get("adminKey")?null:(0,rt.jsx)(vn.ToggleButton,{size:"small",value:"file","aria-label":"local file",children:"File"}),(0,rt.jsx)(vn.ToggleButton,{size:"small",value:"url","aria-label":"url",children:"URL"}),m.map(A=>{let{internetAccountId:E,name:O,toggleContents:M}=p[A];return(0,rt.jsx)(KSe,{value:E,title:O,children:typeof M=="string"?M4(M,5):M||M4(O,5)},A)}),v.length>0?(0,rt.jsxs)(vn.ToggleButton,{onClick:A=>{_(A.target)},selected:!1,children:["More",(0,rt.jsx)(VSe.default,{})]}):null]}),t?(0,rt.jsx)(C4,{...e,toggleButtonValue:f,selectedAccount:w,setLocation:y}):null]}),t?null:(0,rt.jsx)(C4,{...e,toggleButtonValue:f,selectedAccount:w,setLocation:y})]}),(0,rt.jsx)(vn.FormHelperText,{children:i}),g?(0,rt.jsx)(vn.Menu,{open:!0,anchorEl:g,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:()=>{_(null)},children:v.map(A=>{let{internetAccountId:E,name:O}=p[A];return(0,rt.jsx)(vn.MenuItem,{value:E,onClick:()=>{d([...new Set([E,...c].filter(PA.notEmpty))]),u(E),_(null)},children:O},A)})}):null]})});ip.default=QSe});var R4=b(_c=>{"use strict";var eEe=_c&&_c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});_c.default=void 0;var tEe=k4();Object.defineProperty(_c,"default",{enumerable:!0,get:function(){return eEe(tEe).default}})});var P4=b(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0});var rEe=ae(),LA=U(),nEe=lm();function iEe(e){let{width:t,height:r,highResolutionScaling:n=1,style:i={},imageData:o,blockKey:a,showSoftClip:s}=e,[f,u]=(0,LA.useState)(!1),l=(0,LA.useRef)(null);return(0,LA.useEffect)(()=>{if(!o)return;let c=l.current;if(!c)return;let d=c.getContext("2d");d&&((0,nEe.drawImageOntoCanvasContext)(o,d),u(!0))},[o]),(0,rEe.jsx)("canvas",{"data-testid":["prerendered_canvas",s?"softclipped":"",a,f?"done":""].filter(c=>!!c).join("_"),ref:l,width:t*n,height:r*n,style:{width:t,height:r,...i}})}jA.default=iEe});var I4=b(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});var oEe=ae(),ob=U(),aEe=De(),sEe=(0,aEe.makeStyles)()({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});function uEe({onDrag:e,vertical:t=!1,flexbox:r=!1,className:n,onMouseDown:i,...o}){let[a,s]=(0,ob.useState)(!1),f=(0,ob.useRef)(0),u=(0,ob.useRef)(0),{classes:l,cx:c}=sEe();(0,ob.useEffect)(()=>{function p(m){m.preventDefault();let v=t?m.clientX:m.clientY,g=f.current-v,_=v-u.current;u.current=v,e(_,g)}function h(){s(!1)}return a?(window.addEventListener("mousemove",p,!0),window.addEventListener("mouseup",h,!0),()=>{window.removeEventListener("mousemove",p,!0),window.removeEventListener("mouseup",h,!0)}):()=>{}},[a,e,t]);let d;return r?d=t?l.flexbox_verticalHandle:l.flexbox_horizontalHandle:t?d=l.verticalHandle:d=l.horizontalHandle,(0,oEe.jsx)("div",{"data-resizer":"true",onMouseDown:p=>{p.preventDefault();let h=t?p.clientX:p.clientY;f.current=h,u.current=h,s(!0),i?.(p)},className:c(d,n),...o})}qA.default=uEe});function ab(){return typeof window<"u"}function bo(e){return sb(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oi(e){var t;return(t=(sb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sb(e){return ab()?e instanceof Node||e instanceof Rr(e).Node:!1}function et(e){return ab()?e instanceof Element||e instanceof Rr(e).Element:!1}function mt(e){return ab()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function bc(e){return!ab()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function yc(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!lEe.has(i)}function L4(e){return cEe.has(bo(e))}function op(e){return fEe.some(t=>{try{return e.matches(t)}catch{return!1}})}function ub(e){let t=wc(),r=et(e)?Qr(e):e;return dEe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pEe.some(n=>(r.willChange||"").includes(n))||hEe.some(n=>(r.contain||"").includes(n))}function j4(e){let t=Ti(e);for(;mt(t)&&!Mi(t);){if(ub(t))return t;if(op(t))return null;t=Ti(t)}return null}function wc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mi(e){return mEe.has(bo(e))}function Qr(e){return Rr(e).getComputedStyle(e)}function ap(e){return et(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ti(e){if(bo(e)==="html")return e;let t=e.assignedSlot||e.parentNode||bc(e)&&e.host||Oi(e);return bc(t)?t.host:t}function q4(e){let t=Ti(e);return Mi(t)?e.ownerDocument?e.ownerDocument.body:e.body:mt(t)&&yc(t)?t:q4(t)}function _n(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);let i=q4(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Rr(i);if(o){let s=lb(a);return t.concat(a,a.visualViewport||[],yc(i)?i:[],s&&r?_n(s):[])}return t.concat(i,_n(i,[],r))}function lb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var lEe,cEe,fEe,dEe,pEe,hEe,mEe,sp=L(()=>{lEe=new Set(["inline","contents"]);cEe=new Set(["table","td","th"]);fEe=[":popover-open",":modal"];dEe=["transform","translate","scale","rotate","perspective"],pEe=["transform","translate","scale","rotate","perspective","filter"],hEe=["paint","layout","strict","content"];mEe=new Set(["html","body","#document"])});function cb(e,t,r){return Ct(e,en(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function Qn(e){return e.split("-")[1]}function fb(e){return e==="x"?"y":"x"}function db(e){return e==="y"?"height":"width"}function ei(e){return _Ee.has(yn(e))?"y":"x"}function pb(e){return fb(ei(e))}function DA(e,t,r){r===void 0&&(r=!1);let n=Qn(e),i=pb(e),o=db(i),a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=lp(a)),[a,lp(a)]}function B4(e){let t=lp(e);return[up(e),t,up(t)]}function up(e){return e.replace(/start|end/g,t=>vEe[t])}function wEe(e,t,r){switch(e){case"top":case"bottom":return r?t?D4:N4:t?N4:D4;case"left":case"right":return t?bEe:yEe;default:return[]}}function z4(e,t,r,n){let i=Qn(e),o=wEe(yn(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(up)))),o}function lp(e){return e.replace(/left|right|bottom|top/g,t=>gEe[t])}function xEe(e){return{top:0,right:0,bottom:0,left:0,...e}}function hb(e){return typeof e!="number"?xEe(e):{top:e,right:e,bottom:e,left:e}}function ea(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}var FA,F4,NA,en,Ct,lu,os,Ci,gEe,vEe,_Ee,N4,D4,bEe,yEe,xc=L(()=>{FA=["top","right","bottom","left"],F4=["start","end"],NA=FA.reduce((e,t)=>e.concat(t,t+"-"+F4[0],t+"-"+F4[1]),[]),en=Math.min,Ct=Math.max,lu=Math.round,os=Math.floor,Ci=e=>({x:e,y:e}),gEe={left:"right",right:"left",bottom:"top",top:"bottom"},vEe={start:"end",end:"start"};_Ee=new Set(["top","bottom"]);N4=["left","right"],D4=["right","left"],bEe=["top","bottom"],yEe=["bottom","top"]});var SEe,mb,H4,Sc,gb,vb,EEe,W4,$4,V4,G4,AEe,TEe,Y4,OEe,MEe,CEe,kEe,REe,PEe,IEe,U4,LEe,jEe,BA,zA,qEe,FEe,Ec,Z4,UA,HA=L(()=>{SEe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mb=SEe.join(","),H4=typeof Element>"u",Sc=H4?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gb=!H4&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},vb=function e(t,r){var n;r===void 0&&(r=!0);var i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),o=i===""||i==="true",a=o||r&&t&&e(t.parentNode);return a},EEe=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},W4=function(t,r,n){if(vb(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(mb));return r&&Sc.call(t,mb)&&i.unshift(t),i=i.filter(n),i},$4=function e(t,r,n){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!vb(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),f=s.length?s:a.children,u=e(f,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{var l=Sc.call(a,mb);l&&n.filter(a)&&(r||!t.includes(a))&&i.push(a);var c=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),d=!vb(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(c&&d){var p=e(c===!0?a.children:c.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:a,candidates:p})}else o.unshift.apply(o,a.children)}}return i},V4=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},G4=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||EEe(t))&&!V4(t)?0:t.tabIndex},AEe=function(t,r){var n=G4(t);return n<0&&r&&!V4(t)?0:n},TEe=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},Y4=function(t){return t.tagName==="INPUT"},OEe=function(t){return Y4(t)&&t.type==="hidden"},MEe=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},CEe=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},kEe=function(t){if(!t.name)return!0;var r=t.form||gb(t),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(t.name));else try{i=n(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=CEe(i,t.form);return!o||o===t},REe=function(t){return Y4(t)&&t.type==="radio"},PEe=function(t){return REe(t)&&!kEe(t)},IEe=function(t){var r,n=t&&gb(t),i=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==t){var a,s,f;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!o&&i;){var u,l,c;n=gb(i),i=(u=n)===null||u===void 0?void 0:u.host,o=!!((l=i)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return o},U4=function(t){var r=t.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},LEe=function(t,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=Sc.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(Sc.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var f=t.parentElement,u=gb(t);if(f&&!f.shadowRoot&&i(f)===!0)return U4(t);t.assignedSlot?t=t.assignedSlot:!f&&u!==t.ownerDocument?t=u.host:t=f}t=s}if(IEe(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return U4(t);return!1},jEe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return Sc.call(r,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}r=r.parentElement}return!1},BA=function(t,r){return!(r.disabled||vb(r)||OEe(r)||LEe(r,t)||MEe(r)||jEe(r))},zA=function(t,r){return!(PEe(r)||G4(r)<0||!BA(t,r))},qEe=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},FEe=function e(t){var r=[],n=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,f=AEe(s,a),u=a?e(i.candidates):s;f===0?a?r.push.apply(r,u):r.push(s):n.push({documentOrder:o,tabIndex:f,item:i,isScope:a,content:u})}),n.sort(TEe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(r)},Ec=function(t,r){r=r||{};var n;return r.getShadowRoot?n=$4([t],r.includeContainer,{filter:zA.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:qEe}):n=W4(t,r.includeContainer,zA.bind(null,r)),FEe(n)},Z4=function(t,r){r=r||{};var n;return r.getShadowRoot?n=$4([t],r.includeContainer,{filter:BA.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=W4(t,r.includeContainer,BA.bind(null,r)),n},UA=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Sc.call(t,mb)===!1?!1:zA(r,t)}});function bb(){let e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function yb(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function GA(){return/apple/i.test(navigator.vendor)}function VA(){let e=/android/i;return e.test(bb())||e.test(yb())}function J4(){return bb().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Q4(){return yb().includes("jsdom/")}function ki(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function rr(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&bc(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Ri(e){return"composedPath"in e?e.composedPath()[0]:e.target}function wb(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);let r=e;return r.target!=null&&t.contains(r.target)}function e9(e){return e.matches("html,body")}function hr(e){return e?.ownerDocument||document}function xb(e){return mt(e)&&e.matches(NEe)}function Sb(e){return e?e.getAttribute("role")==="combobox"&&xb(e):!1}function t9(e){if(!e||Q4())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function cp(e){return e?e.hasAttribute(K4)?e:e.querySelector("["+K4+"]")||e:null}function as(e,t,r){return r===void 0&&(r=!0),e.filter(i=>{var o;return i.parentId===t&&(!r||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...as(e,i.id,r)])}function r9(e,t){let r,n=-1;function i(o,a){a>n&&(r=o,n=a),as(e,o).forEach(f=>{i(f.id,a+1)})}return i(t,0),e.find(o=>o.id===r)}function YA(e,t){var r;let n=[],i=(r=e.find(o=>o.id===t))==null?void 0:r.parentId;for(;i;){let o=e.find(a=>a.id===i);i=o?.parentId,o&&(n=n.concat(o))}return n}function pr(e){e.preventDefault(),e.stopPropagation()}function n9(e){return"nativeEvent"in e}function ZA(e){return e.mozInputSource===0&&e.isTrusted?!0:VA()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function KA(e){return Q4()?!1:!VA()&&e.width===0&&e.height===0||VA()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function fu(e,t){let r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}function nr(e){let t=Ac.useRef(e);return Re(()=>{t.current=e}),t}function it(e){let t=Ac.useRef(()=>{});return $Ee(()=>{t.current=e}),Ac.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function _b(e,t,r){return Math.floor(e/t)!==r}function cu(e,t){return t<0||t>=e.current.length}function fp(e,t){return dr(e,{disabledIndices:t})}function Eb(e,t){return dr(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function dr(e,t){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:i,amount:o=1}=t===void 0?{}:t,a=r;do a+=n?-o:o;while(a>=0&&a<=e.current.length-1&&ss(e,a,i));return a}function XA(e,t){let{event:r,orientation:n,loop:i,rtl:o,cols:a,disabledIndices:s,minIndex:f,maxIndex:u,prevIndex:l,stopEvent:c=!1}=t,d=l;if(r.key===DEe){if(c&&pr(r),l===-1)d=u;else if(d=dr(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),i&&(l-a<f||d<0)){let p=l%a,h=u%a,m=u-(h-p);h===p?d=u:d=h>p?m:m-a}cu(e,d)&&(d=l)}if(r.key===BEe&&(c&&pr(r),l===-1?d=f:(d=dr(e,{startingIndex:l,amount:a,disabledIndices:s}),i&&l+a>u&&(d=dr(e,{startingIndex:l%a-a,amount:a,disabledIndices:s}))),cu(e,d)&&(d=l)),n==="both"){let p=os(l/a);r.key===(o?WA:$A)&&(c&&pr(r),l%a!==a-1?(d=dr(e,{startingIndex:l,disabledIndices:s}),i&&_b(d,a,p)&&(d=dr(e,{startingIndex:l-l%a-1,disabledIndices:s}))):i&&(d=dr(e,{startingIndex:l-l%a-1,disabledIndices:s})),_b(d,a,p)&&(d=l)),r.key===(o?$A:WA)&&(c&&pr(r),l%a!==0?(d=dr(e,{startingIndex:l,decrement:!0,disabledIndices:s}),i&&_b(d,a,p)&&(d=dr(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s}))):i&&(d=dr(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:s})),_b(d,a,p)&&(d=l));let h=os(u/a)===p;cu(e,d)&&(i&&h?d=r.key===(o?$A:WA)?u:dr(e,{startingIndex:l-l%a-1,disabledIndices:s}):d=l)}return d}function JA(e,t,r){let n=[],i=0;return e.forEach((o,a)=>{let{width:s,height:f}=o;s>t;let u=!1;for(r&&(i=0);!u;){let l=[];for(let c=0;c<s;c++)for(let d=0;d<f;d++)l.push(i+c+d*t);i%t+s<=t&&l.every(c=>n[c]==null)?(l.forEach(c=>{n[c]=a}),u=!0):i++}}),[...n]}function QA(e,t,r,n,i){if(e===-1)return-1;let o=r.indexOf(e),a=t[e];switch(i){case"tl":return o;case"tr":return a?o+a.width-1:o;case"bl":return a?o+(a.height-1)*n:o;case"br":return r.lastIndexOf(e)}}function eT(e,t){return t.flatMap((r,n)=>e.includes(r)?[n]:[])}function ss(e,t,r){if(typeof r=="function")return r(t);if(r)return r.includes(t);let n=e.current[t];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}function i9(e,t){let r=Ec(e,Tc()),n=r.length;if(n===0)return;let i=ki(hr(e)),o=r.indexOf(i),a=o===-1?t===1?0:n-1:o+t;return r[a]}function tT(e){return i9(hr(e).body,1)||e}function rT(e){return i9(hr(e).body,-1)||e}function Oc(e,t){let r=t||e.currentTarget,n=e.relatedTarget;return!n||!rr(r,n)}function o9(e){Ec(e,Tc()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function nT(e){e.querySelectorAll("[data-tabindex]").forEach(r=>{let n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}var Ac,X4,K4,NEe,WA,$A,DEe,BEe,zEe,UEe,Re,HEe,WEe,$Ee,Tc,a9=L(()=>{sp();Ac=T(U(),1),X4=T(U(),1);xc();HA();K4="data-floating-ui-focusable",NEe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",WA="ArrowLeft",$A="ArrowRight",DEe="ArrowUp",BEe="ArrowDown";zEe=typeof document<"u",UEe=function(){},Re=zEe?X4.useLayoutEffect:UEe,HEe={...Ac};WEe=HEe.useInsertionEffect,$Ee=WEe||(e=>e());Tc=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"})});function s9(e,t,r){let{reference:n,floating:i}=e,o=ei(t),a=pb(t),s=db(a),f=yn(t),u=o==="y",l=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2,p;switch(f){case"top":p={x:l,y:n.y-i.height};break;case"bottom":p={x:l,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:c};break;case"left":p={x:n.x-i.width,y:c};break;default:p={x:n.x,y:n.y}}switch(Qn(t)){case"start":p[a]-=d*(r&&u?-1:1);break;case"end":p[a]+=d*(r&&u?-1:1);break}return p}async function us(e,t){var r;t===void 0&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:f}=e,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:c="floating",altBoundary:d=!1,padding:p=0}=bn(t,e),h=hb(p),v=s[d?c==="floating"?"reference":"floating":c],g=ea(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:l,strategy:f})),_=c==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),y=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},x=ea(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:w,strategy:f}):_);return{top:(g.top-x.top+h.top)/y.y,bottom:(x.bottom-g.bottom+h.bottom)/y.y,left:(g.left-x.left+h.left)/y.x,right:(x.right-g.right+h.right)/y.x}}function VEe(e,t,r){return(e?[...r.filter(i=>Qn(i)===e),...r.filter(i=>Qn(i)!==e)]:r.filter(i=>yn(i)===i)).filter(i=>e?Qn(i)===e||(t?up(i)!==i:!1):!0)}function u9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l9(e){return FA.some(t=>e[t]>=0)}function m9(e){let t=en(...e.map(o=>o.left)),r=en(...e.map(o=>o.top)),n=Ct(...e.map(o=>o.right)),i=Ct(...e.map(o=>o.bottom));return{x:t,y:r,width:n-t,height:i-r}}function GEe(e){let t=e.slice().sort((i,o)=>i.y-o.y),r=[],n=null;for(let i=0;i<t.length;i++){let o=t[i];!n||o.y-n.y>n.height/2?r.push([o]):r[r.length-1].push(o),n=o}return r.map(i=>ea(m9(i)))}async function YEe(e,t){let{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=yn(r),s=Qn(r),f=ei(r)==="y",u=v9.has(a)?-1:1,l=o&&f?-1:1,c=bn(t,e),{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return s&&typeof h=="number"&&(p=s==="end"?h*-1:h),f?{x:p*l,y:d*u}:{x:d*u,y:p*l}}var c9,f9,d9,p9,h9,g9,v9,_9,b9,y9,w9,x9=L(()=>{xc();xc();c9=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:c}=s9(u,n,f),d=n,p={},h=0;for(let m=0;m<s.length;m++){let{name:v,fn:g}=s[m],{x:_,y:w,data:y,reset:x}=await g({x:l,y:c,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});l=_??l,c=w??c,p={...p,[v]:{...p[v],...y}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(u=x.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:l,y:c}=s9(u,d,f)),m=-1)}return{x:l,y:c,placement:d,strategy:i,middlewareData:p}};f9=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:f}=t,{element:u,padding:l=0}=bn(e,t)||{};if(u==null)return{};let c=hb(l),d={x:r,y:n},p=pb(i),h=db(p),m=await a.getDimensions(u),v=p==="y",g=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",y=o.reference[h]+o.reference[p]-d[p]-o.floating[h],x=d[p]-o.reference[p],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u)),E=A?A[w]:0;(!E||!await(a.isElement==null?void 0:a.isElement(A)))&&(E=s.floating[w]||o.floating[h]);let O=y/2-x/2,M=E/2-m[h]/2-1,C=en(c[g],M),k=en(c[_],M),q=C,N=E-m[h]-k,R=E/2-m[h]/2+O,F=cb(q,R,N),G=!f.arrow&&Qn(i)!=null&&R!==F&&o.reference[h]/2-(R<q?C:k)-m[h]/2<0,z=G?R<q?R-q:R-N:0;return{[p]:d[p]+z,data:{[p]:F,centerOffset:R-F-z,...G&&{alignmentOffset:z}},reset:G}}});d9=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,n,i;let{rects:o,middlewareData:a,placement:s,platform:f,elements:u}=t,{crossAxis:l=!1,alignment:c,allowedPlacements:d=NA,autoAlignment:p=!0,...h}=bn(e,t),m=c!==void 0||d===NA?VEe(c||null,p,d):d,v=await us(t,h),g=((r=a.autoPlacement)==null?void 0:r.index)||0,_=m[g];if(_==null)return{};let w=DA(_,o,await(f.isRTL==null?void 0:f.isRTL(u.floating)));if(s!==_)return{reset:{placement:m[0]}};let y=[v[yn(_)],v[w[0]],v[w[1]]],x=[...((n=a.autoPlacement)==null?void 0:n.overflows)||[],{placement:_,overflows:y}],A=m[g+1];if(A)return{data:{index:g+1,overflows:x},reset:{placement:A}};let E=x.map(C=>{let k=Qn(C.placement);return[C.placement,k&&l?C.overflows.slice(0,2).reduce((q,N)=>q+N,0):C.overflows[0],C.overflows]}).sort((C,k)=>C[1]-k[1]),M=((i=E.filter(C=>C[2].slice(0,Qn(C[0])?2:3).every(k=>k<=0))[0])==null?void 0:i[0])||E[0][0];return M!==s?{data:{index:g+1,overflows:x},reset:{placement:M}}:{}}}},p9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;let{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:f,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=bn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};let g=yn(i),_=ei(s),w=yn(s)===s,y=await(f.isRTL==null?void 0:f.isRTL(u.floating)),x=d||(w||!m?[lp(s)]:B4(s)),A=h!=="none";!d&&A&&x.push(...z4(s,m,h,y));let E=[s,...x],O=await us(t,v),M=[],C=((n=o.flip)==null?void 0:n.overflows)||[];if(l&&M.push(O[g]),c){let R=DA(i,a,y);M.push(O[R[0]],O[R[1]])}if(C=[...C,{placement:i,overflows:M}],!M.every(R=>R<=0)){var k,q;let R=(((k=o.flip)==null?void 0:k.index)||0)+1,F=E[R];if(F&&(!(c==="alignment"?_!==ei(F):!1)||C.every(j=>ei(j.placement)===_?j.overflows[0]>0:!0)))return{data:{index:R,overflows:C},reset:{placement:F}};let G=(q=C.filter(z=>z.overflows[0]<=0).sort((z,j)=>z.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!G)switch(p){case"bestFit":{var N;let z=(N=C.filter(j=>{if(A){let H=ei(j.placement);return H===_||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,Q)=>H+Q,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:N[0];z&&(G=z);break}case"initialPlacement":G=s;break}if(i!==G)return{reset:{placement:G}}}return{}}}};h9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...i}=bn(e,t);switch(n){case"referenceHidden":{let o=await us(t,{...i,elementContext:"reference"}),a=u9(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:l9(a)}}}case"escaped":{let o=await us(t,{...i,altBoundary:!0}),a=u9(o,r.floating);return{data:{escapedOffsets:a,escaped:l9(a)}}}default:return{}}}}};g9=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){let{placement:r,elements:n,rects:i,platform:o,strategy:a}=t,{padding:s=2,x:f,y:u}=bn(e,t),l=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(n.reference))||[]),c=GEe(l),d=ea(m9(l)),p=hb(s);function h(){if(c.length===2&&c[0].left>c[1].right&&f!=null&&u!=null)return c.find(v=>f>v.left-p.left&&f<v.right+p.right&&u>v.top-p.top&&u<v.bottom+p.bottom)||d;if(c.length>=2){if(ei(r)==="y"){let C=c[0],k=c[c.length-1],q=yn(r)==="top",N=C.top,R=k.bottom,F=q?C.left:k.left,G=q?C.right:k.right,z=G-F,j=R-N;return{top:N,bottom:R,left:F,right:G,width:z,height:j,x:F,y:N}}let v=yn(r)==="left",g=Ct(...c.map(C=>C.right)),_=en(...c.map(C=>C.left)),w=c.filter(C=>v?C.left===_:C.right===g),y=w[0].top,x=w[w.length-1].bottom,A=_,E=g,O=E-A,M=x-y;return{top:y,bottom:x,left:A,right:E,width:O,height:M,x:A,y}}return d}let m=await o.getElementRects({reference:{getBoundingClientRect:h},floating:n.floating,strategy:a});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},v9=new Set(["left","top"]);_9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:o,placement:a,middlewareData:s}=t,f=await YEe(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:a}}}}},b9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:g,y:_}=v;return{x:g,y:_}}},...f}=bn(e,t),u={x:r,y:n},l=await us(t,f),c=ei(yn(i)),d=fb(c),p=u[d],h=u[c];if(o){let v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=p+l[v],w=p-l[g];p=cb(_,p,w)}if(a){let v=c==="y"?"top":"left",g=c==="y"?"bottom":"right",_=h+l[v],w=h-l[g];h=cb(_,h,w)}let m=s.fn({...t,[d]:p,[c]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[d]:o,[c]:a}}}}}},y9=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:f=!0,crossAxis:u=!0}=bn(e,t),l={x:r,y:n},c=ei(i),d=fb(c),p=l[d],h=l[c],m=bn(s,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(f){let w=d==="y"?"height":"width",y=o.reference[d]-o.floating[w]+v.mainAxis,x=o.reference[d]+o.reference[w]-v.mainAxis;p<y?p=y:p>x&&(p=x)}if(u){var g,_;let w=d==="y"?"width":"height",y=v9.has(yn(i)),x=o.reference[c]-o.floating[w]+(y&&((g=a.offset)==null?void 0:g[c])||0)+(y?0:v.crossAxis),A=o.reference[c]+o.reference[w]+(y?0:((_=a.offset)==null?void 0:_[c])||0)-(y?v.crossAxis:0);h<x?h=x:h>A&&(h=A)}return{[d]:p,[c]:h}}}},w9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;let{placement:i,rects:o,platform:a,elements:s}=t,{apply:f=()=>{},...u}=bn(e,t),l=await us(t,u),c=yn(i),d=Qn(i),p=ei(i)==="y",{width:h,height:m}=o.floating,v,g;c==="top"||c==="bottom"?(v=c,g=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,v=d==="end"?"top":"bottom");let _=m-l.top-l.bottom,w=h-l.left-l.right,y=en(m-l[v],_),x=en(h-l[g],w),A=!t.middlewareData.shift,E=y,O=x;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=_),A&&!d){let C=Ct(l.left,0),k=Ct(l.right,0),q=Ct(l.top,0),N=Ct(l.bottom,0);p?O=h-2*(C!==0||k!==0?C+k:Ct(l.left,l.right)):E=m-2*(q!==0||N!==0?q+N:Ct(l.top,l.bottom))}await f({...t,availableWidth:O,availableHeight:E});let M=await a.getDimensions(s.floating);return h!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}}});function T9(e){let t=Qr(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=mt(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=lu(r)!==o||lu(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function oT(e){return et(e)?e:e.contextElement}function Mc(e){let t=oT(e);if(!mt(t))return Ci(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=T9(t),a=(o?lu(r.width):r.width)/n,s=(o?lu(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}function O9(e){let t=Rr(e);return!wc()||!t.visualViewport?ZEe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KEe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rr(e)?!1:t}function du(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);let i=e.getBoundingClientRect(),o=oT(e),a=Ci(1);t&&(n?et(n)&&(a=Mc(n)):a=Mc(e));let s=KEe(o,r,n)?O9(o):Ci(0),f=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,l=i.width/a.x,c=i.height/a.y;if(o){let d=Rr(o),p=n&&et(n)?Rr(n):n,h=d,m=lb(h);for(;m&&n&&p!==h;){let v=Mc(m),g=m.getBoundingClientRect(),_=Qr(m),w=g.left+(m.clientLeft+parseFloat(_.paddingLeft))*v.x,y=g.top+(m.clientTop+parseFloat(_.paddingTop))*v.y;f*=v.x,u*=v.y,l*=v.x,c*=v.y,f+=w,u+=y,h=Rr(m),m=lb(h)}}return ea({width:l,height:c,x:f,y:u})}function Ab(e,t){let r=ap(e).scrollLeft;return t?t.left+r:du(Oi(e)).left+r}function M9(e,t){let r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ab(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function XEe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o=i==="fixed",a=Oi(n),s=t?op(t.floating):!1;if(n===a||s&&o)return r;let f={scrollLeft:0,scrollTop:0},u=Ci(1),l=Ci(0),c=mt(n);if((c||!c&&!o)&&((bo(n)!=="body"||yc(a))&&(f=ap(n)),mt(n))){let p=du(n);u=Mc(n),l.x=p.x+n.clientLeft,l.y=p.y+n.clientTop}let d=a&&!c&&!o?M9(a,f):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-f.scrollLeft*u.x+l.x+d.x,y:r.y*u.y-f.scrollTop*u.y+l.y+d.y}}function JEe(e){return Array.from(e.getClientRects())}function QEe(e){let t=Oi(e),r=ap(e),n=e.ownerDocument.body,i=Ct(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ct(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+Ab(e),s=-r.scrollTop;return Qr(n).direction==="rtl"&&(a+=Ct(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function eAe(e,t){let r=Rr(e),n=Oi(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,f=0;if(i){o=i.width,a=i.height;let l=wc();(!l||l&&t==="fixed")&&(s=i.offsetLeft,f=i.offsetTop)}let u=Ab(n);if(u<=0){let l=n.ownerDocument,c=l.body,d=getComputedStyle(c),p=l.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,h=Math.abs(n.clientWidth-c.clientWidth-p);h<=S9&&(o-=h)}else u<=S9&&(o+=u);return{width:o,height:a,x:s,y:f}}function rAe(e,t){let r=du(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=mt(e)?Mc(e):Ci(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,f=i*o.x,u=n*o.y;return{width:a,height:s,x:f,y:u}}function E9(e,t,r){let n;if(t==="viewport")n=eAe(e,r);else if(t==="document")n=QEe(Oi(e));else if(et(t))n=rAe(t,r);else{let i=O9(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ea(n)}function C9(e,t){let r=Ti(e);return r===t||!et(r)||Mi(r)?!1:Qr(r).position==="fixed"||C9(r,t)}function nAe(e,t){let r=t.get(e);if(r)return r;let n=_n(e,[],!1).filter(s=>et(s)&&bo(s)!=="body"),i=null,o=Qr(e).position==="fixed",a=o?Ti(e):e;for(;et(a)&&!Mi(a);){let s=Qr(a),f=ub(a);!f&&s.position==="fixed"&&(i=null),(o?!f&&!i:!f&&s.position==="static"&&!!i&&tAe.has(i.position)||yc(a)&&!f&&C9(e,a))?n=n.filter(l=>l!==a):i=s,a=Ti(a)}return t.set(e,n),n}function iAe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[...r==="clippingAncestors"?op(t)?[]:nAe(t,this._c):[].concat(r),n],s=a[0],f=a.reduce((u,l)=>{let c=E9(t,l,i);return u.top=Ct(c.top,u.top),u.right=en(c.right,u.right),u.bottom=en(c.bottom,u.bottom),u.left=Ct(c.left,u.left),u},E9(t,s,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function oAe(e){let{width:t,height:r}=T9(e);return{width:t,height:r}}function aAe(e,t,r){let n=mt(t),i=Oi(t),o=r==="fixed",a=du(e,!0,o,t),s={scrollLeft:0,scrollTop:0},f=Ci(0);function u(){f.x=Ab(i)}if(n||!n&&!o)if((bo(t)!=="body"||yc(i))&&(s=ap(t)),n){let p=du(t,!0,o,t);f.x=p.x+t.clientLeft,f.y=p.y+t.clientTop}else i&&u();o&&!n&&i&&u();let l=i&&!n&&!o?M9(i,s):Ci(0),c=a.left+s.scrollLeft-f.x-l.x,d=a.top+s.scrollTop-f.y-l.y;return{x:c,y:d,width:a.width,height:a.height}}function iT(e){return Qr(e).position==="static"}function A9(e,t){if(!mt(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Oi(e)===r&&(r=r.ownerDocument.body),r}function k9(e,t){let r=Rr(e);if(op(e))return r;if(!mt(e)){let i=Ti(e);for(;i&&!Mi(i);){if(et(i)&&!iT(i))return i;i=Ti(i)}return r}let n=A9(e,t);for(;n&&L4(n)&&iT(n);)n=A9(n,t);return n&&Mi(n)&&iT(n)&&!ub(n)?r:n||j4(e)||r}function uAe(e){return Qr(e).direction==="rtl"}function R9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lAe(e,t){let r=null,n,i=Oi(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,f){s===void 0&&(s=!1),f===void 0&&(f=1),o();let u=e.getBoundingClientRect(),{left:l,top:c,width:d,height:p}=u;if(s||t(),!d||!p)return;let h=os(c),m=os(i.clientWidth-(l+d)),v=os(i.clientHeight-(c+p)),g=os(l),w={rootMargin:-h+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Ct(0,en(1,f))||1},y=!0;function x(A){let E=A[0].intersectionRatio;if(E!==f){if(!y)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!R9(u,e.getBoundingClientRect())&&a(),y=!1}try{r=new IntersectionObserver(x,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(x,w)}r.observe(e)}return a(!0),o}function aT(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,u=oT(e),l=i||o?[...u?_n(u):[],..._n(t)]:[];l.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),o&&g.addEventListener("resize",r)});let c=u&&s?lAe(u,r):null,d=-1,p=null;a&&(p=new ResizeObserver(g=>{let[_]=g;_&&_.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!f&&p.observe(u),p.observe(t));let h,m=f?du(e):null;f&&v();function v(){let g=du(e);m&&!R9(m,g)&&r(),m=g,h=requestAnimationFrame(v)}return r(),()=>{var g;l.forEach(_=>{i&&_.removeEventListener("scroll",r),o&&_.removeEventListener("resize",r)}),c?.(),(g=p)==null||g.disconnect(),p=null,f&&cancelAnimationFrame(h)}}var ZEe,S9,tAe,sAe,Tb,pu,P9,I9,L9,j9,q9,F9,sT,N9,D9,dp,uT=L(()=>{x9();xc();sp();sp();ZEe=Ci(0);S9=25;tAe=new Set(["absolute","fixed"]);sAe=async function(e){let t=this.getOffsetParent||k9,r=this.getDimensions,n=await r(e.floating);return{reference:aAe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};Tb={convertOffsetParentRelativeRectToViewportRelativeRect:XEe,getDocumentElement:Oi,getClippingRect:iAe,getOffsetParent:k9,getElementRects:sAe,getClientRects:JEe,getDimensions:oAe,getScale:Mc,isElement:et,isRTL:uAe};pu=us,P9=_9,I9=d9,L9=b9,j9=p9,q9=w9,F9=h9,sT=f9,N9=g9,D9=y9,dp=(e,t,r)=>{let n=new Map,i={platform:Tb,...r},o={...i.platform,_c:n};return c9(e,t,{...i,platform:o})}});function Mb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){let o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Mb(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function H9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function B9(e,t){let r=H9(e);return Math.round(t*r)/r}function lT(e){let t=Vt.useRef(e);return Ob(()=>{t.current=e}),t}function W9(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:f,open:u}=e,[l,c]=Vt.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=Vt.useState(n);Mb(d,n)||p(n);let[h,m]=Vt.useState(null),[v,g]=Vt.useState(null),_=Vt.useCallback(j=>{j!==A.current&&(A.current=j,m(j))},[]),w=Vt.useCallback(j=>{j!==E.current&&(E.current=j,g(j))},[]),y=o||h,x=a||v,A=Vt.useRef(null),E=Vt.useRef(null),O=Vt.useRef(l),M=f!=null,C=lT(f),k=lT(i),q=lT(u),N=Vt.useCallback(()=>{if(!A.current||!E.current)return;let j={placement:t,strategy:r,middleware:d};k.current&&(j.platform=k.current),dp(A.current,E.current,j).then(H=>{let Q={...H,isPositioned:q.current!==!1};R.current&&!Mb(O.current,Q)&&(O.current=Q,U9.flushSync(()=>{c(Q)}))})},[d,t,r,k,q]);Ob(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,c(j=>({...j,isPositioned:!1})))},[u]);let R=Vt.useRef(!1);Ob(()=>(R.current=!0,()=>{R.current=!1}),[]),Ob(()=>{if(y&&(A.current=y),x&&(E.current=x),y&&x){if(C.current)return C.current(y,x,N);N()}},[y,x,N,C,M]);let F=Vt.useMemo(()=>({reference:A,floating:E,setReference:_,setFloating:w}),[_,w]),G=Vt.useMemo(()=>({reference:y,floating:x}),[y,x]),z=Vt.useMemo(()=>{let j={position:r,left:0,top:0};if(!G.floating)return j;let H=B9(G.floating,l.x),Q=B9(G.floating,l.y);return s?{...j,transform:"translate("+H+"px, "+Q+"px)",...H9(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:Q}},[r,s,G.floating,l.x,l.y]);return Vt.useMemo(()=>({...l,update:N,refs:F,elements:G,floatingStyles:z}),[l,N,F,G,z])}var Vt,z9,U9,cAe,fAe,Ob,dAe,Cb,$9,V9,G9,Y9,Z9,K9,X9,J9,cT=L(()=>{uT();uT();Vt=T(U(),1),z9=T(U(),1),U9=T(Qh(),1),cAe=typeof document<"u",fAe=function(){},Ob=cAe?z9.useLayoutEffect:fAe;dAe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sT({element:n.current,padding:i}).fn(r):{}:n?sT({element:n,padding:i}).fn(r):{}}}},Cb=(e,t)=>({...P9(e),options:[e,t]}),$9=(e,t)=>({...L9(e),options:[e,t]}),V9=(e,t)=>({...D9(e),options:[e,t]}),G9=(e,t)=>({...j9(e),options:[e,t]}),Y9=(e,t)=>({...q9(e),options:[e,t]}),Z9=(e,t)=>({...I9(e),options:[e,t]}),K9=(e,t)=>({...F9(e),options:[e,t]}),X9=(e,t)=>({...N9(e),options:[e,t]}),J9=(e,t)=>({...dAe(e),options:[e,t]})});var H7={};jr(H7,{Composite:()=>mAe,CompositeItem:()=>gAe,FloatingArrow:()=>wAe,FloatingDelayGroup:()=>TAe,FloatingFocusManager:()=>BAe,FloatingList:()=>E7,FloatingNode:()=>SAe,FloatingOverlay:()=>UAe,FloatingPortal:()=>jAe,FloatingTree:()=>EAe,NextFloatingDelayGroup:()=>MAe,arrow:()=>J9,autoPlacement:()=>Z9,autoUpdate:()=>aT,computePosition:()=>dp,detectOverflow:()=>pu,flip:()=>G9,getOverflowAncestors:()=>_n,hide:()=>K9,inline:()=>X9,inner:()=>aTe,limitShift:()=>V9,offset:()=>Cb,platform:()=>Tb,safePolygon:()=>lTe,shift:()=>$9,size:()=>Y9,useClick:()=>WAe,useClientPoint:()=>VAe,useDelayGroup:()=>OAe,useDelayGroupContext:()=>L7,useDismiss:()=>ZAe,useFloating:()=>KAe,useFloatingNodeId:()=>xAe,useFloatingParentNodeId:()=>vu,useFloatingPortalNode:()=>N7,useFloatingRootContext:()=>B7,useFloatingTree:()=>_u,useFocus:()=>XAe,useHover:()=>AAe,useId:()=>Rc,useInnerOffset:()=>sTe,useInteractions:()=>JAe,useListItem:()=>A7,useListNavigation:()=>eTe,useMergeRefs:()=>x7,useNextDelayGroup:()=>CAe,useRole:()=>rTe,useTransitionStatus:()=>z7,useTransitionStyles:()=>iTe,useTypeahead:()=>oTe});function x7(e){let t=I.useRef(void 0),r=I.useCallback(n=>{let i=e.map(o=>{if(o!=null){if(typeof o=="function"){let a=o,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return o.current=n,()=>{o.current=null}}});return()=>{i.forEach(o=>o?.())}},e);return I.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function pAe(e,t){let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function E7(e){let{children:t,elementsRef:r,labelsRef:n}=e,[i,o]=I.useState(()=>new Set),a=I.useCallback(u=>{o(l=>new Set(l).add(u))},[]),s=I.useCallback(u=>{o(l=>{let c=new Set(l);return c.delete(u),c})},[]),f=I.useMemo(()=>{let u=new Map;return Array.from(i.keys()).sort(pAe).forEach((c,d)=>{u.set(c,d)}),u},[i]);return(0,tt.jsx)(S7.Provider,{value:I.useMemo(()=>({register:a,unregister:s,map:f,elementsRef:r,labelsRef:n}),[a,s,f,r,n]),children:t})}function A7(e){e===void 0&&(e={});let{label:t}=e,{register:r,unregister:n,map:i,elementsRef:o,labelsRef:a}=I.useContext(S7),[s,f]=I.useState(null),u=I.useRef(null),l=I.useCallback(c=>{if(u.current=c,s!==null&&(o.current[s]=c,a)){var d;let p=t!==void 0;a.current[s]=p?t:(d=c?.textContent)!=null?d:null}},[s,o,a,t]);return Re(()=>{let c=u.current;if(c)return r(c),()=>{n(c)}},[r,n]),Re(()=>{let c=u.current?i.get(u.current):null;c!=null&&f(c)},[i]),I.useMemo(()=>({ref:l,index:s??-1}),[s,l])}function T7(e,t){return typeof e=="function"?e(t):e?I.cloneElement(e,t):(0,tt.jsx)("div",{...t})}function bAe(){let[e,t]=I.useState(()=>t7?r7():void 0);return Re(()=>{e==null&&t(r7())},[]),I.useEffect(()=>{t7=!0},[]),e}function k7(){let e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}function xAe(e){let t=Rc(),r=_u(),n=vu(),i=e||n;return Re(()=>{if(!t)return;let o={id:t,parentId:i};return r?.addNode(o),()=>{r?.removeNode(o)}},[r,t,i]),t}function SAe(e){let{children:t,id:r}=e,n=vu();return(0,tt.jsx)(R7.Provider,{value:I.useMemo(()=>({id:r,parentId:n}),[r,n]),children:t})}function EAe(e){let{children:t}=e,r=I.useRef([]),n=I.useCallback(a=>{r.current=[...r.current,a]},[]),i=I.useCallback(a=>{r.current=r.current.filter(s=>s!==a)},[]),[o]=I.useState(()=>k7());return(0,tt.jsx)(P7.Provider,{value:I.useMemo(()=>({nodesRef:r,addNode:n,removeNode:i,events:o}),[n,i,o]),children:t})}function gu(e){return"data-floating-ui-"+e}function mr(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}function pp(e,t,r){if(r&&!fu(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){let n=e();return typeof n=="number"?n:n?.[t]}return e?.[t]}function dT(e){return typeof e=="function"?e():e}function AAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:i,events:o,elements:a}=e,{enabled:s=!0,delay:f=0,handleClose:u=null,mouseOnly:l=!1,restMs:c=0,move:d=!0}=t,p=_u(),h=vu(),m=nr(u),v=nr(f),g=nr(r),_=nr(c),w=I.useRef(),y=I.useRef(-1),x=I.useRef(),A=I.useRef(-1),E=I.useRef(!0),O=I.useRef(!1),M=I.useRef(()=>{}),C=I.useRef(!1),k=it(()=>{var z;let j=(z=i.current.openEvent)==null?void 0:z.type;return j?.includes("mouse")&&j!=="mousedown"});I.useEffect(()=>{if(!s)return;function z(j){let{open:H}=j;H||(mr(y),mr(A),E.current=!0,C.current=!1)}return o.on("openchange",z),()=>{o.off("openchange",z)}},[s,o]),I.useEffect(()=>{if(!s||!m.current||!r)return;function z(H){k()&&n(!1,H,"hover")}let j=hr(a.floating).documentElement;return j.addEventListener("mouseleave",z),()=>{j.removeEventListener("mouseleave",z)}},[a.floating,r,n,s,m,k]);let q=I.useCallback(function(z,j,H){j===void 0&&(j=!0),H===void 0&&(H="hover");let Q=pp(v.current,"close",w.current);Q&&!x.current?(mr(y),y.current=window.setTimeout(()=>n(!1,z,H),Q)):j&&(mr(y),n(!1,z,H))},[v,n]),N=it(()=>{M.current(),x.current=void 0}),R=it(()=>{if(O.current){let z=hr(a.floating).body;z.style.pointerEvents="",z.removeAttribute(n7),O.current=!1}}),F=it(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);I.useEffect(()=>{if(!s)return;function z(le){if(mr(y),E.current=!1,l&&!fu(w.current)||dT(_.current)>0&&!pp(v.current,"open"))return;let W=pp(v.current,"open",w.current);W?y.current=window.setTimeout(()=>{g.current||n(!0,le,"hover")},W):r||n(!0,le,"hover")}function j(le){if(F()){R();return}M.current();let W=hr(a.floating);if(mr(A),C.current=!1,m.current&&i.current.floatingContext){r||mr(y),x.current=m.current({...i.current.floatingContext,tree:p,x:le.clientX,y:le.clientY,onClose(){R(),N(),F()||q(le,!0,"safe-polygon")}});let B=x.current;W.addEventListener("mousemove",B),M.current=()=>{W.removeEventListener("mousemove",B)};return}(w.current==="touch"?!rr(a.floating,le.relatedTarget):!0)&&q(le)}function H(le){F()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:p,x:le.clientX,y:le.clientY,onClose(){R(),N(),F()||q(le)}})(le))}function Q(){mr(y)}function _e(le){F()||q(le,!1)}if(et(a.domReference)){let le=a.domReference,W=a.floating;return r&&le.addEventListener("mouseleave",H),d&&le.addEventListener("mousemove",z,{once:!0}),le.addEventListener("mouseenter",z),le.addEventListener("mouseleave",j),W&&(W.addEventListener("mouseleave",H),W.addEventListener("mouseenter",Q),W.addEventListener("mouseleave",_e)),()=>{r&&le.removeEventListener("mouseleave",H),d&&le.removeEventListener("mousemove",z),le.removeEventListener("mouseenter",z),le.removeEventListener("mouseleave",j),W&&(W.removeEventListener("mouseleave",H),W.removeEventListener("mouseenter",Q),W.removeEventListener("mouseleave",_e))}}},[a,s,e,l,d,q,N,R,n,r,g,p,v,m,i,F,_]),Re(()=>{var z;if(s&&r&&(z=m.current)!=null&&(z=z.__options)!=null&&z.blockPointerEvents&&k()){O.current=!0;let H=a.floating;if(et(a.domReference)&&H){var j;let Q=hr(a.floating).body;Q.setAttribute(n7,"");let _e=a.domReference,le=p==null||(j=p.nodesRef.current.find(W=>W.id===h))==null||(j=j.context)==null?void 0:j.elements.floating;return le&&(le.style.pointerEvents=""),Q.style.pointerEvents="none",_e.style.pointerEvents="auto",H.style.pointerEvents="auto",()=>{Q.style.pointerEvents="",_e.style.pointerEvents="",H.style.pointerEvents=""}}}},[s,r,h,a,p,m,k]),Re(()=>{r||(w.current=void 0,C.current=!1,N(),R())},[r,N,R]),I.useEffect(()=>()=>{N(),mr(y),mr(A),R()},[s,a.domReference,N,R]);let G=I.useMemo(()=>{function z(j){w.current=j.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove(j){let{nativeEvent:H}=j;function Q(){!E.current&&!g.current&&n(!0,H,"hover")}l&&!fu(w.current)||r||dT(_.current)===0||C.current&&j.movementX**2+j.movementY**2<2||(mr(A),w.current==="touch"?Q():(C.current=!0,A.current=window.setTimeout(Q,dT(_.current))))}}},[l,n,r,g,_]);return I.useMemo(()=>s?{reference:G}:{},[s,G])}function TAe(e){let{children:t,delay:r,timeoutMs:n=0}=e,[i,o]=I.useReducer((f,u)=>({...f,...u}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),a=I.useRef(null),s=I.useCallback(f=>{o({currentId:f})},[]);return Re(()=>{i.currentId?a.current===null?a.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),a.current=null)},[i.currentId,i.isInstantPhase]),(0,tt.jsx)(I7.Provider,{value:I.useMemo(()=>({...i,setState:o,setCurrentId:s}),[i,s]),children:t})}function OAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:i}=e,{id:o,enabled:a=!0}=t,s=o??i,f=L7(),{currentId:u,setCurrentId:l,initialDelay:c,setState:d,timeoutMs:p}=f;return Re(()=>{a&&u&&(d({delay:{open:1,close:pp(c,"close")}}),u!==s&&n(!1))},[a,s,n,d,u,c]),Re(()=>{function h(){n(!1),d({delay:c,currentId:null})}if(a&&u&&!r&&u===s){if(p){let m=window.setTimeout(h,p);return()=>{clearTimeout(m)}}h()}},[a,r,d,u,s,n,c,p]),Re(()=>{a&&(l===_T||!r||l(s))},[a,r,l,s]),f}function MAe(e){let{children:t,delay:r,timeoutMs:n=0}=e,i=I.useRef(r),o=I.useRef(r),a=I.useRef(null),s=I.useRef(null),f=I.useRef(-1);return(0,tt.jsx)(j7.Provider,{value:I.useMemo(()=>({hasProvider:!0,delayRef:i,initialDelayRef:o,currentIdRef:a,timeoutMs:n,currentContextRef:s,timeoutIdRef:f}),[n]),children:t})}function CAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,floatingId:i}=e,{enabled:o=!0}=t,a=I.useContext(j7),{currentIdRef:s,delayRef:f,timeoutMs:u,initialDelayRef:l,currentContextRef:c,hasProvider:d,timeoutIdRef:p}=a,[h,m]=I.useState(!1);return Re(()=>{function v(){var g;m(!1),(g=c.current)==null||g.setIsInstantPhase(!1),s.current=null,c.current=null,f.current=l.current}if(o&&s.current&&!r&&s.current===i){if(m(!1),u)return p.current=window.setTimeout(v,u),()=>{clearTimeout(p.current)};v()}},[o,r,i,s,f,u,l,c,p]),Re(()=>{if(!o||!r)return;let v=c.current,g=s.current;c.current={onOpenChange:n,setIsInstantPhase:m},s.current=i,f.current={open:0,close:pp(l.current,"close")},g!==null&&g!==i?(mr(p),m(!0),v?.setIsInstantPhase(!0),v?.onOpenChange(!1)):(m(!1),v?.setIsInstantPhase(!1))},[o,r,i,n,s,f,u,l,c,p]),Re(()=>()=>{c.current=null},[c]),I.useMemo(()=>({hasProvider:d,delayRef:f,isInstantPhase:h}),[d,f,h])}function hu(e,t){t===void 0&&(t={});let{preventScroll:r=!1,cancelPrevious:n=!0,sync:i=!1}=t;n&&cancelAnimationFrame(i7);let o=()=>e?.focus({preventScroll:r});i?o():i7=requestAnimationFrame(o)}function pT(e,t){if(!e||!t)return!1;let r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&bc(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function kAe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function RAe(e){return e?.ownerDocument||document}function o7(e){return e==="inert"?kc.inert:e==="aria-hidden"?kc["aria-hidden"]:kc.none}function LAe(e,t,r,n){let i="data-floating-ui-inert",o=n?"inert":r?"aria-hidden":null,a=IAe(t,e),s=new Set,f=new Set(a),u=[];Rb[i]||(Rb[i]=new WeakMap);let l=Rb[i];a.forEach(c),d(t),s.clear();function c(p){!p||s.has(p)||(s.add(p),p.parentNode&&c(p.parentNode))}function d(p){!p||f.has(p)||[].forEach.call(p.children,h=>{if(bo(h)!=="script")if(s.has(h))d(h);else{let m=o?h.getAttribute(o):null,v=m!==null&&m!=="false",g=o7(o),_=(g.get(h)||0)+1,w=(l.get(h)||0)+1;g.set(h,_),l.set(h,w),u.push(h),_===1&&v&&kb.add(h),w===1&&h.setAttribute(i,""),!v&&o&&h.setAttribute(o,o==="inert"?"":"true")}})}return hT++,()=>{u.forEach(p=>{let h=o7(o),v=(h.get(p)||0)-1,g=(l.get(p)||0)-1;h.set(p,v),l.set(p,g),v||(!kb.has(p)&&o&&p.removeAttribute(o),kb.delete(p)),g||p.removeAttribute(i)}),hT--,hT||(kc.inert=new WeakMap,kc["aria-hidden"]=new WeakMap,kc.none=new WeakMap,kb=new WeakSet,Rb={})}}function a7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);let n=RAe(e[0]).body;return LAe(e.concat(Array.from(n.querySelectorAll('[aria-live],[role="status"],output'))),n,t,r)}function N7(e){e===void 0&&(e={});let{id:t,root:r}=e,n=Rc(),i=D7(),[o,a]=I.useState(null),s=I.useRef(null);return Re(()=>()=>{o?.remove(),queueMicrotask(()=>{s.current=null})},[o]),Re(()=>{if(!n||s.current)return;let f=t?document.getElementById(t):null;if(!f)return;let u=document.createElement("div");u.id=n,u.setAttribute(s7,""),f.appendChild(u),s.current=u,a(u)},[t,n]),Re(()=>{if(r===null||!n||s.current)return;let f=r||i?.portalNode;f&&!sb(f)&&(f=f.current),f=f||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,f.appendChild(u));let l=document.createElement("div");l.id=n,l.setAttribute(s7,""),f=u||f,f.appendChild(l),s.current=l,a(l)},[t,r,n,i]),o}function jAe(e){let{children:t,id:r,root:n,preserveTabOrder:i=!0}=e,o=N7({id:r,root:n}),[a,s]=I.useState(null),f=I.useRef(null),u=I.useRef(null),l=I.useRef(null),c=I.useRef(null),d=a?.modal,p=a?.open,h=!!a&&!a.modal&&a.open&&i&&!!(n||o);return I.useEffect(()=>{if(!o||!i||d)return;function m(v){o&&Oc(v)&&(v.type==="focusin"?nT:o9)(o)}return o.addEventListener("focusin",m,!0),o.addEventListener("focusout",m,!0),()=>{o.removeEventListener("focusin",m,!0),o.removeEventListener("focusout",m,!0)}},[o,i,d]),I.useEffect(()=>{o&&(p||nT(o))},[p,o]),(0,tt.jsxs)(F7.Provider,{value:I.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:f,afterOutsideRef:u,beforeInsideRef:l,afterInsideRef:c,portalNode:o,setFocusManagerState:s}),[i,o]),children:[h&&o&&(0,tt.jsx)(Lb,{"data-type":"outside",ref:f,onFocus:m=>{if(Oc(m,o)){var v;(v=l.current)==null||v.focus()}else{let g=a?a.domReference:null,_=rT(g);_?.focus()}}}),h&&o&&(0,tt.jsx)("span",{"aria-owns":o.id,style:jb}),o&&mu.createPortal(t,o),h&&o&&(0,tt.jsx)(Lb,{"data-type":"outside",ref:u,onFocus:m=>{if(Oc(m,o)){var v;(v=c.current)==null||v.focus()}else{let g=a?a.domReference:null,_=tT(g);_?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,m.nativeEvent,"focus-out")}}})]})}function u7(e){return I.useMemo(()=>t=>{e.forEach(r=>{r&&(r.current=t)})},e)}function bT(){ls=ls.filter(e=>e.isConnected)}function FAe(e){bT(),e&&bo(e)!=="body"&&(ls.push(e),ls.length>qAe&&(ls=ls.slice(-20)))}function l7(){return bT(),ls[ls.length-1]}function NAe(e){let t=Tc();return UA(e,t)?e:Ec(e,t)[0]||e}function c7(e,t){var r;if(!t.current.includes("floating")&&!((r=e.getAttribute("role"))!=null&&r.includes("dialog")))return;let n=Tc(),o=Z4(e,n).filter(s=>{let f=s.getAttribute("data-tabindex")||"";return UA(s,n)||s.hasAttribute("data-tabindex")&&!f.startsWith("-")}),a=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?a!=="0"&&e.setAttribute("tabindex","0"):(a!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function BAe(e){let{context:t,children:r,disabled:n=!1,order:i=["content"],guards:o=!0,initialFocus:a=0,returnFocus:s=!0,restoreFocus:f=!1,modal:u=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:c=!0,outsideElementsInert:d=!1,getInsideElements:p=()=>[]}=e,{open:h,onOpenChange:m,events:v,dataRef:g,elements:{domReference:_,floating:w}}=t,y=it(()=>{var fe;return(fe=g.current.floatingContext)==null?void 0:fe.nodeId}),x=it(p),A=typeof a=="number"&&a<0,E=Sb(_)&&A,O=PAe(),M=O?o:!0,C=!M||O&&d,k=nr(i),q=nr(a),N=nr(s),R=_u(),F=D7(),G=I.useRef(null),z=I.useRef(null),j=I.useRef(!1),H=I.useRef(!1),Q=I.useRef(-1),_e=I.useRef(-1),le=F!=null,W=cp(w),ke=it(function(fe){return fe===void 0&&(fe=W),fe?Ec(fe,Tc()):[]}),B=it(fe=>{let Z=ke(fe);return k.current.map(Y=>_&&Y==="reference"?_:W&&Y==="floating"?W:Z).filter(Boolean).flat()});I.useEffect(()=>{if(n||!u)return;function fe(Y){if(Y.key==="Tab"){rr(W,ki(hr(W)))&&ke().length===0&&!E&&pr(Y);let ne=B(),re=Ri(Y);k.current[0]==="reference"&&re===_&&(pr(Y),Y.shiftKey?hu(ne[ne.length-1]):hu(ne[1])),k.current[1]==="floating"&&re===W&&Y.shiftKey&&(pr(Y),hu(ne[0]))}}let Z=hr(W);return Z.addEventListener("keydown",fe),()=>{Z.removeEventListener("keydown",fe)}},[n,_,W,u,k,E,ke,B]),I.useEffect(()=>{if(n||!w)return;function fe(Z){let Y=Ri(Z),re=ke().indexOf(Y);re!==-1&&(Q.current=re)}return w.addEventListener("focusin",fe),()=>{w.removeEventListener("focusin",fe)}},[n,w,ke]),I.useEffect(()=>{if(n||!c)return;function fe(){H.current=!0,setTimeout(()=>{H.current=!1})}function Z(re){let ie=re.relatedTarget,X=re.currentTarget,te=Ri(re);queueMicrotask(()=>{let ue=y(),ve=!(rr(_,ie)||rr(w,ie)||rr(ie,w)||rr(F?.portalNode,ie)||ie!=null&&ie.hasAttribute(gu("focus-guard"))||R&&(as(R.nodesRef.current,ue).find($=>{var J,K;return rr((J=$.context)==null?void 0:J.elements.floating,ie)||rr((K=$.context)==null?void 0:K.elements.domReference,ie)})||YA(R.nodesRef.current,ue).find($=>{var J,K,de;return[(J=$.context)==null?void 0:J.elements.floating,cp((K=$.context)==null?void 0:K.elements.floating)].includes(ie)||((de=$.context)==null?void 0:de.elements.domReference)===ie})));if(X===_&&W&&c7(W,k),f&&X!==_&&!(te!=null&&te.isConnected)&&ki(hr(W))===hr(W).body){mt(W)&&W.focus();let $=Q.current,J=ke(),K=J[$]||J[J.length-1]||W;mt(K)&&K.focus()}if(g.current.insideReactTree){g.current.insideReactTree=!1;return}(E||!u)&&ie&&ve&&!H.current&&ie!==l7()&&(j.current=!0,m(!1,re,"focus-out"))})}let Y=!!(!R&&F);function ne(){mr(_e),g.current.insideReactTree=!0,_e.current=window.setTimeout(()=>{g.current.insideReactTree=!1})}if(w&&mt(_))return _.addEventListener("focusout",Z),_.addEventListener("pointerdown",fe),w.addEventListener("focusout",Z),Y&&w.addEventListener("focusout",ne,!0),()=>{_.removeEventListener("focusout",Z),_.removeEventListener("pointerdown",fe),w.removeEventListener("focusout",Z),Y&&w.removeEventListener("focusout",ne,!0)}},[n,_,w,W,u,R,F,m,c,f,ke,E,y,k,g]);let se=I.useRef(null),xe=I.useRef(null),ye=u7([se,F?.beforeInsideRef]),oe=u7([xe,F?.afterInsideRef]);I.useEffect(()=>{var fe,Z;if(n||!w)return;let Y=Array.from((F==null||(fe=F.portalNode)==null?void 0:fe.querySelectorAll("["+gu("portal")+"]"))||[]),re=(Z=(R?YA(R.nodesRef.current,y()):[]).find(te=>{var ue;return Sb(((ue=te.context)==null?void 0:ue.elements.domReference)||null)}))==null||(Z=Z.context)==null?void 0:Z.elements.domReference,ie=[w,re,...Y,...x(),G.current,z.current,se.current,xe.current,F?.beforeOutsideRef.current,F?.afterOutsideRef.current,k.current.includes("reference")||E?_:null].filter(te=>te!=null),X=u||E?a7(ie,!C,C):a7(ie);return()=>{X()}},[n,_,w,u,k,F,E,M,C,R,y,x]),Re(()=>{if(n||!mt(W))return;let fe=hr(W),Z=ki(fe);queueMicrotask(()=>{let Y=B(W),ne=q.current,re=(typeof ne=="number"?Y[ne]:ne.current)||W,ie=rr(W,Z);!A&&!ie&&h&&hu(re,{preventScroll:re===W})})},[n,h,W,A,B,q]),Re(()=>{if(n||!W)return;let fe=hr(W),Z=ki(fe);FAe(Z);function Y(ie){let{reason:X,event:te,nested:ue}=ie;if(["hover","safe-polygon"].includes(X)&&te.type==="mouseleave"&&(j.current=!0),X==="outside-press")if(ue)j.current=!1;else if(ZA(te)||KA(te))j.current=!1;else{let ve=!1;document.createElement("div").focus({get preventScroll(){return ve=!0,!1}}),ve?j.current=!1:j.current=!0}}v.on("openchange",Y);let ne=fe.createElement("span");ne.setAttribute("tabindex","-1"),ne.setAttribute("aria-hidden","true"),Object.assign(ne.style,jb),le&&_&&_.insertAdjacentElement("afterend",ne);function re(){if(typeof N.current=="boolean"){let ie=_||l7();return ie&&ie.isConnected?ie:ne}return N.current.current||ne}return()=>{v.off("openchange",Y);let ie=ki(fe),X=rr(w,ie)||R&&as(R.nodesRef.current,y(),!1).some(ue=>{var ve;return rr((ve=ue.context)==null?void 0:ve.elements.floating,ie)}),te=re();queueMicrotask(()=>{let ue=NAe(te);N.current&&!j.current&&mt(ue)&&(!(ue!==ie&&ie!==fe.body)||X)&&ue.focus({preventScroll:!0}),ne.remove()})}},[n,w,W,N,g,v,R,le,_,y]),I.useEffect(()=>(queueMicrotask(()=>{j.current=!1}),()=>{queueMicrotask(bT)}),[n]),Re(()=>{if(!n&&F)return F.setFocusManagerState({modal:u,closeOnFocusOut:c,open:h,onOpenChange:m,domReference:_}),()=>{F.setFocusManagerState(null)}},[n,F,u,h,m,c,_]),Re(()=>{n||W&&c7(W,k)},[n,W,k]);function ce(fe){return n||!l||!u?null:(0,tt.jsx)(DAe,{ref:fe==="start"?G:z,onClick:Z=>m(!1,Z.nativeEvent),children:typeof l=="string"?l:"Dismiss"})}let Ee=!n&&M&&(u?!E:!0)&&(le||u);return(0,tt.jsxs)(tt.Fragment,{children:[Ee&&(0,tt.jsx)(Lb,{"data-type":"inside",ref:ye,onFocus:fe=>{if(u){let Y=B();hu(i[0]==="reference"?Y[0]:Y[Y.length-1])}else if(F!=null&&F.preserveTabOrder&&F.portalNode)if(j.current=!1,Oc(fe,F.portalNode)){let Y=tT(_);Y?.focus()}else{var Z;(Z=F.beforeOutsideRef.current)==null||Z.focus()}}}),!E&&ce("start"),r,ce("end"),Ee&&(0,tt.jsx)(Lb,{"data-type":"inside",ref:oe,onFocus:fe=>{if(u)hu(B()[0]);else if(F!=null&&F.preserveTabOrder&&F.portalNode)if(c&&(j.current=!0),Oc(fe,F.portalNode)){let Y=rT(_);Y?.focus()}else{var Z;(Z=F.afterOutsideRef.current)==null||Z.focus()}}})]})}function zAe(){let e=bb(),t=/iP(hone|ad|od)|iOS/.test(e)||e==="MacIntel"&&navigator.maxTouchPoints>1,r=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,a=r.left?parseFloat(r.left):window.scrollX,s=r.top?parseFloat(r.top):window.scrollY;if(r.overflow="hidden",r.setProperty(f7,o+"px"),o&&(r[i]=o+"px"),t){var f,u;let l=((f=window.visualViewport)==null?void 0:f.offsetLeft)||0,c=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(r,{position:"fixed",top:-(s-Math.floor(c))+"px",left:-(a-Math.floor(l))+"px",right:"0"})}return()=>{Object.assign(r,{overflow:"",[i]:""}),r.removeProperty(f7),t&&(Object.assign(r,{position:"",top:"",left:"",right:""}),window.scrollTo(a,s))}}function p7(e){return mt(e.target)&&e.target.tagName==="BUTTON"}function HAe(e){return mt(e.target)&&e.target.tagName==="A"}function h7(e){return xb(e)}function WAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,dataRef:i,elements:{domReference:o}}=e,{enabled:a=!0,event:s="click",toggle:f=!0,ignoreMouse:u=!1,keyboardHandlers:l=!0,stickIfOpen:c=!0}=t,d=I.useRef(),p=I.useRef(!1),h=I.useMemo(()=>({onPointerDown(m){d.current=m.pointerType},onMouseDown(m){let v=d.current;m.button===0&&s!=="click"&&(fu(v,!0)&&u||(r&&f&&(!(i.current.openEvent&&c)||i.current.openEvent.type==="mousedown")?n(!1,m.nativeEvent,"click"):(m.preventDefault(),n(!0,m.nativeEvent,"click"))))},onClick(m){let v=d.current;if(s==="mousedown"&&d.current){d.current=void 0;return}fu(v,!0)&&u||(r&&f&&(!(i.current.openEvent&&c)||i.current.openEvent.type==="click")?n(!1,m.nativeEvent,"click"):n(!0,m.nativeEvent,"click"))},onKeyDown(m){d.current=void 0,!(m.defaultPrevented||!l||p7(m))&&(m.key===" "&&!h7(o)&&(m.preventDefault(),p.current=!0),!HAe(m)&&m.key==="Enter"&&n(!(r&&f),m.nativeEvent,"click"))},onKeyUp(m){m.defaultPrevented||!l||p7(m)||h7(o)||m.key===" "&&p.current&&(p.current=!1,n(!(r&&f),m.nativeEvent,"click"))}}),[i,o,s,u,l,n,r,c,f]);return I.useMemo(()=>a?{reference:h}:{},[a,h])}function $Ae(e,t){let r=null,n=null,i=!1;return{contextElement:e||void 0,getBoundingClientRect(){var o;let a=e?.getBoundingClientRect()||{width:0,height:0,x:0,y:0},s=t.axis==="x"||t.axis==="both",f=t.axis==="y"||t.axis==="both",u=["mouseenter","mousemove"].includes(((o=t.dataRef.current.openEvent)==null?void 0:o.type)||"")&&t.pointerType!=="touch",l=a.width,c=a.height,d=a.x,p=a.y;return r==null&&t.x&&s&&(r=a.x-t.x),n==null&&t.y&&f&&(n=a.y-t.y),d-=r||0,p-=n||0,l=0,c=0,!i||u?(l=t.axis==="y"?a.width:0,c=t.axis==="x"?a.height:0,d=s&&t.x!=null?t.x:d,p=f&&t.y!=null?t.y:p):i&&!u&&(c=t.axis==="x"?a.height:c,l=t.axis==="y"?a.width:l),i=!0,{width:l,height:c,x:d,y:p,top:p,right:d+l,bottom:p+c,left:d}}}}function m7(e){return e!=null&&e.clientX!=null}function VAe(e,t){t===void 0&&(t={});let{open:r,dataRef:n,elements:{floating:i,domReference:o},refs:a}=e,{enabled:s=!0,axis:f="both",x:u=null,y:l=null}=t,c=I.useRef(!1),d=I.useRef(null),[p,h]=I.useState(),[m,v]=I.useState([]),g=it((A,E)=>{c.current||n.current.openEvent&&!m7(n.current.openEvent)||a.setPositionReference($Ae(o,{x:A,y:E,axis:f,dataRef:n,pointerType:p}))}),_=it(A=>{u!=null||l!=null||(r?d.current||v([]):g(A.clientX,A.clientY))}),w=fu(p)?i:r,y=I.useCallback(()=>{if(!w||!s||u!=null||l!=null)return;let A=Rr(i);function E(O){let M=Ri(O);rr(i,M)?(A.removeEventListener("mousemove",E),d.current=null):g(O.clientX,O.clientY)}if(!n.current.openEvent||m7(n.current.openEvent)){A.addEventListener("mousemove",E);let O=()=>{A.removeEventListener("mousemove",E),d.current=null};return d.current=O,O}a.setPositionReference(o)},[w,s,u,l,i,n,a,o,g]);I.useEffect(()=>y(),[y,m]),I.useEffect(()=>{s&&!i&&(c.current=!1)},[s,i]),I.useEffect(()=>{!s&&r&&(c.current=!0)},[s,r]),Re(()=>{s&&(u!=null||l!=null)&&(c.current=!1,g(u,l))},[s,u,l,g]);let x=I.useMemo(()=>{function A(E){let{pointerType:O}=E;h(O)}return{onPointerDown:A,onPointerEnter:A,onMouseMove:_,onMouseEnter:_}},[_]);return I.useMemo(()=>s?{reference:x}:{},[s,x])}function ZAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,elements:i,dataRef:o}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:f=!0,outsidePressEvent:u="pointerdown",referencePress:l=!1,referencePressEvent:c="pointerdown",ancestorScroll:d=!1,bubbles:p,capture:h}=t,m=_u(),v=it(typeof f=="function"?f:()=>!1),g=typeof f=="function"?v:f,_=I.useRef(!1),{escapeKey:w,outsidePress:y}=g7(p),{escapeKey:x,outsidePress:A}=g7(h),E=I.useRef(!1),O=it(R=>{var F;if(!r||!a||!s||R.key!=="Escape"||E.current)return;let G=(F=o.current.floatingContext)==null?void 0:F.nodeId,z=m?as(m.nodesRef.current,G):[];if(!w&&(R.stopPropagation(),z.length>0)){let j=!0;if(z.forEach(H=>{var Q;if((Q=H.context)!=null&&Q.open&&!H.context.dataRef.current.__escapeKeyBubbles){j=!1;return}}),!j)return}n(!1,n9(R)?R.nativeEvent:R,"escape-key")}),M=it(R=>{var F;let G=()=>{var z;O(R),(z=Ri(R))==null||z.removeEventListener("keydown",G)};(F=Ri(R))==null||F.addEventListener("keydown",G)}),C=it(R=>{var F;let G=o.current.insideReactTree;o.current.insideReactTree=!1;let z=_.current;if(_.current=!1,u==="click"&&z||G||typeof g=="function"&&!g(R))return;let j=Ri(R),H="["+gu("inert")+"]",Q=hr(i.floating).querySelectorAll(H),_e=et(j)?j:null;for(;_e&&!Mi(_e);){let B=Ti(_e);if(Mi(B)||!et(B))break;_e=B}if(Q.length&&et(j)&&!e9(j)&&!rr(j,i.floating)&&Array.from(Q).every(B=>!rr(_e,B)))return;if(mt(j)&&N){let B=Mi(j),se=Qr(j),xe=/auto|scroll/,ye=B||xe.test(se.overflowX),oe=B||xe.test(se.overflowY),ce=ye&&j.clientWidth>0&&j.scrollWidth>j.clientWidth,Ee=oe&&j.clientHeight>0&&j.scrollHeight>j.clientHeight,fe=se.direction==="rtl",Z=Ee&&(fe?R.offsetX<=j.offsetWidth-j.clientWidth:R.offsetX>j.clientWidth),Y=ce&&R.offsetY>j.clientHeight;if(Z||Y)return}let le=(F=o.current.floatingContext)==null?void 0:F.nodeId,W=m&&as(m.nodesRef.current,le).some(B=>{var se;return wb(R,(se=B.context)==null?void 0:se.elements.floating)});if(wb(R,i.floating)||wb(R,i.domReference)||W)return;let ke=m?as(m.nodesRef.current,le):[];if(ke.length>0){let B=!0;if(ke.forEach(se=>{var xe;if((xe=se.context)!=null&&xe.open&&!se.context.dataRef.current.__outsidePressBubbles){B=!1;return}}),!B)return}n(!1,R,"outside-press")}),k=it(R=>{var F;let G=()=>{var z;C(R),(z=Ri(R))==null||z.removeEventListener(u,G)};(F=Ri(R))==null||F.addEventListener(u,G)});I.useEffect(()=>{if(!r||!a)return;o.current.__escapeKeyBubbles=w,o.current.__outsidePressBubbles=y;let R=-1;function F(Q){n(!1,Q,"ancestor-scroll")}function G(){window.clearTimeout(R),E.current=!0}function z(){R=window.setTimeout(()=>{E.current=!1},wc()?5:0)}let j=hr(i.floating);s&&(j.addEventListener("keydown",x?M:O,x),j.addEventListener("compositionstart",G),j.addEventListener("compositionend",z)),g&&j.addEventListener(u,A?k:C,A);let H=[];return d&&(et(i.domReference)&&(H=_n(i.domReference)),et(i.floating)&&(H=H.concat(_n(i.floating))),!et(i.reference)&&i.reference&&i.reference.contextElement&&(H=H.concat(_n(i.reference.contextElement)))),H=H.filter(Q=>{var _e;return Q!==((_e=j.defaultView)==null?void 0:_e.visualViewport)}),H.forEach(Q=>{Q.addEventListener("scroll",F,{passive:!0})}),()=>{s&&(j.removeEventListener("keydown",x?M:O,x),j.removeEventListener("compositionstart",G),j.removeEventListener("compositionend",z)),g&&j.removeEventListener(u,A?k:C,A),H.forEach(Q=>{Q.removeEventListener("scroll",F)}),window.clearTimeout(R)}},[o,i,s,g,u,r,n,d,a,w,y,O,x,M,C,A,k]),I.useEffect(()=>{o.current.insideReactTree=!1},[o,g,u]);let q=I.useMemo(()=>({onKeyDown:O,...l&&{[GAe[c]]:R=>{n(!1,R.nativeEvent,"reference-press")},...c!=="click"&&{onClick(R){n(!1,R.nativeEvent,"reference-press")}}}}),[O,n,l,c]),N=I.useMemo(()=>({onKeyDown:O,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[YAe[u]]:()=>{o.current.insideReactTree=!0}}),[O,u,o]);return I.useMemo(()=>a?{reference:q,floating:N}:{},[a,q,N])}function B7(e){let{open:t=!1,onOpenChange:r,elements:n}=e,i=Rc(),o=I.useRef({}),[a]=I.useState(()=>k7()),s=vu()!=null,[f,u]=I.useState(n.reference),l=it((p,h,m)=>{o.current.openEvent=p?h:void 0,a.emit("openchange",{open:p,event:h,reason:m,nested:s}),r?.(p,h,m)}),c=I.useMemo(()=>({setPositionReference:u}),[]),d=I.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return I.useMemo(()=>({dataRef:o,open:t,onOpenChange:l,elements:d,events:a,floatingId:i,refs:c}),[t,l,d,a,i,c])}function KAe(e){e===void 0&&(e={});let{nodeId:t}=e,r=B7({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[o,a]=I.useState(null),[s,f]=I.useState(null),l=i?.domReference||o,c=I.useRef(null),d=_u();Re(()=>{l&&(c.current=l)},[l]);let p=W9({...e,elements:{...i,...s&&{reference:s}}}),h=I.useCallback(w=>{let y=et(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;f(y),p.refs.setReference(y)},[p.refs]),m=I.useCallback(w=>{(et(w)||w===null)&&(c.current=w,a(w)),(et(p.refs.reference.current)||p.refs.reference.current===null||w!==null&&!et(w))&&p.refs.setReference(w)},[p.refs]),v=I.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:c}),[p.refs,m,h]),g=I.useMemo(()=>({...p.elements,domReference:l}),[p.elements,l]),_=I.useMemo(()=>({...p,...n,refs:v,elements:g,nodeId:t}),[p,v,g,t,n]);return Re(()=>{n.dataRef.current.floatingContext=_;let w=d?.nodesRef.current.find(y=>y.id===t);w&&(w.context=_)}),I.useMemo(()=>({...p,context:_,refs:v,elements:g}),[p,v,g,_])}function mT(){return J4()&&GA()}function XAe(e,t){t===void 0&&(t={});let{open:r,onOpenChange:n,events:i,dataRef:o,elements:a}=e,{enabled:s=!0,visibleOnly:f=!0}=t,u=I.useRef(!1),l=I.useRef(-1),c=I.useRef(!0);I.useEffect(()=>{if(!s)return;let p=Rr(a.domReference);function h(){!r&&mt(a.domReference)&&a.domReference===ki(hr(a.domReference))&&(u.current=!0)}function m(){c.current=!0}function v(){c.current=!1}return p.addEventListener("blur",h),mT()&&(p.addEventListener("keydown",m,!0),p.addEventListener("pointerdown",v,!0)),()=>{p.removeEventListener("blur",h),mT()&&(p.removeEventListener("keydown",m,!0),p.removeEventListener("pointerdown",v,!0))}},[a.domReference,r,s]),I.useEffect(()=>{if(!s)return;function p(h){let{reason:m}=h;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",p),()=>{i.off("openchange",p)}},[i,s]),I.useEffect(()=>()=>{mr(l)},[]);let d=I.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(p){if(u.current)return;let h=Ri(p.nativeEvent);if(f&&et(h)){if(mT()&&!p.relatedTarget){if(!c.current&&!xb(h))return}else if(!t9(h))return}n(!0,p.nativeEvent,"focus")},onBlur(p){u.current=!1;let h=p.relatedTarget,m=p.nativeEvent,v=et(h)&&h.hasAttribute(gu("focus-guard"))&&h.getAttribute("data-type")==="outside";l.current=window.setTimeout(()=>{var g;let _=ki(a.domReference?a.domReference.ownerDocument:document);!h&&_===a.domReference||rr((g=o.current.floatingContext)==null?void 0:g.refs.floating.current,_)||rr(a.domReference,_)||v||n(!1,m,"focus")})}}),[o,a.domReference,n,f]);return I.useMemo(()=>s?{reference:d}:{},[s,d])}function gT(e,t,r){let n=new Map,i=r==="item",o=e;if(i&&e){let{[Q9]:a,[e7]:s,...f}=e;o=f}return{...r==="floating"&&{tabIndex:-1,[hAe]:""},...o,...t.map(a=>{let s=a?a[r]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(f=>{let[u,l]=f;if(!(i&&[Q9,e7].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof l=="function"){var c;(c=n.get(u))==null||c.push(l),a[u]=function(){for(var d,p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];return(d=n.get(u))==null?void 0:d.map(v=>v(...h)).find(v=>v!==void 0)}}}else a[u]=l}),a),{})}}function JAe(e){e===void 0&&(e=[]);let t=e.map(s=>s?.reference),r=e.map(s=>s?.floating),n=e.map(s=>s?.item),i=I.useCallback(s=>gT(s,e,"reference"),t),o=I.useCallback(s=>gT(s,e,"floating"),r),a=I.useCallback(s=>gT(s,e,"item"),n);return I.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}function qb(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function Ib(e,t){return qb(t,e===hp||e===cs,e===fs||e===ds)}function vT(e,t,r){return qb(t,e===cs,r?e===fs:e===ds)||e==="Enter"||e===" "||e===""}function v7(e,t,r){return qb(t,r?e===fs:e===ds,e===cs)}function _7(e,t,r,n){let i=r?e===ds:e===fs,o=e===hp;return t==="both"||t==="horizontal"&&n&&n>1?e===QAe:qb(t,i,o)}function eTe(e,t){let{open:r,onOpenChange:n,elements:i,floatingId:o}=e,{listRef:a,activeIndex:s,onNavigate:f=()=>{},enabled:u=!0,selectedIndex:l=null,allowEscape:c=!1,loop:d=!1,nested:p=!1,rtl:h=!1,virtual:m=!1,focusItemOnOpen:v="auto",focusItemOnHover:g=!0,openOnArrowKeyDown:_=!0,disabledIndices:w=void 0,orientation:y="vertical",parentOrientation:x,cols:A=1,scrollItemIntoView:E=!0,virtualItemRef:O,itemSizes:M,dense:C=!1}=t,k=cp(i.floating),q=nr(k),N=vu(),R=_u();Re(()=>{e.dataRef.current.orientation=y},[e,y]);let F=it(()=>{f(j.current===-1?null:j.current)}),G=Sb(i.domReference),z=I.useRef(v),j=I.useRef(l??-1),H=I.useRef(null),Q=I.useRef(!0),_e=I.useRef(F),le=I.useRef(!!i.floating),W=I.useRef(r),ke=I.useRef(!1),B=I.useRef(!1),se=nr(w),xe=nr(r),ye=nr(E),oe=nr(l),[ce,Ee]=I.useState(),[fe,Z]=I.useState(),Y=it(()=>{function $(be){if(m){var Me;(Me=be.id)!=null&&Me.endsWith("-fui-option")&&(be.id=o+"-"+Math.random().toString(16).slice(2,10)),Ee(be.id),R?.events.emit("virtualfocus",be),O&&(O.current=be)}else hu(be,{sync:ke.current,preventScroll:!0})}let J=a.current[j.current],K=B.current;J&&$(J),(ke.current?be=>be():requestAnimationFrame)(()=>{let be=a.current[j.current]||J;if(!be)return;J||$(be);let Me=ye.current;Me&&re&&(K||!Q.current)&&(be.scrollIntoView==null||be.scrollIntoView(typeof Me=="boolean"?{block:"nearest",inline:"nearest"}:Me))})});Re(()=>{u&&(r&&i.floating?z.current&&l!=null&&(B.current=!0,j.current=l,F()):le.current&&(j.current=-1,_e.current()))},[u,r,i.floating,l,F]),Re(()=>{if(u&&r&&i.floating)if(s==null){if(ke.current=!1,oe.current!=null)return;if(le.current&&(j.current=-1,Y()),(!W.current||!le.current)&&z.current&&(H.current!=null||z.current===!0&&H.current==null)){let $=0,J=()=>{a.current[0]==null?($<2&&($?requestAnimationFrame:queueMicrotask)(J),$++):(j.current=H.current==null||vT(H.current,y,h)||p?fp(a,se.current):Eb(a,se.current),H.current=null,F())};J()}}else cu(a,s)||(j.current=s,Y(),B.current=!1)},[u,r,i.floating,s,oe,p,a,y,h,F,Y,se]),Re(()=>{var $;if(!u||i.floating||!R||m||!le.current)return;let J=R.nodesRef.current,K=($=J.find(Me=>Me.id===N))==null||($=$.context)==null?void 0:$.elements.floating,de=ki(hr(i.floating)),be=J.some(Me=>Me.context&&rr(Me.context.elements.floating,de));K&&!be&&Q.current&&K.focus({preventScroll:!0})},[u,i.floating,R,N,m]),Re(()=>{if(!u||!R||!m||N)return;function $(J){Z(J.id),O&&(O.current=J)}return R.events.on("virtualfocus",$),()=>{R.events.off("virtualfocus",$)}},[u,R,m,N,O]),Re(()=>{_e.current=F,W.current=r,le.current=!!i.floating}),Re(()=>{r||(H.current=null,z.current=v)},[r,v]);let ne=s!=null,re=I.useMemo(()=>{function $(K){if(!xe.current)return;let de=a.current.indexOf(K);de!==-1&&j.current!==de&&(j.current=de,F())}return{onFocus(K){let{currentTarget:de}=K;ke.current=!0,$(de)},onClick:K=>{let{currentTarget:de}=K;return de.focus({preventScroll:!0})},onMouseMove(K){let{currentTarget:de}=K;ke.current=!0,B.current=!1,g&&$(de)},onPointerLeave(K){let{pointerType:de}=K;if(!(!Q.current||de==="touch")&&(ke.current=!0,!!g&&(j.current=-1,F(),!m))){var be;(be=q.current)==null||be.focus({preventScroll:!0})}}}},[xe,q,g,a,F,m]),ie=I.useCallback(()=>{var $;return x??(R==null||($=R.nodesRef.current.find(J=>J.id===N))==null||($=$.context)==null||($=$.dataRef)==null?void 0:$.current.orientation)},[N,R,x]),X=it($=>{if(Q.current=!1,ke.current=!0,$.which===229||!xe.current&&$.currentTarget===q.current)return;if(p&&_7($.key,y,h,A)){Ib($.key,ie())||pr($),n(!1,$.nativeEvent,"list-navigation"),mt(i.domReference)&&(m?R?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}let J=j.current,K=fp(a,w),de=Eb(a,w);if(G||($.key==="Home"&&(pr($),j.current=K,F()),$.key==="End"&&(pr($),j.current=de,F())),A>1){let be=M||Array.from({length:a.current.length},()=>({width:1,height:1})),Me=JA(be,A,C),Ye=Me.findIndex(Ce=>Ce!=null&&!ss(a,Ce,w)),Kt=Me.reduce((Ce,ar,qn)=>ar!=null&&!ss(a,ar,w)?qn:Ce,-1),_r=Me[XA({current:Me.map(Ce=>Ce!=null?a.current[Ce]:null)},{event:$,orientation:y,loop:d,rtl:h,cols:A,disabledIndices:eT([...(typeof w!="function"?w:null)||a.current.map((Ce,ar)=>ss(a,ar,w)?ar:void 0),void 0],Me),minIndex:Ye,maxIndex:Kt,prevIndex:QA(j.current>de?K:j.current,be,Me,A,$.key===cs?"bl":$.key===(h?fs:ds)?"tr":"tl"),stopEvent:!0})];if(_r!=null&&(j.current=_r,F()),y==="both")return}if(Ib($.key,y)){if(pr($),r&&!m&&ki($.currentTarget.ownerDocument)===$.currentTarget){j.current=vT($.key,y,h)?K:de,F();return}vT($.key,y,h)?d?j.current=J>=de?c&&J!==a.current.length?-1:K:dr(a,{startingIndex:J,disabledIndices:w}):j.current=Math.min(de,dr(a,{startingIndex:J,disabledIndices:w})):d?j.current=J<=K?c&&J!==-1?a.current.length:de:dr(a,{startingIndex:J,decrement:!0,disabledIndices:w}):j.current=Math.max(K,dr(a,{startingIndex:J,decrement:!0,disabledIndices:w})),cu(a,j.current)&&(j.current=-1),F()}}),te=I.useMemo(()=>m&&r&&ne&&{"aria-activedescendant":fe||ce},[m,r,ne,fe,ce]),ue=I.useMemo(()=>({"aria-orientation":y==="both"?void 0:y,...G?{}:te,onKeyDown:X,onPointerMove(){Q.current=!0}}),[te,X,y,G]),ve=I.useMemo(()=>{function $(K){v==="auto"&&ZA(K.nativeEvent)&&(z.current=!0)}function J(K){z.current=v,v==="auto"&&KA(K.nativeEvent)&&(z.current=!0)}return{...te,onKeyDown(K){Q.current=!1;let de=K.key.startsWith("Arrow"),be=["Home","End"].includes(K.key),Me=de||be,Ye=v7(K.key,y,h),Kt=_7(K.key,y,h,A),_r=v7(K.key,ie(),h),Ce=Ib(K.key,y),ar=(p?_r:Ce)||K.key==="Enter"||K.key.trim()==="";if(m&&r){let Xt=R?.nodesRef.current.find(Ze=>Ze.parentId==null),Ne=R&&Xt?r9(R.nodesRef.current,Xt.id):null;if(Me&&Ne&&O){let Ze=new KeyboardEvent("keydown",{key:K.key,bubbles:!0});if(Ye||Kt){var qn,ji;let Fn=((qn=Ne.context)==null?void 0:qn.elements.domReference)===K.currentTarget,At=Kt&&!Fn?(ji=Ne.context)==null?void 0:ji.elements.domReference:Ye?a.current.find(oi=>oi?.id===ce):null;At&&(pr(K),At.dispatchEvent(Ze),Z(void 0))}if((Ce||be)&&Ne.context&&Ne.context.open&&Ne.parentId&&K.currentTarget!==Ne.context.elements.domReference){var Ur;pr(K),(Ur=Ne.context.elements.domReference)==null||Ur.dispatchEvent(Ze);return}}return X(K)}if(!(!r&&!_&&de)){if(ar){let Xt=Ib(K.key,ie());H.current=p&&Xt?null:K.key}if(p){_r&&(pr(K),r?(j.current=fp(a,se.current),F()):n(!0,K.nativeEvent,"list-navigation"));return}Ce&&(l!=null&&(j.current=l),pr(K),!r&&_?n(!0,K.nativeEvent,"list-navigation"):X(K),r&&F())}},onFocus(){r&&!m&&(j.current=-1,F())},onPointerDown:J,onPointerEnter:J,onMouseDown:$,onClick:$}},[ce,te,A,X,se,v,a,p,F,n,r,_,y,ie,h,l,R,m,O]);return I.useMemo(()=>u?{reference:ve,floating:ue,item:re}:{},[u,ve,ue,re])}function rTe(e,t){var r,n;t===void 0&&(t={});let{open:i,elements:o,floatingId:a}=e,{enabled:s=!0,role:f="dialog"}=t,u=Rc(),l=((r=o.domReference)==null?void 0:r.id)||u,c=I.useMemo(()=>{var _;return((_=cp(o.floating))==null?void 0:_.id)||a},[o.floating,a]),d=(n=tTe.get(f))!=null?n:f,h=vu()!=null,m=I.useMemo(()=>d==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:i?c:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":d==="alertdialog"?"dialog":d,"aria-controls":i?c:void 0,...d==="listbox"&&{role:"combobox"},...d==="menu"&&{id:l},...d==="menu"&&h&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[d,c,h,i,l,f]),v=I.useMemo(()=>{let _={id:c,...d&&{role:d}};return d==="tooltip"||f==="label"?_:{..._,...d==="menu"&&{"aria-labelledby":l}}},[d,c,l,f]),g=I.useCallback(_=>{let{active:w,selected:y}=_,x={role:"option",...w&&{id:c+"-fui-option"}};switch(f){case"select":case"combobox":return{...x,"aria-selected":y}}return{}},[c,f]);return I.useMemo(()=>s?{reference:m,floating:v,item:g}:{},[s,m,v,g])}function Cc(e,t){return typeof e=="function"?e(t):e}function nTe(e,t){let[r,n]=I.useState(e);return e&&!r&&n(!0),I.useEffect(()=>{if(!e&&r){let i=setTimeout(()=>n(!1),t);return()=>clearTimeout(i)}},[e,r,t]),r}function z7(e,t){t===void 0&&(t={});let{open:r,elements:{floating:n}}=e,{duration:i=250}=t,a=(typeof i=="number"?i:i.close)||0,[s,f]=I.useState("unmounted"),u=nTe(r,a);return!u&&s==="close"&&f("unmounted"),Re(()=>{if(n){if(r){f("initial");let l=requestAnimationFrame(()=>{mu.flushSync(()=>{f("open")})});return()=>{cancelAnimationFrame(l)}}f("close")}},[r,n]),{isMounted:u,status:s}}function iTe(e,t){t===void 0&&(t={});let{initial:r={opacity:0},open:n,close:i,common:o,duration:a=250}=t,s=e.placement,f=s.split("-")[0],u=I.useMemo(()=>({side:f,placement:s}),[f,s]),l=typeof a=="number",c=(l?a:a.open)||0,d=(l?a:a.close)||0,[p,h]=I.useState(()=>({...Cc(o,u),...Cc(r,u)})),{isMounted:m,status:v}=z7(e,{duration:a}),g=nr(r),_=nr(n),w=nr(i),y=nr(o);return Re(()=>{let x=Cc(g.current,u),A=Cc(w.current,u),E=Cc(y.current,u),O=Cc(_.current,u)||Object.keys(x).reduce((M,C)=>(M[C]="",M),{});if(v==="initial"&&h(M=>({transitionProperty:M.transitionProperty,...E,...x})),v==="open"&&h({transitionProperty:Object.keys(O).map(b7).join(","),transitionDuration:c+"ms",...E,...O}),v==="close"){let M=A||x;h({transitionProperty:Object.keys(M).map(b7).join(","),transitionDuration:d+"ms",...E,...M})}},[d,w,g,_,y,c,v,u]),{isMounted:m,styles:p}}function oTe(e,t){var r;let{open:n,dataRef:i}=e,{listRef:o,activeIndex:a,onMatch:s,onTypingChange:f,enabled:u=!0,findMatch:l=null,resetMs:c=750,ignoreKeys:d=[],selectedIndex:p=null}=t,h=I.useRef(-1),m=I.useRef(""),v=I.useRef((r=p??a)!=null?r:-1),g=I.useRef(null),_=it(s),w=it(f),y=nr(l),x=nr(d);Re(()=>{n&&(mr(h),g.current=null,m.current="")},[n]),Re(()=>{if(n&&m.current===""){var C;v.current=(C=p??a)!=null?C:-1}},[n,p,a]);let A=it(C=>{C?i.current.typing||(i.current.typing=C,w(C)):i.current.typing&&(i.current.typing=C,w(C))}),E=it(C=>{function k(G,z,j){let H=y.current?y.current(z,j):z.find(Q=>Q?.toLocaleLowerCase().indexOf(j.toLocaleLowerCase())===0);return H?G.indexOf(H):-1}let q=o.current;if(m.current.length>0&&m.current[0]!==" "&&(k(q,q,m.current)===-1?A(!1):C.key===" "&&pr(C)),q==null||x.current.includes(C.key)||C.key.length!==1||C.ctrlKey||C.metaKey||C.altKey)return;n&&C.key!==" "&&(pr(C),A(!0)),q.every(G=>{var z,j;return G?((z=G[0])==null?void 0:z.toLocaleLowerCase())!==((j=G[1])==null?void 0:j.toLocaleLowerCase()):!0})&&m.current===C.key&&(m.current="",v.current=g.current),m.current+=C.key,mr(h),h.current=window.setTimeout(()=>{m.current="",v.current=g.current,A(!1)},c);let R=v.current,F=k(q,[...q.slice((R||0)+1),...q.slice(0,(R||0)+1)],m.current);F!==-1?(_(F),g.current=F):C.key!==" "&&(m.current="",A(!1))}),O=I.useMemo(()=>({onKeyDown:E}),[E]),M=I.useMemo(()=>({onKeyDown:E,onKeyUp(C){C.key===" "&&A(!1)}}),[E,A]);return I.useMemo(()=>u?{reference:O,floating:M}:{},[u,O,M])}function y7(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function sTe(e,t){let{open:r,elements:n}=e,{enabled:i=!0,overflowRef:o,scrollRef:a,onChange:s}=t,f=it(s),u=I.useRef(!1),l=I.useRef(null),c=I.useRef(null);I.useEffect(()=>{if(!i)return;function p(m){if(m.ctrlKey||!h||o.current==null)return;let v=m.deltaY,g=o.current.top>=-.5,_=o.current.bottom>=-.5,w=h.scrollHeight-h.clientHeight,y=v<0?-1:1,x=v<0?"max":"min";h.scrollHeight<=h.clientHeight||(!g&&v>0||!_&&v<0?(m.preventDefault(),mu.flushSync(()=>{f(A=>A+Math[x](v,w*y))})):/firefox/i.test(yb())&&(h.scrollTop+=v))}let h=a?.current||n.floating;if(r&&h)return h.addEventListener("wheel",p),requestAnimationFrame(()=>{l.current=h.scrollTop,o.current!=null&&(c.current={...o.current})}),()=>{l.current=null,c.current=null,h.removeEventListener("wheel",p)}},[i,r,n.floating,o,a,f]);let d=I.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let p=a?.current||n.floating;if(!(!o.current||!p||!u.current)){if(l.current!==null){let h=p.scrollTop-l.current;(o.current.bottom<-.5&&h<-1||o.current.top<-.5&&h>1)&&mu.flushSync(()=>f(m=>m+h))}requestAnimationFrame(()=>{l.current=p.scrollTop})}}}),[n.floating,f,o,a]);return I.useMemo(()=>i?{floating:d}:{},[i,d])}function U7(e,t,r){return r===void 0&&(r=!0),e.filter(i=>{var o;return i.parentId===t&&(!r||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...U7(e,i.id,r)])}function w7(e,t){let[r,n]=e,i=!1,o=t.length;for(let a=0,s=o-1;a<o;s=a++){let[f,u]=t[a]||[0,0],[l,c]=t[s]||[0,0];u>=n!=c>=n&&r<=(l-f)*(n-u)/(c-u)+f&&(i=!i)}return i}function uTe(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function lTe(e){e===void 0&&(e={});let{buffer:t=.5,blockPointerEvents:r=!1,requireIntent:n=!0}=e,i={current:-1},o=!1,a=null,s=null,f=typeof performance<"u"?performance.now():0;function u(c,d){let p=performance.now(),h=p-f;if(a===null||s===null||h===0)return a=c,s=d,f=p,null;let m=c-a,v=d-s,_=Math.sqrt(m*m+v*v)/h;return a=c,s=d,f=p,_}let l=c=>{let{x:d,y:p,placement:h,elements:m,onClose:v,nodeId:g,tree:_}=c;return function(y){function x(){mr(i),v()}if(mr(i),!m.domReference||!m.floating||h==null||d==null||p==null)return;let{clientX:A,clientY:E}=y,O=[A,E],M=kAe(y),C=y.type==="mouseleave",k=pT(m.floating,M),q=pT(m.domReference,M),N=m.domReference.getBoundingClientRect(),R=m.floating.getBoundingClientRect(),F=h.split("-")[0],G=d>R.right-R.width/2,z=p>R.bottom-R.height/2,j=uTe(O,N),H=R.width>N.width,Q=R.height>N.height,_e=(H?N:R).left,le=(H?N:R).right,W=(Q?N:R).top,ke=(Q?N:R).bottom;if(k&&(o=!0,!C))return;if(q&&(o=!1),q&&!C){o=!0;return}if(C&&et(y.relatedTarget)&&pT(m.floating,y.relatedTarget)||_&&U7(_.nodesRef.current,g).length)return;if(F==="top"&&p>=N.bottom-1||F==="bottom"&&p<=N.top+1||F==="left"&&d>=N.right-1||F==="right"&&d<=N.left+1)return x();let B=[];switch(F){case"top":B=[[_e,N.top+1],[_e,R.bottom-1],[le,R.bottom-1],[le,N.top+1]];break;case"bottom":B=[[_e,R.top+1],[_e,N.bottom-1],[le,N.bottom-1],[le,R.top+1]];break;case"left":B=[[R.right-1,ke],[R.right-1,W],[N.left+1,W],[N.left+1,ke]];break;case"right":B=[[N.right-1,ke],[N.right-1,W],[R.left+1,W],[R.left+1,ke]];break}function se(xe){let[ye,oe]=xe;switch(F){case"top":{let ce=[H?ye+t/2:G?ye+t*4:ye-t*4,oe+t+1],Ee=[H?ye-t/2:G?ye+t*4:ye-t*4,oe+t+1],fe=[[R.left,G||H?R.bottom-t:R.top],[R.right,G?H?R.bottom-t:R.top:R.bottom-t]];return[ce,Ee,...fe]}case"bottom":{let ce=[H?ye+t/2:G?ye+t*4:ye-t*4,oe-t],Ee=[H?ye-t/2:G?ye+t*4:ye-t*4,oe-t],fe=[[R.left,G||H?R.top+t:R.bottom],[R.right,G?H?R.top+t:R.bottom:R.top+t]];return[ce,Ee,...fe]}case"left":{let ce=[ye+t+1,Q?oe+t/2:z?oe+t*4:oe-t*4],Ee=[ye+t+1,Q?oe-t/2:z?oe+t*4:oe-t*4];return[...[[z||Q?R.right-t:R.left,R.top],[z?Q?R.right-t:R.left:R.right-t,R.bottom]],ce,Ee]}case"right":{let ce=[ye-t,Q?oe+t/2:z?oe+t*4:oe-t*4],Ee=[ye-t,Q?oe-t/2:z?oe+t*4:oe-t*4],fe=[[z||Q?R.left+t:R.right,R.top],[z?Q?R.left+t:R.right:R.left+t,R.bottom]];return[ce,Ee,...fe]}}}if(!w7([A,E],B)){if(o&&!j)return x();if(!C&&n){let xe=u(y.clientX,y.clientY);if(xe!==null&&xe<.1)return x()}w7([A,E],se([d,p]))?!o&&n&&(i.current=window.setTimeout(x,40)):x()}}};return l.__options={blockPointerEvents:r},l}var I,tt,mu,S7,hAe,Q9,e7,fs,ds,hp,cs,O7,M7,C7,fT,mAe,gAe,vAe,t7,_Ae,r7,yAe,Rc,wAe,R7,P7,vu,_u,n7,_T,I7,L7,j7,i7,kc,kb,Rb,hT,PAe,q7,IAe,jb,Lb,F7,s7,D7,qAe,ls,DAe,Pb,f7,d7,UAe,GAe,YAe,g7,QAe,tTe,b7,aTe,W7=L(()=>{I=T(U());a9();tt=T(ae());sp();HA();mu=T(Qh());cT();cT();xc();S7=I.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});hAe="data-floating-ui-focusable",Q9="active",e7="selected",fs="ArrowLeft",ds="ArrowRight",hp="ArrowUp",cs="ArrowDown";O7=I.createContext({activeIndex:0,onNavigate:()=>{}}),M7=[fs,ds],C7=[hp,cs],fT=[...M7,...C7],mAe=I.forwardRef(function(t,r){let{render:n,orientation:i="both",loop:o=!0,rtl:a=!1,cols:s=1,disabledIndices:f,activeIndex:u,onNavigate:l,itemSizes:c,dense:d=!1,...p}=t,[h,m]=I.useState(0),v=u??h,g=it(l??m),_=I.useRef([]),w=n&&typeof n!="function"?n.props:{},y=I.useMemo(()=>({activeIndex:v,onNavigate:g}),[v,g]),x=s>1;function A(O){if(!fT.includes(O.key))return;let M=v,C=fp(_,f),k=Eb(_,f),q=a?fs:ds,N=a?ds:fs;if(x){let j=c||Array.from({length:_.current.length},()=>({width:1,height:1})),H=JA(j,s,d),Q=H.findIndex(W=>W!=null&&!ss(_,W,f)),_e=H.reduce((W,ke,B)=>ke!=null&&!ss(_,ke,f)?B:W,-1),le=H[XA({current:H.map(W=>W?_.current[W]:null)},{event:O,orientation:i,loop:o,rtl:a,cols:s,disabledIndices:eT([...(typeof f!="function"?f:null)||_.current.map((W,ke)=>ss(_,ke,f)?ke:void 0),void 0],H),minIndex:Q,maxIndex:_e,prevIndex:QA(v>k?C:v,j,H,s,O.key===cs?"bl":O.key===q?"tr":"tl")})];le!=null&&(M=le)}let R={horizontal:[q],vertical:[cs],both:[q,cs]}[i],F={horizontal:[N],vertical:[hp],both:[N,hp]}[i],G=x?fT:{horizontal:M7,vertical:C7,both:fT}[i];if(M===v&&[...R,...F].includes(O.key)&&(o&&M===k&&R.includes(O.key)?M=C:o&&M===C&&F.includes(O.key)?M=k:M=dr(_,{startingIndex:M,decrement:F.includes(O.key),disabledIndices:f})),M!==v&&!cu(_,M)){var z;O.stopPropagation(),G.includes(O.key)&&O.preventDefault(),g(M),(z=_.current[M])==null||z.focus()}}let E={...p,...w,ref:r,"aria-orientation":i==="both"?void 0:i,onKeyDown(O){p.onKeyDown==null||p.onKeyDown(O),w.onKeyDown==null||w.onKeyDown(O),A(O)}};return(0,tt.jsx)(O7.Provider,{value:y,children:(0,tt.jsx)(E7,{elementsRef:_,children:T7(n,E)})})}),gAe=I.forwardRef(function(t,r){let{render:n,...i}=t,o=n&&typeof n!="function"?n.props:{},{activeIndex:a,onNavigate:s}=I.useContext(O7),{ref:f,index:u}=A7(),l=x7([f,r,o.ref]),c=a===u,d={...i,...o,ref:l,tabIndex:c?0:-1,"data-active":c?"":void 0,onFocus(p){i.onFocus==null||i.onFocus(p),o.onFocus==null||o.onFocus(p),s(u)}};return T7(n,d)}),vAe={...I},t7=!1,_Ae=0,r7=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_Ae++;yAe=vAe.useId,Rc=yAe||bAe,wAe=I.forwardRef(function(t,r){let{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:a}},width:s=14,height:f=7,tipRadius:u=0,strokeWidth:l=0,staticOffset:c,stroke:d,d:p,style:{transform:h,...m}={},...v}=t,g=Rc(),[_,w]=I.useState(!1);if(Re(()=>{if(!i)return;Qr(i).direction==="rtl"&&w(!0)},[i]),!i)return null;let[y,x]=n.split("-"),A=y==="top"||y==="bottom",E=c;(A&&a!=null&&a.x||!A&&a!=null&&a.y)&&(E=null);let O=l*2,M=O/2,C=s/2*(u/-8+1),k=f/2*u/4,q=!!p,N=E&&x==="end"?"bottom":"top",R=E&&x==="end"?"right":"left";E&&_&&(R=x==="end"?"left":"right");let F=o?.x!=null?E||o.x:"",G=o?.y!=null?E||o.y:"",z=p||"M0,0"+(" H"+s)+(" L"+(s-C)+","+(f-k))+(" Q"+s/2+","+f+" "+C+","+(f-k))+" Z",j={top:q?"rotate(180deg)":"",left:q?"rotate(90deg)":"rotate(-90deg)",bottom:q?"":"rotate(180deg)",right:q?"rotate(-90deg)":"rotate(90deg)"}[y];return(0,tt.jsxs)("svg",{...v,"aria-hidden":!0,ref:r,width:q?s:s+O,height:s,viewBox:"0 0 "+s+" "+(f>s?f:s),style:{position:"absolute",pointerEvents:"none",[R]:F,[N]:G,[y]:A||q?"100%":"calc(100% - "+O/2+"px)",transform:[j,h].filter(H=>!!H).join(" "),...m},children:[O>0&&(0,tt.jsx)("path",{clipPath:"url(#"+g+")",fill:"none",stroke:d,strokeWidth:O+(p?0:1),d:z}),(0,tt.jsx)("path",{stroke:O&&!p?v.fill:"none",d:z}),(0,tt.jsx)("clipPath",{id:g,children:(0,tt.jsx)("rect",{x:-M,y:M*(q?-1:1),width:s+O,height:s})})]})});R7=I.createContext(null),P7=I.createContext(null),vu=()=>{var e;return((e=I.useContext(R7))==null?void 0:e.id)||null},_u=()=>I.useContext(P7);n7=gu("safe-polygon");_T=()=>{},I7=I.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:_T,setState:_T,isInstantPhase:!1}),L7=()=>I.useContext(I7);j7=I.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});i7=0;kc={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};kb=new WeakSet,Rb={},hT=0,PAe=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,q7=e=>e&&(e.host||q7(e.parentNode)),IAe=(e,t)=>t.map(r=>{if(e.contains(r))return r;let n=q7(r);return e.contains(n)?n:null}).filter(r=>r!=null);jb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Lb=I.forwardRef(function(t,r){let[n,i]=I.useState();Re(()=>{GA()&&i("button")},[]);let o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[gu("focus-guard")]:"",style:jb};return(0,tt.jsx)("span",{...t,...o})}),F7=I.createContext(null),s7=gu("portal");D7=()=>I.useContext(F7);qAe=20,ls=[];DAe=I.forwardRef(function(t,r){return(0,tt.jsx)("button",{...t,type:"button",ref:r,tabIndex:-1,style:jb})});Pb=0,f7="--floating-ui-scrollbar-width";d7=()=>{},UAe=I.forwardRef(function(t,r){let{lockScroll:n=!1,...i}=t;return Re(()=>{if(n)return Pb++,Pb===1&&(d7=zAe()),()=>{Pb--,Pb===0&&d7()}},[n]),(0,tt.jsx)("div",{ref:r,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});GAe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},YAe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},g7=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};QAe="Escape";tTe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);b7=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,r)=>(r?"-":"")+t.toLowerCase());aTe=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:i,offset:o=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:f=0,scrollRef:u,...l}=bn(e,t),{rects:c,elements:{floating:d}}=t,p=r.current[a],h=u?.current||d,m=d.clientTop||h.clientTop,v=d.clientTop!==0,g=h.clientTop!==0,_=d===h;if(!p)return{};let w={...t,...await Cb(-p.offsetTop-d.clientTop-c.reference.height/2-p.offsetHeight/2-o).fn(t)},y=await pu(y7(w,h.scrollHeight+m+d.clientTop),l),x=await pu(w,{...l,elementContext:"reference"}),A=Ct(0,y.top),E=w.y+A,C=(h.scrollHeight>h.clientHeight?k=>k:lu)(Ct(0,h.scrollHeight+(v&&_||g?m*2:0)-A-Ct(0,y.bottom)));if(h.style.maxHeight=C+"px",h.scrollTop=A,i){let k=h.offsetHeight<p.offsetHeight*en(s,r.current.length)-1||x.top>=-f||x.bottom>=-f;mu.flushSync(()=>i(k))}return n&&(n.current=await pu(y7({...w,y:E},h.offsetHeight+m+d.clientTop),l)),{y:E}}})});var V7=b(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0});wT.default=pTe;var $7=ae(),Fb=(W7(),Iy(H7)),yT=pe(),cTe=De();function fTe(e){return Math.round(e*1e5)/1e5}var dTe=(0,cTe.makeStyles)()(e=>({tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:(0,yT.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.fontSize,lineHeight:`${fTe(14/10)}em`,maxWidth:300,wordWrap:"break-word"}}));function pTe({clientPoint:e,children:t,placement:r="right"}){var n,i;let a=(n=(0,yT.useTheme)().components)===null||n===void 0?void 0:n.MuiPopper,{classes:s}=dTe(),{refs:f,floatingStyles:u,context:l}=(0,Fb.useFloating)({placement:r,strategy:"fixed",middleware:[(0,Fb.offset)(5)]}),c=(0,Fb.useClientPoint)(l,e),{getFloatingProps:d}=(0,Fb.useInteractions)([c]);return(0,$7.jsx)(yT.Portal,{container:(i=a?.defaultProps)===null||i===void 0?void 0:i.container,children:(0,$7.jsx)("div",{className:s.tooltip,ref:f.setFloating,style:{...u,zIndex:1e5,visibility:u.transform==="translate(0px, 0px)"?"hidden":void 0,pointerEvents:"none"},...d(),children:t})})}});var xT=b(Ae=>{"use strict";var hTe=Ae&&Ae.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),G7=Ae&&Ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hTe(t,e,r)},tn=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.VIEW_HEADER_HEIGHT=Ae.BaseTooltip=Ae.SanitizedHTML=Ae.ExternalLink=Ae.ResizeHandle=Ae.PrerenderedCanvas=Ae.Menu=Ae.LoadingEllipses=Ae.FileSelector=Ae.FatalErrorDialog=Ae.ErrorMessage=Ae.EditableTypography=Ae.Dialog=Ae.CascadingMenuButton=Ae.CascadingMenu=Ae.AssemblySelector=Ae.Logomark=Ae.LogoFull=void 0;G7(MF(),Ae);var Y7=RF();Object.defineProperty(Ae,"LogoFull",{enumerable:!0,get:function(){return Y7.LogoFull}});Object.defineProperty(Ae,"Logomark",{enumerable:!0,get:function(){return Y7.Logomark}});var mTe=jF();Object.defineProperty(Ae,"AssemblySelector",{enumerable:!0,get:function(){return tn(mTe).default}});var gTe=_E();Object.defineProperty(Ae,"CascadingMenu",{enumerable:!0,get:function(){return tn(gTe).default}});var vTe=Od();Object.defineProperty(Ae,"CascadingMenuButton",{enumerable:!0,get:function(){return tn(vTe).default}});var _Te=Z_();Object.defineProperty(Ae,"Dialog",{enumerable:!0,get:function(){return tn(_Te).default}});var bTe=g4();Object.defineProperty(Ae,"EditableTypography",{enumerable:!0,get:function(){return tn(bTe).default}});var yTe=X_();Object.defineProperty(Ae,"ErrorMessage",{enumerable:!0,get:function(){return tn(yTe).default}});var wTe=b4();Object.defineProperty(Ae,"FatalErrorDialog",{enumerable:!0,get:function(){return tn(wTe).default}});var xTe=R4();Object.defineProperty(Ae,"FileSelector",{enumerable:!0,get:function(){return tn(xTe).default}});var STe=hA();Object.defineProperty(Ae,"LoadingEllipses",{enumerable:!0,get:function(){return tn(STe).default}});var ETe=Cv();Object.defineProperty(Ae,"Menu",{enumerable:!0,get:function(){return tn(ETe).default}});var ATe=P4();Object.defineProperty(Ae,"PrerenderedCanvas",{enumerable:!0,get:function(){return tn(ATe).default}});var TTe=I4();Object.defineProperty(Ae,"ResizeHandle",{enumerable:!0,get:function(){return tn(TTe).default}});var OTe=NE();Object.defineProperty(Ae,"ExternalLink",{enumerable:!0,get:function(){return tn(OTe).default}});var MTe=OA();Object.defineProperty(Ae,"SanitizedHTML",{enumerable:!0,get:function(){return tn(MTe).default}});var CTe=V7();Object.defineProperty(Ae,"BaseTooltip",{enumerable:!0,get:function(){return tn(CTe).default}});G7(Cv(),Ae);Ae.VIEW_HEADER_HEIGHT=28});var Nb=b(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});ET.default=qTe;var ST=ae(),kTe=U(),RTe=pe(),PTe=De(),ITe=xT(),LTe=pn(),jTe=(0,PTe.makeStyles)()(e=>({fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:e.spacing(.5),overflow:"auto"}}));function qTe({value:e}){let{classes:t}=jTe(),r=/^https?:\/\//.exec(`${e}`);return(0,ST.jsx)("div",{className:t.fieldValue,children:(0,kTe.isValidElement)(e)?e:r?(0,ST.jsx)(RTe.Link,{href:`${e}`,children:`${e}`}):(0,ST.jsx)(ITe.SanitizedHTML,{html:(0,LTe.isObject)(e)?JSON.stringify(e):String(e)})})}});var mp=b(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});TT.default=BTe;var AT=ae(),FTe=pe(),NTe=De(),DTe=(0,NTe.makeStyles)()(e=>({fieldDescription:{"&:hover":{background:e.palette.mode==="dark"?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:e.palette.action.disabledBackground,marginRight:e.spacing(1),padding:e.spacing(.5)}}));function BTe({description:e,name:t,width:r,prefix:n=[]}){let{classes:i,cx:o}=DTe(),a=[...n,t].join(".");return e?(0,AT.jsx)(FTe.Tooltip,{title:e,placement:"left",children:(0,AT.jsx)("div",{className:o(i.fieldDescription,i.fieldName),children:a})}):(0,AT.jsx)("div",{className:i.fieldName,style:{width:r},children:a})}});var Q7=b(gp=>{"use strict";var OT=gp&&gp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gp,"__esModule",{value:!0});gp.default=HTe;var Pi=ae(),zTe=De(),Z7=OT(Db()),K7=OT(Nb()),X7=OT(mp()),J7=pn(),UTe=(0,zTe.makeStyles)()(e=>({field:{display:"flex",flexWrap:"wrap"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),border:`1px solid ${e.palette.action.selected}`,boxSizing:"border-box",overflow:"auto"}}));function HTe({name:e,value:t,description:r,formatter:n,prefix:i=[]}){let{classes:o}=UTe();return t.length===1?(0,J7.isObject)(t[0])?(0,Pi.jsx)(Z7.default,{formatter:n,attributes:t[0],prefix:[...i,e]}):(0,Pi.jsxs)("div",{className:o.field,children:[(0,Pi.jsx)(X7.default,{prefix:i,description:r,name:e}),(0,Pi.jsx)(K7.default,{value:n?n(t[0],e):t[0]})]}):t.every(a=>(0,J7.isObject)(a))?(0,Pi.jsx)(Pi.Fragment,{children:t.map((a,s)=>(0,Pi.jsx)(Z7.default,{formatter:n,attributes:a,prefix:[...i,`${e}-${s}`]},`${JSON.stringify(a)}-${s}`))}):(0,Pi.jsxs)("div",{className:o.field,children:[(0,Pi.jsx)(X7.default,{prefix:i,description:r,name:e}),t.map((a,s)=>(0,Pi.jsx)("div",{className:o.fieldSubvalue,children:(0,Pi.jsx)(K7.default,{value:n?n(a,e):a})},`${JSON.stringify(a)}-${s}`))]})}});var tB=b((O4e,eB)=>{eB.exports=JBrowseExports["@mui/x-data-grid"]});var rB=b(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});MT.default=GTe;var WTe=ae(),$Te=De(),VTe=(0,$Te.makeStyles)()({flexContainer:{display:"flex",flexDirection:"column"}});function GTe({children:e}){let{classes:t}=VTe();return(0,WTe.jsx)("div",{className:t.flexContainer,children:e})}});var oB=b(vp=>{"use strict";var iB=vp&&vp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});vp.default=tOe;var ta=ae(),YTe=U(),CT=pe(),ZTe=tB(),KTe=De(),XTe=iB(mp()),JTe=xT(),QTe=iB(rB()),nB=pn(),eOe=(0,KTe.makeStyles)()(e=>({margin:{marginBottom:e.spacing(4)},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}));function tOe({value:e,prefix:t,name:r}){let{classes:n}=eOe(),[i,o]=(0,YTe.useState)(!1),a=Object.keys(e[0]).sort(),s=new Set(a),f=Object.entries(e).map(([c,d])=>{let{id:p,...h}=d;return{id:c,identifier:p,...h}});for(let c of e)for(let d of Object.keys(c))s.add(d);let u;s.has("id")?(s.delete("id"),u=["identifier",...s]):u=[...s];let l=u.map(c=>(0,nB.measureGridWidth)(f.map(d=>d[c])));return s.size<a.length+5?(0,ta.jsxs)("div",{className:n.margin,children:[(0,ta.jsx)(XTe.default,{prefix:t,name:r}),(0,ta.jsx)(CT.FormControlLabel,{control:(0,ta.jsx)(CT.Checkbox,{checked:i,onChange:c=>{o(c.target.checked)}}),label:(0,ta.jsx)(CT.Typography,{variant:"body2",children:"Show options"})}),(0,ta.jsx)(QTe.default,{children:(0,ta.jsx)(ZTe.DataGrid,{disableRowSelectionOnClick:!0,rows:f,rowHeight:20,columnHeaderHeight:35,hideFooter:f.length<25,showToolbar:i,columns:u.map((c,d)=>({field:c,width:l[d],renderCell:({value:p})=>(0,ta.jsx)("div",{className:n.cell,children:(0,ta.jsx)(JTe.SanitizedHTML,{html:(0,nB.getStr)(p||"")})})}))})})]}):null}});var sB=b(_p=>{"use strict";var aB=_p&&_p.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_p,"__esModule",{value:!0});_p.default=aOe;var kT=ae(),rOe=De(),nOe=aB(Nb()),iOe=aB(mp()),oOe=(0,rOe.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function aOe({name:e,value:t,description:r,prefix:n,width:i,formatter:o}){let{classes:a}=oOe();return t!=null?(0,kT.jsxs)("div",{className:a.field,children:[(0,kT.jsx)(iOe.default,{prefix:n,description:r,name:e,width:i}),(0,kT.jsx)(nOe.default,{value:o?o(t,e):t})]}):null}});var lB=b(bp=>{"use strict";var uB=bp&&bp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bp,"__esModule",{value:!0});bp.default=fOe;var RT=ae(),sOe=De(),uOe=uB(Nb()),lOe=uB(mp()),cOe=(0,sOe.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function fOe({value:e,prefix:t,name:r}){let{classes:n}=cOe(),{uri:i,baseUri:o=""}=e,a;try{a=new URL(i,o).href}catch{a=i}return(0,RT.jsxs)("div",{className:n.field,children:[(0,RT.jsx)(lOe.default,{prefix:t,name:r}),(0,RT.jsx)(uOe.default,{value:a})]})}});var dB=b(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.stitch=dOe;yo.dedupe=pOe;yo.revlist=hOe;yo.calculateUTRs=mOe;yo.calculateUTRs2=gOe;yo.ellipses=vOe;yo.replaceUndefinedWithNull=_Oe;yo.formatSubfeatures=fB;function dOe(e,t){return e.map(r=>t.slice(r.start,r.end)).join("")}function cB(e){return`${e.start}-${e.end}`}function pOe(e){return e.filter((t,r,n)=>!r||cB(t)!==cB(n[r-1]))}function hOe(e,t){return e.map(r=>({...r,start:t-r.end,end:t-r.start})).sort((r,n)=>r.start-n.start)}function mOe(e,t){if(!e.length)return[];let r=e.at(0),n=e.at(-1),i=t.findIndex(l=>l.end>=r.start&&l.start<=r.start),o=t.findIndex(l=>l.end>=n.end&&l.start<=n.end),a=t[o],s=t[i],f=[...t.slice(0,i),{start:s.start,end:r.start}].map(l=>({...l,type:"five_prime_UTR"})),u=[{start:n.end,end:a.end},...t.slice(o+1)].map(l=>({...l,type:"three_prime_UTR"}));return[...f,...u]}function gOe(e,t){if(!e.length)return[];let r=e.at(0),n=e.at(-1),i=[{start:t.start,end:r.start}].map(a=>({...a,type:"five_prime_UTR"})),o=[{start:n.end,end:t.end}].map(a=>({...a,type:"three_prime_UTR"}));return[...i,...o]}function vOe(e){return e.length>20?`${e.slice(0,20)}...`:e}function _Oe(e){return JSON.parse(JSON.stringify(e,(t,r)=>r===void 0?null:r))}function fB(e,t,r,n=0,i={}){var o;t<=n||(o=e.subfeatures)===null||o===void 0||o.map(a=>{fB(a,t,r,n+1,i),r(a)})}});var pB=b(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.isEmpty=yOe;Pc.generateTitle=wOe;Pc.generateMaxWidth=xOe;Pc.accessNested=SOe;var Bb=pn(),bOe=dB();function yOe(e){return Object.keys(e).length===0}function wOe(e,t,r){return[(0,bOe.ellipses)(`${e||t||""}`),`${r}`].filter(n=>!!n).join(" - ")}function xOe(e,t){return Math.ceil((0,Bb.max)(e.map(r=>(0,Bb.measureText)([...t,r[0]].join("."),12))))+10}function SOe(e,t={}){let r=t;for(let n of e)(0,Bb.isObject)(r)&&(r=r[n]);return typeof r=="string"?r:(0,Bb.isObject)(r)&&typeof r.Description=="string"?r.Description:void 0}});var Db=b(yp=>{"use strict";var zb=yp&&yp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yp,"__esModule",{value:!0});yp.default=mB;var bu=ae(),EOe=zb(Q7()),AOe=zb(oB()),TOe=zb(sB()),OOe=zb(lB()),hB=pB(),PT=pn(),MOe=170,COe=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"];function mB(e){let{attributes:t,omit:r=[],omitSingleLevel:n=[],descriptions:i,formatter:o,hideUris:a,prefix:s=[]}=e,f=new Set([...r,...COe,...n]),{__jbrowsefmt:u,...l}=t,c=Object.entries({...l,...u}).filter(([p,h])=>h!=null&&!f.has(p)),d=(0,hB.generateMaxWidth)(c,s);return(0,bu.jsx)(bu.Fragment,{children:c.map(([p,h])=>{let m=(0,hB.accessNested)([...s,p],i);if(Array.isArray(h))return h.length>1&&h.every(v=>(0,PT.isObject)(v))?(0,bu.jsx)(AOe.default,{name:p,prefix:s,value:h},p):(0,bu.jsx)(EOe.default,{name:p,value:h,formatter:o,description:m,prefix:s},p);if((0,PT.isObject)(h)){let{omitSingleLevel:v,...g}=e;return(0,PT.isUriLocation)(h)?a?null:(0,bu.jsx)(OOe.default,{name:p,prefix:s,value:h},p):(0,bu.jsx)(mB,{...g,formatter:o,attributes:h,descriptions:i,prefix:[...s,p]},p)}else return(0,bu.jsx)(TOe.default,{name:p,formatter:o,value:h,description:m,prefix:s,width:Math.min(d,MOe)},p)})})}});var gB=b(Ub=>{"use strict";"use client";var kOe=Lt().default;Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=void 0;var ROe=kOe(Cn()),POe=ae(),j4e=Ub.default=(0,ROe.default)((0,POe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")});var IT=b(xp=>{"use strict";var IOe=xp&&xp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xp,"__esModule",{value:!0});xp.default=FOe;var wp=ae(),LOe=IOe(gB()),Hb=pe(),jOe=De(),qOe=(0,jOe.makeStyles)()(e=>({expansionPanelDetails:{display:"block",padding:e.spacing(1)},icon:{color:e.palette.tertiary.contrastText||"#fff"}}));function FOe({children:e,title:t,defaultExpanded:r=!0}){let{classes:n}=qOe();return(0,wp.jsxs)(Hb.Accordion,{defaultExpanded:r,children:[(0,wp.jsx)(Hb.AccordionSummary,{expandIcon:(0,wp.jsx)(LOe.default,{className:n.icon}),children:(0,wp.jsx)(Hb.Typography,{variant:"button",children:t})}),(0,wp.jsx)(Hb.AccordionDetails,{className:n.expansionPanelDetails,children:e})]})}});function NOe(e){return Sp.default.createElement("div",null,Sp.default.createElement(Wb.FormControlLabel,{...e}))}function Pr({checked:e,label:t,disabled:r,onChange:n}){return Sp.default.createElement(NOe,{control:Sp.default.createElement(Wb.Checkbox,{disabled:r,checked:e,onChange:n}),label:t})}var Sp,Wb,$b=L(()=>{Sp=T(U()),Wb=T(pe())});function Ep({str:e}){let{classes:t}=DOe(),[r,n]=(0,Ii.useState)(!1),[i,o]=(0,Ii.useState)(!1),[a,s]=(0,Ii.useState)(!1),f=e.map(([u,l])=>[u,i?l:l.replaceAll("-","")]).filter(u=>a?!0:!!u[1]).map(([u,l])=>`>${u}
${i?l:l.replaceAll("-","")}`).join(`
`);return Ii.default.createElement(Ii.default.Fragment,null,Ii.default.createElement(Vb.Button,{color:"primary",variant:"contained",onClick:()=>{(0,vB.default)(f),n(!0),setTimeout(()=>{n(!1)},500)}},r?"Copied!":"Copy to clipboard"),Ii.default.createElement(Pr,{label:"Show gaps",checked:i,onChange:()=>{o(!i)}}),Ii.default.createElement(Pr,{label:"Show empty",checked:a,onChange:()=>{s(!a)}}),Ii.default.createElement(Vb.TextField,{variant:"outlined",multiline:!0,className:t.dialogContent,minRows:5,maxRows:10,fullWidth:!0,value:f,InputProps:{readOnly:!0,classes:{input:t.textAreaFont}}}))}var Ii,Vb,vB,_B,DOe,LT=L(()=>{Ii=T(U()),Vb=T(pe()),vB=T(AE()),_B=T(De());$b();DOe=(0,_B.makeStyles)()({textAreaFont:{fontFamily:"Courier New",wordWrap:"break-word"},dialogContent:{background:"lightgrey",margin:4,minWidth:"80em"}})});var EB={};jr(EB,{default:()=>zOe});var Ic,bB,yB,wB,xB,SB,BOe,zOe,AB=L(()=>{Ic=T(U()),bB=T(Db()),yB=T(IT()),wB=T(zt()),xB=T(pe()),SB=T(Se());LT();BOe=(0,SB.observer)(function({model:e,onClose:t}){let{header:r}=e;return Ic.default.createElement(wB.Dialog,{onClose:()=>{t()},open:!0,title:"Metadata",maxWidth:"xl"},Ic.default.createElement(xB.DialogContent,null,Ic.default.createElement(bB.default,{attributes:r}),Ic.default.createElement(yB.default,{title:"sequence"},Ic.default.createElement(Ep,{str:e.rows}))))}),zOe=BOe});var MB={};jr(MB,{default:()=>HOe});var ra,TB,wn,OB,UOe,HOe,CB=L(()=>{ra=T(U()),TB=T(zt()),wn=T(pe()),OB=T(Se()),UOe=(0,OB.observer)(function({model:e,onClose:t}){let{tracks:r}=e;return ra.default.createElement(TB.Dialog,{onClose:()=>{t()},open:!0,title:"Add track"},ra.default.createElement(wn.DialogContent,null,ra.default.createElement(wn.Typography,null,"Open relevant per-alignment tracks e.g. protein domains"),ra.default.createElement(wn.FormGroup,null,r.map(n=>ra.default.createElement(wn.FormControlLabel,{key:n.model.id,control:ra.default.createElement(wn.Checkbox,{checked:!e.turnedOffTracks.has(n.model.id),onChange:()=>{e.toggleTrack(n.model.id)}}),label:n.model.name}))),ra.default.createElement(wn.DialogActions,null,ra.default.createElement(wn.Button,{onClick:()=>{t()},variant:"contained",color:"primary"},"Close"))))}),HOe=UOe});var RB={};jr(RB,{default:()=>kB});function kB({model:e,onClose:t}){let[r,n]=(0,Nt.useState)(!0),[i,o]=(0,Nt.useState)("viewport"),[a,s]=(0,Nt.useState)(),f=(0,yt.useTheme)();return Nt.default.createElement(Gb.Dialog,{onClose:()=>{t()},open:!0,title:"Export SVG"},Nt.default.createElement(yt.DialogContent,null,a?Nt.default.createElement(Gb.ErrorMessage,{error:a}):null,Nt.default.createElement(yt.Typography,null,"Settings:"),Nt.default.createElement(Pr,{label:"Include minimap?",disabled:i==="entire",checked:r,onChange:()=>{n(!r)}}),Nt.default.createElement("div",null,Nt.default.createElement(yt.FormControl,null,Nt.default.createElement(yt.FormLabel,null,"Export type"),Nt.default.createElement(yt.RadioGroup,{value:i,onChange:u=>{o(u.target.value)}},Nt.default.createElement(yt.FormControlLabel,{value:"entire",control:Nt.default.createElement(yt.Radio,null),label:"Entire MSA"}),Nt.default.createElement(yt.FormControlLabel,{value:"viewport",control:Nt.default.createElement(yt.Radio,null),label:"Current viewport only"}))))),Nt.default.createElement(yt.DialogActions,null,Nt.default.createElement(yt.Button,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{await e.exportSVG({theme:f,includeMinimap:i==="entire"?!1:r,exportType:i})}catch(u){console.error(u),s(u)}t()})()}},"Submit"),Nt.default.createElement(yt.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))}var Nt,Gb,yt,PB=L(()=>{Nt=T(U()),Gb=T(zt()),yt=T(pe());$b()});function IB(e){return jT[Math.min(e,jT.length-1)]}var jT,qT,FT=L(()=>{jT=[["#F8766D"],["#F8766D","#00BFC4"],["#F8766D","#00BA38","#619CFF"],["#F8766D","#7CAE00","#00BFC4","#C77CFF"],["#F8766D","#A3A500","#00BF7D","#00B0F6","#E76BF3"],["#F8766D","#B79F00","#00BA38","#00BFC4","#619CFF","#F564E3"],["#F8766D","#C49A00","#53B400","#00C094","#00B6EB","#A58AFF","#FB61D7"],["#F8766D","#CD9600","#7CAE00","#00BE67","#00BFC4","#00A9FF","#C77CFF","#FF61CC"]];qT=jT});var jB={};jr(jB,{default:()=>GOe});var ot,LB,Ap,Yb,WOe,$Oe,VOe,GOe,qB=L(()=>{ot=T(U()),LB=T(zt()),Ap=T(pe()),Yb=T(Se());FT();WOe=(0,Yb.observer)(function({model:e}){let{featureFilters:t}=e;return ot.default.createElement("div",null,ot.default.createElement(Ap.Button,{onClick:()=>{for(let r of t.keys())e.setFilter(r,!0)}},"Toggle all on"),ot.default.createElement(Ap.Button,{onClick:()=>{for(let r of t.keys())e.setFilter(r,!1)}},"Toggle all off"))}),$Oe=(0,Yb.observer)(function({model:e}){let{tidyInterProAnnotationTypes:t,featureFilters:r}=e,n=[...t.values()],i=IB(n.length-1);return ot.default.createElement(ot.default.Fragment,null,ot.default.createElement(WOe,{model:e}),ot.default.createElement("table",null,ot.default.createElement("thead",null,ot.default.createElement("tr",null,ot.default.createElement("td",null),ot.default.createElement("td",null,"accession"),ot.default.createElement("td",null,"name"),ot.default.createElement("td",null,"description"))),ot.default.createElement("tbody",null,n.map(({accession:o,name:a,description:s},f)=>ot.default.createElement("tr",{key:o},ot.default.createElement("td",null,ot.default.createElement("input",{type:"checkbox",checked:r.get(o)??!1,onChange:()=>{e.setFilter(o,!e.featureFilters.get(o))}})),ot.default.createElement("td",null,o),ot.default.createElement("td",null,a),ot.default.createElement("td",null,s),ot.default.createElement("td",null,ot.default.createElement("div",{style:{width:20,height:20,background:i[f]||"black"}})))))))}),VOe=(0,Yb.observer)(function({onClose:e,model:t}){return ot.default.createElement(LB.Dialog,{onClose:()=>{e()},open:!0,title:"Feature filters",maxWidth:"xl"},ot.default.createElement(Ap.DialogContent,null,ot.default.createElement($Oe,{model:t})))}),GOe=VOe});var YOe,Zb,FB=L(()=>{YOe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zb=YOe});var ZOe,NT,NB=L(()=>{ZOe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},NT=ZOe});var KOe,DT,DB=L(()=>{KOe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},DT=KOe});var XOe,BT,BB=L(()=>{XOe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},BT=XOe});var zB=L(()=>{FB();NB();DB();BB()});var JOe,na,gr,ti,ZB,UB,zT,QOe,Kb,KB,XB,HB,WB,$B,Tp,e2e,t2e,r2e,n2e,WT,VB,i2e,UT,HT,GB,$T,rn,YB,Xb,Jb=L(()=>{JOe={grad:.9,turn:360,rad:360/(2*Math.PI)},na=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},gr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},ti=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},ZB=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},UB=function(e){return{r:ti(e.r,0,255),g:ti(e.g,0,255),b:ti(e.b,0,255),a:ti(e.a)}},zT=function(e){return{r:gr(e.r),g:gr(e.g),b:gr(e.b),a:gr(e.a,3)}},QOe=/^#([0-9a-f]{3,8})$/i,Kb=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},KB=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),a=o-Math.min(t,r,n),s=a?o===t?(r-n)/a:o===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},XB=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),a=n*(1-r),s=n*(1-(t-o)*r),f=n*(1-(1-t+o)*r),u=o%6;return{r:255*[n,s,a,a,f,n][u],g:255*[f,n,n,s,a,a][u],b:255*[a,a,f,n,n,s][u],a:i}},HB=function(e){return{h:ZB(e.h),s:ti(e.s,0,100),l:ti(e.l,0,100),a:ti(e.a)}},WB=function(e){return{h:gr(e.h),s:gr(e.s),l:gr(e.l),a:gr(e.a,3)}},$B=function(e){return XB((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},Tp=function(e){return{h:(t=KB(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},e2e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t2e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,r2e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,n2e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WT={string:[[function(e){var t=QOe.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?gr(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?gr(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=r2e.exec(e)||n2e.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:UB({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=e2e.exec(e)||t2e.exec(e);if(!t)return null;var r,n,i=HB({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(JOe[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return $B(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=i===void 0?1:i;return na(t)&&na(r)&&na(n)?UB({r:Number(t),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,o=i===void 0?1:i;if(!na(t)||!na(r)||!na(n))return null;var a=HB({h:Number(t),s:Number(r),l:Number(n),a:Number(o)});return $B(a)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,o=i===void 0?1:i;if(!na(t)||!na(r)||!na(n))return null;var a=(function(s){return{h:ZB(s.h),s:ti(s.s,0,100),v:ti(s.v,0,100),a:ti(s.a)}})({h:Number(t),s:Number(r),v:Number(n),a:Number(o)});return XB(a)},"hsv"]]},VB=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},i2e=function(e){return typeof e=="string"?VB(e.trim(),WT.string):typeof e=="object"&&e!==null?VB(e,WT.object):[null,void 0]},UT=function(e,t){var r=Tp(e);return{h:r.h,s:ti(r.s+100*t,0,100),l:r.l,a:r.a}},HT=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},GB=function(e,t){var r=Tp(e);return{h:r.h,s:r.s,l:ti(r.l+100*t,0,100),a:r.a}},$T=(function(){function e(t){this.parsed=i2e(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return gr(HT(this.rgba),2)},e.prototype.isDark=function(){return HT(this.rgba)<.5},e.prototype.isLight=function(){return HT(this.rgba)>=.5},e.prototype.toHex=function(){return t=zT(this.rgba),r=t.r,n=t.g,i=t.b,a=(o=t.a)<1?Kb(gr(255*o)):"","#"+Kb(r)+Kb(n)+Kb(i)+a;var t,r,n,i,o,a},e.prototype.toRgb=function(){return zT(this.rgba)},e.prototype.toRgbString=function(){return t=zT(this.rgba),r=t.r,n=t.g,i=t.b,(o=t.a)<1?"rgba("+r+", "+n+", "+i+", "+o+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,o},e.prototype.toHsl=function(){return WB(Tp(this.rgba))},e.prototype.toHslString=function(){return t=WB(Tp(this.rgba)),r=t.h,n=t.s,i=t.l,(o=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+o+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,o},e.prototype.toHsv=function(){return t=KB(this.rgba),{h:gr(t.h),s:gr(t.s),v:gr(t.v),a:gr(t.a,3)};var t},e.prototype.invert=function(){return rn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),rn(UT(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),rn(UT(this.rgba,-t))},e.prototype.grayscale=function(){return rn(UT(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),rn(GB(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),rn(GB(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?rn({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):gr(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=Tp(this.rgba);return typeof t=="number"?rn({h:t,s:r.s,l:r.l,a:r.a}):gr(r.h)},e.prototype.isEqual=function(t){return this.toHex()===rn(t).toHex()},e})(),rn=function(e){return e instanceof $T?e:new $T(e)},YB=[],Xb=function(e){e.forEach(function(t){YB.indexOf(t)<0&&(t($T,WT),YB.push(t))})}});function Qb(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};e.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,f,u=n[this.toHex()];if(u)return u;if(a?.closest){var l=this.toRgb(),c=1/0,d="black";if(!o.length)for(var p in r)o[p]=new e(r[p]).toRgb();for(var h in r){var m=(s=l,f=o[h],Math.pow(s.r-f.r,2)+Math.pow(s.g-f.g,2)+Math.pow(s.b-f.b,2));m<c&&(c=m,d=h)}return d}},t.string.push([function(a){var s=a.toLowerCase(),f=s==="transparent"?"#0000":r[s];return f?new e(f).toRgb():null},"name"])}var VT=L(()=>{});function ey(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var JB=L(()=>{});function ty(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var QB=L(()=>{});var GT=L(()=>{JB();QB()});function ry(e,t){return Object.fromEntries(Object.entries(e).map(t))}function Op(e,t="node",r=0){let n=`${t}-${r}`;return{...e,id:n,name:e.name||n,children:e.children?.map((i,o)=>Op(i,`${n}-${o}`,r+1))||[]}}function Lc(e,t){return ry(e,([r,n])=>[r,t.palette.getContrastText(rn(n).toHex())])}function YT(e,t){let r="",n=0;for(let i=0,o=t.length;i<o;i++)i===e[n]?n++:r+=t[i];return r}function ZT(e,t,r){e.len=(t+=Math.max(e.data.length||0,0))*r,e.children&&e.children.forEach(n=>{ZT(n,t,r)})}function KT(e){return(e.data.length||0)+(e.children&&ty(e.children,KT)||0)}function ez(e){e.children&&(e._children=e.children,e.children=null)}function XT(e){return e.end-e.start}function ia(e){return e==="-"||e==="."}var oa=L(()=>{Jb();VT();GT();Xb([Qb])});function tz(e,t,r,n,i){let o=r.columns[n][i],{W:a=0,L:s=0,V:f=0,I:u=0,M:l=0,A:c=0,F:d=0,C:p=0,H:h=0,P:m=0,R:v=0,K:g=0,Q:_=0,E:w=0,D:y=0,T:x=0,S:A=0,G:E=0,Y:O=0,N:M=0}=e,C=a+s+f+u+l+c+d+p+h+m+O,k=g+v,q=_+w,N=w+y,R=x+A;if(C/t>.6&&(o==="W"||o==="L"||o==="V"||o==="A"||o==="I"||o==="M"||o==="F"||o==="C"))return"rgb(128,179,230)";if((o==="K"||o==="R")&&(k/t>.6||g/t>.8||v/t>.8||_/t>.8))return"#d88";if(o==="E"&&(k/t>.6||q/t>.5||w/t>.8||_/t>.8||y/t>.8))return"rgb(192, 72, 192)";if(o==="D"&&(k/t>.6||N/t>.5||g/t>.8||v/t>.8||_/t>.8))return"rgb(204, 77, 204)";if(o==="N"&&(M/t>.5||O/t>.85)||o==="Q"&&(k/t>.6||q/t>.6||_/t>.85||w/t>.85||g/t>.85||v/t>.85))return"#8f8";if((o==="S"||o==="T")&&(C/t>.6||R/t>.5||A/t>.85||x/t>.85))return"rgb(26,204,26)";if(o==="C"&&p/t>.85)return"rgb(240, 128, 128)";if(o==="G"&&E/t>0)return"rgb(240, 144, 72)";if(o==="P"&&m/t>0)return"rgb(204, 204, 0)";if((o==="H"||o==="Y")&&(C/t>.6||a>.85||O>.85||c>.85||p>.85||m>.85||_>.85||d>.85||h>.85||u>.85||s>.85||l>.85||f>.85))return"rgb(26, 179, 179)"}function rz(e,t,r,n,i){let o=r.columns[n][i],a=Object.entries(e),s=0,f="";for(let c of a)c[1]>s&&!ia(c[0])&&(f=c[0],s=c[1]);let u=s/t,l=`hsl(240, 30%, ${100*Math.max(1-s/t/3,.3)}%)`;if(u>.4&&o===f)return l}var o2e,jc,Mp=L(()=>{zB();Jb();VT();oa();Xb([Qb]);o2e={none:{},clustal:{G:"orange",P:"orange",S:"orange",T:"orange",H:"red",K:"red",R:"red",F:"blue",W:"blue",Y:"blue",I:"green",L:"green",M:"green",V:"green"},lesk:{G:"orange",A:"orange",S:"orange",T:"orange",C:"green",V:"green",I:"green",L:"green",P:"green",F:"green",Y:"green",M:"green",W:"green",N:"magenta",Q:"magenta",H:"magenta",D:"red",E:"red",K:"blue",R:"blue"},maeditor:{A:"lightgreen",G:"lightgreen",C:"green",D:"darkgreen",E:"darkgreen",N:"darkgreen",Q:"darkgreen",I:"blue",L:"blue",M:"blue",V:"blue",F:"#c8a2c8",W:"#c8a2c8",Y:"#c8a2c8",H:"darkblue",K:"orange",R:"orange",P:"pink",S:"red",T:"red"},percent_identity_dynamic:{},flower:{A:"#b18a51",C:"#ff5701",D:"#01a578",E:"#2da0a1",F:"#fa559d",G:"#b1c23c",H:"#0194f9",I:"#f27663",K:"#7fc3d7",L:"#df6e75",M:"#fe9daf",N:"#0bcec6",P:"#4fa32a",Q:"#7295ae",R:"#83bff1",S:"#b4bd9b",T:"#d2b576",V:"#fd997b",W:"#ff2ded",Y:"#c96ecf"},rainbow_dna:{A:"#3737f5",C:"#37f537",G:"#f5f537",T:"#f53737",U:"#f53737"},clustalx_protein:{A:"#197fe5",C:"#e57f7f",D:"#cc4ccc",E:"#cc4ccc",F:"#197fe5",G:"#e5994c",H:"#19b2b2",I:"#197fe5",K:"#e53319",L:"#197fe5",M:"#197fe5",N:"#19cc19",P:"#cccc00",Q:"#19cc19",R:"#e53319",S:"#19cc19",T:"#19cc19",V:"#197fe5",W:"#197fe5",Y:"#19b2b2"},clustalx_protein_dynamic:{},clustalx_dna:{A:"#e53319",C:"#197fe5",G:"#e5994c",T:"#19cc19",U:"#19cc19"},jbrowse_dna:{A:DT[500],C:NT[500],G:BT[500],T:Zb[500],U:Zb[500]},jalview_buried:{A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},jalview_hydrophobicity:{A:"#ad0052",R:"#0000ff",N:"#0c00f3",D:"#0c00f3",C:"#c2003d",Q:"#0c00f3",E:"#0c00f3",G:"#6a0095",H:"#1500ea",I:"#ff0000",L:"#ea0015",K:"#0000ff",M:"#b0004f",F:"#cb0034",P:"#4600b9",S:"#5e00a1",T:"#61009e",W:"#5b00a4",Y:"#4f00b0",V:"#f60009",B:"#0c00f3",X:"#680097",Z:"#0c00f3"},jalview_prophelix:{A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},jalview_propstrand:{A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},jalview_propturn:{A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"},jalview_taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00"},jalview_zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf"},cinema:{H:"blue",K:"blue",R:"blue",D:"red",E:"red",S:"green",T:"green",N:"green",Q:"green",A:"white",V:"white",L:"white",I:"white",M:"white",F:"magenta",W:"magenta",Y:"magenta",P:"brown",G:"brown",C:"yellow",B:"gray",Z:"gray",X:"gray","-":"gray",".":"gray"}},jc=ry(o2e,([e,t])=>[e,ry(t,([r,n])=>[r,rn(n).toHex()])])});var az={};jr(az,{default:()=>c2e});var Pe,iz,Gt,Cp,oz,JT,nz,a2e,s2e,u2e,l2e,c2e,sz=L(()=>{Pe=T(U()),iz=T(zt()),Gt=T(pe()),Cp=T(Se()),oz=T(De());Mp();$b();JT=(0,oz.makeStyles)()(e=>({field:{margin:e.spacing(4)},flex:{display:"flex"},minw:{width:"80em"}})),nz=(e=0)=>+e.toFixed(1),a2e=(0,Cp.observer)(function({model:e}){return Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement(s2e,{model:e}),Pe.default.createElement(u2e,{model:e}))}),s2e=(0,Cp.observer)(function({model:t}){let{classes:r}=JT(),{drawTree:n,drawLabels:i,drawNodeBubbles:o,labelsAlignRight:a,noTree:s,showBranchLen:f,treeWidthMatchesArea:u,treeWidth:l}=t;return Pe.default.createElement("div",null,Pe.default.createElement("h1",null,"Tree options"),Pe.default.createElement(Pr,{checked:f,label:"Show branch length?",onChange:()=>{t.setShowBranchLen(!f)}}),Pe.default.createElement(Pr,{checked:o,label:"Draw clickable bubbles on tree branches?",onChange:()=>{t.setDrawNodeBubbles(!o)}}),Pe.default.createElement(Pr,{checked:n,label:"Show tree?",onChange:()=>{t.setDrawTree(!n)}}),Pe.default.createElement(Pr,{checked:a,label:"Tree labels align right?",onChange:()=>{t.setLabelsAlignRight(!a)}}),Pe.default.createElement(Pr,{checked:i,label:"Draw labels",onChange:()=>{t.setDrawLabels(!i)}}),s?null:Pe.default.createElement("div",null,Pe.default.createElement(Pr,{checked:u,label:"Make tree width fit to tree area?",onChange:()=>{t.setTreeWidthMatchesArea(!u)}}),u?null:Pe.default.createElement("div",{className:r.flex},Pe.default.createElement(Gt.Typography,null,"Tree width (",l,"px)"),Pe.default.createElement(Gt.Slider,{className:r.field,min:50,max:600,value:l,onChange:(c,d)=>{t.setTreeWidth(d)}}))))}),u2e=(0,Cp.observer)(function({model:t}){let{classes:r}=JT(),{bgColor:n,contrastLettering:i,colWidth:o,allowedGappyness:a,drawMsaLetters:s,colorSchemeName:f,hideGaps:u,rowHeight:l}=t;return Pe.default.createElement("div",null,Pe.default.createElement("h1",null,"MSA options"),Pe.default.createElement(Pr,{checked:s,label:"Draw letters",onChange:()=>{t.setDrawMsaLetters(!s)}}),Pe.default.createElement(Pr,{checked:n,label:"Color letters instead of background of tiles",onChange:()=>{t.setBgColor(!n)}}),Pe.default.createElement(Pr,{checked:i,label:"Use contrast lettering",onChange:()=>{t.setContrastLettering(!i)}}),Pe.default.createElement(Pr,{checked:u,label:"Enable hiding gappy columns?",onChange:()=>{t.setHideGaps(!u)}}),u?Pe.default.createElement("div",{className:r.flex},Pe.default.createElement(Gt.Typography,null,"Hide columns w/ >",a,"% gaps"),Pe.default.createElement(Gt.Slider,{className:r.field,min:1,max:100,value:a,onChange:(c,d)=>{t.setAllowedGappyness(d)}})):null,Pe.default.createElement("div",{className:r.flex},Pe.default.createElement(Gt.Typography,null,"Column width (",nz(o),"px)"),Pe.default.createElement(Gt.Slider,{className:r.field,min:1,max:50,value:o,onChange:(c,d)=>{t.setColWidth(d)}})),Pe.default.createElement("div",{className:r.flex},Pe.default.createElement(Gt.Typography,null,"Row height (",nz(l),"px)"),Pe.default.createElement(Gt.Slider,{className:r.field,min:1,max:50,value:l,onChange:(c,d)=>{t.setRowHeight(d)}})),Pe.default.createElement(Gt.TextField,{select:!0,label:"Color scheme",value:f,onChange:c=>{t.setColorSchemeName(c.target.value)}},Object.keys(jc).map(c=>Pe.default.createElement(Gt.MenuItem,{key:c,value:c},c))))}),l2e=(0,Cp.observer)(function({model:e,onClose:t}){let{classes:r}=JT();return Pe.default.createElement(iz.Dialog,{open:!0,title:"Settings",maxWidth:"xl",onClose:()=>{t()}},Pe.default.createElement(Gt.DialogContent,{className:r.minw},Pe.default.createElement(a2e,{model:e}),Pe.default.createElement(Gt.DialogActions,null,Pe.default.createElement(Gt.Button,{variant:"contained",color:"primary",onClick:()=>{t()}},"Submit"))))}),c2e=l2e});async function uz(e,t){let r=await fetch(e,t);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${e} ${await r.text()}`);return r}async function QT(e,t){return(await uz(e,t)).text()}async function ny(e,t){return(await uz(e,t)).json()}function lz(e){return new Promise(t=>setTimeout(t,e))}var eO=L(()=>{});var dz={};jr(dz,{default:()=>d2e});var ut,cz,tO,wt,fz,f2e,d2e,pz=L(()=>{ut=T(U()),cz=T(zt()),tO=T(vt()),wt=T(pe()),fz=T(Se());eO();f2e=(0,fz.observer)(function({handleClose:e,model:t}){let[r,n]=(0,ut.useState)(),[i,o]=(0,ut.useState)("file"),[a,s]=(0,ut.useState)("");return ut.default.createElement(cz.Dialog,{maxWidth:"xl",title:"Open protein domains from file",onClose:()=>{e()},open:!0},ut.default.createElement(wt.DialogContent,null,ut.default.createElement("div",null,ut.default.createElement(wt.Typography,null,"Open a JSON file of InterProScan results that you run remotely on EBI servers or locally"),ut.default.createElement("div",{style:{display:"flex",margin:30}},ut.default.createElement(wt.FormControl,{component:"fieldset"},ut.default.createElement(wt.RadioGroup,{value:i,onChange:f=>{o(f.target.value)}},ut.default.createElement(wt.FormControlLabel,{value:"url",control:ut.default.createElement(wt.Radio,null),label:"URL"}),ut.default.createElement(wt.FormControlLabel,{value:"file",control:ut.default.createElement(wt.Radio,null),label:"File"}))),i==="url"?ut.default.createElement("div",null,ut.default.createElement(wt.Typography,null,"Open a InterProScan JSON file remote URL"),ut.default.createElement(wt.TextField,{label:"URL",value:a,onChange:f=>{s(f.target.value)}})):null,i==="file"?ut.default.createElement("div",{style:{paddingTop:20}},ut.default.createElement(wt.Typography,null,"Open a InterProScan JSON file file from your local drive"),ut.default.createElement(wt.Button,{variant:"outlined",component:"label"},"Choose File",ut.default.createElement("input",{type:"file",hidden:!0,onChange:({target:f})=>{let u=f.files?.[0];u&&n(u)}}))):null))),ut.default.createElement(wt.DialogActions,null,ut.default.createElement(wt.Button,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{let f=r?JSON.parse(await r.text()):await ny(a);t.setInterProAnnotations(Object.fromEntries(f.results.map(u=>[u.xref[0].id,u]))),t.setShowDomains(!0),(0,tO.getSession)(t).notify("Loaded interproscan results","success")}catch(f){console.error(f),(0,tO.getSession)(t).notifyError(`${f}`,f)}finally{t.setStatus()}})(),e()}},"Open results")))}),d2e=f2e});async function p2e({seq:e,onProgress:t,onJobId:r,programs:n,model:i}){let o=await QT(`${nO}/iprscan5/run`,{method:"POST",body:new URLSearchParams({email:"colin.diesh@gmail.com",sequence:e,programs:n.join(",")})});r?.(o),await m2e({jobId:o,onProgress:t}),await g2e({jobId:o,model:i})}function h2e(e){return ny(`${nO}/iprscan5/result/${e}/json`)}async function m2e({onProgress:e,jobId:t}){let r=`${nO}/iprscan5/status/${t}`;try{for(;;){for(let i=0;i<10;i++)await lz(1e3),e({msg:`Checking status ${10-i}`,url:r});let n=await QT(r);if(n.includes("FINISHED"))break;if(n.includes("FAILURE"))throw new Error(`Failed to run: jobId ${t}`)}}finally{e()}}async function hz({algorithm:e,seq:t,programs:r,onJobId:n,onProgress:i,model:o}){try{throw i({msg:`Launching ${e} MSA`}),e==="interproscan"&&await p2e({seq:t,onJobId:n,onProgress:i,programs:r,model:o}),new Error("unknown algorithm")}finally{i()}}async function g2e({jobId:e,model:t}){try{t.setStatus({msg:`Downloading results of ${e} (for larger sequences this can be slow, click status to download and upload in the manual tab)`,url:`https://www.ebi.ac.uk/Tools/services/rest/iprscan5/result/${e}/json`});let r=await h2e(e);t.setInterProAnnotations(Object.fromEntries(r.results.map(n=>[n.xref[0].id,n]))),t.setShowDomains(!0),(0,rO.getSession)(t).notify(`Loaded interproscan ${e} results`,"success")}catch(r){console.error(r),(0,rO.getSession)(t).notifyError(`${r}`,r)}finally{t.setStatus()}}var rO,nO,mz=L(()=>{rO=T(vt());eO();nO="https://www.ebi.ac.uk/Tools/services/rest"});var bz={};jr(bz,{default:()=>_2e});var xt,gz,vz,In,_z,v2e,_2e,yz=L(()=>{xt=T(U()),gz=T(zt()),vz=T(vt()),In=T(pe()),_z=T(Se());mz();v2e=(0,_z.observer)(function({handleClose:e,model:t}){let[r,n]=(0,xt.useState)([{name:"NCBIfam",description:"NCBI RefSeq FAMs including TIGRFAMs",category:"Families, domains, sites & repeats",checked:!0},{name:"SFLD",description:"Structure function linkage database",category:"Families, domains, sites & repeats",checked:!0},{name:"Phobius",checked:!0,description:"A combined transmembrane topology and signal peptide predictor",category:"Other sequence features"},{name:"SignalP",checked:!0,category:"Other sequence features"},{name:"SignalP_EUK",category:"Other category",checked:!0},{name:"SignalP_GRAM_POSITIVE",category:"Other category",checked:!0},{name:"SignalP_GRAM_NEGATIVE",checked:!0,category:"Other category"},{name:"SUPERFAMILY",category:"Structural domains",checked:!0},{name:"PANTHER",category:"Families, domains, sites & repeats",checked:!0},{name:"Gene3D",category:"Structural domains",checked:!0},{name:"Hamap",category:"Families, domains, sites & repeats",checked:!0},{name:"ProSiteProfiles",category:"Families, domains, sites & repeats",checked:!0},{name:"ProSitePatterns",category:"Families, domains, sites & repeats",checked:!0},{name:"Coils",category:"Other sequence features",checked:!0},{name:"SMART",category:"Families, domains, sites & repeats",checked:!0},{name:"CDD",description:"Conserved Domains Database",category:"Families, domains, sites & repeats",checked:!0},{name:"PRINTS",category:"Families, domains, sites & repeats",checked:!0},{name:"Pfam",category:"Families, domains, sites & repeats",checked:!0},{name:"MobiDBLite",checked:!0,category:"Other sequence features"},{name:"PIRSF",checked:!0,category:"Other category"},{name:"TMHMM",checked:!0,category:"Other sequence features"},{name:"AntiFam",checked:!0,category:"Other category"},{name:"FunFam",checked:!0,category:"Other category"},{name:"PIRSR",checked:!0,category:"Families, domains, sites & repeats"}]),i=r.filter(s=>s.checked).map(s=>s.name),[o,a]=(0,xt.useState)(!1);return xt.default.createElement(gz.Dialog,{maxWidth:"xl",title:"Query InterProScan API for domains",onClose:()=>{e()},open:!0},xt.default.createElement(In.DialogContent,null,xt.default.createElement(In.Typography,null,"This will run InterProScan via the InterProScan API on all rows of the current MSA"),xt.default.createElement(In.Button,{onClick:()=>{a(!o)}},o?"Hide":"Show"," advanced options"),o?xt.default.createElement("div",null,xt.default.createElement(In.Typography,null,"Select algorithms for InterProScan to run"),xt.default.createElement("div",null,xt.default.createElement(In.Button,{variant:"contained",color:"secondary",onClick:()=>{n(r.map(s=>({...s,checked:!1})))}},"Select none"),xt.default.createElement(In.Button,{variant:"contained",color:"primary",onClick:()=>{n(r.map(s=>({...s,checked:!0})))}},"Select all")),xt.default.createElement("table",null,xt.default.createElement("tbody",null,r.toSorted((s,f)=>s.category.localeCompare(f.category)).map(({name:s,checked:f,category:u})=>xt.default.createElement("tr",{key:s},xt.default.createElement("td",null,xt.default.createElement("input",{type:"checkbox",key:s,checked:f,onChange:()=>{n(r.map(l=>l.name===s?{...l,checked:!l.checked}:l))}})),xt.default.createElement("td",null,s),xt.default.createElement("td",null,u)))))):null),xt.default.createElement(In.DialogActions,null,xt.default.createElement(In.Button,{variant:"contained",color:"secondary",onClick:()=>{e()}},"Cancel"),xt.default.createElement(In.Button,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{let{rows:s}=t;if(s.length>140)throw new Error("Too many sequences, please run InterProScan offline");await hz({algorithm:"interproscan",programs:i,seq:s.map(f=>[f[0],f[1].replaceAll("-","")]).filter(f=>!!f[1]).map(f=>`>${f[0]}
${f[1]}`).join(`
`),onProgress:f=>{t.setStatus(f)},model:t})}catch(s){console.error(s),(0,vz.getSession)(t).notifyError(`${s}`,s)}finally{t.setStatus()}})(),e()}},"Send sequences to InterProScan")))}),_2e=v2e});var Li,wz,xz,b2e,y2e,w2e,x2e,S2e,E2e,A2e,T2e,Sz,Ez=L(()=>{Li=T(U()),wz=T(Od());w3();E3();T3();C3();P3();L3();F3();B3();H3();xz=T(Se()),b2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(AB(),EB))),y2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(CB(),MB))),w2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(PB(),RB))),x2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(qB(),jB))),S2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(sz(),az))),E2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(pz(),dz))),A2e=(0,Li.lazy)(()=>Promise.resolve().then(()=>(yz(),bz))),T2e=(0,xz.observer)(({model:e})=>{let{showDomains:t,actuallyShowDomains:r,subFeatureRows:n,noDomains:i}=e;return Li.default.createElement(wz.default,{menuItems:[{label:"Return to import form",icon:yE,onClick:()=>{e.reset()}},{label:"Metadata",icon:y3,onClick:()=>{e.queueDialog(o=>[b2e,{model:e,onClose:o}])}},{label:"More settings",onClick:()=>{e.queueDialog(o=>[S2e,{model:e,onClose:o}])}},{label:"Extra tracks",icon:M3,onClick:()=>{e.queueDialog(o=>[y2e,{model:e,onClose:o}])}},{label:"Export SVG",icon:I3,onClick:()=>{e.queueDialog(o=>[w2e,{onClose:o,model:e}])}},{label:"Features/protein domains",type:"subMenu",subMenu:[{label:"Open domains...",icon:yE,onClick:()=>{e.queueDialog(o=>[E2e,{handleClose:o,model:e}])}},{label:"Query InterProScan for domains...",icon:q3,onClick:()=>{e.queueDialog(o=>[A2e,{handleClose:o,model:e}])}},{label:`Show domains${i?" (no domains loaded)":""}`,disabled:i,icon:U3,checked:r?t:!1,type:"checkbox",onClick:()=>{e.setShowDomains(!t)}},{label:`Use sub-row layout${i?" (no domains loaded)":""}`,disabled:i,checked:r?n:!1,icon:D3,type:"checkbox",onClick:()=>{e.setSubFeatureRows(!n)}},{label:`Filter domains${i?" (no domains loaded)":""}`,icon:S3,disabled:i,onClick:()=>{e.queueDialog(o=>[x2e,{onClose:o,model:e}])}}]},...e.extraViewMenuItems()]},Li.default.createElement(R3,null))}),Sz=T2e});var iy,Az,Tz,Oz,Mz,O2e,M2e,Cz,kz=L(()=>{iy=T(U()),Az=T(zt()),Tz=T(pe()),Oz=T(Se()),Mz=T(De()),O2e=(0,Mz.makeStyles)()({margin:{margin:"auto",marginLeft:10}}),M2e=(0,Oz.observer)(({model:e})=>{let{status:t}=e,{classes:r}=O2e();return t?iy.default.createElement(Tz.Typography,{className:r.margin},iy.default.createElement(Az.LoadingEllipses,{message:t.msg,component:"span"})," ",t.url?iy.default.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer"},"(status)"):null):null}),Cz=M2e});var iO,oy,Rz,C2e,Pz,Iz=L(()=>{iO=T(U()),oy=T(pe()),Rz=T(Se()),C2e=(0,Rz.observer)(function({model:e}){let{currentAlignment:t,alignmentNames:r}=e;return r.length>0?iO.default.createElement(oy.TextField,{select:!0,variant:"outlined",value:t,size:"small",onChange:n=>{e.setCurrentAlignment(+n.target.value),e.setScrollX(0),e.setScrollY(0)}},r.map((n,i)=>iO.default.createElement(oy.MenuItem,{key:`${n}-${i}`,value:i},n))):null}),Pz=C2e});var Lz,jz,qz=L(()=>{"use client";Pt();Lz=T(ae(),1),jz=(0,Oe.createSvgIcon)((0,Lz.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")});var Fz,Nz,Dz=L(()=>{"use client";Pt();Fz=T(ae(),1),Nz=(0,Oe.createSvgIcon)((0,Fz.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette")});var oO,Bz,zz,k2e,Uz,Hz=L(()=>{oO=T(U()),Bz=T(Od());qz();Dz();ew();zz=T(Se());Mp();k2e=(0,zz.observer)(function({model:e}){let{colorSchemeName:t,drawMsaLetters:r,contrastLettering:n,hideGaps:i,bgColor:o,drawTree:a,showBranchLen:s,labelsAlignRight:f,drawNodeBubbles:u,drawLabels:l,treeWidthMatchesArea:c,noTree:d}=e;return oO.default.createElement(Bz.default,{closeAfterItemClick:!1,menuItems:[{label:"Color scheme",icon:Nz,type:"subMenu",subMenu:Object.keys(jc).map(p=>({label:p,type:"radio",checked:t===p,onClick:()=>{e.setColorSchemeName(p)}}))},{label:"MSA settings",type:"subMenu",subMenu:[{label:"Draw letters",type:"checkbox",checked:r,onClick:()=>{e.setDrawMsaLetters(!r)}},{label:"Color letters instead of background of tiles",type:"checkbox",checked:!o,onClick:()=>{e.setBgColor(!o)}},{label:"Use contrast lettering",type:"checkbox",checked:n,onClick:()=>{e.setContrastLettering(!n)}},{label:"Enable hiding gappy columns?",type:"checkbox",checked:i,onClick:()=>{e.setHideGaps(!i)}}]},{label:"Tree settings",type:"subMenu",icon:jz,subMenu:[{label:"Show branch length",type:"checkbox",checked:s,onClick:()=>{e.setShowBranchLen(!s)}},{label:"Show tree",type:"checkbox",checked:a,onClick:()=>{e.setDrawTree(!a)}},{label:"Draw clickable bubbles on tree branches",type:"checkbox",checked:u,onClick:()=>{e.setDrawNodeBubbles(!u)}},{label:"Tree labels align right",type:"checkbox",checked:f,onClick:()=>{e.setLabelsAlignRight(!f)}},{label:"Draw labels",type:"checkbox",checked:l,onClick:()=>{e.setDrawLabels(!l)}},...d?[]:[{label:"Make tree width fit to tree area",type:"checkbox",checked:c,onClick:()=>{e.setTreeWidthMatchesArea(!c)}}]]}]},oO.default.createElement(Rh,null))}),Uz=k2e});var aO,Wz,$z=L(()=>{"use client";Pt();aO=T(ae(),1),Wz=(0,Oe.createSvgIcon)([(0,aO.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,aO.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")});var Vz,Gz,Yz=L(()=>{"use client";Pt();Vz=T(ae(),1),Gz=(0,Oe.createSvgIcon)((0,Vz.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut")});var yu,sO,Zz,R2e,Kz,Xz=L(()=>{yu=T(U());$z();Yz();sO=T(pe()),Zz=T(Se()),R2e=(0,Zz.observer)(function({model:t}){return yu.default.createElement(yu.default.Fragment,null,yu.default.createElement(sO.IconButton,{onClick:()=>{t.zoomIn()}},yu.default.createElement(Wz,null)),yu.default.createElement(sO.IconButton,{onClick:()=>{t.zoomOut()}},yu.default.createElement(Gz,null)))}),Kz=R2e});var Jz,Qz,eU=L(()=>{"use client";Pt();Jz=T(ae(),1),Qz=(0,Oe.createSvgIcon)((0,Jz.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")});var tU,ay,uO=L(()=>{"use client";Pt();tU=T(ae(),1),ay=(0,Oe.createSvgIcon)((0,tU.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")});var lO,rU,nU,P2e,iU,oU=L(()=>{lO=T(U()),rU=T(Od());eU();uO();nU=T(Se()),P2e=(0,nU.observer)(function({model:e}){return lO.default.createElement(rU.default,{menuItems:[{label:"Fit both vertically/horizontally",onClick:()=>{e.fit()}},{label:"Fit vertically",onClick:()=>{e.fitVertically()}},{label:"Fit horizontally",onClick:()=>{e.fitHorizontally()}},{label:"Reset zoom to default",icon:ay,onClick:()=>{e.resetZoom()}},{label:"Show extra zoom options",checked:e.showZoomStar,type:"checkbox",onClick:()=>{e.setShowZoomStar(!e.showZoomStar)}}]},lO.default.createElement(Qz,null))}),iU=P2e});var ri,qc,aU,sU,I2e,L2e,uU,lU=L(()=>{ri=T(U());uO();qc=T(pe()),aU=T(Se()),sU=T(De()),I2e=(0,sU.makeStyles)()(e=>({dpad:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},icon:{padding:e.spacing(.5)}})),L2e=(0,aU.observer)(function({model:e}){let{classes:t}=I2e();return ri.default.createElement("div",{className:t.dpad},ri.default.createElement("div",null),ri.default.createElement(qc.IconButton,{className:t.icon,onClick:()=>{e.zoomInVertical()}},"Y+"),ri.default.createElement("div",null),ri.default.createElement(qc.IconButton,{className:t.icon,onClick:()=>{e.zoomOutHorizontal()}},"X-"),ri.default.createElement(qc.IconButton,{className:t.icon,onClick:()=>{e.resetZoom()}},ri.default.createElement(ay,null)),ri.default.createElement(qc.IconButton,{className:t.icon,onClick:()=>{e.zoomInHorizontal()}},"X+"),ri.default.createElement("div",null),ri.default.createElement(qc.IconButton,{className:t.icon,onClick:()=>{e.zoomOutVertical()}},"Y-"),ri.default.createElement("div",null))}),uU=L2e});var cU,fU=L(()=>{cU="4.4.6"});var hU={};jr(hU,{default:()=>pU});function pU({onClose:e}){return ir.default.createElement(dU.Dialog,{open:!0,title:"About",onClose:()=>{e()}},ir.default.createElement(nn.DialogContent,null,ir.default.createElement(nn.Typography,null,"MSAView ",cU," (",ir.default.createElement(nn.Link,{href:"https://github.com/gmod/react-msaview"},"Github"),")"),ir.default.createElement("ul",null,ir.default.createElement("li",null,ir.default.createElement(nn.Typography,null,"We use some color schemes from the"," ",ir.default.createElement(nn.Link,{href:"https://github.com/biotite-dev/biotite"},"biotite")," ","project, and their license is reproduced"," ",ir.default.createElement(nn.Link,{href:"https://github.com/biotite-dev/biotite/blob/master/LICENSE.rst"},"here"))),ir.default.createElement("li",null,ir.default.createElement(nn.Typography,null,"See this page for some information on jalview colorings"," ",ir.default.createElement(nn.Link,{href:"https://www.jalview.org/help/html/colourSchemes/"},"here"))),ir.default.createElement("li",null,ir.default.createElement(nn.Typography,null,"See this page for some info on the clustal, cinema, maeditor, and lesk color schemes"," ",ir.default.createElement(nn.Link,{href:"http://www.bioinformatics.nl/~berndb/aacolour.html"},"here"))),ir.default.createElement("li",null,ir.default.createElement(nn.Typography,null,"See this paper about the flower color scheme"," ",ir.default.createElement(nn.Link,{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7245768/"},"here"))))))}var ir,dU,nn,mU=L(()=>{ir=T(U()),dU=T(zt()),nn=T(pe());fU()});function F2e(){return or.default.createElement("div",{style:{flex:1}})}var or,gU,vU,_U,j2e,q2e,bU,yU=L(()=>{or=T(U()),gU=T(Jh());Q6();vU=T(pe()),_U=T(Se());o3();Ez();kz();Iz();Hz();Xz();oU();lU();j2e=(0,or.lazy)(()=>Promise.resolve().then(()=>(mU(),hU))),q2e=(0,_U.observer)(function({model:e}){let[t,{height:r}]=(0,gU.default)();return(0,or.useEffect)(()=>{e.setHeaderHeight(r||0)},[e,r]),or.default.createElement("div",{ref:t,style:{display:"flex"}},or.default.createElement(Sz,{model:e}),or.default.createElement(Uz,{model:e}),or.default.createElement(Kz,{model:e}),e.showZoomStar?or.default.createElement(uU,{model:e}):null,or.default.createElement(iU,{model:e}),or.default.createElement("div",{style:{margin:"auto"}},or.default.createElement(Pz,{model:e})),or.default.createElement(i3,{model:e}),or.default.createElement(F2e,null),or.default.createElement(Cz,{model:e}),or.default.createElement(vU.IconButton,{onClick:()=>{e.queueDialog(n=>[j2e,{onClose:n}])}},or.default.createElement(J6,null)))});bU=q2e});var Ln,wU,N2e,xU,SU=L(()=>{Ln=T(U()),wU=T(Se()),N2e=(0,wU.observer)(function({model:e}){let[t,r]=(0,Ln.useState)(),[n,i]=(0,Ln.useState)(!1),o=(0,Ln.useRef)(!1),{scrollX:a,msaAreaWidth:s,minimapHeight:f,colWidth:u,numColumns:l}=e,c=s/l/u,d=-a,p=d+s,h=d*c,m=p*c,v="rgba(66, 119, 127, 0.3)",g=Math.max(m-h,20);(0,Ln.useEffect)(()=>{function y(A){t!==void 0&&(o.current||(o.current=!0,window.requestAnimationFrame(()=>{e.setScrollX(t.scrollX-(A.clientX-t.clientX)/c),o.current=!1})))}function x(){r(void 0)}if(t!==void 0)return document.addEventListener("mousemove",y),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mousemove",x)}},[e,c,t]);let _=12,w=f-_;return Ln.default.createElement("div",{style:{position:"relative",height:f,width:"100%"}},Ln.default.createElement("div",{style:{height:_,boxSizing:"border-box",border:"1px solid #555"}}),Ln.default.createElement("div",{style:{position:"absolute",top:0,left:Math.max(0,h),background:n?"rgba(66,119,127,0.6)":v,cursor:"pointer",height:_,width:g,zIndex:100},onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},onMouseDown:y=>{r({clientX:y.clientX,scrollX:e.scrollX})}}),Ln.default.createElement("svg",{height:w,style:{width:"100%"}},Ln.default.createElement("polygon",{fill:v,points:[[h+g,0],[h,0],[0,w],[s,w]].toString()})))}),xU=N2e});function cO(){return sy.default.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"}},sy.default.createElement(uy.CircularProgress,null),sy.default.createElement(uy.Typography,null,"Loading..."))}var sy,uy,EU=L(()=>{sy=T(U()),uy=T(pe())});function ly({model:e,offsetX:t,offsetY:r,ctx:n,highResScaleFactorOverride:i,blockSizeYOverride:o}){let{leaves:a,blockSize:s,rowHeight:f,highResScaleFactor:u,showDomains:l}=e;if(l){let c=i||u,d=o||s;n.resetTransform(),n.scale(c,c),n.translate(-t,f/2-r);let p=Math.max(0,Math.floor((r-f)/f)),h=Math.max(0,Math.ceil((r+d+f)/f)),m=a.slice(p,h);D2e({model:e,ctx:n,visibleLeaves:m})}}function D2e({model:e,ctx:t,visibleLeaves:r}){let{subFeatureRows:n,colWidth:i,rowHeight:o,fillPalette:a,strokePalette:s,tidyFilteredGatheredInterProAnnotations:f}=e;for(let u=0,l=r.length;u<l;u++){let c=r[u],{x:d,data:{name:p}}=c,h=d,m=f[p];if(m)for(let v=0,g=m.length;v<g;v++){let{start:_,end:w,accession:y}=m[v],x=e.seqCoordToRowSpecificGlobalCoord(p,_-1),A=e.seqCoordToRowSpecificGlobalCoord(p,w),E=x*i;t.fillStyle=a[y],t.strokeStyle=s[y];let O=n?4:o,M=h-o+(n?v*O:0),C=i*(A-x);t.fillRect(E,M,C,O),t.strokeRect(E,M,C,O)}}}var fO=L(()=>{});function cy({model:e,offsetX:t,offsetY:r,contrastScheme:n,ctx:i,theme:o,highResScaleFactorOverride:a,blockSizeXOverride:s,blockSizeYOverride:f}){let{colWidth:u,blockSize:l,rowHeight:c,fontSize:d,highResScaleFactor:p,actuallyShowDomains:h,leaves:m,bgColor:v}=e,g=a||p,_=s||l,w=f||l;i.resetTransform(),i.scale(g,g),i.translate(-t,c/2-r),i.textAlign="center",i.font=i.font.replace(/\d+px/,`${v?"":"bold "}${d}px`);let y=Math.max(0,Math.floor((r-c)/c)),x=Math.max(0,Math.ceil((r+w+c)/c)),A=Math.max(0,Math.floor(t/u)),E=Math.max(0,Math.ceil((t+_)/u)),O=m.slice(y,x);h||B2e({model:e,ctx:i,theme:o,offsetX:t,offsetY:r,xStart:A,xEnd:E,visibleLeaves:O}),z2e({model:e,ctx:i,offsetX:t,contrastScheme:n,theme:o,xStart:A,xEnd:E,visibleLeaves:O}),i.resetTransform()}function B2e({model:e,offsetX:t,ctx:r,visibleLeaves:n,theme:i,xStart:o,xEnd:a}){let{bgColor:s,colorSchemeName:f,colorScheme:u,columns:l,colWidth:c,rowHeight:d,relativeTo:p}=e,h=p?l[p]?.slice(o,a):null;for(let m=0,v=n.length;m<v;m++){let g=n[m],{data:{name:_}}=g,w=g.x,y=l[_]?.slice(o,a);if(y)for(let x=0,A=y.length;x<A;x++){let E=y[x],O=h&&_!==p&&E===h[x],M=f==="clustalx_protein_dynamic",C=f==="percent_identity_dynamic",k=M?tz(e.colStats[o+x],e.colStatsSums[o+x],e,_,o+x):C?rz(e.colStats[o+x],e.colStatsSums[o+x],e,_,o+x):u[E.toUpperCase()];if(s||M||C){let q=O?i.palette.action.hover:k||i.palette.background.default;r.fillStyle=q,r.fillRect(x*c+t-t%c,w-d,c,d)}}}}function z2e({model:e,offsetX:t,contrastScheme:r,ctx:n,visibleLeaves:i,xStart:o,xEnd:a}){let{bgColor:s,actuallyShowDomains:f,showMsaLetters:u,colorScheme:l,columns:c,colWidth:d,contrastLettering:p,rowHeight:h,relativeTo:m}=e,v=m?c[m]?.slice(o,a):null;if(u)for(let g=0,_=i.length;g<_;g++){let w=i[g],{data:{name:y}}=w,x=w.x,A=c[y]?.slice(o,a);if(A)for(let E=0,O=A.length;E<O;E++){let M=A[E],k=v&&y!==m&&M===v[E]?".":M,q=l[M.toUpperCase()],N=p&&r[M.toUpperCase()]||"black",R=E*d+t-t%d;n.fillStyle=f?"black":s?N:q||"black",n.fillText(k,R+d/2,x-h/4)}}}var dO=L(()=>{Mp()});var ps,AU,TU,OU,U2e,MU,CU=L(()=>{ps=T(U()),AU=T(pe()),TU=T(io()),OU=T(Se());fO();dO();oa();U2e=(0,OU.observer)(function({model:e,offsetX:t,offsetY:r}){let{colWidth:n,rowHeight:i,scrollY:o,scrollX:a,colorScheme:s,blockSize:f,mouseClickCol:u,mouseClickRow:l,highResScaleFactor:c}=e,d=(0,AU.useTheme)(),p=(0,ps.useMemo)(()=>Lc(s,d),[s,d]),h=(0,ps.useRef)(null);return(0,ps.useEffect)(()=>{let m=h.current?.getContext("2d");if(m)return(0,TU.autorun)(()=>{m.resetTransform(),m.clearRect(0,0,f*c,f*c);let{actuallyShowDomains:v}=e;v&&ly({ctx:m,offsetX:t,offsetY:r,model:e}),cy({ctx:m,theme:d,offsetX:t,offsetY:r,contrastScheme:p,model:e})})},[e,t,r,d,f,c,p]),ps.default.createElement("canvas",{ref:h,onMouseMove:m=>{if(!h.current)return;let{left:v,top:g}=h.current.getBoundingClientRect(),_=m.clientX-v+t,w=m.clientY-g+r,y=Math.floor(_/n),x=Math.floor(w/i);y>=0&&y<e.numColumns&&x>=0&&x<e.numRows?e.setMousePos(y,x):e.setMousePos(void 0,void 0)},onClick:m=>{if(!h.current)return;let{left:v,top:g}=h.current.getBoundingClientRect(),_=m.clientX-v+t,w=m.clientY-g+r,y=Math.floor(_/n),x=Math.floor(w/i);y===u&&x===l?e.setMouseClickPos(void 0,void 0):e.setMouseClickPos(y,x)},onMouseLeave:()=>{e.setMousePos()},width:f*c,height:f*c,style:{position:"absolute",top:o+r,left:a+t,width:f,height:f}})}),MU=U2e});var Br,kU,H2e,RU,PU=L(()=>{Br=T(U()),kU=T(Se());EU();CU();H2e=(0,kU.observer)(function({model:e}){let{MSA:t,verticalScrollbarWidth:r,msaFilehandle:n,height:i,msaAreaWidth:o,blocks2d:a}=e,s=(0,Br.useRef)(null),f=(0,Br.useRef)(!1),u=(0,Br.useRef)(0),l=(0,Br.useRef)(0),c=(0,Br.useRef)(0),d=(0,Br.useRef)(0),[p,h]=(0,Br.useState)(!1);return(0,Br.useEffect)(()=>{let m=s.current;if(!m)return;function v(g){u.current+=g.deltaX,l.current+=g.deltaY,f.current||(f.current=!0,requestAnimationFrame(()=>{e.doScrollX(-u.current),e.doScrollY(-l.current),u.current=0,l.current=0,f.current=!1})),g.preventDefault(),g.stopPropagation()}return m.addEventListener("wheel",v,{passive:!1}),()=>{m.removeEventListener("wheel",v)}},[e]),(0,Br.useEffect)(()=>{let m=()=>{};function v(_){_.preventDefault();let w=_.clientX,y=_.clientY,x=w-c.current,A=y-d.current;(x||A)&&(f.current||(f.current=!0,window.requestAnimationFrame(()=>{e.doScrollX(x),e.doScrollY(A),f.current=!1,c.current=_.clientX,d.current=_.clientY})))}function g(){c.current=0,p&&h(!1)}return p&&(window.addEventListener("mousemove",v,!0),window.addEventListener("mouseup",g,!0),m=()=>{window.removeEventListener("mousemove",v,!0),window.removeEventListener("mouseup",g,!0)}),m},[e,p]),Br.default.createElement("div",{ref:s,onMouseDown:m=>{let v=m.target;v.draggable||v.dataset.resizer||m.button===0&&(c.current=m.clientX,d.current=m.clientY,h(!0))},onMouseUp:m=>{m.preventDefault(),h(!1)},onMouseLeave:m=>{m.preventDefault()},style:{position:"relative",height:i,width:o-r,overflow:"hidden"}},!t&&!n?null:t?a.map(([m,v])=>Br.default.createElement(MU,{key:`${m}_${v}`,model:e,offsetX:m,offsetY:v})):Br.default.createElement(cO,null))}),RU=H2e});function LU({ctx:e,model:t}){let{mouseCol:r,colWidth:n,width:i,height:o,rowHeight:a,scrollX:s,scrollY:f,mouseRow:u,mouseCol2:l,mouseClickRow:c,mouseClickCol:d,relativeTo:p,rowNamesSet:h,hoveredTreeNode:m}=t;if(e.resetTransform(),e.clearRect(0,0,i,o),p){let v=h.get(p);v!==void 0&&(e.fillStyle=W2e,e.fillRect(0,v*a+f,i,a))}if(m){e.fillStyle=$2e;for(let v of m.descendantNames){let g=h.get(v);g!==void 0&&e.fillRect(0,g*a+f,i,a)}}r!==void 0&&(e.fillStyle=IU,e.fillRect(r*n+s,0,n,o)),u!==void 0&&(e.fillStyle=IU,e.fillRect(0,u*a+f,i,a)),d!==void 0&&(e.fillStyle=pO,e.fillRect(d*n+s,0,n,o)),c!==void 0&&(e.fillStyle=pO,e.fillRect(0,c*a+f,i,a)),l!==void 0&&(e.fillStyle=pO,e.fillRect(l*n+s,0,n,o))}var IU,pO,W2e,$2e,jU=L(()=>{IU="rgba(0,0,0,0.15)",pO="rgba(128,128,0,0.2)",W2e="rgba(0,128,255,0.3)",$2e="rgba(255,165,0,0.15)"});var Fc,qU,FU,NU,V2e,DU,BU=L(()=>{Fc=T(U()),qU=T(io()),FU=T(Se()),NU=T(Jt());jU();V2e=(0,FU.observer)(function({model:e}){let t=(0,Fc.useRef)(null),{height:r,width:n}=e;return(0,Fc.useEffect)(()=>{let i=t.current?.getContext("2d");return i?(0,qU.autorun)(()=>{(0,NU.isAlive)(e)&&LU({ctx:i,model:e})}):void 0},[e]),Fc.default.createElement("canvas",{ref:t,id:"mouseover",width:n,height:r,style:{position:"absolute",top:0,left:0,width:n,height:r,zIndex:1e3,pointerEvents:"none"}})}),DU=V2e});var fy,zU,G2e,UU,HU=L(()=>{fy=T(U()),zU=T(Se());PU();BU();G2e=(0,zU.observer)(function({model:e}){return fy.default.createElement("div",{style:{position:"relative"}},fy.default.createElement(RU,{model:e}),fy.default.createElement(DU,{model:e}))}),UU=G2e});var kp,WU=L(()=>{kp=class{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){let i=n-1>>1,o=this.values[i];if(r>=o)break;this.ids[n]=this.ids[i],this.values[n]=o,n=i}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;let t=this.ids,r=this.values,n=t[0],i=--this.length;if(i>0){let o=t[i],a=r[i],s=0,f=i>>1;for(;s<f;){let u=(s<<1)+1,l=u+1,c=u+(+(l<i)&+(r[l]<r[u]));if(r[c]>=a)break;t[s]=t[c],r[s]=r[c],s=c}t[s]=o,r[s]=a}return n}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}});function VU(e,t){let r=0,n=t.length-1;for(;r<n;){let i=r+n>>1;t[i]>e?n=i:r=i+1}return t[r]}function mO(e,t,r,n,i,o){if(Math.floor(n/o)>=Math.floor(i/o))return;let a=e[n],s=e[n+i>>1],f=e[i],u=f,l=Math.max(a,s);f>l?u=l:l===a?u=Math.max(s,f):l===s&&(u=Math.max(a,f));let c=n-1,d=i+1;for(;;){do c++;while(e[c]<u);do d--;while(e[d]>u);if(c>=d)break;Y2e(e,t,r,c,d)}mO(e,t,r,n,d,o),mO(e,t,r,d+1,i,o)}function Y2e(e,t,r,n,i){let o=e[n];e[n]=e[i],e[i]=o;let a=4*n,s=4*i,f=t[a],u=t[a+1],l=t[a+2],c=t[a+3];t[a]=t[s],t[a+1]=t[s+1],t[a+2]=t[s+2],t[a+3]=t[s+3],t[s]=f,t[s+1]=u,t[s+2]=l,t[s+3]=c;let d=r[n];r[n]=r[i],r[i]=d}function Z2e(e,t){let r=e^t,n=65535^r,i=65535^(e|t),o=e&(t^65535),a=r|n>>1,s=r>>1^r,f=i>>1^n&o>>1^i,u=r&i>>1^o>>1^o;r=a,n=s,i=f,o=u,a=r&r>>2^n&n>>2,s=r&n>>2^n&(r^n)>>2,f^=r&i>>2^n&o>>2,u^=n&i>>2^(r^n)&o>>2,r=a,n=s,i=f,o=u,a=r&r>>4^n&n>>4,s=r&n>>4^n&(r^n)>>4,f^=r&i>>4^n&o>>4,u^=n&i>>4^(r^n)&o>>4,r=a,n=s,i=f,o=u,f^=r&i>>8^n&o>>8,u^=n&i>>8^(r^n)&o>>8,r=f^f>>1,n=u^u>>1;let l=e^t,c=n|65535^(l|r);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,(c<<1|l)>>>0}var $U,hO,Rp,GU=L(()=>{WU();$U=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],hO=3,Rp=class e{static from(t,r=0){if(r%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");let[n,i]=new Uint8Array(t,r+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");let o=i>>4;if(o!==hO)throw new Error(`Got v${o} data when expected v${hO}.`);let a=$U[i&15];if(!a)throw new Error("Unrecognized array type.");let[s]=new Uint16Array(t,r+2,1),[f]=new Uint32Array(t,r+4,1);return new e(f,s,a,void 0,t,r)}constructor(t,r=16,n=Float64Array,i=ArrayBuffer,o,a=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.byteOffset=a;let s=t,f=s;this._levelBounds=[s*4];do s=Math.ceil(s/this.nodeSize),f+=s,this._levelBounds.push(f*4);while(s!==1);this.ArrayType=n,this.IndexArrayType=f<16384?Uint16Array:Uint32Array;let u=$U.indexOf(n),l=f*4*n.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${n}.`);if(o)this.data=o,this._boxes=new n(o,a+8,f*4),this._indices=new this.IndexArrayType(o,a+8+l,f),this._pos=f*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{let c=this.data=new i(8+l+f*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new n(c,8,f*4),this._indices=new this.IndexArrayType(c,8+l,f),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(c,0,2).set([251,(hO<<4)+u]),new Uint16Array(c,2,1)[0]=r,new Uint32Array(c,4,1)[0]=t}this._queue=new kp}add(t,r,n=t,i=r){let o=this._pos>>2,a=this._boxes;return this._indices[o]=o,a[this._pos++]=t,a[this._pos++]=r,a[this._pos++]=n,a[this._pos++]=i,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),i>this.maxY&&(this.maxY=i),o}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);let t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}let r=this.maxX-this.minX||1,n=this.maxY-this.minY||1,i=new Uint32Array(this.numItems),o=65535;for(let a=0,s=0;a<this.numItems;a++){let f=t[s++],u=t[s++],l=t[s++],c=t[s++],d=Math.floor(o*((f+l)/2-this.minX)/r),p=Math.floor(o*((u+c)/2-this.minY)/n);i[a]=Z2e(d,p)}mO(i,t,this._indices,0,this.numItems-1,this.nodeSize);for(let a=0,s=0;a<this._levelBounds.length-1;a++){let f=this._levelBounds[a];for(;s<f;){let u=s,l=t[s++],c=t[s++],d=t[s++],p=t[s++];for(let h=1;h<this.nodeSize&&s<f;h++)l=Math.min(l,t[s++]),c=Math.min(c,t[s++]),d=Math.max(d,t[s++]),p=Math.max(p,t[s++]);this._indices[this._pos>>2]=u,t[this._pos++]=l,t[this._pos++]=c,t[this._pos++]=d,t[this._pos++]=p}}}search(t,r,n,i,o){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=[],f=[];for(;a!==void 0;){let u=Math.min(a+this.nodeSize*4,VU(a,this._levelBounds));for(let l=a;l<u;l+=4){let c=this._boxes[l];if(n<c)continue;let d=this._boxes[l+1];if(i<d)continue;let p=this._boxes[l+2];if(t>p)continue;let h=this._boxes[l+3];if(r>h)continue;let m=this._indices[l>>2]|0;a>=this.numItems*4?s.push(m):(o===void 0||o(m,c,d,p,h))&&f.push(m)}a=s.pop()}return f}neighbors(t,r,n=1/0,i=1/0,o){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,s=this._queue,f=[],u=i*i;e:for(;a!==void 0;){let l=Math.min(a+this.nodeSize*4,VU(a,this._levelBounds));for(let c=a;c<l;c+=4){let d=this._indices[c>>2]|0,p=this._boxes[c],h=this._boxes[c+1],m=this._boxes[c+2],v=this._boxes[c+3],g=t<p?p-t:t>m?t-m:0,_=r<h?h-r:r>v?r-v:0,w=g*g+_*_;w>u||(a>=this.numItems*4?s.push(d<<1,w):(o===void 0||o(d))&&s.push((d<<1)+1,w))}for(;s.length&&s.peek()&1;)if(s.peekValue()>u||(f.push(s.pop()>>1),f.length===n))break e;a=s.length?s.pop()>>1:void 0}return s.clear(),f}}});var Pp,Nc,YU,K2e,ZU,KU=L(()=>{Pp=T(U()),Nc=T(pe()),YU=T(Se()),K2e=(0,YU.observer)(function({node:e,model:t,onClose:r}){return Pp.default.createElement(Nc.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:e.x,top:e.y},transitionDuration:0,keepMounted:!0,open:!!e,onClose:r},Pp.default.createElement(Nc.MenuItem,{dense:!0,disabled:!0},e.name),Pp.default.createElement(Nc.MenuItem,{dense:!0,onClick:()=>{t.toggleCollapsed(e.id),r()}},t.collapsed.includes(e.id)?"Expand this node":"Collapse this node"),Pp.default.createElement(Nc.MenuItem,{dense:!0,onClick:()=>{t.showOnly===e.id?t.setShowOnly(void 0):t.setShowOnly(e.id),r()}},t.showOnly===e.id?"Disable show only this node":"Show only this node"))}),ZU=K2e});var eH={};jr(eH,{default:()=>J2e});var wo,gO,dy,XU,JU,QU,X2e,J2e,tH=L(()=>{wo=T(U()),gO=T(Db()),dy=T(IT()),XU=T(zt()),JU=T(pe()),QU=T(Se());LT();X2e=(0,QU.observer)(function({info:e,model:t,nodeName:r,onClose:n}){let{treeMetadata:i,rows:o}=t,a=i[r],s=o.find(f=>f[0]===r);return wo.default.createElement(XU.Dialog,{onClose:()=>{n()},open:!0,title:"Tree node info",maxWidth:"xl"},wo.default.createElement(JU.DialogContent,null,wo.default.createElement(dy.default,{title:"Attributes"},wo.default.createElement(gO.default,{attributes:{nodeName:r,...e}})),wo.default.createElement(dy.default,{title:"Sequence"},s?wo.default.createElement(Ep,{str:[s]}):wo.default.createElement("div",null,"Sequence not found")),a?wo.default.createElement(dy.default,{title:"Extra metadata"},wo.default.createElement(gO.default,{attributes:a})):null))}),J2e=X2e});var aa,hs,rH,Q2e,eMe,nH,iH=L(()=>{aa=T(U()),hs=T(pe()),rH=T(Se()),Q2e=(0,aa.lazy)(()=>Promise.resolve().then(()=>(tH(),eH))),eMe=(0,rH.observer)(function({node:e,onClose:t,model:r}){let{collapsed:n,collapsedLeaves:i}=r,{name:o}=e;return aa.default.createElement(hs.Menu,{anchorReference:"anchorPosition",anchorPosition:{top:e.y,left:e.x},transitionDuration:0,keepMounted:!0,open:!!e,onClose:t},aa.default.createElement(hs.MenuItem,{dense:!0,disabled:!0},o),aa.default.createElement(hs.MenuItem,{dense:!0,onClick:()=>{r.queueDialog(a=>[Q2e,{info:r.getRowData(o),model:r,nodeName:o,onClose:a}]),t()}},"More info..."),aa.default.createElement(hs.MenuItem,{dense:!0,onClick:()=>{n.includes(e.id)?r.toggleCollapsed(e.id):e.id.endsWith("-leafnode")?r.toggleCollapsed2(e.id):r.toggleCollapsed2(`${e.id}-leafnode`),t()}},n.includes(e.id)||i.includes(e.id)?"Show node":"Hide node"),aa.default.createElement(hs.MenuItem,{dense:!0,onClick:()=>{r.drawRelativeTo(e.name),t()}},"Indicate differences from this row"),r.relativeTo?aa.default.createElement(hs.MenuItem,{dense:!0,onClick:()=>{r.drawRelativeTo(void 0),t()}},"Clear reference row"):null)}),nH=eMe});function tMe({offsetY:e,ctx:t,model:r,theme:n,blockSizeYOverride:i}){let{hierarchy:o,allBranchesLength0:a,showBranchLen:s,blockSize:f}=r,u=i||f;t.strokeStyle=n.palette.text.primary;let l=a?!1:s;for(let c of o.links()){let{source:d,target:p}=c;if(p.height===0&&!l)continue;let h=d.x,m=p.x,v=l?p.len:p.y,g=l?d.len:d.y,_=Math.min(h,m),w=Math.max(h,m);e+u>=_&&w>=e&&(t.beginPath(),t.moveTo(g,h),t.lineTo(g,m),t.lineTo(v,m),t.stroke())}}function rMe({ctx:e,clickMap:t,offsetY:r,model:n,blockSizeYOverride:i}){let{hierarchy:o,showBranchLen:a,allBranchesLength0:s,collapsed:f,blockSize:u,marginLeft:l}=n,c=i||u,d=s?!1:a;for(let p of o.descendants()){let h=d?"len":"y",{[h]:m,data:v}=p,g=p.x,{id:_="",name:w=""}=v;p.height>1&&g>r-5&&g<r+c+5&&(e.strokeStyle="black",e.fillStyle=f.includes(_)?"black":"white",e.beginPath(),e.arc(m,g,2.5,0,2*Math.PI),e.fill(),e.stroke(),t?.insert({minX:m-2.5+l,maxX:m-2.5+5+l,minY:g-2.5,maxY:g-2.5+5,branch:!0,id:_,name:w}))}}function nMe({theme:e,model:t,offsetY:r,ctx:n,clickMap:i,blockSizeYOverride:o}){let{fontSize:a,showBranchLen:s,allBranchesLength0:f,treeMetadata:u,hierarchy:l,collapsed:c,collapsedLeaves:d,blockSize:p,labelsAlignRight:h,drawTree:m,treeAreaWidth:v,treeWidth:g,treeAreaWidthMinusMargin:_,marginLeft:w,leaves:y,noTree:x}=t,A=o||p;h?(n.textAlign="right",n.setLineDash([1,3])):n.textAlign="start";let E=f?!1:s;for(let O of y){let{data:{name:M,id:C},len:k}=O,q=O.x,N=O.y,R=u[M]?.genome||M;if(q>r-5&&q<r+A+5){let F=q+a/4,G=(E?k:N)||0;!E&&!c.includes(C)&&!d.includes(C)&&(G-=g/l.height);let{width:z}=n.measureText(R),j=n.measureText("M").width;if(n.fillStyle=e.palette.text.primary,h){let Q=_-2;if(m&&!x){let{width:_e}=n.measureText(R);n.moveTo(G+2.5+2,q),n.lineTo(Q-2-_e,q),n.stroke()}n.fillText(R,Q,F),i?.insert({minX:v-z,maxX:v,minY:F-j,maxY:F,name:M,id:C})}else n.fillText(R,G+5,F),i?.insert({minX:G+5+w,maxX:G+5+z+w,minY:F-j,maxY:F,name:M,id:C})}}n.setLineDash([])}function py({model:e,clickMap:t,ctx:r,offsetY:n,theme:i,highResScaleFactorOverride:o,blockSizeYOverride:a}){t?.clear();let{noTree:s,drawTree:f,drawNodeBubbles:u,highResScaleFactor:l,fontSize:c,showTreeText:d,marginLeft:p,nref:h,rowHeight:m}=e;r.resetTransform();let v=h<0?Number.NEGATIVE_INFINITY:o||l;r.scale(v,v),r.translate(p,-n);let g=r.font;r.font=g.replace(/\d+px/,`${c}px`),!s&&f&&(tMe({ctx:r,offsetY:n,model:e,theme:i,blockSizeYOverride:a}),u&&rMe({ctx:r,offsetY:n,clickMap:t,model:e,theme:i,blockSizeYOverride:a})),d&&nMe({ctx:r,offsetY:n,model:e,clickMap:t,theme:i,blockSizeYOverride:a}),t?.finish()}var hy=L(()=>{});var Yt,oH,aH,sH,vO,iMe,uH,lH=L(()=>{Yt=T(U()),oH=T(pe());GU();aH=T(io()),sH=T(Se());KU();iH();hy();vO=class{flatbush=null;entries=[];clear(){this.flatbush=null,this.entries=[]}insert(t){this.entries.push(t)}finish(){if(this.entries.length===0){this.flatbush=null;return}else{this.flatbush=new Rp(this.entries.length);for(let t of this.entries)this.flatbush.add(t.minX,t.minY,t.maxX,t.maxY);this.flatbush.finish()}}search(t){return this.flatbush?.search(t.minX,t.minY,t.maxX,t.maxY).map(r=>this.entries[r])??[]}},iMe=(0,sH.observer)(function({model:e,offsetY:t}){let r=(0,oH.useTheme)(),n=(0,Yt.useRef)(null),i=(0,Yt.useRef)(new vO),o=(0,Yt.useRef)(null),[a,s]=(0,Yt.useState)(),[f,u]=(0,Yt.useState)(),[l,c]=(0,Yt.useState)(),{scrollY:d,treeAreaWidth:p,blockSize:h,highResScaleFactor:m}=e,v=p+600,g=h,_=v*m,w=g*m,y=(0,Yt.useCallback)(O=>{e.incrementRef(),n.current=O},[e,g,v]);(0,Yt.useEffect)(()=>{let O=n.current?.getContext("2d");if(O)return(0,aH.autorun)(()=>{O.resetTransform(),O.clearRect(0,0,(p+600)*m,h*m),py({ctx:O,model:e,offsetY:t,clickMap:i.current,theme:r})})},[e,h,m,p,t,r]),(0,Yt.useEffect)(()=>{let O=o.current?.getContext("2d");if(O&&(O.resetTransform(),O.clearRect(0,0,p+600,h),O.translate(0,-t),l)){let{minX:M,maxX:C,minY:k,maxY:q}=l;O.fillStyle="rgba(0,0,0,0.1)",O.fillRect(M,k,C-M,q-k)}},[l,t,h,p]);function x(O){let M=O.nativeEvent.offsetX,C=O.nativeEvent.offsetY,[k]=i.current.search({minX:M,maxX:M+1,minY:C+t,maxY:C+1+t});return k?.branch?{...k,x:O.clientX,y:O.clientY}:void 0}function A(O){let M=O.nativeEvent.offsetX,C=O.nativeEvent.offsetY,[k]=i.current.search({minX:M,maxX:M+1,minY:C+t,maxY:C+1+t});return k&&!k.branch?{...k,x:O.clientX,y:O.clientY}:void 0}let E={width:v,height:g,top:d+t,left:0,position:"absolute"};return Yt.default.createElement(Yt.default.Fragment,null,a?.id?Yt.default.createElement(ZU,{node:a,model:e,onClose:()=>{s(void 0)}}):null,f?.id?Yt.default.createElement(nH,{node:f,model:e,onClose:()=>{u(void 0)}}):null,Yt.default.createElement("canvas",{width:_,height:w,style:E,onMouseMove:O=>{if(!n.current)return;let M=A(O),C=x(O),k=M||C;if(n.current.style.cursor=k?"pointer":"default",c(M),k){if(e.setHoveredTreeNode(k.id),M?.name){let q=e.rowNamesSet.get(M.name);q!==void 0&&e.setMousePos(void 0,q)}}else e.setHoveredTreeNode(void 0),e.setMousePos(void 0,void 0)},onClick:O=>{let{clientX:M,clientY:C}=O,k=x(O);k?.id&&s({x:M,y:C,id:k.id,name:k.name});let q=A(O);q?.id&&u({...q,x:M,y:C})},onMouseLeave:()=>{c(void 0),e.setHoveredTreeNode(void 0),e.setMousePos(void 0,void 0)},ref:y}),Yt.default.createElement("canvas",{style:{...E,pointerEvents:"none",zIndex:100},width:v,height:g,ref:o}))}),uH=iMe});var zr,cH,fH,dH,oMe,pH,hH=L(()=>{zr=T(U()),cH=T(io()),fH=T(Se()),dH=T(Jt());lH();hy();oMe=(0,fH.observer)(function({model:e}){let t=(0,zr.useRef)(null),r=(0,zr.useRef)(null),n=(0,zr.useRef)(!1),i=(0,zr.useRef)(0),o=(0,zr.useRef)(0),{treeWidth:a,height:s,blocksY:f,treeAreaWidth:u,scrollY:l}=e,[c,d]=(0,zr.useState)(!1);(0,zr.useEffect)(()=>{let h=t.current;if(!h)return;function m(v){i.current+=v.deltaY,n.current||(n.current=!0,requestAnimationFrame(()=>{e.doScrollY(-i.current),i.current=0,n.current=!1})),v.preventDefault(),v.stopPropagation()}return h.addEventListener("wheel",m),()=>{h.removeEventListener("wheel",m)}},[e]),(0,zr.useEffect)(()=>{let h=()=>{};function m(g){g.preventDefault();let w=g.clientY-o.current;w&&(n.current||(n.current=!0,window.requestAnimationFrame(()=>{e.doScrollY(w),n.current=!1,o.current=g.clientY})))}function v(){o.current=0,c&&d(!1)}return c&&(window.addEventListener("mousemove",m,!0),window.addEventListener("mouseup",v,!0),h=()=>{window.removeEventListener("mousemove",m,!0),window.removeEventListener("mouseup",v,!0)}),h},[e,c]),(0,zr.useEffect)(()=>{let h=r.current?.getContext("2d");return h?(0,cH.autorun)(()=>{if((0,dH.isAlive)(e)){h.resetTransform(),h.clearRect(0,0,u,s);let{relativeTo:m,leaves:v,rowHeight:g,hoveredTreeNode:_}=e;if(m){let y=v.find(x=>x.data.name===m);if(y){let x=y.x+l;h.fillStyle="rgba(0,128,255,0.3)",h.fillRect(0,x-g/2,u,g)}}if(_){h.fillStyle="rgba(255,165,0,0.2)";for(let y of _.descendantNames){let x=v.find(A=>A.data.name===y);if(x){let A=x.x+l;h.fillRect(0,A-g/2,u,g)}}}let{mouseOverRowName:w}=e;if(w&&w!==m&&!_?.descendantNames.includes(w)){let y=v.find(x=>x.data.name===w);if(y){let x=y.x+l;h.fillStyle="rgba(255,165,0,0.2)",h.fillRect(0,x-g/2,u,g)}}}}):void 0},[e,u,s,l]);function p(h){let m=h.target;m.draggable||m.dataset.resizer||h.button===0&&(o.current=h.clientY,d(!0))}return zr.default.createElement("div",{ref:t,onMouseDown:p,onMouseUp:h=>{h.preventDefault(),d(!1)},onMouseLeave:h=>{h.preventDefault()},style:{height:s,position:"relative",width:a+600}},f.map(h=>zr.default.createElement(uH,{key:h,model:e,offsetY:h})),zr.default.createElement("canvas",{ref:r,width:u,height:s,style:{position:"absolute",top:0,left:0,width:u,height:s,zIndex:1e3,pointerEvents:"none"}}))}),pH=oMe});var _O,mH,aMe,gH,vH=L(()=>{_O=T(U()),mH=T(Se());hH();aMe=(0,mH.observer)(function({model:e}){let{treeAreaWidth:t}=e;return _O.default.createElement("div",{style:{overflow:"hidden",flexShrink:0,width:t}},_O.default.createElement(pH,{model:e}))}),gH=aMe});var _H,bH,sMe,yH,wH=L(()=>{_H=T(U()),bH=T(Se()),sMe=(0,bH.observer)(({model:e})=>{let{treeAreaWidth:t}=e;return _H.default.createElement("div",{style:{flexShrink:0,width:t}})}),yH=sMe});var St,Lp,uMe,lMe,cMe,fMe,xH,SH=L(()=>{St=T(U()),Lp=T(Se());V6();K6();yU();SU();HU();vH();wH();uMe=(0,Lp.observer)(function({model:e}){let{showHorizontalScrollbar:t}=e;return St.default.createElement("div",{style:{display:"flex"}},St.default.createElement(yH,{model:e}),t?St.default.createElement(xU,{model:e}):null)}),lMe=(0,Lp.observer)(function({model:e}){let{showVerticalScrollbar:t}=e;return St.default.createElement("div",{style:{display:"flex"}},St.default.createElement(gH,{model:e}),St.default.createElement(W6,{model:e}),St.default.createElement(UU,{model:e}),t?St.default.createElement(Z6,{model:e}):null)}),cMe=(0,Lp.observer)(function({model:e}){return St.default.createElement("div",{style:{position:"relative"}},St.default.createElement(uMe,{model:e}),St.default.createElement(lMe,{model:e}))}),fMe=(0,Lp.observer)(function({model:e}){let{height:t,viewInitialized:r,DialogComponent:n,DialogProps:i}=e;return St.default.createElement("div",null,r?St.default.createElement(St.default.Fragment,null,St.default.createElement("div",{style:{height:t,overflow:"hidden"}},St.default.createElement(bU,{model:e}),St.default.createElement(cMe,{model:e})),St.default.createElement($6,{model:e}),n?St.default.createElement(St.Suspense,{fallback:null},St.default.createElement(n,{...i})):null):null)}),xH=fMe});var EH,AH,TH,OH=L(()=>{EH=`CLUSTAL O(1.2.3) multiple sequence alignment
UniProt/Swiss-Prot|P26898|IL2RA_SHEEP      MEPSLLMWRFFVFIVVPGCVTEACHDDPPSLRNA----------MFKVLRYE----VGTM
UniProt/Swiss-Prot|P01590|IL2RA_MOUSE      MEPRLLMLGFLSLTIVPSCRAELCLYDPPEVPNA----------TFKALSYK----NGTI
UniProt/Swiss-Prot|P41690|IL2RA_FELCA      MEPSLLLWGILTFVVVHGHVTELCDENPPDIQHA----------TFKALTYK----TGTM
UniProt/Swiss-Prot|P01589|IL2RA_HUMAN      MDSYLLMWGLLTFIMVPGCQAELCDDDPPEIPHA----------TFKAMAYK----EGTM
UniProt/Swiss-Prot|Q5MNY4|IL2RA_MACMU      MDPYLLMWGLLTFITVPGCQAELCDDDPPKITHA----------TFKAVAYK----EGTM
UniProt/Swiss-Prot|Q95118|IL2RG_BOVIN      -----------------------------------LLMWGLLT-----------------
UniProt/Swiss-Prot|P40321|IL2RG_CANFA      MLKPPLPLRSLLFLQLSLLGVGLNSTVPMPNGNEDIT------PDFFLTATPSETLSVSS
UniProt/Swiss-Prot|P26896|IL2RB_RAT        MATVDLSWRLPLYILLLLLATT--------------------------------WVSAAV
UniProt/Swiss-Prot|Q8BZM1|GLMN_MOUSE       PLPLRSLLFLQLPLLGVGLNP------------------PLPLRSLLFLQLPLLGVGLNP
UniProt/Swiss-Prot|P36835|IL2_CAPHI        -----------LLGVGLNPKFLTP------------------------------------
UniProt/Swiss-Prot|Q7JFM4|IL2_AOTVO        MLKPPLPLRSLLFLQLPLLGVGLNPKFLTPSGNEDIGGKPGTGGDFFLTSTPAGTLDVST
UniProt/Swiss-Prot|Q29416|IL2_CANFA        --------------LFLQLSLLG-------------------------------------
`,AH=`CLUSTAL O(1.2.4) multiple sequence alignment


sp|P69905|HBA_HUMAN       MVLSPADKTNVKAAWGKVGAHAGEYGAEALERMFLSFPTTKTYFPHFDLSHGSAQVKGHG	60
sp|P01942|HBA_MOUSE       MVLSGEDKSNIKAAWGKIGGHGAEYGAEALERMFASFPTTKTYFPHFDVSHGSAQVKGHG	60
sp|P13786|HBAZ_CAPHI      MSLTRTERTIILSLWSKISTQADVIGTETLERLFSCYPQAKTYFPHFDLHSGSAQLRAHG	60
                          * *:  ::: : : *.*:. :.   *:*:***:* .:* :********:  ****::.**

sp|P69905|HBA_HUMAN       KKVADALTNAVAHVDDMPNALSALSDLHAHKLRVDPVNFKLLSHCLLVTLAAHLPAEFTP	120
sp|P01942|HBA_MOUSE       KKVADALASAAGHLDDLPGALSALSDLHAHKLRVDPVNFKLLSHCLLVTLASHHPADFTP	120
sp|P13786|HBAZ_CAPHI      SKVVAAVGDAVKSIDNVTSALSKLSELHAYVLRVDPVNFKFLSHCLLVTLASHFPADFTA	120
                          .**. *: .*.  :*:: .*** **:***: *********:**********:* **:**

sp|P69905|HBA_HUMAN       AVHASLDKFLASVSTVLTSKYR	142
sp|P01942|HBA_MOUSE       AVHASLDKFLASVSTVLTSKYR	142
sp|P13786|HBAZ_CAPHI      DAHAAWDKFLSIVSGVLTEKYR	142
                           .**: ****: ** ***.***`,TH="(((UniProt/Swiss-Prot|P26898|IL2RA_SHEEP:0.24036,(UniProt/Swiss-Prot|P41690|IL2RA_FELCA:0.17737,(UniProt/Swiss-Prot|P01589|IL2RA_HUMAN:0.03906,UniProt/Swiss-Prot|Q5MNY4|IL2RA_MACMU:0.03787):0.13033):0.04964):0.02189,UniProt/Swiss-Prot|P01590|IL2RA_MOUSE:0.23072):0.06814,(((UniProt/Swiss-Prot|Q95118|IL2RG_BOVIN:0.09600,UniProt/Swiss-Prot|P40321|IL2RG_CANFA:0.09845):0.25333,UniProt/Swiss-Prot|Q29416|IL2_CANFA:-0.35055):0.10231,(UniProt/Swiss-Prot|P26896|IL2RB_RAT:0.33631,UniProt/Swiss-Prot|Q7JFM4|IL2_AOTVO:-0.33631):0.10166):0.01607,(UniProt/Swiss-Prot|Q8BZM1|GLMN_MOUSE:0.32378,UniProt/Swiss-Prot|P36835|IL2_CAPHI:-0.32378):0.09999)"});async function my(e,t,r){e.setError(void 0),t&&e.setMSAFilehandle(t),r&&e.setTreeFilehandle(r)}var bO=L(()=>{});function sa({onClick:e,model:t,children:r}){return xn.default.createElement("li",null,xn.default.createElement(gy.Link,{onClick:n=>{t.setError(void 0),n.preventDefault(),e()},href:"#"},xn.default.createElement(gy.Typography,{display:"inline"},r)))}var xn,gy,MH,dMe,CH,kH=L(()=>{xn=T(U()),gy=T(pe()),MH=T(Se());OH();bO();dMe=(0,MH.observer)(function({model:e}){function t(r,n){(async()=>{try{await my(e,r?{uri:r,locationType:"UriLocation"}:void 0,n?{uri:n,locationType:"UriLocation"}:void 0)}catch(i){console.error(i),e.setError(i)}})()}return xn.default.createElement("ul",null,xn.default.createElement(sa,{model:e,onClick:()=>{t(void 0,"https://jbrowse.org/genomes/newicktrees/sarscov2phylo.pub.ft.nh")}},"230k COVID-19 samples (tree only)"),xn.default.createElement(sa,{model:e,onClick:()=>{e.setData({msa:EH,tree:TH})}},"Small protein MSA+tree"),xn.default.createElement(sa,{model:e,onClick:()=>{e.setData({msa:AH})}},"Small MSA only"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/genomes/multiple_sequence_alignments/pfam-cov2.stock")}},"PFAM SARS-CoV2 multi-stockholm"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/genomes/multiple_sequence_alignments/Lysine.stock")}},"Lysine stockholm file"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/genomes/multiple_sequence_alignments/PF01601_full.txt")}},"PF01601 stockholm file (SARS-CoV2 spike protein)"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/genomes/multiple_sequence_alignments/europe_covid.fa")}},"Europe COVID full genomes (LR883044.1 and 199 other sequences)"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/genomes/multiple_sequence_alignments/rhv_test-only.aligned_with_mafft_auto.fa","https://jbrowse.org/genomes/multiple_sequence_alignments/rhv_test-only.aligned_with_mafft_auto.nh")}},"MAFFT+VeryFastTree(17.9k samples)"),xn.default.createElement(sa,{model:e,onClick:()=>{t("https://jbrowse.org/demos/ttc39a.mfa")}},"Human BLAST results mfa"))}),CH=dMe});var kt,jp,xo,RH,pMe,PH,IH=L(()=>{kt=T(U()),jp=T(zt()),xo=T(pe()),RH=T(Se());kH();bO();pMe=(0,RH.observer)(function({model:e}){let[t,r]=(0,kt.useState)(),[n,i]=(0,kt.useState)(),{error:o}=e;return kt.default.createElement(xo.Container,null,kt.default.createElement("div",{style:{width:"50%"}},o?kt.default.createElement(jp.ErrorMessage,{error:o}):null,kt.default.createElement(xo.Typography,null,"Open an MSA file (stockholm or clustal format) and/or a tree file (newick format)."),kt.default.createElement(xo.Typography,{color:"error"},"Note: you can open up just an MSA or just a tree, both are not required. Some MSA files e.g. stockholm format have an embedded tree also and this is fine, and opening a separate tree file is not required.")),kt.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:40}},kt.default.createElement("div",null,kt.default.createElement("div",null,kt.default.createElement(xo.Typography,null,"MSA file or URL"),kt.default.createElement(jp.FileSelector,{location:t,setLocation:r})),kt.default.createElement("div",null,kt.default.createElement(xo.Typography,null,"Tree file or URL"),kt.default.createElement(jp.FileSelector,{location:n,setLocation:i}))),kt.default.createElement("div",null,kt.default.createElement(xo.Button,{onClick:()=>{(async()=>{try{await my(e,t,n)}catch(a){console.error(a),e.setError(a)}})()},variant:"contained",color:"primary",disabled:!t&&!n},"Open")),kt.default.createElement("div",null,kt.default.createElement(xo.Typography,null,"Examples"),kt.default.createElement(CH,{model:e}))))}),PH=pMe});var So,LH,jH,vy,yO,hMe,mMe,wO,qH=L(()=>{So=T(U()),LH=T(zt()),jH=T(pE()),vy=T(pe()),yO=T(Se());SH();IH();hMe=(0,yO.observer)(function({model:e,error:t}){return So.default.createElement("div",null,So.default.createElement(LH.ErrorMessage,{error:t}),So.default.createElement(vy.Button,{variant:"contained",color:"primary",onClick:()=>{e.reset()}},"Return to import form"))}),mMe=(0,yO.observer)(function({model:e}){let{isLoading:t,dataInitialized:r}=e;return So.default.createElement("div",null,So.default.createElement(jH.ErrorBoundary,{FallbackComponent:n=>So.default.createElement(hMe,{model:e,error:n.error})},r?t?So.default.createElement(vy.Typography,{variant:"h4"},"Loading..."):So.default.createElement(xH,{model:e}):So.default.createElement(PH,{model:e})))}),wO=mMe});var NH=b((bBe,FH)=>{FH.exports=JBrowseExports["@jbrowse/core/util/types/mst"]});function gMe(e,t){return e.parent===t.parent?1:2}function vMe(e){return e.reduce(_Me,0)/e.length}function _Me(e,t){return e+t.x}function bMe(e){return 1+e.reduce(yMe,0)}function yMe(e,t){return Math.max(e,t.y)}function wMe(e){for(var t;t=e.children;)e=t[0];return e}function xMe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function xO(){var e=gMe,t=1,r=1,n=!1;function i(o){var a,s=0;o.eachAfter(function(d){var p=d.children;p?(d.x=vMe(p),d.y=bMe(p)):(d.x=a?s+=e(d,a):0,d.y=0,a=d)});var f=wMe(o),u=xMe(o),l=f.x-e(f,u)/2,c=u.x+e(u,f)/2;return o.eachAfter(n?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*r}:function(d){d.x=(d.x-l)/(c-l)*t,d.y=(1-(o.y?d.y/o.y:1))*r})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(n=!1,t=+o[0],r=+o[1],i):n?null:[t,r]},i.nodeSize=function(o){return arguments.length?(n=!0,t=+o[0],r=+o[1],i):n?[t,r]:null},i}var DH=L(()=>{});function SMe(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function BH(){return this.eachAfter(SMe)}var zH=L(()=>{});function UH(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}var HH=L(()=>{});function WH(e,t){for(var r=this,n=[r],i,o,a=-1;r=n.pop();)if(e.call(t,r,++a,this),i=r.children)for(o=i.length-1;o>=0;--o)n.push(i[o]);return this}var $H=L(()=>{});function VH(e,t){for(var r=this,n=[r],i=[],o,a,s,f=-1;r=n.pop();)if(i.push(r),o=r.children)for(a=0,s=o.length;a<s;++a)n.push(o[a]);for(;r=i.pop();)e.call(t,r,++f,this);return this}var GH=L(()=>{});function YH(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}var ZH=L(()=>{});function KH(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})}var XH=L(()=>{});function JH(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}var QH=L(()=>{});function eW(e){for(var t=this,r=EMe(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function EMe(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}var tW=L(()=>{});function rW(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}var nW=L(()=>{});function iW(){return Array.from(this)}var oW=L(()=>{});function aW(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}var sW=L(()=>{});function uW(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}var lW=L(()=>{});function*cW(){var e=this,t,r=[e],n,i,o;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(i=0,o=n.length;i<o;++i)r.push(n[i]);while(r.length)}var fW=L(()=>{});function Dc(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=OMe)):t===void 0&&(t=TMe);for(var r=new qp(e),n,i=[r],o,a,s,f;n=i.pop();)if((a=t(n.data))&&(f=(a=Array.from(a)).length))for(n.children=a,s=f-1;s>=0;--s)i.push(o=a[s]=new qp(a[s])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(CMe)}function AMe(){return Dc(this).eachBefore(MMe)}function TMe(e){return e.children}function OMe(e){return Array.isArray(e)?e[1]:null}function MMe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function CMe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function qp(e){this.data=e,this.depth=this.height=0,this.parent=null}var dW=L(()=>{zH();HH();$H();GH();ZH();XH();QH();tW();nW();oW();sW();lW();fW();qp.prototype=Dc.prototype={constructor:qp,count:BH,each:UH,eachAfter:VH,eachBefore:WH,find:YH,sum:KH,sort:JH,path:eW,ancestors:rW,descendants:iW,leaves:aW,links:uW,copy:AMe,[Symbol.iterator]:cW}});var pW=L(()=>{DH();dW()});function hW(e){let t=e.split(`
`).map(o=>o.trim()).filter(o=>!!o),r=[],n=[];for(let o of t)if(o.startsWith("SEQ"))r.push(o);else{if(o.startsWith("DATA"))continue;if(o.startsWith("//"))break;n.push(o)}let i=r.map(o=>{let[,a,s,f,u,l,c,d,p]=o.split(" ");return{species:a,protein:s,chr:f,start:+u,end:+l,strand:+c,geneId:d,unknown:p,seq:""}});for(let o of n)for(let a=0;a<r.length;a++)i[a].seq+=o[a];return i}function mW(e){let t=e.split(`
`).map(o=>o.trim()).filter(o=>!!o),r=[],n="";for(let o of t)if(o.startsWith("SEQ"))r.push(o);else{if(o.startsWith("DATA"))continue;if(o.startsWith("//"))break;n=o}let i=r.map(o=>{let[,a,s,f,u,l,c,d,p]=o.split(" ");return{species:a,protein:s,chr:f,start:+u,end:+l,strand:+c,geneId:d,unknown:p}});return{tree:n,seqs:i}}var SO=L(()=>{});var gW=b((EO,AO)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof EO<"u"?t():(t(),e.FileSaver={})})(EO,function(){"use strict";function e(s,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function t(s,f,u){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){a(l.response,f,u)},l.onerror=function(){console.error("could not download file")},l.send()}function r(s){var f=new XMLHttpRequest;f.open("HEAD",s,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function n(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(f)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(s,f,u){var l=i.URL||i.webkitURL,c=document.createElement("a");f=f||s.name||"download",c.download=f,c.rel="noopener",typeof s=="string"?(c.href=s,c.origin===location.origin?n(c):r(c.href)?t(s,f,u):n(c,c.target="_blank")):(c.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){n(c)},0))}:"msSaveOrOpenBlob"in navigator?function(s,f,u){if(f=f||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(e(s,u),f);else if(r(s))t(s,f,u);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){n(l)})}}:function(s,f,u,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return t(s,f,u);var c=s.type==="application/octet-stream",d=/constructor/i.test(i.HTMLElement)||i.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||c&&d||o)&&typeof FileReader<"u"){var h=new FileReader;h.onloadend=function(){var g=h.result;g=p?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=g:location=g,l=null},h.readAsDataURL(s)}else{var m=i.URL||i.webkitURL,v=m.createObjectURL(s);l?l.location=v:location.href=v,l=null,setTimeout(function(){m.revokeObjectURL(v)},4e4)}});i.saveAs=a.saveAs=a,typeof AO<"u"&&(AO.exports=a)})});var yW=b((JBe,MO)=>{var Rt=function(){let e={gf:{},gc:{},gs:{},gr:{},seqname:[],seqdata:{}};return Object.keys(e).forEach(t=>this[t]=e[t]),this},bW=/^# STOCKHOLM 1.0/,kMe=/^\/\/\s*$/,RMe=/^#=GF\s+(\S+)\s+(.*?)\s*$/,PMe=/^#=GC\s+(\S+)\s+(.*?)\s*$/,IMe=/^#=GS\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,LMe=/^#=GR\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,jMe=/^\s*(\S+)\s+(\S+)\s*$/,qMe=/\S/,vW="No format header: # STOCKHOLM 1.0",FMe="No format footer: //",NMe="Malformed line",_y=e=>"(At line "+(e+1)+") ",DMe=e=>bW.test(e),BMe=e=>{try{CO(e,{strict:!0})}catch{return!1}return!0},ua=e=>{throw new Error(e)},zMe=e=>console.warn(e),CO=(e,t)=>{t=t||{};let r=t.quiet?(()=>null):zMe,n=t.strict?ua:r,i=[],o=null;return e.split(`
`).forEach((s,f)=>{let u=()=>{o||(n(_y(f)+vW),o=new Rt)},l;bW.test(s)?(o&&n(_y(f)+FMe),o=new Rt):kMe.test(s)?(o?i.push(o):n(_y(f)+vW),o=null):(l=RMe.exec(s))?(u(),o.gf[l[1]]=o.gf[l[1]]||[],o.gf[l[1]].push(l[2])):(l=PMe.exec(s))?(u(),o.gc[l[1]]=o.gc[l[1]]||"",o.gc[l[1]]+=l[2]):(l=IMe.exec(s))?(u(),o.gs[l[2]]=o.gs[l[2]]||{},o.gs[l[2]][l[1]]=o.gs[l[2]][l[1]]||[],o.gs[l[2]][l[1]].push(l[3])):(l=LMe.exec(s))?(u(),o.gr[l[2]]=o.gr[l[2]]||{},o.gr[l[2]][l[1]]=o.gr[l[2]][l[1]]||"",o.gr[l[2]][l[1]]+=l[3]):(l=jMe.exec(s))?(u(),o.seqdata[l[1]]||(o.seqdata[l[1]]="",o.seqname.push(l[1])),o.seqdata[l[1]]+=l[2]):qMe.test(s)&&ua(_y(f)+NMe)}),o&&(n("Warning: no end line //"),i.push(o)),i},UMe=(e,t)=>{let r=CO(e,t);return r.length===0&&ua("No alignments found"),r.length>1&&ua("More than one alignment found"),r[0]},HMe=(e,t)=>{let r=new Rt;return t=t||Object.keys(e),t.forEach(n=>r.addRow(n,e[n])),r},WMe=e=>{let t=new Rt;return e.forEach(r=>t.addRow(r[0],r[1])),t};Rt.prototype.rows=function(){return this.seqname.length};Rt.prototype.columns=function(){let e=0;return this.seqname.forEach(t=>{e=Math.max(e,this.seqdata[t].length)}),Object.keys(this.gr).forEach(t=>Object.keys(this.gr[t]).forEach(r=>{e=Math.max(e,this.gr[t][r].length)})),e};Rt.prototype.allNames=function(){let e={},t=[],r=i=>{e[i]||(e[i]=!0,t.push(i))},n=i=>i.forEach(r);return n(this.seqname),n(Object.keys(this.seqdata)),Object.keys(this.gr).forEach(i=>n(Object.keys(this.gr[i]))),Object.keys(this.gs).forEach(i=>n(Object.keys(this.gs[i]))),t};Rt.prototype.allTags=function(){let e={},t=r=>Object.keys(r).forEach(n=>e[n]=!0);return t(this.gc),t(this.gf),t(this.gr),t(this.gs),Object.keys(e).sort()};Rt.prototype.addRow=function(e,t){return this.seqdata[e]&&ua("Duplicate row name"),this.seqname.push(e),this.seqdata[e]=t||"",this};Rt.prototype.deleteRow=function(e){return this.seqdata[e]||ua("Row not found"),this.seqname=this.seqname.filter(t=>t!==e),delete this.seqdata[e],Object.keys(this.gr).forEach(t=>delete this.gr[t][e]),Object.keys(this.gs).forEach(t=>delete this.gs[t][e]),this};var yy=(e,t)=>{let r={};return Object.keys(e).forEach(n=>r[n]=t(e[n])),r},Fp=e=>yy(e,t=>t.slice(0)),TO=e=>yy(e,t=>Fp(t));Rt.prototype.copy=function(){let e=new Rt;return e.seqname=this.seqname.slice(0),e.seqdata=Fp(this.seqdata),e.gf=Fp(this.gf),e.gc=Fp(this.gc),e.gs=TO(this.gs),e.gr=TO(this.gr),e};var $Me=(e,t)=>t.map(r=>e[r]).join(""),OO=(e,t)=>yy(e,r=>$Me(r,t)),VMe=(e,t)=>yy(e,r=>OO(r,t));Rt.prototype.extractColumns=function(e){let t=this.columns(),r=e.filter(i=>i<0||i>=t);r.length&&ua("Bad column indices: "+r.join(","));let n=new Rt;return n.seqname=this.seqname.slice(0),n.seqdata=OO(this.seqdata,e),n.gf=Fp(this.gf),n.gc=OO(this.gc,e),n.gs=TO(this.gs),n.gr=VMe(this.gr,e),n};Rt.prototype.extractColumnRange=function(e,t){return this.extractColumns(new Array(t+1-e).fill(0).map((r,n)=>e+n))};Rt.prototype.defaultGapChars=".-";Rt.prototype.seqpos2col=function(e,t){t=t||this.defaultGapChars,this.seqdata[e]||ua("Row not found");let r=this.seqdata[e];return r.split("").map((n,i)=>t.indexOf(r[i])<0?i:-1).filter(n=>n>=0)};Rt.prototype.col2seqpos=function(e,t){t=t||this.defaultGapChars,this.seqdata[e]||ua("Row not found");let r=this.seqdata[e],n=-1;return r.split("").map((i,o)=>t.indexOf(r[o])<0?++n:n+.5)};function by(e,t){for(;e.length<t;)e=" "+e;return e}function _W(e,t){for(;e.length<t;)e=e+" ";return e}function GMe(e){return by("",e)}Rt.prototype.toString=function(e){e=e||{width:80,indentNames:!1};let t=this.allNames(),r=this.columns(),n=Math.max.apply(null,t.map(l=>l.length).concat([0])),i=Math.max.apply(null,this.allTags().map(l=>l.length).concat([0])),o=i?i+6:0,a=e.width?Math.max(1,e.width-n-o-1):r,s=e.indentNames?by:_W,f=e.indentNames?((l,c)=>by(l,i)+" "+by(c,n)):((l,c)=>_W(l+" "+c,i+n+1)),u=[0];for(let l=a;l<r;l+=a)u.push(l);return`# STOCKHOLM 1.0
`+Object.keys(this.gf).sort().map(l=>this.gf[l].map(c=>"#=GF "+s(l,i)+" "+c+`
`).join("")).join("")+Object.keys(this.gs).sort().map(l=>Object.keys(this.gs[l]).map(c=>this.gs[l][c].map(d=>"#=GS "+f(l,c)+" "+d+`
`).join("")).join("")).join("")+u.map(l=>Object.keys(this.gc).sort().map(c=>"#=GC "+s(c,i)+GMe(n+2)+this.gc[c].substr(l,a)+`
`).join("")+t.map(c=>Object.keys(this.gr).filter(d=>this.gr[d][c]).sort().map(d=>"#=GR "+f(d,c)+" "+this.gr[d][c].substr(l,a)+`
`).join("")+(this.seqdata[c]?s(c,n+o)+" "+this.seqdata[c].substr(l,a)+`
`:"")).join("")).join(`
`)+`//
`};Rt.prototype.toFasta=function(e){e=e||{width:80};let t=this.columns(),r=e.width||t,n=[0];for(let i=r;i<t;i+=r)n.push(i);return this.allNames().map(i=>this.seqdata[i]?">"+i+`
`+n.map(o=>this.seqdata[i].substr(o,r)+`
`).join(""):"").join("")};Rt.prototype.toRowList=function(e){return this.allNames().filter(t=>this.seqdata[t]).map(t=>[t,this.seqdata[t]])};typeof MO<"u"&&(MO.exports={sniff:DMe,validate:BMe,parse:UMe,parseAll:CO,fromSeqIndex:HMe,fromRowList:WMe,Stockholm:Rt})});var kO=b((QBe,wW)=>{wW.exports=yW()});function xW({mapHeight:e,blockSize:t,viewportY:r,viewportHeight:n}){let i=Math.max(0,Math.min(r,e*t-n)),o=Math.floor(i/t),a=Math.floor((i+n-1)/t),s=[];for(let f=o;f<=a;f++)s.push(f*t);return s}function SW({mapWidth:e,blockSize:t,viewportX:r,viewportWidth:n}){let i=Math.max(0,Math.min(r,e-n)),o=Math.floor(i/t),a=Math.floor((i+n-1)/t),s=[];for(let f=o;f<=a;f++)s.push(f*t);return s}var EW=L(()=>{});var Eo,AW,RO,YMe,ZMe,TW,OW=L(()=>{Eo=T(U()),AW=T(pe()),RO=T(Se());oa();YMe=(0,RO.observer)(function({track:e,model:t,offsetX:r}){let{blockSize:n,scrollX:i,bgColor:o,colorScheme:a,colWidth:s,fontSize:f,rowHeight:u,highResScaleFactor:l}=t,{model:{customColorScheme:c,data:d}}=e,p=c||a,h=(0,AW.useTheme)(),m=(0,Eo.useRef)(null),v=(0,Eo.useMemo)(()=>Lc(p,h),[p,h]);return(0,Eo.useEffect)(()=>{if(!m.current)return;let g=m.current.getContext("2d");if(!g)return;g.resetTransform(),g.scale(l,l),g.clearRect(0,0,n,u),g.translate(-r,0),g.textAlign="center",g.font=g.font.replace(/\d+px/,`${f}px`);let _=Math.max(0,Math.floor(r/s)),w=Math.max(0,Math.ceil((r+n)/s)),y=d.slice(_,w);for(let x=0;y&&x<y.length;x++){let A=y[x],E=p[A.toUpperCase()];if(o){let O=x*s+r-r%s;g.fillStyle=E||"white",g.fillRect(O,0,s,u),u>=10&&s>=u/2&&(g.fillStyle=v[A.toUpperCase()]||"black",g.fillText(A,O+s/2,u/2+1))}}},[f,o,n,s,u,r,v,p,l,d]),Eo.default.createElement("canvas",{ref:m,height:u*l,width:n*l,style:{position:"absolute",left:i+r,width:n,height:u}})}),ZMe=(0,RO.observer)(function({track:e,model:t}){let{blocksX:r,msaAreaWidth:n,rowHeight:i}=t;return Eo.default.createElement("div",{style:{position:"relative",height:i,width:n,overflow:"hidden"}},r.map(o=>Eo.default.createElement(YMe,{key:o,track:e,model:t,offsetX:o})))}),TW=ZMe});function MW(e){let t=new Map;e.forEach(n=>{t.set(n.id,{...n,id:`${n.id}`,name:`${n.id}`,parent:n.parent!==void 0?`${n.parent}`:void 0,children:[]})});let r=[];return e.forEach(n=>{let i=t.get(n.id);if(n.parent!==void 0){let o=t.get(n.parent);o?o.children.push(i):r.push(i)}else r.push(i)}),r[0]}var CW=L(()=>{});function kW(e,t){PO||(PO=document.createElement("canvas"));let r=PO.getContext("2d");if(!r)throw new Error("no canvas context");return r.font=r.font.replace(/\d+px/,`${t}px`),r.measureText(e).width}var PO,RW=L(()=>{});function PW(){return ms.types.model({tree:ms.types.maybe(ms.types.string),msa:ms.types.maybe(ms.types.string),treeMetadata:ms.types.maybe(ms.types.string)}).actions(e=>({setTree(t){e.tree=t},setMSA(t){e.msa=t},setTreeMetadata(t){e.treeMetadata=t}})).postProcessSnapshot(e=>{let{tree:t,msa:r,treeMetadata:n}=e,i=5e4;return{tree:t&&t.length>i?void 0:t,msa:r&&r.length>i?void 0:r,treeMetadata:n&&n.length>i?void 0:n}})}var ms,IW=L(()=>{ms=T(Jt())});function jW(){return LW.types.model("DialogQueueSessionMixin",{}).volatile(()=>({queueOfDialogs:[]})).views(e=>({get DialogComponent(){return e.queueOfDialogs[0]?.[0]},get DialogProps(){return e.queueOfDialogs[0]?.[1]}})).actions(e=>({removeActiveDialog(){e.queueOfDialogs=e.queueOfDialogs.slice(1)},queueDialog(t){let[r,n]=t(()=>{this.removeActiveDialog()});e.queueOfDialogs=[...e.queueOfDialogs,[r,n]]}}))}var LW,qW=L(()=>{LW=T(Jt())});function NW(){return FW.types.model({bgColor:!0,colorSchemeName:"maeditor"}).actions(e=>({setColorSchemeName(t){e.colorSchemeName=t},setBgColor(t){e.bgColor=t}}))}var FW,DW=L(()=>{FW=T(Jt())});function BW(){return Bc.types.model({drawLabels:!0,labelsAlignRight:!1,treeAreaWidth:Bc.types.optional(Bc.types.number,400),treeWidth:Bc.types.optional(Bc.types.number,300),treeWidthMatchesArea:!0,showBranchLen:!0,drawTree:!0,drawNodeBubbles:!0}).actions(e=>({setTreeWidthMatchesArea(t){e.treeWidthMatchesArea=t},setTreeAreaWidth(t){e.treeAreaWidth=Math.round(t)},setTreeWidth(t){e.treeWidth=Math.round(t)},setLabelsAlignRight(t){e.labelsAlignRight=t},setDrawTree(t){e.drawTree=t},setShowBranchLen(t){e.showBranchLen=t},setDrawNodeBubbles(t){e.drawNodeBubbles=t},setDrawLabels(t){e.drawLabels=t}}))}var Bc,zW=L(()=>{Bc=T(Jt())});function UW(e){let t=XMe(e.replace(/\s+/g," ").replace(/\s*{\s*/g,"{").replace(/\s*}\s*/g,"}").replace(/\s*,\s*/g,",").replace(/\s*::\s*=\s*/g,"::=").replace(/^.*?::=/,"")),r=Object.fromEntries(JMe(t.fdict).map(n=>[n.id,KMe[n.name]||n.name]));return eCe(t.nodes).map(n=>{let{features:i,...o}=n;return{...o,...Object.fromEntries(i.map(a=>[r[a.featureid],a.value]))}})}function XMe(e){let t={},r=e.trim(),n=r.startsWith("{")&&r.endsWith("}")?r.slice(1,-1).trim():r,i=0;for(;i<n.length;){for(;i<n.length&&/\s/.test(n[i]);)i++;if(i>=n.length)break;let o=i;for(;i<n.length&&/\w/.test(n[i]);)i++;if(i>=n.length||n[i]!==" "&&n[i]!=="{"){for(;i<n.length&&n[i]!==",";)i++;i<n.length&&i++;continue}let a=n.slice(o,i).trim();for(;i<n.length&&/\s/.test(n[i]);)i++;if(i>=n.length||n[i]!=="{"){for(;i<n.length&&n[i]!==",";)i++;i<n.length&&i++;continue}let s=i+1,f=1;for(i++;i<n.length&&f>0;)n[i]==="{"?f++:n[i]==="}"&&f--,i++;if(f===0){let u=n.slice(s,i-1).trim();t[a]=u}for(;i<n.length&&n[i]!==",";)i++;i<n.length&&i++}return t}function JMe(e){let t=[],r=0;for(;r<e.length;){for(;r<e.length&&/\s/.test(e[r]);)r++;if(r>=e.length)break;if(e[r]==="{"){let n=r+1,i=1;for(r++;r<e.length&&i>0;)e[r]==="{"?i++:e[r]==="}"&&i--,r++;if(i===0){let o=e.slice(n,r-1).trim(),a=QMe(o);a&&t.push(a)}}else for(;r<e.length&&e[r]!=="{";)r++}return t}function QMe(e){let t=/id\s+(\d+)/.exec(e),r=/name\s+"((?:[^"\\]|\\.)*)"/s.exec(e);if(t&&r){let n=r[1].replace(/\\"/g,'"').replace(/\\\\/g,"\\");return{id:parseInt(t[1],10),name:n}}return null}function eCe(e){let t=[],r=0;for(;r<e.length;){for(;r<e.length&&/\s/.test(e[r]);)r++;if(r>=e.length)break;if(e[r]==="{"){let n=r+1,i=1;for(r++;r<e.length&&i>0;)e[r]==="{"?i++:e[r]==="}"&&i--,r++;if(i===0){let o=e.slice(n,r-1).trim(),a=tCe(o);a&&t.push(a)}}else for(;r<e.length&&e[r]!=="{";)r++}return t}function tCe(e){let t=/id\s+(\d+)/.exec(e),r=/parent\s+(\d+)/.exec(e);if(t){let n={id:parseInt(t[1],10)};r&&(n.parent=parseInt(r[1],10));let i=e.indexOf("features");if(i!==-1){let o=e.indexOf("{",i);if(o!==-1){let a=1,s=o+1;for(;s<e.length&&a>0;)e[s]==="{"?a++:e[s]==="}"&&a--,s++;if(a===0){let f=e.slice(o+1,s-1).trim();n.features=rCe(f)}}}return n}return null}function rCe(e){let t=[],r=0;for(;r<e.length;){for(;r<e.length&&/\s/.test(e[r]);)r++;if(r>=e.length)break;if(e[r]==="{"){let n=r+1,i=1;for(r++;r<e.length&&i>0;)e[r]==="{"?i++:e[r]==="}"&&i--,r++;if(i===0){let o=e.slice(n,r-1).trim(),a=nCe(o);a&&t.push(a)}}else for(;r<e.length&&e[r]!=="{";)r++}return t}function nCe(e){let t=/featureid\s+(\d+)/.exec(e),r=/value\s+"((?:[^"\\]|\\.)*)"/s.exec(e);if(t&&r){let n=r[1].replace(/\\"/g,'"').replace(/\\\\/g,"\\");return{featureid:parseInt(t[1],10),value:n}}return null}var KMe,HW=L(()=>{KMe={$NODE_COLLAPSED:"collapsed",$NODE_COLOR:"color",$LABEL_BG_COLOR:"color","seq-id":"seqId","seq-title":"seqTitle","align-index":"alignIndex","accession-nbr":"accessionNbr","blast-name":"blastName","common-name":"commonName","leaf-count":"leafCount"}});function Np(e){let t=[],r={},n=e.split(/\s*(;|\(|\)|,|:)\s*/);for(let i=0;i<n.length;i++){let o=n[i],a={};switch(o){case"(":r.children=[a],t.push(r),r=a;break;case",":t.at(-1)?.children.push(a),r=a;break;case")":r=t.pop();break;case":":break;default:{let s=n[i-1];s===")"||s==="("||s===","?r.name=o:s===":"&&(r.length=Number.parseFloat(o))}}}return r}var IO=L(()=>{});function iCe(e){let t=/\(?(\d+(\.\d+)+)\)?/.exec(e);return t&&t.length>1?t[1]:""}function $W(e){let t=["CLUSTAL","PROBCONS","MUSCLE","MSAPROBS","Kalign"];t.some(n=>e.startsWith(n))||console.warn(`${e} is not a known CLUSTAL header: ${t.join(",")}, proceeding but could indicate an issue`);let r=iCe(e);return{info:e,version:r}}function wy(e){let t=e.next();for(;!t.done&&t.value.trim()==="";)t=e.next();return t.value}function oCe(e){let t=e.split(/\s+/),r=e.slice(t[0].length),n=t[0].length+r.indexOf(t[1]),i=n+t[1].length;return[n,i]}function WW(e){let t=wy(e),r=[],n="";if(!t)return;for(;t;)t[0].startsWith(" ")?n=t:r.push(t),t=e.next().value;let[i,o]=oCe(r[0]),s=r.map(c=>c.split(/\s+/)).map(c=>c[0]),f=r.map(c=>c.slice(i,o)),u=n.slice(i,o),l=f[0].length-u.length;return l&&(u+=" ".repeat(l)),{ids:s,seqs:f,consensus:u}}function VW(e){let t,r=WW(e);if(r!==void 0)for(;t=WW(e);){for(let n=0;n<t.seqs.length;n++)r.seqs[n]+=t.seqs[n];r.consensus+=t.consensus}return r}var LO=L(()=>{});var GW=L(()=>{LO()});function aCe(e){let t=wy(e);if(!t)throw new Error("Empty file received");let r=$W(t),n=VW(e);if(n===void 0)throw new Error("No blocks parsed");let i=n.seqs.map((a,s)=>({id:n.ids[s],seq:a})),{consensus:o}=n;if(o.length!=i[0].seq.length)throw new Error(`Consensus length != sequence length. Con ${o.length} seq ${i[0].seq.length}`);return{consensus:o,alns:i,header:r}}function YW(e){let t=e.split(`
`)[Symbol.iterator]();return aCe(t)}var ZW=L(()=>{GW();LO()});var Dp,KW=L(()=>{ZW();Dp=class{MSA;constructor(t){this.MSA=YW(t)}getMSA(){return this.MSA}getRow(t){return this.MSA.alns.find(r=>r.id===t)?.seq||""}getWidth(){return this.MSA.alns[0].seq.length}getRowData(){}getHeader(){return this.MSA.header}getNames(){return this.MSA.alns.map(t=>t.id)}getStructures(){return{}}get alignmentNames(){return[]}getTree(){return{id:"root",name:"root",noTree:!0,children:this.getNames().map(t=>({id:t,name:t,children:[]}))}}get seqConsensus(){return this.MSA.consensus}get secondaryStructureConsensus(){}get tracks(){return[]}}});var Bp,XW=L(()=>{SO();Bp=class{MSA;constructor(t){this.MSA=hW(t)}getMSA(){return this.MSA}getRow(t){return this.MSA.find(r=>r.protein===t)?.seq||""}getWidth(){return this.MSA[0].seq.length}getRowData(){}getHeader(){return""}getNames(){return this.MSA.map(t=>t.protein)}getStructures(){return{}}get alignmentNames(){return[]}getTree(){return{id:"root",name:"root",noTree:!0,children:this.getNames().map(t=>({id:t,name:t,children:[]}))}}get seqConsensus(){}get secondaryStructureConsensus(){}get tracks(){return[]}}});function sCe(e){return e.split(">").filter(t=>/\S/.test(t)).map(t=>{let[r,...n]=t.split(`
`),[i,...o]=r.split(" "),a=o.join(" "),f=n.join("").replaceAll(/\s/g,"");return{id:i,description:a,sequence:f}})}var zp,JW=L(()=>{zp=class{MSA;constructor(t){this.MSA={seqdata:Object.fromEntries(sCe(t).map(r=>[r.id,r.sequence]))}}getMSA(){return this.MSA}getRowData(){}getNames(){return Object.keys(this.MSA.seqdata)}getRow(t){return this.MSA.seqdata[t]||""}getWidth(){let t=Object.keys(this.MSA.seqdata)[0];return this.getRow(t).length}getStructures(){return{}}get alignmentNames(){return[]}getHeader(){return{}}getTree(){return{id:"root",name:"root",noTree:!0,children:this.getNames().map(t=>({id:t,children:[],name:t}))}}get seqConsensus(){}get secondaryStructureConsensus(){}get tracks(){return[]}}});var QW,Up,e$=L(()=>{QW=T(kO());IO();oa();Up=class{data;MSA;constructor(t,r){let n=QW.default.parseAll(t);this.data=n,this.MSA=n[r]}getMSA(){return this.MSA}getRow(t){return this.MSA.seqdata[t]||""}getWidth(){let t=Object.keys(this.MSA.seqdata)[0];return this.getRow(t).length}get alignmentNames(){return this.data.map((t,r)=>t.gf.DE?.[0]||`Alignment ${r+1}`)}getHeader(){return{General:this.MSA.gf,Accessions:this.MSA.gs?.AC,Dbxref:this.MSA.gs?.DR}}getRowData(t){return{name:t,accession:this.MSA.gs?.AC[t],dbxref:this.MSA.gs?.DR?.[t]}}getNames(){return Object.keys(this.MSA.seqdata)}getSeqCoords(){}getStructures(){let t=/PDB; +(\S+) +(\S); ([0-9]+)-([0-9]+)/,r=this.MSA,n=Object.entries(r.gs?.DR||{}).map(([o,a])=>[o,t.exec(a)]).filter(o=>!!o[1]).map(([o,a])=>{let s=a[1].toLowerCase(),f=a[2],u=+a[3],l=+a[4];return{id:o,pdb:s,chain:f,startPos:u,endPos:l}}),i={};for(let o of n){let{id:a,...s}=o;i[a]||(i[a]=[]),i[a].push(s)}return i}getTree(){let t=this.MSA.gf.NH?.[0];return t?Op(Np(t)):{id:"root",name:"root",noTree:!0,children:this.getNames().map(r=>({id:r,children:[],name:r}))}}get seqConsensus(){return this.MSA.gc?.seq_cons}get secondaryStructureConsensus(){return this.MSA.gc?.SS_cons}get tracks(){return[{id:"seqConsensus",name:"Sequence consensus",data:this.seqConsensus,customColorScheme:{}},{id:"secondaryStruct",name:"Secondary-structure",data:this.secondaryStructureConsensus,customColorScheme:{">":"pink","<":"lightblue"}}]}}});function jO(e){return{...e,children:e.children.map(t=>t.children.length?jO(t):{children:[t],id:`${t.id}-leafnode`,name:`${t.name}-hidden`})}}var t$=L(()=>{});function qO(e,t){let r=0,n=0,i=0,o=e.length;for(;r<t;){for(;n<o&&e[n]-1===i;)n++,i++;r++,i++}return i}function r$({rowName:e,position:t,rowMap:r,blanks:n}){let i=r.get(e);return i!==void 0?uCe({seq:i,position:t,blanks:n}):void 0}function uCe({seq:e,blanks:t,position:r}){let n=qO(t,r),i=e.length;if(n<i&&ia(e[n]))return;let o=0;for(let a=0;a<n&&a<i;a++)ia(e[a])||o++;return n<i?o:void 0}var n$=L(()=>{oa()});function i$({row:e,position:t}){let r=0,n=0;for(;n<e.length;){if(!ia(e[n])){if(r===t)return n;r++}n++}return t===0?0:n}var o$=L(()=>{oa()});var wu,a$,lCe,s$,u$=L(()=>{wu=T(U()),a$=T(Se()),lCe=(0,a$.observer)(({model:e})=>{let{scrollX:t,msaAreaWidth:r,minimapHeight:n,colWidth:i,numColumns:o}=e,a=12,s=n-12,f=r/o/i,u=-t,l=u+r,c=u*f,d=l*f,p="rgba(66, 119, 127, 0.3)";return wu.default.createElement(wu.default.Fragment,null,wu.default.createElement("rect",{x:0,y:0,width:r,height:a,stroke:"#555",fill:"none"}),wu.default.createElement("rect",{x:Math.max(0,c),y:0,width:d-c,height:a,fill:p,stroke:"#555"}),wu.default.createElement("g",{transform:`translate(0 ${a})`},wu.default.createElement("polygon",{fill:p,points:[[d,0],[c,0],[0,s],[r,s]].toString()})))}),s$=lCe});var d$=b(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});function l$(e){return!e||typeof e=="string"?e:e+""}var FO=class{async svg2canvas(t,r,n){let i=await new Promise(s=>{var f=new Image;f.onload=function(){s(f)},f.src=t});var o=document.createElement("canvas");return o.width=r,o.height=n,o.getContext("2d").drawImage(i,0,0),o}toDataURL(t,r,n,i,o,a){var s=new XMLSerializer().serializeToString(t),f=document.documentMode;if(f){var u=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;u.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink'))}a||(a={});var l="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(s);if(i==="image/svg+xml"||!i)return a.async?Promise.resolve(l):l;if(i==="image/jpeg"||i==="image/png"){if(!a.async)throw new Error("svgcanvas: options.async must be set to true if type is image/jpeg | image/png");return(async()=>{let c=await this.svg2canvas(l,r,n),d=c.toDataURL(i,o);return c.remove(),d})()}throw new Error("svgcanvas: Unknown type for toDataURL, please use image/jpeg | image/png | image/svg+xml.")}getImageData(t,r,n,i,o,a,s,f){if(f||(f={}),!f.async)throw new Error("svgcanvas: options.async must be set to true for getImageData");let u=this.toDataURL(t,r,n,"image/svg+xml");return(async()=>{let l=await this.svg2canvas(u,r,n),d=l.getContext("2d").getImageData(i,o,a,s);return l.remove(),d})()}},c$=new FO;var f$=(function(){var e,t,r,n,i;function o(c,d){var p=Object.keys(d),h;for(h=0;h<p.length;h++)c=c.replace(new RegExp("\\{"+p[h]+"\\}","gi"),d[p[h]]);return c}function a(c){var d,p,h;if(!c)throw new Error("cannot create a random attribute name for an undefined object");d="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="";do for(p="",h=0;h<12;h++)p+=d[Math.floor(Math.random()*d.length)];while(c[p]);return p}function s(c,d){var p,h,m={},v;for(c=c.split(","),d=d||10,p=0;p<c.length;p+=2)h="&"+c[p+1]+";",v=parseInt(c[p],d),m[h]="&#"+v+";";return m["\\xa0"]="&#160;",m}function f(c){var d={left:"start",right:"end",center:"middle",start:"start",end:"end"};return d[c]||d.start}function u(c){var d={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return d[c]||d.alphabetic}i=s("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},r=function(c,d){this.__root=c,this.__ctx=d},r.prototype.addColorStop=function(c,d){var p=this.__ctx.__createElement("stop"),h,m;p.setAttribute("offset",c),l$(d).indexOf("rgba")!==-1?(h=/rgba\(\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,m=h.exec(d),p.setAttribute("stop-color",o("rgb({r},{g},{b})",{r:m[1],g:m[2],b:m[3]})),p.setAttribute("stop-opacity",m[4])):p.setAttribute("stop-color",l$(d)),this.__root.appendChild(p)},n=function(c,d){this.__root=c,this.__ctx=d},t=function(c){var d={width:500,height:500,enableMirroring:!1},p;if(arguments.length>1?(p=d,p.width=arguments[0],p.height=arguments[1]):c?p=c:p=d,!(this instanceof t))return new t(p);this.width=p.width||d.width,this.height=p.height||d.height,this.enableMirroring=p.enableMirroring!==void 0?p.enableMirroring:d.enableMirroring,this.canvas=this,this.__document=p.document||document,p.ctx?this.__ctx=p.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__styleStack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement),this.resetTransform(),this.__options=p,this.__id=Math.random().toString(16).substring(2,8),this.__debug("new",c)},t.prototype.__debug=function(...c){this.__options.debug&&console.debug(`svgcanvas#${this.__id}:`,...c)},t.prototype.__createElement=function(c,d,p){typeof d>"u"&&(d={});var h=this.__document.createElementNS("http://www.w3.org/2000/svg",c),m=Object.keys(d),v,g;for(p&&(h.setAttribute("fill","none"),h.setAttribute("stroke","none")),v=0;v<m.length;v++)g=m[v],h.setAttribute(g,d[g]);return h},t.prototype.__setDefaultStyles=function(){var c=Object.keys(e),d,p;for(d=0;d<c.length;d++)p=c[d],this[p]=e[p].canvas},t.prototype.__applyStyleState=function(c){var d=Object.keys(c),p,h;for(p=0;p<d.length;p++)h=d[p],this[h]=c[h]},t.prototype.__getStyleState=function(){var c,d={},p=Object.keys(e),h;for(c=0;c<p.length;c++)h=p[c],d[h]=this[h];return d},t.prototype.__applyTransformation=function(c,d){let{a:p,b:h,c:m,d:v,e:g,f:_}=d||this.getTransform();c.setAttribute("transform",`matrix(${p} ${h} ${m} ${v} ${g} ${_})`)},t.prototype.__applyStyleToCurrentElement=function(c){var d=this.__currentElement,p=this.__currentElementsToStyle;p&&(d.setAttribute(c,""),d=p.element,p.children.forEach(function(k){k.setAttribute(c,"")}));var h=Object.keys(e),m,v,g,_,w,y,x,A;for(m=0;m<h.length;m++)if(v=e[h[m]],g=this[h[m]],v.apply){if(g instanceof n){if(g.__ctx)for(x=0;x<g.__ctx.__defs.childNodes.length;x++)A=g.__ctx.__defs.childNodes[x],y=A.getAttribute("id"),this.__ids[y]=y,this.__defs.appendChild(A);d.setAttribute(v.apply,o("url(#{id})",{id:g.__root.getAttribute("id")}))}else if(g instanceof r)d.setAttribute(v.apply,o("url(#{id})",{id:g.__root.getAttribute("id")}));else if(v.apply.indexOf(c)!==-1&&v.svg!==g)if((v.svgAttr==="stroke"||v.svgAttr==="fill")&&g&&g.indexOf("rgba")!==-1){_=/rgba\(\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,w=_.exec(g),d.setAttribute(v.svgAttr,o("rgb({r},{g},{b})",{r:w[1],g:w[2],b:w[3]}));var E=w[4],O=this.globalAlpha;O!=null&&(E*=O),d.setAttribute(v.svgAttr+"-opacity",E)}else{var M=v.svgAttr;if(h[m]==="globalAlpha"){if(M=c+"-"+v.svgAttr,d.getAttribute(M))continue}else if(h[m]==="lineWidth"){var C=this.__getTransformScale();g=g*Math.max(C.x,C.y)}d.setAttribute(M,g)}}},t.prototype.__closestGroupOrSvg=function(c){return c=c||this.__currentElement,c.nodeName==="g"||c.nodeName==="svg"?c:this.__closestGroupOrSvg(c.parentNode)},t.prototype.getSerializedSvg=function(c){var d=new XMLSerializer().serializeToString(this.__root),p,h,m,v,g,_;if(_=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,_.test(d)&&(d=d.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),c)for(p=Object.keys(i),h=0;h<p.length;h++)m=p[h],v=i[m],g=new RegExp(m,"gi"),g.test(d)&&(d=d.replace(g,v));return d},t.prototype.getSvg=function(){return this.__root},t.prototype.save=function(){var c=this.__createElement("g"),d=this.__closestGroupOrSvg();this.__groupStack.push(d),d.appendChild(c),this.__currentElement=c;let p=this.__getStyleState();this.__debug("save style",p),this.__styleStack.push(p),this.__transformMatrixStack||(this.__transformMatrixStack=[]),this.__transformMatrixStack.push(this.getTransform())},t.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var c=this.__styleStack.pop();this.__debug("restore style",c),this.__applyStyleState(c),this.__transformMatrixStack&&this.__transformMatrixStack.length>0&&this.setTransform(this.__transformMatrixStack.pop())},t.prototype.beginPath=function(){var c,d;this.__currentDefaultPath="",this.__currentPosition={},c=this.__createElement("path",{},!0),d=this.__closestGroupOrSvg(),d.appendChild(c),this.__currentElement=c},t.prototype.__applyCurrentDefaultPath=function(){var c=this.__currentElement;c.nodeName==="path"?c.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",c.nodeName)},t.prototype.__addPathCommand=function(c){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=c},t.prototype.moveTo=function(c,d){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:c,y:d},this.__addPathCommand(o("M {x} {y}",{x:this.__matrixTransform(c,d).x,y:this.__matrixTransform(c,d).y}))},t.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},t.prototype.lineTo=function(c,d){this.__currentPosition={x:c,y:d},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(o("L {x} {y}",{x:this.__matrixTransform(c,d).x,y:this.__matrixTransform(c,d).y})):this.__addPathCommand(o("M {x} {y}",{x:this.__matrixTransform(c,d).x,y:this.__matrixTransform(c,d).y}))},t.prototype.bezierCurveTo=function(c,d,p,h,m,v){this.__currentPosition={x:m,y:v},this.__addPathCommand(o("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:this.__matrixTransform(c,d).x,cp1y:this.__matrixTransform(c,d).y,cp2x:this.__matrixTransform(p,h).x,cp2y:this.__matrixTransform(p,h).y,x:this.__matrixTransform(m,v).x,y:this.__matrixTransform(m,v).y}))},t.prototype.quadraticCurveTo=function(c,d,p,h){this.__currentPosition={x:p,y:h},this.__addPathCommand(o("Q {cpx} {cpy} {x} {y}",{cpx:this.__matrixTransform(c,d).x,cpy:this.__matrixTransform(c,d).y,x:this.__matrixTransform(p,h).x,y:this.__matrixTransform(p,h).y}))};var l=function(c){var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return[c[0]/d,c[1]/d]};return t.prototype.arcTo=function(c,d,p,h,m){var v=this.__currentPosition&&this.__currentPosition.x,g=this.__currentPosition&&this.__currentPosition.y;if(!(typeof v>"u"||typeof g>"u")){if(m<0)throw new Error("IndexSizeError: The radius provided ("+m+") is negative.");if(v===c&&g===d||c===p&&d===h||m===0){this.lineTo(c,d);return}var _=l([v-c,g-d]),w=l([p-c,h-d]);if(_[0]*w[1]===_[1]*w[0]){this.lineTo(c,d);return}var y=_[0]*w[0]+_[1]*w[1],x=Math.acos(Math.abs(y)),A=l([_[0]+w[0],_[1]+w[1]]),E=m/Math.sin(x/2),O=c+E*A[0],M=d+E*A[1],C=[-_[1],_[0]],k=[w[1],-w[0]],q=function(F){var G=F[0],z=F[1];return z>=0?Math.acos(G):-Math.acos(G)},N=q(C),R=q(k);this.lineTo(O+C[0]*m,M+C[1]*m),this.arc(O,M,m,N,R)}},t.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},t.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},t.prototype.rect=function(c,d,p,h){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(c,d),this.lineTo(c+p,d),this.lineTo(c+p,d+h),this.lineTo(c,d+h),this.lineTo(c,d),this.closePath()},t.prototype.roundRect=function(c,d,p,h,m){this.__currentElement.nodeName!=="path"&&this.beginPath();let v,g,_,w;typeof m=="number"?(v=m,g=m,_=m,w=m):[v,g,_,w]=m,this.moveTo(c+v,d),this.arcTo(c+p,d,c+p,d+h,g),this.arcTo(c+p,d+h,c,d+h,_),this.arcTo(c,d+h,c,d,w),this.arcTo(c,d,c+p,d,v),this.closePath()},t.prototype.fillRect=function(c,d,p,h){let{a:m,b:v,c:g,d:_,e:w,f:y}=this.getTransform();JSON.stringify([m,v,g,_,w,y])===JSON.stringify([1,0,0,1,0,0])&&c===0&&d===0&&p===this.width&&h===this.height&&this.__clearCanvas();var x,A;x=this.__createElement("rect",{x:c,y:d,width:p,height:h},!0),A=this.__closestGroupOrSvg(),A.appendChild(x),this.__currentElement=x,this.__applyTransformation(x),this.__applyStyleToCurrentElement("fill")},t.prototype.strokeRect=function(c,d,p,h){var m,v;m=this.__createElement("rect",{x:c,y:d,width:p,height:h},!0),v=this.__closestGroupOrSvg(),v.appendChild(m),this.__currentElement=m,this.__applyTransformation(m),this.__applyStyleToCurrentElement("stroke")},t.prototype.__clearCanvas=function(){var c=this.__root.childNodes[1];this.__root.removeChild(c),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement),this.__groupStack=[]},t.prototype.clearRect=function(c,d,p,h){let{a:m,b:v,c:g,d:_,e:w,f:y}=this.getTransform();if(JSON.stringify([m,v,g,_,w,y])===JSON.stringify([1,0,0,1,0,0])&&c===0&&d===0&&p===this.width&&h===this.height){this.__clearCanvas();return}var x,A=this.__closestGroupOrSvg();x=this.__createElement("rect",{x:c,y:d,width:p,height:h,fill:"#FFFFFF"},!0),this.__applyTransformation(x),A.appendChild(x)},t.prototype.createLinearGradient=function(c,d,p,h){var m=this.__createElement("linearGradient",{id:a(this.__ids),x1:c+"px",x2:p+"px",y1:d+"px",y2:h+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(m),new r(m,this)},t.prototype.createRadialGradient=function(c,d,p,h,m,v){var g=this.__createElement("radialGradient",{id:a(this.__ids),cx:h+"px",cy:m+"px",r:v+"px",fx:c+"px",fy:d+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(g),new r(g,this)},t.prototype.__applyText=function(c,d,p,h){var m=document.createElement("span");m.setAttribute("style","font:"+this.font);var v=m.style,g=this.__closestGroupOrSvg(),_=this.__createElement("text",{"font-family":v.fontFamily,"font-size":v.fontSize,"font-style":v.fontStyle,"font-weight":v.fontWeight,"text-decoration":this.__fontUnderline,x:d,y:p,"text-anchor":f(this.textAlign),"dominant-baseline":u(this.textBaseline)},!0);if(_.appendChild(this.__document.createTextNode(c)),this.__currentElement=_,this.__applyTransformation(_),this.__applyStyleToCurrentElement(h),this.__fontHref){var w=this.__createElement("a");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.__fontHref),w.appendChild(_),_=w}g.appendChild(_)},t.prototype.fillText=function(c,d,p){this.__applyText(c,d,p,"fill")},t.prototype.strokeText=function(c,d,p){this.__applyText(c,d,p,"stroke")},t.prototype.measureText=function(c){return this.__ctx.font=this.font,this.__ctx.measureText(c)},t.prototype.arc=function(c,d,p,h,m,v){if(h!==m){h=h%(2*Math.PI),m=m%(2*Math.PI),h===m&&(m=(m+2*Math.PI-.001*(v?-1:1))%(2*Math.PI));var g=c+p*Math.cos(m),_=d+p*Math.sin(m),w=c+p*Math.cos(h),y=d+p*Math.sin(h),x=v?0:1,A=0,E=m-h;E<0&&(E+=2*Math.PI),v?A=E>Math.PI?0:1:A=E>Math.PI?1:0;var O=Math.hypot(this.__transformMatrix.a,this.__transformMatrix.b),M=Math.hypot(this.__transformMatrix.c,this.__transformMatrix.d);this.lineTo(w,y),this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p*O,ry:p*M,xAxisRotation:0,largeArcFlag:A,sweepFlag:x,endX:this.__matrixTransform(g,_).x,endY:this.__matrixTransform(g,_).y})),this.__currentPosition={x:g,y:_}}},t.prototype.ellipse=function(c,d,p,h,m,v,g,_){if(v!==g){var w=this.__matrixTransform(c,d);c=w.x,d=w.y;var y=this.__getTransformScale();p=p*y.x,h=h*y.y,m=m+this.__getTransformRotation(),v=v%(2*Math.PI),g=g%(2*Math.PI),v===g&&(g=(g+2*Math.PI-.001*(_?-1:1))%(2*Math.PI));var x=c+Math.cos(-m)*p*Math.cos(g)+Math.sin(-m)*h*Math.sin(g),A=d-Math.sin(-m)*p*Math.cos(g)+Math.cos(-m)*h*Math.sin(g),E=c+Math.cos(-m)*p*Math.cos(v)+Math.sin(-m)*h*Math.sin(v),O=d-Math.sin(-m)*p*Math.cos(v)+Math.cos(-m)*h*Math.sin(v),M=_?0:1,C=0,k=g-v;k<0&&(k+=2*Math.PI),_?C=k>Math.PI?0:1:C=k>Math.PI?1:0;var q=this.__transformMatrix;this.resetTransform(),this.lineTo(E,O),this.__transformMatrix=q,this.__addPathCommand(o("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:h,xAxisRotation:m*(180/Math.PI),largeArcFlag:C,sweepFlag:M,endX:x,endY:A})),this.__currentPosition={x,y:A}}},t.prototype.clip=function(){var c=this.__closestGroupOrSvg(),d=this.__createElement("clipPath"),p=a(this.__ids),h=this.__createElement("g");this.__applyCurrentDefaultPath(),c.removeChild(this.__currentElement),d.setAttribute("id",p),d.appendChild(this.__currentElement),this.__defs.appendChild(d),c.setAttribute("clip-path",o("url(#{id})",{id:p})),c.appendChild(h),this.__currentElement=h},t.prototype.drawImage=function(){var c=Array.prototype.slice.call(arguments),d=c[0],p,h,m,v,g=0,_=0,w,y,x,A,E,O,M,C,k,q;if(c.length===3)p=c[1],h=c[2],w=d.width,y=d.height,m=w,v=y;else if(c.length===5)p=c[1],h=c[2],m=c[3],v=c[4],w=d.width,y=d.height;else if(c.length===9)g=c[1],_=c[2],w=c[3],y=c[4],p=c[5],h=c[6],m=c[7],v=c[8];else throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);x=this.__closestGroupOrSvg(),this.__currentElement;let N=this.getTransform().translate(p,h);if(d instanceof t){if(A=d.getSvg().cloneNode(!0),A.childNodes&&A.childNodes.length>1){for(E=A.childNodes[0];E.childNodes.length;)q=E.childNodes[0].getAttribute("id"),this.__ids[q]=q,this.__defs.appendChild(E.childNodes[0]);O=A.childNodes[1],O&&(this.__applyTransformation(O,N),x.appendChild(O))}}else(d.nodeName==="CANVAS"||d.nodeName==="IMG")&&(M=this.__createElement("image"),M.setAttribute("width",m),M.setAttribute("height",v),M.setAttribute("preserveAspectRatio","none"),(g||_||w!==d.width||y!==d.height)&&(C=this.__document.createElement("canvas"),C.width=m,C.height=v,k=C.getContext("2d"),k.drawImage(d,g,_,w,y,0,0,m,v),d=C),this.__applyTransformation(M,N),M.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.nodeName==="CANVAS"?d.toDataURL():d.getAttribute("src")),x.appendChild(M))},t.prototype.createPattern=function(c,d){var p=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),h=a(this.__ids),m;return p.setAttribute("id",h),p.setAttribute("width",c.width),p.setAttribute("height",c.height),p.setAttribute("patternUnits","userSpaceOnUse"),c.nodeName==="CANVAS"||c.nodeName==="IMG"?(m=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),m.setAttribute("width",c.width),m.setAttribute("height",c.height),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.nodeName==="CANVAS"?c.toDataURL():c.getAttribute("src")),p.appendChild(m),this.__defs.appendChild(p)):c instanceof t&&(p.appendChild(c.__root.childNodes[1]),this.__defs.appendChild(p)),new n(p,this)},t.prototype.setLineDash=function(c){c&&c.length>0?this.lineDash=c.join(","):this.lineDash=null},t.prototype.setTransform=function(c,d,p,h,m,v){c instanceof DOMMatrix?this.__transformMatrix=new DOMMatrix([c.a,c.b,c.c,c.d,c.e,c.f]):this.__transformMatrix=new DOMMatrix([c,d,p,h,m,v])},t.prototype.getTransform=function(){let{a:c,b:d,c:p,d:h,e:m,f:v}=this.__transformMatrix;return new DOMMatrix([c,d,p,h,m,v])},t.prototype.resetTransform=function(){this.setTransform(1,0,0,1,0,0)},t.prototype.scale=function(c,d){if(d===void 0&&(d=c),isNaN(c)||isNaN(d)||!isFinite(c)||!isFinite(d))return;let p=this.getTransform().scale(c,d);this.setTransform(p)},t.prototype.rotate=function(c){let d=this.getTransform().multiply(new DOMMatrix([Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0]));this.setTransform(d)},t.prototype.translate=function(c,d){let p=this.getTransform().translate(c,d);this.setTransform(p)},t.prototype.transform=function(c,d,p,h,m,v){let g=this.getTransform().multiply(new DOMMatrix([c,d,p,h,m,v]));this.setTransform(g)},t.prototype.__matrixTransform=function(c,d){return new DOMPoint(c,d).matrixTransform(this.__transformMatrix)},t.prototype.__getTransformScale=function(){return{x:Math.hypot(this.__transformMatrix.a,this.__transformMatrix.b),y:Math.hypot(this.__transformMatrix.c,this.__transformMatrix.d)}},t.prototype.__getTransformRotation=function(){return Math.atan2(this.__transformMatrix.b,this.__transformMatrix.a)},t.prototype.getImageData=function(c,d,p,h,m){return c$.getImageData(this.getSvg(),this.width,this.height,c,d,p,h,m)},t.prototype.drawFocusRing=function(){},t.prototype.createImageData=function(){},t.prototype.putImageData=function(){},t.prototype.globalCompositeOperation=function(){},t})();function gs(e){this.ctx=new f$(e),this.svg=this.ctx.__root;var t=this.svg,r=this,n=document.createElement("div");n.style.display="inline-block",n.appendChild(t),this.wrapper=n,Object.defineProperty(this,"className",{get:function(){return n.getAttribute("class")||""},set:function(i){return n.setAttribute("class",i)}}),Object.defineProperty(this,"tagName",{get:function(){return"CANVAS"},set:function(){}}),["width","height"].forEach(function(i){Object.defineProperty(r,i,{get:function(){return t.getAttribute(i)|0},set:function(o){if(!(isNaN(o)||typeof o>"u"))return r.ctx[i]=o,t.setAttribute(i,o),n[i]=o}})}),["style","id"].forEach(function(i){Object.defineProperty(r,i,{get:function(){return n[i]},set:function(o){if(typeof o<"u")return n[i]=o}})}),["getBoundingClientRect"].forEach(function(i){r[i]=function(){return t[i]()}})}gs.prototype.getContext=function(e){if(e!=="2d")throw new Error("Unsupported type of context for SVGCanvas");return this.ctx};gs.prototype.toObjectURL=function(){var e=new XMLSerializer().serializeToString(this.svg),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)};gs.prototype.toDataURL=function(e,t,r){return c$.toDataURL(this.svg,this.width,this.height,e,t,r)};gs.prototype.addEventListener=function(){return this.svg.addEventListener.apply(this.svg,arguments)};gs.prototype.getElement=function(){return this.wrapper};gs.prototype.getAttribute=function(e){return this.wrapper.getAttribute(e)};gs.prototype.setAttribute=function(e,t){this.wrapper.setAttribute(e,t)};xy.Context=f$;xy.Element=gs});var g$={};jr(g$,{renderToSvg:()=>cCe});async function cCe(e,t){await(0,m$.when)(()=>!!e.dataInitialized);let{width:r,height:n,scrollX:i,scrollY:o}=e,{exportType:a,theme:s,includeMinimap:f}=t;if(a==="entire")return p$({width:e.totalWidth+e.treeAreaWidth,height:e.totalHeight,theme:s,model:e,offsetY:0,offsetX:0,includeMinimap:f});if(a==="viewport")return p$({width:r,height:n,theme:s,model:e,offsetY:o,offsetX:-i,includeMinimap:f});throw new Error("unknown export type")}async function p$({width:e,height:t,offsetX:r,offsetY:n,theme:i,model:o,includeMinimap:a}){let{Context:s}=await Promise.resolve().then(()=>T(d$())),f=a?dCe:hCe;return(0,h$.renderToStaticMarkup)(Zt.default.createElement(pCe,{width:e,height:t},Zt.default.createElement(f,{model:o},Zt.default.createElement(fCe,{Context:s,model:o,theme:i,offsetX:r,offsetY:n,width:e,height:t}))))}function fCe({model:e,theme:t,width:r,height:n,offsetX:i,offsetY:o,Context:a}){let s="tree",{treeAreaWidth:u,colorScheme:l}=e,c=Lc(l,t),d=a(r,n),p=a(r,n);ly({ctx:p,offsetX:i,offsetY:o,model:e,blockSizeYOverride:n,highResScaleFactorOverride:1});let h=r-u;return py({model:e,offsetY:o,ctx:d,theme:t,blockSizeYOverride:n,highResScaleFactorOverride:1}),cy({model:e,theme:t,offsetY:o,offsetX:i,contrastScheme:c,ctx:p,blockSizeXOverride:h,blockSizeYOverride:n,highResScaleFactorOverride:1}),Zt.default.createElement(Zt.default.Fragment,null,Zt.default.createElement("defs",null,Zt.default.createElement("clipPath",{id:s},Zt.default.createElement("rect",{x:0,y:0,width:u,height:n}))),Zt.default.createElement("defs",null,Zt.default.createElement("clipPath",{id:"msa"},Zt.default.createElement("rect",{x:0,y:0,width:h,height:n}))),Zt.default.createElement("g",{clipPath:`url(#${s})`,dangerouslySetInnerHTML:{__html:d.getSvg().innerHTML}}),Zt.default.createElement("g",{clipPath:"url(#msa)",transform:`translate(${u} 0)`,dangerouslySetInnerHTML:{__html:p.getSvg().innerHTML}}))}function dCe({model:e,children:t}){let{minimapHeight:r,treeAreaWidth:n}=e;return Zt.default.createElement(Zt.default.Fragment,null,Zt.default.createElement("g",{transform:`translate(${n} 0)`},Zt.default.createElement(s$,{model:e})),Zt.default.createElement("g",{transform:`translate(0 ${r})`},t))}function pCe({width:e,height:t,children:r}){return Zt.default.createElement("svg",{width:e,height:t,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,e,t].toString()},r)}function hCe({children:e}){return e}var Zt,h$,m$,v$=L(()=>{Zt=T(U()),h$=T(vt()),m$=T(io());u$();fO();dO();hy();oa()});function mCe(){return We.types.compose(jW(),BW(),NW(),We.types.model("MsaView",{id:zc.ElementId,showDomains:!1,hideGaps:!0,allowedGappyness:100,contrastLettering:!0,subFeatureRows:!1,type:We.types.literal("MsaView"),drawMsaLetters:!0,height:We.types.optional(We.types.number,550),rowHeight:NO,scrollY:0,scrollX:0,colWidth:DO,treeFilehandle:We.types.maybe(zc.FileLocation),msaFilehandle:We.types.maybe(zc.FileLocation),treeMetadataFilehandle:We.types.maybe(zc.FileLocation),currentAlignment:0,collapsed:We.types.array(We.types.string),collapsedLeaves:We.types.array(We.types.string),showOnly:We.types.maybe(We.types.string),turnedOffTracks:We.types.map(We.types.boolean),data:We.types.optional(PW(),{tree:"",msa:"",treeMetadata:""}),featureFilters:We.types.map(We.types.boolean),relativeTo:We.types.maybe(We.types.string)})).volatile(()=>({headerHeight:0,status:void 0,highResScaleFactor:2,showZoomStar:(0,Et.localStorageGetBoolean)(_$,!1),loadingMSA:!1,loadingTree:!1,volatileWidth:void 0,resizeHandleWidth:5,blockSize:500,mouseRow:void 0,mouseCol:void 0,mouseClickRow:void 0,mouseClickCol:void 0,hoveredTreeNode:void 0,nref:0,minimapHeight:56,marginLeft:20,error:void 0,annotPos:void 0,interProAnnotations:void 0})).actions(e=>({drawRelativeTo(t){e.relativeTo=t},setHideGaps(t){e.hideGaps=t},setAllowedGappyness(t){e.allowedGappyness=t},setContrastLettering(t){e.contrastLettering=t},setLoadingMSA(t){e.loadingMSA=t},setShowZoomStar(t){e.showZoomStar=t},setLoadingTree(t){e.loadingTree=t},setWidth(t){e.volatileWidth=t},setHeight(t){e.height=t},setError(t){e.error=t},setMousePos(t,r){e.mouseCol=t,e.mouseRow=r},setHoveredTreeNode(t){if(!t){e.hoveredTreeNode=void 0;return}let r=e.hierarchy.find(i=>i.data.id===t);if(!r){e.hoveredTreeNode=void 0;return}let n=r.leaves().map(i=>i.data.name);e.hoveredTreeNode={nodeId:t,descendantNames:n}},setShowDomains(t){e.showDomains=t},setSubFeatureRows(t){e.subFeatureRows=t},setMouseClickPos(t,r){e.mouseClickCol=t,e.mouseClickRow=r},setRowHeight(t){e.rowHeight=t},setColWidth(t){e.colWidth=t},setScrollY(t){e.scrollY=t},setCurrentAlignment(t){e.currentAlignment=t},toggleCollapsed(t){e.collapsed.includes(t)?e.collapsed.remove(t):e.collapsed.push(t)},toggleCollapsed2(t){e.collapsedLeaves.includes(t)?e.collapsedLeaves.remove(t):e.collapsedLeaves.push(t)},setShowOnly(t){e.showOnly=t},setData(t){e.data=(0,We.cast)(t)},setMSAFilehandle(t){e.msaFilehandle=t},setTreeFilehandle(t){e.treeFilehandle=t},setMSA(t){e.data.setMSA(t)},setTree(t){e.data.setTree(t)},setTreeMetadata(t){e.data.setTreeMetadata(t)}})).views(e=>({get realAllowedGappyness(){return e.hideGaps?e.allowedGappyness:100},get actuallyShowDomains(){return e.showDomains&&!!e.interProAnnotations},get viewInitialized(){return e.volatileWidth!==void 0},get width(){if(e.volatileWidth===void 0)throw new Error("not initialized");return e.volatileWidth}})).views(e=>({extraViewMenuItems(){return[]},get colorScheme(){return jc[e.colorSchemeName]},get header(){return this.MSA?.getHeader()||{}},get alignmentNames(){return this.MSA?.alignmentNames||[]},get noTree(){return!!this.tree.noTree},get noDomains(){return!e.interProAnnotations},menuItems(){return[]},get treeMetadata(){return e.data.treeMetadata?JSON.parse(e.data.treeMetadata):{}},get MSA(){let t=e.data.msa;return t?y$.default.sniff(t)?new Up(t,e.currentAlignment):t.startsWith(">")?new zp(t):t.startsWith("SEQ")?new Bp(t):new Dp(t):null},get numColumns(){return(this.MSA?.getWidth()||0)-this.blanks.length},get tree(){let t=e.data.tree;return jO(t?Op(t.startsWith("BioTreeContainer")?MW(UW(t)):Np(t.startsWith("SEQ")?mW(t).tree:t)):this.MSA?.getTree()||{noTree:!0,children:[],id:"empty",name:"empty"})},get rowNames(){return this.leaves.map(t=>t.data.name)},get mouseOverRowName(){let{mouseRow:t}=e;return t===void 0?void 0:this.rowNames[t]},get root(){let t=Dc(this.tree,r=>r.children).sum(r=>r.children?0:1).sort((r,n)=>ey(r.data.length||1,n.data.length||1));if(e.showOnly){let r=t.find(n=>n.data.id===e.showOnly);r&&(t=r)}return[...e.collapsed,...e.collapsedLeaves].map(r=>t.find(n=>n.data.id===r)).filter(Et.notEmpty).map(r=>{ez(r)}),t},get msaAreaWidth(){return e.width-e.treeAreaWidth},get treeAreaWidthMinusMargin(){return e.treeAreaWidth-e.marginLeft},get blanks(){let{hideGaps:t,realAllowedGappyness:r}=e,n=[];if(t){let i=this.leaves.map(o=>this.MSA?.getRow(o.data.name)).filter(Et.notEmpty);if(i.length){let o=i[0].length;for(let a=0;a<o;a++){let s=0,f=i.length;for(let u=0;u<f;u++)ia(i[u][a])&&s++;s/f>=r/100&&n.push(a)}}}return n},get blanksSet(){return new Set(this.blanks)},get rows(){let t=this.MSA;return this.leaves.map(r=>[r.data.name,t?.getRow(r.data.name)]).filter(r=>!!r[1])},get numRows(){return this.rows.length},get rowMap(){return new Map(this.rows)},get columns(){return Object.fromEntries(this.rows.map((t,r)=>[t[0],this.columns2d[r]]))},get columns2d(){let{hideGaps:t}=e;return this.rows.map(r=>r[1]).map(r=>t?YT(this.blanks,r):r)},get fontSize(){return Math.min(Math.max(6,e.rowHeight-3),18)},get colStats(){let t=[],r=this.columns2d;for(let n of r)for(let i=0;i<n.length;i++){let o=t[i]||{},a=n[i];o[a]||(o[a]=0),o[a]++,t[i]=o}return t},get colStatsSums(){return this.colStats.map(t=>(0,Et.sum)(Object.values(t)))},get hierarchy(){let t=this.root;return xO().size([this.totalHeight,e.treeWidth]).separation(()=>1)(t),ZT(t,t.data.length=0,e.treeWidth/KT(t)),t},get totalHeight(){return this.root.leaves().length*e.rowHeight},get leaves(){return this.hierarchy.leaves()},get allBranchesLength0(){return this.hierarchy.links().every(t=>!t.source.data.length)}})).views(e=>({get totalWidth(){return e.numColumns*e.colWidth}})).views(e=>({get dataInitialized(){return(e.data.msa||e.data.tree)&&!e.error},get blocksX(){return SW({viewportWidth:e.msaAreaWidth,viewportX:-e.scrollX,blockSize:e.blockSize,mapWidth:e.totalWidth})},get blocksY(){return xW({viewportHeight:e.height,viewportY:-e.scrollY,blockSize:e.blockSize,mapHeight:e.totalHeight})}})).views(e=>({get blocks2d(){let t=[];for(let r of e.blocksY)for(let n of e.blocksX)t.push([n,r]);return t},get isLoading(){return e.loadingMSA||e.loadingTree},get maxScrollX(){return Math.min(-e.totalWidth+(e.msaAreaWidth-100),0)},get showMsaLetters(){return e.drawMsaLetters&&e.rowHeight>=5&&e.colWidth>e.rowHeight/2},get showTreeText(){return e.drawLabels&&e.rowHeight>=5}})).actions(e=>({setDrawMsaLetters(t){e.drawMsaLetters=t},resetZoom(){e.setColWidth(DO),e.setRowHeight(NO)},zoomOutHorizontal(){e.colWidth=Math.max(1,Math.floor(e.colWidth*.75)),e.scrollX=(0,Et.clamp)(e.scrollX,e.maxScrollX,0)},zoomInHorizontal(){e.colWidth=Math.ceil(e.colWidth*1.5),e.scrollX=(0,Et.clamp)(e.scrollX,e.maxScrollX,0)},zoomInVertical(){e.rowHeight=Math.ceil(e.rowHeight*1.5)},zoomOutVertical(){e.rowHeight=Math.max(1.5,Math.floor(e.rowHeight*.75))},zoomIn(){(0,ni.transaction)(()=>{e.colWidth=Math.ceil(e.colWidth*1.5),e.rowHeight=Math.ceil(e.rowHeight*1.5),e.scrollX=(0,Et.clamp)(e.scrollX,e.maxScrollX,0)})},zoomOut(){(0,ni.transaction)(()=>{e.colWidth=Math.max(1,Math.floor(e.colWidth*.75)),e.rowHeight=Math.max(1.5,Math.floor(e.rowHeight*.75)),e.scrollX=(0,Et.clamp)(e.scrollX,e.maxScrollX,0)})},setInterProAnnotations(t){e.interProAnnotations=t},doScrollY(t){e.scrollY=(0,Et.clamp)(e.scrollY+t,-e.totalHeight+10,0)},doScrollX(t){this.setScrollX(e.scrollX+t)},setScrollX(t){e.scrollX=(0,Et.clamp)(t,e.maxScrollX,0)},toggleTrack(t){e.turnedOffTracks.has(t)?e.turnedOffTracks.delete(t):e.turnedOffTracks.set(t,!0)},setStatus(t){e.status=t}})).views(e=>({get labelsWidth(){let t=0,{rowHeight:r,leaves:n,treeMetadata:i,fontSize:o}=e;if(r>5)for(let a of n)t=Math.max(kW(i[a.data.name]?.genome||a.data.name,o),t);return t},get secondaryStructureConsensus(){return e.MSA?.secondaryStructureConsensus},get seqConsensus(){return e.MSA?.seqConsensus},get conservation(){if(e.columns2d.length)for(let t=0;t<e.columns2d[0].length;t++){let r=[];for(let n of e.columns2d)r.push(n[t])}return["a"]},get adapterTrackModels(){let{rowHeight:t,MSA:r,hideGaps:n,blanks:i}=e;return r?.tracks.map(o=>({model:{...o,data:o.data?n?YT(i,o.data):o.data:void 0,height:t},ReactComponent:TW}))||[]},get tracks(){return this.adapterTrackModels},get turnedOnTracks(){return this.tracks.filter(t=>!e.turnedOffTracks.has(t.model.id))},get showHorizontalScrollbar(){return e.msaAreaWidth<e.totalWidth},get rowNamesSet(){return new Map(e.rowNames.map((t,r)=>[t,r]))},mouseOverCoordToRowLetter(t,r){let{rowMap:n,blanks:i}=e;return n.get(t)?.[qO(i,r)]},mouseOverCoordToGapRemovedRowCoord(t,r){return r$({rowName:t,position:r,rowMap:e.rowMap,blanks:e.blanks})},mouseOverCoordToGapRemovedRowCoordOneBased(t,r){let n=this.mouseOverCoordToGapRemovedRowCoord(t,r);return n!==void 0?n+1:void 0},seqCoordToRowSpecificGlobalCoord(t,r){let{rowNames:n,rows:i}=e,o=n.indexOf(t);return o!==-1&&i[o]?i$({row:i[o][1],position:r}):0}})).views(e=>({get msaAreaHeight(){return e.height-(e.showHorizontalScrollbar?e.minimapHeight:0)-e.headerHeight},get totalTrackAreaHeight(){return(0,Et.sum)(e.turnedOnTracks.map(t=>t.model.height))},get tidyInterProAnnotationTypes(){let t=new Map;for(let r of this.tidyInterProAnnotations)t.set(r.accession,r);return t},get tidyInterProAnnotations(){let t=[],{interProAnnotations:r}=e;if(r)for(let[n,i]of Object.entries(r))for(let{signature:o,locations:a}of i.matches){let{entry:s}=o;if(s){let{name:f,accession:u,description:l}=s;for(let{start:c,end:d}of a)t.push({id:n,name:f,accession:u,description:l,start:c,end:d})}}return t.toSorted((n,i)=>XT(i)-XT(n))},get tidyFilteredInterProAnnotations(){return this.tidyInterProAnnotations.filter(t=>e.featureFilters.get(t.accession))},get tidyFilteredGatheredInterProAnnotations(){return(0,Et.groupBy)(this.tidyFilteredInterProAnnotations,t=>t.id)}})).views(e=>({get showVerticalScrollbar(){return e.msaAreaHeight<e.totalHeight}})).views(e=>({get verticalScrollbarWidth(){return e.showVerticalScrollbar?20:0},get fillPalette(){let t=[...e.tidyInterProAnnotationTypes.keys()],r=0,n={};for(let i of t){let o=Math.min(t.length-1,qT.length-1);n[i]=qT[o][r],r++}return n},get strokePalette(){return Object.fromEntries(Object.entries(this.fillPalette).map(([t,r])=>[t,rn(r).darken(.1).toHex()]))},getRowData(t){return{data:e.MSA?.getRowData(t),treeMetadata:e.treeMetadata[t]}}})).actions(e=>({setHeaderHeight(t){e.headerHeight=t},reset(){e.setData({tree:"",msa:""}),e.resetZoom(),e.setError(void 0),e.setScrollY(0),e.setScrollX(0),e.setCurrentAlignment(0),e.setTreeFilehandle(void 0),e.setMSAFilehandle(void 0)},async exportSVG(t){let{renderToSvg:r}=await Promise.resolve().then(()=>(v$(),g$)),n=await r(e,t),i=new Blob([n],{type:"image/svg+xml"});(0,b$.saveAs)(i,"image.svg")},incrementRef(){e.nref++},initFilter(t){e.featureFilters.get(t)===void 0&&e.featureFilters.set(t,!0)},setFilter(t,r){e.featureFilters.set(t,r)},fit(){e.rowHeight=e.msaAreaHeight/e.numRows,e.colWidth=e.msaAreaWidth/e.numColumns,e.scrollX=0,e.scrollY=0},fitVertically(){e.rowHeight=e.msaAreaHeight/e.numRows,e.scrollY=0},fitHorizontally(){e.colWidth=e.msaAreaWidth/e.numColumns,e.scrollX=0},afterCreate(){(0,We.addDisposer)(e,(0,ni.autorun)(()=>{for(let t of e.tidyInterProAnnotationTypes.keys())this.initFilter(t)})),(0,We.addDisposer)(e,(0,ni.autorun)(()=>{(0,Et.localStorageSetBoolean)(_$,e.showZoomStar)})),(0,We.addDisposer)(e,(0,ni.autorun)(async()=>{let{treeFilehandle:t}=e;if(t)try{e.setLoadingTree(!0),e.setTree(await(0,Et.fetchAndMaybeUnzipText)((0,Sy.openLocation)(t))),t.locationType==="BlobLocation"&&e.setTreeFilehandle(void 0)}catch(r){console.error(r),e.setError(r)}finally{e.setLoadingTree(!1)}})),(0,We.addDisposer)(e,(0,ni.autorun)(async()=>{let{treeMetadataFilehandle:t}=e;if(t)try{e.setTreeMetadata(await(0,Et.fetchAndMaybeUnzipText)((0,Sy.openLocation)(t)))}catch(r){console.error(r),e.setError(r)}})),(0,We.addDisposer)(e,(0,ni.autorun)(async()=>{let{msaFilehandle:t}=e;if(t)try{e.setLoadingMSA(!0),e.setError(void 0);let r=await(0,Et.fetchAndMaybeUnzipText)((0,Sy.openLocation)(t));(0,ni.transaction)(()=>{e.setMSA(r),t.locationType==="BlobLocation"&&e.setMSAFilehandle(void 0)})}catch(r){console.error(r),e.setError(r)}finally{e.setLoadingMSA(!1)}})),(0,We.addDisposer)(e,(0,ni.autorun)(()=>{e.colorSchemeName.includes("dynamic")&&(e.colStats,e.colStatsSums),e.columns})),(0,We.addDisposer)(e,(0,ni.autorun)(async()=>{e.treeWidthMatchesArea&&e.setTreeWidth(Math.max(50,e.treeAreaWidth-e.labelsWidth-10-e.marginLeft))}))}})).postProcessSnapshot(e=>{let t=e,{data:{tree:r,msa:n,treeMetadata:i},...o}=t,a={showDomains:!1,hideGaps:!0,allowedGappyness:100,contrastLettering:!0,subFeatureRows:!1,drawMsaLetters:!0,height:550,rowHeight:NO,scrollY:0,scrollX:0,colWidth:DO,currentAlignment:0,bgColor:!0,colorSchemeName:"maeditor",drawLabels:!0,labelsAlignRight:!1,treeAreaWidth:400,treeWidth:300,treeWidthMatchesArea:!0,showBranchLen:!0,drawTree:!0,drawNodeBubbles:!0},s=new Set(["id","type","relativeTo"]);function f(l){let c={};for(let[d,p]of Object.entries(l)){if(s.has(d)){c[d]=p;continue}if(a[d]!==p)if(p&&typeof p=="object"&&!Array.isArray(p)){let h=f(p);Object.keys(h).length>0&&(c[d]=h)}else Array.isArray(p)?p.length>0&&(c[d]=p):c[d]=p}return c}let u=f(o);return{data:{...e.treeFilehandle?{}:{tree:r},...e.msaFilehandle?{}:{msa:n},...e.treeMetadataFilehandle?{}:{treeMetadata:i}},...u}})}var Et,Sy,zc,b$,ni,We,y$,NO,DO,_$,BO,w$=L(()=>{Et=T(vt()),Sy=T(J1()),zc=T(NH());Jb();GT();pW();SO();b$=T(gW()),ni=T(io()),We=T(Jt()),y$=T(kO());EW();Mp();OW();CW();FT();RW();IW();qW();DW();zW();HW();IO();KW();XW();JW();e$();t$();n$();o$();oa();NO=16,DO=12,_$="msa-showZoomStar";BO=mCe});var zO=L(()=>{qH();w$()});function SCe({baseUrl:e,rid:t}){return WO.default.createElement(P$.Typography,null,"RID ",t," (",WO.default.createElement(mf,{href:`${e}?CMD=Get&RID=${t}`},"see status"),")")}var WO,P$,$O,I$=L(()=>{"use strict";WO=T(U()),P$=T(pe());rw();$O=SCe});function ECe({baseUrl:e,rid:t,error:r}){return ii.default.createElement("div",null,t?ii.default.createElement($O,{rid:t,baseUrl:e}):null,ii.default.createElement(Oy.ErrorMessage,{error:r}))}function ACe({baseUrl:e,rid:t,progress:r}){let{classes:n}=q$();return ii.default.createElement("div",{className:n.loading},t?ii.default.createElement($O,{baseUrl:e,rid:t}):null,ii.default.createElement(VO.Typography,null,r))}var ii,Oy,VO,L$,j$,q$,TCe,F$,N$=L(()=>{"use strict";ii=T(U()),Oy=T(zt()),VO=T(pe()),L$=T(Se()),j$=T(De());I$();q$=(0,j$.makeStyles)()(e=>({margin:{padding:20},loading:{background:e.palette.background.paper}}));TCe=(0,L$.observer)(function({model:t,baseUrl:r}){let{progress:n,rid:i,error:o,processing:a}=t,{classes:s}=q$();return ii.default.createElement("div",{className:s.margin},ii.default.createElement(Oy.LoadingEllipses,{message:"Running NCBI BLAST",variant:"h5"}),o?ii.default.createElement(ECe,{baseUrl:r,rid:i,error:o}):i?ii.default.createElement(ACe,{baseUrl:r,rid:i,progress:n}):null,ii.default.createElement(VO.Typography,null,a||"Initializing BLAST query"))}),F$=TCe});var B$={};jr(B$,{default:()=>MCe});var My,D$,OCe,MCe,z$=L(()=>{"use strict";My=T(U()),D$=T(Se());zO();N$();OCe=(0,D$.observer)(function({model:t}){let{blastParams:r}=t;return My.default.createElement("div",null,r?My.default.createElement(F$,{model:t,baseUrl:r.baseUrl}):My.default.createElement(wO,{model:t}))}),MCe=OCe});var kCe={};jr(kCe,{default:()=>Cy});var W$=T(a2()),YO=T(Eu()),$$=T(vt());Pt();var f2=T(ae(),1),d2=(0,Oe.createSvgIcon)((0,f2.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"}),"GridOn");var ZO=T(Jt());var h2="2.2.3";var A2=T(U());var Uc=T(U()),S2=T(Se());var jy=T(U()),qy=T(vt()),Fy=T(Se());var _2=T(De()),Wp=(0,_2.makeStyles)()({highlight:{height:"100%",background:"rgba(255,255,0,0.2)",border:"1px solid rgba(50,50,0,0.2)",position:"absolute",zIndex:99,textAlign:"center",pointerEvents:"none",overflow:"hidden"}});var Q$=(0,Fy.observer)(function({model:e}){let{hovered:t}=(0,qy.getSession)(e);return t&&typeof t=="object"&&"hoverPosition"in t?jy.default.createElement(eV,{model:e}):null}),eV=(0,Fy.observer)(function({model:e}){let{classes:t}=Wp(),r=(0,qy.getSession)(e);if(r.views.some(n=>n.type==="MsaView")){let{hovered:n}=r,{offsetPx:i}=e,{coord:o,refName:a}=n.hoverPosition,s=e.bpToPx({refName:a,coord:o-1}),f=e.bpToPx({refName:a,coord:o});if(s&&f){let u=Math.max(Math.abs(f.offsetPx-s.offsetPx),4),l=Math.min(s.offsetPx,f.offsetPx)-i;return jy.default.createElement("div",{className:t.highlight,style:{left:l,width:u}})}}return null}),b2=Q$;var $p=T(U()),y2=T(vt()),w2=T(Se());function tV(e,t){return e.getCanonicalRefName(t)??t}var rV=(0,w2.observer)(function({model:t}){let{classes:r}=Wp(),{assemblyManager:n,views:i}=(0,y2.getSession)(t),o=i.find(s=>s.type==="MsaView"),a=n.get(t.assemblyNames[0]);return a?$p.default.createElement($p.default.Fragment,null,o?.connectedHighlights.map((s,f)=>{let u=tV(a,s.refName),l=t.bpToPx({refName:u,coord:s.start}),c=t.bpToPx({refName:u,coord:s.end});if(l&&c){let d=Math.max(Math.abs(c.offsetPx-l.offsetPx),4),p=Math.min(l.offsetPx,c.offsetPx)-t.offsetPx;return $p.default.createElement("div",{key:`${JSON.stringify(s)}-${f}`,className:r.highlight,style:{left:p,width:d}})}else return null})):null}),x2=rV;var nV=(0,S2.observer)(function({model:t}){return Uc.default.createElement(Uc.default.Fragment,null,Uc.default.createElement(x2,{model:t}),Uc.default.createElement(b2,{model:t}))}),E2=nV;function Ny(e){e.addToExtensionPoint("LinearGenomeView-TracksContainerComponent",(t=[],{model:r})=>[...t,A2.default.createElement(E2,{key:"highlight_protein_viewer_msaview",model:r})])}var aM=T(Dy());var O2=T(Eu());function By(e){let t=e.getAdapterType("BgzipFastaAdapter");return(0,O2.ConfigurationSchema)("BgzipFastaMsaAdapter",{msaRegex:{type:"string",defaultValue:"_"}},{baseConfiguration:t?.configSchema})}function n1(e){return e.addAdapterType(()=>new aM.AdapterType({name:"BgzipFastaMsaAdapter",configSchema:By(e),adapterMetadata:{hiddenFromGUI:!0},getAdapterClass:()=>Promise.resolve().then(()=>(oM(),iM)).then(t=>t.default)}))}var wv=T(vt());Pt();var sM=T(ae(),1),uM=(0,Oe.createSvgIcon)((0,sM.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var Mr=T(U()),B6=T(zt()),tu=T(pe());var qr=T(U()),Mh=T(zt()),Ch=T(vt()),Po=T(pe()),fk=T(Se()),dk=T(De());function fM({session:e,newViewTitle:t,view:r,feature:n,data:i}){e.addView("MsaView",{type:"MsaView",displayName:t,colWidth:10,rowHeight:12,data:i,connectedViewId:r.id,connectedFeature:n.toJSON()})}var sr=T(U(),1),PM=T(mM(),1);var wr=T(U(),1);var ca={};jr(ca,{ERROR_REVALIDATE_EVENT:()=>yV,FOCUS_EVENT:()=>gM,MUTATE_EVENT:()=>_M,RECONNECT_EVENT:()=>vM});var gM=0,vM=1,_M=2,yV=3;var bM=Object.prototype.hasOwnProperty;function eh(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&eh(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(bM.call(e,r)&&++n&&!bM.call(t,r)||!(r in t)||!eh(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var ai=new WeakMap,Mo=()=>{},Qt=Mo(),Cu=Object,je=e=>e===Qt,En=e=>typeof e=="function",si=(e,t)=>({...e,...t}),ah=e=>En(e.then),o1={},th={},d1="undefined",ku=typeof window!=d1,nh=typeof document!=d1,wM=ku&&"Deno"in window,xM=()=>ku&&typeof window.requestAnimationFrame!=d1,sh=(e,t)=>{let r=ai.get(e);return[()=>!je(t)&&e.get(t)||o1,n=>{if(!je(t)){let i=e.get(t);t in th||(th[t]=i),r[5](t,si(i,n),i||o1)}},r[6],()=>!je(t)&&t in th?th[t]:!je(t)&&e.get(t)||o1]},u1=!0,wV=()=>u1,[l1,c1]=ku&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Mo,Mo],xV=()=>{let e=nh&&document.visibilityState;return je(e)||e!=="hidden"},SV=e=>(nh&&document.addEventListener("visibilitychange",e),l1("focus",e),()=>{nh&&document.removeEventListener("visibilitychange",e),c1("focus",e)}),EV=e=>{let t=()=>{u1=!0,e()},r=()=>{u1=!1};return l1("online",t),l1("offline",r),()=>{c1("online",t),c1("offline",r)}},SM={isOnline:wV,isVisible:xV},EM={initFocus:SV,initReconnect:EV},uh=!wr.default.useId,bs=!ku||wM,p1=e=>xM()?window.requestAnimationFrame(e):setTimeout(e,1),Ru=bs?wr.useEffect:wr.useLayoutEffect,a1=typeof navigator<"u"&&navigator.connection,f1=!bs&&a1&&(["slow-2g","2g"].includes(a1.effectiveType)||a1.saveData),rh=new WeakMap,AV=e=>Cu.prototype.toString.call(e),s1=(e,t)=>e===`[object ${t}]`,TV=0,ih=e=>{let t=typeof e,r=AV(e),n=s1(r,"Date"),i=s1(r,"RegExp"),o=s1(r,"Object"),a,s;if(Cu(e)===e&&!n&&!i){if(a=rh.get(e),a)return a;if(a=++TV+"~",rh.set(e,a),Array.isArray(e)){for(a="@",s=0;s<e.length;s++)a+=ih(e[s])+",";rh.set(e,a)}if(o){a="#";let f=Cu.keys(e).sort();for(;!je(s=f.pop());)je(e[s])||(a+=s+":"+ih(e[s])+",");rh.set(e,a)}}else a=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return a},Vc=e=>{if(En(e))try{e=e()}catch{e=""}let t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?ih(e):"",[e,t]},OV=0,$c=()=>++OV;async function lh(...e){let[t,r,n,i]=e,o=si({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{}),a=o.populateCache,s=o.rollbackOnError,f=o.optimisticData,u=d=>typeof s=="function"?s(d):s!==!1,l=o.throwOnError;if(En(r)){let d=r,p=[],h=t.keys();for(let m of h)!/^\$(inf|sub)\$/.test(m)&&d(t.get(m)._k)&&p.push(m);return Promise.all(p.map(c))}return c(r);async function c(d){let[p]=Vc(d);if(!p)return;let[h,m]=sh(t,p),[v,g,_,w]=ai.get(t),y=()=>{let R=v[p];return(En(o.revalidate)?o.revalidate(h().data,d):o.revalidate!==!1)&&(delete _[p],delete w[p],R&&R[0])?R[0](2).then(()=>h().data):h().data};if(e.length<3)return y();let x=n,A,E=!1,O=$c();g[p]=[O,0];let M=!je(f),C=h(),k=C.data,q=C._c,N=je(q)?k:q;if(M&&(f=En(f)?f(N,k):f,m({data:f,_c:N})),En(x))try{x=x(N)}catch(R){A=R,E=!0}if(x&&ah(x))if(x=await x.catch(R=>{A=R,E=!0}),O!==g[p][0]){if(E)throw A;return x}else E&&M&&u(A)&&(a=!0,m({data:N,_c:Qt}));if(a&&!E)if(En(a)){let R=a(x,N);m({data:R,error:Qt,_c:Qt})}else m({data:x,error:Qt,_c:Qt});if(g[p][1]=$c(),Promise.resolve(y()).then(()=>{m({_c:Qt})}),E){if(l)throw A;return}return x}}var yM=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},h1=(e,t)=>{if(!ai.has(e)){let r=si(EM,t),n=Object.create(null),i=lh.bind(Qt,e),o=Mo,a=Object.create(null),s=(l,c)=>{let d=a[l]||[];return a[l]=d,d.push(c),()=>d.splice(d.indexOf(c),1)},f=(l,c,d)=>{e.set(l,c);let p=a[l];if(p)for(let h of p)h(c,d)},u=()=>{if(!ai.has(e)&&(ai.set(e,[n,Object.create(null),Object.create(null),Object.create(null),i,f,s]),!bs)){let l=r.initFocus(setTimeout.bind(Qt,yM.bind(Qt,n,0))),c=r.initReconnect(setTimeout.bind(Qt,yM.bind(Qt,n,1)));o=()=>{l&&l(),c&&c(),ai.delete(e)}}};return u(),[e,i,u,o]}return[e,ai.get(e)[4]]},MV=(e,t,r,n,i)=>{let o=r.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!je(o)&&a>o||setTimeout(n,s,i)},AM=eh,[ch,TM]=h1(new Map),fh=si({onLoadingSlow:Mo,onSuccess:Mo,onError:Mo,onErrorRetry:MV,onDiscarded:Mo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:f1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:f1?5e3:3e3,compare:AM,isPaused:()=>!1,cache:ch,mutate:TM,fallback:{}},SM),m1=(e,t)=>{let r=si(e,t);if(t){let{use:n,fallback:i}=e,{use:o,fallback:a}=t;n&&o&&(r.use=n.concat(o)),i&&a&&(r.fallback=si(i,a))}return r},oh=(0,wr.createContext)({}),g1=e=>{let{value:t}=e,r=(0,wr.useContext)(oh),n=En(t),i=(0,wr.useMemo)(()=>n?t(r):t,[n,r,t]),o=(0,wr.useMemo)(()=>n?i:m1(r,i),[n,r,i]),a=i&&i.provider,s=(0,wr.useRef)(Qt);a&&!s.current&&(s.current=h1(a(o.cache||ch),i));let f=s.current;return f&&(o.cache=f[0],o.mutate=f[1]),Ru(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,wr.createElement)(oh.Provider,si(e,{value:o}))};var OM="$inf$";var Pu=T(U(),1);var MM=ku&&window.__SWR_DEVTOOLS_USE__,CV=MM?window.__SWR_DEVTOOLS_USE__:[],kV=()=>{MM&&(window.__SWR_DEVTOOLS_REACT__=Pu.default)},RV=e=>En(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],PV=()=>{let e=(0,Pu.useContext)(oh);return(0,Pu.useMemo)(()=>si(fh,e),[e])};var IV=e=>(t,r,n)=>e(t,r&&((...o)=>{let[a]=Vc(t),[,,,s]=ai.get(ch);if(a.startsWith(OM))return r(...o);let f=s[a];return je(f)?r(...o):(delete s[a],f)}),n),LV=CV.concat(IV),CM=e=>function(...r){let n=PV(),[i,o,a]=RV(r),s=m1(n,a),f=e,{use:u}=s,l=(u||[]).concat(LV);for(let c=l.length;c--;)f=l[c](f);return f(i,o||s.fetcher||null,s)},kM=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}};kV();var jV=()=>{},ARe=jV();var v1=sr.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),_1={dedupe:!0},RM=Promise.resolve(Qt),qV=(e,t,r)=>{let{cache:n,compare:i,suspense:o,fallbackData:a,revalidateOnMount:s,revalidateIfStale:f,refreshInterval:u,refreshWhenHidden:l,refreshWhenOffline:c,keepPreviousData:d}=r,[p,h,m,v]=ai.get(n),[g,_]=Vc(e),w=(0,sr.useRef)(!1),y=(0,sr.useRef)(!1),x=(0,sr.useRef)(g),A=(0,sr.useRef)(t),E=(0,sr.useRef)(r),O=()=>E.current,M=()=>O().isVisible()&&O().isOnline(),[C,k,q,N]=sh(n,g),R=(0,sr.useRef)({}).current,F=je(a)?je(r.fallback)?Qt:r.fallback[g]:a,G=(Z,Y)=>{for(let ne in R){let re=ne;if(re==="data"){if(!i(Z[re],Y[re])&&(!je(Z[re])||!i(B,Y[re])))return!1}else if(Y[re]!==Z[re])return!1}return!0},z=(0,sr.useMemo)(()=>{let Z=!g||!t?!1:je(s)?O().isPaused()||o?!1:f!==!1:s,Y=ue=>{let ve=si(ue);return delete ve._k,Z?{isValidating:!0,isLoading:!0,...ve}:ve},ne=C(),re=N(),ie=Y(ne),X=ne===re?ie:Y(re),te=ie;return[()=>{let ue=Y(C());return G(ue,te)?(te.data=ue.data,te.isLoading=ue.isLoading,te.isValidating=ue.isValidating,te.error=ue.error,te):(te=ue,ue)},()=>X]},[n,g]),j=(0,PM.useSyncExternalStore)((0,sr.useCallback)(Z=>q(g,(Y,ne)=>{G(ne,Y)||Z()}),[n,g]),z[0],z[1]),H=!w.current,Q=p[g]&&p[g].length>0,_e=j.data,le=je(_e)?F&&ah(F)?v1(F):F:_e,W=j.error,ke=(0,sr.useRef)(le),B=d?je(_e)?je(ke.current)?le:ke.current:_e:le,se=Q&&!je(W)?!1:H&&!je(s)?s:O().isPaused()?!1:o?je(le)?!1:f:je(le)||f,xe=!!(g&&t&&H&&se),ye=je(j.isValidating)?xe:j.isValidating,oe=je(j.isLoading)?xe:j.isLoading,ce=(0,sr.useCallback)(async Z=>{let Y=A.current;if(!g||!Y||y.current||O().isPaused())return!1;let ne,re,ie=!0,X=Z||{},te=!m[g]||!X.dedupe,ue=()=>uh?!y.current&&g===x.current&&w.current:g===x.current,ve={isValidating:!1,isLoading:!1},$=()=>{k(ve)},J=()=>{let de=m[g];de&&de[1]===re&&delete m[g]},K={isValidating:!0};je(C().data)&&(K.isLoading=!0);try{if(te&&(k(K),r.loadingTimeout&&je(C().data)&&setTimeout(()=>{ie&&ue()&&O().onLoadingSlow(g,r)},r.loadingTimeout),m[g]=[Y(_),$c()]),[ne,re]=m[g],ne=await ne,te&&setTimeout(J,r.dedupingInterval),!m[g]||m[g][1]!==re)return te&&ue()&&O().onDiscarded(g),!1;ve.error=Qt;let de=h[g];if(!je(de)&&(re<=de[0]||re<=de[1]||de[1]===0))return $(),te&&ue()&&O().onDiscarded(g),!1;let be=C().data;ve.data=i(be,ne)?be:ne,te&&ue()&&O().onSuccess(ne,g,r)}catch(de){J();let be=O(),{shouldRetryOnError:Me}=be;be.isPaused()||(ve.error=de,te&&ue()&&(be.onError(de,g,be),(Me===!0||En(Me)&&Me(de))&&(!O().revalidateOnFocus||!O().revalidateOnReconnect||M())&&be.onErrorRetry(de,g,be,Ye=>{let Kt=p[g];Kt&&Kt[0]&&Kt[0](ca.ERROR_REVALIDATE_EVENT,Ye)},{retryCount:(X.retryCount||0)+1,dedupe:!0})))}return ie=!1,$(),!0},[g,n]),Ee=(0,sr.useCallback)((...Z)=>lh(n,x.current,...Z),[]);if(Ru(()=>{A.current=t,E.current=r,je(_e)||(ke.current=_e)}),Ru(()=>{if(!g)return;let Z=ce.bind(Qt,_1),Y=0;O().revalidateOnFocus&&(Y=Date.now()+O().focusThrottleInterval);let re=kM(g,p,(ie,X={})=>{if(ie==ca.FOCUS_EVENT){let te=Date.now();O().revalidateOnFocus&&te>Y&&M()&&(Y=te+O().focusThrottleInterval,Z())}else if(ie==ca.RECONNECT_EVENT)O().revalidateOnReconnect&&M()&&Z();else{if(ie==ca.MUTATE_EVENT)return ce();if(ie==ca.ERROR_REVALIDATE_EVENT)return ce(X)}});return y.current=!1,x.current=g,w.current=!0,k({_k:_}),se&&(m[g]||(je(le)||bs?Z():p1(Z))),()=>{y.current=!0,re()}},[g]),Ru(()=>{let Z;function Y(){let re=En(u)?u(C().data):u;re&&Z!==-1&&(Z=setTimeout(ne,re))}function ne(){!C().error&&(l||O().isVisible())&&(c||O().isOnline())?ce(_1).then(Y):Y()}return Y(),()=>{Z&&(clearTimeout(Z),Z=-1)}},[u,l,c,g]),(0,sr.useDebugValue)(B),o){let Z=g&&je(le);if(!uh&&bs&&Z)throw new Error("Fallback data is required when using Suspense in SSR.");Z&&(A.current=t,E.current=r,y.current=!1);let Y=v[g],ne=!je(Y)&&Z?Ee(Y):RM;if(v1(ne),!je(W)&&Z)throw W;let re=Z?ce(_1):RM;!je(B)&&Z&&(re.status="fulfilled",re.value=!0),v1(re)}return{mutate:Ee,get data(){return R.data=!0,B},get error(){return R.error=!0,W},get isValidating(){return R.isValidating=!0,ye},get isLoading(){return R.isLoading=!0,oe}}},TRe=Cu.defineProperty(g1,"defaultValue",{value:fh}),ys=CM(qV);function b1(e,t=[]){if(e.children)for(let r of e.children){if(r.sequence){let n=r.sequence.id[0]?.accession;n&&t.push({id:n,seq:r.sequence.mol_seq.seq,species:r.taxonomy.common_name||r.taxonomy.scientific_name,genomicLocString:r.sequence.mol_seq.location})}b1(r,t)}return t}function Nu(e){let t=e.length;for(;--t>=0;)e[t]=0}var FV=0,vC=1,NV=2,DV=3,BV=258,H1=29,uf=256,Qc=uf+1+H1,ju=30,W1=19,_C=2*Qc+1,ws=15,y1=16,zV=7,$1=256,bC=16,yC=17,wC=18,L1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vh=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),UV=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HV=512,ko=new Array((Qc+2)*2);Nu(ko);var Kc=new Array(ju*2);Nu(Kc);var ef=new Array(HV);Nu(ef);var tf=new Array(BV-DV+1);Nu(tf);var V1=new Array(H1);Nu(V1);var _h=new Array(ju);Nu(_h);function w1(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var SC,EC,AC;function x1(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var TC=e=>e<256?ef[e]:ef[256+(e>>>7)],rf=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},sn=(e,t,r)=>{e.bi_valid>y1-r?(e.bi_buf|=t<<e.bi_valid&65535,rf(e,e.bi_buf),e.bi_buf=t>>y1-e.bi_valid,e.bi_valid+=r-y1):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},zi=(e,t,r)=>{sn(e,r[t*2],r[t*2+1])},OC=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},WV=e=>{e.bi_valid===16?(rf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},$V=(e,t)=>{let r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,f=t.stat_desc.max_length,u,l,c,d,p,h,m=0;for(d=0;d<=ws;d++)e.bl_count[d]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<_C;u++)l=e.heap[u],d=r[r[l*2+1]*2+1]+1,d>f&&(d=f,m++),r[l*2+1]=d,!(l>n)&&(e.bl_count[d]++,p=0,l>=s&&(p=a[l-s]),h=r[l*2],e.opt_len+=h*(d+p),o&&(e.static_len+=h*(i[l*2+1]+p)));if(m!==0){do{for(d=f-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(d=f;d!==0;d--)for(l=e.bl_count[d];l!==0;)c=e.heap[--u],!(c>n)&&(r[c*2+1]!==d&&(e.opt_len+=(d-r[c*2+1])*r[c*2],r[c*2+1]=d),l--)}},MC=(e,t,r)=>{let n=new Array(ws+1),i=0,o,a;for(o=1;o<=ws;o++)i=i+r[o-1]<<1,n[o]=i;for(a=0;a<=t;a++){let s=e[a*2+1];s!==0&&(e[a*2]=OC(n[s]++,s))}},VV=()=>{let e,t,r,n,i,o=new Array(ws+1);for(r=0,n=0;n<H1-1;n++)for(V1[n]=r,e=0;e<1<<L1[n];e++)tf[r++]=n;for(tf[r-1]=n,i=0,n=0;n<16;n++)for(_h[n]=i,e=0;e<1<<vh[n];e++)ef[i++]=n;for(i>>=7;n<ju;n++)for(_h[n]=i<<7,e=0;e<1<<vh[n]-7;e++)ef[256+i++]=n;for(t=0;t<=ws;t++)o[t]=0;for(e=0;e<=143;)ko[e*2+1]=8,e++,o[8]++;for(;e<=255;)ko[e*2+1]=9,e++,o[9]++;for(;e<=279;)ko[e*2+1]=7,e++,o[7]++;for(;e<=287;)ko[e*2+1]=8,e++,o[8]++;for(MC(ko,Qc+1,o),e=0;e<ju;e++)Kc[e*2+1]=5,Kc[e*2]=OC(e,5);SC=new w1(ko,L1,uf+1,Qc,ws),EC=new w1(Kc,vh,0,ju,ws),AC=new w1(new Array(0),UV,0,W1,zV)},CC=e=>{let t;for(t=0;t<Qc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ju;t++)e.dyn_dtree[t*2]=0;for(t=0;t<W1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[$1*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},kC=e=>{e.bi_valid>8?rf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},IM=(e,t,r,n)=>{let i=t*2,o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},S1=(e,t,r)=>{let n=e.heap[r],i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&IM(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!IM(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},LM=(e,t,r)=>{let n,i,o=0,a,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+o++]&255,n+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],n===0?zi(e,i,t):(a=tf[i],zi(e,a+uf+1,t),s=L1[a],s!==0&&(i-=V1[a],sn(e,i,s)),n--,a=TC(n),zi(e,a,r),s=vh[a],s!==0&&(n-=_h[a],sn(e,n,s)));while(o<e.sym_next);zi(e,$1,t)},j1=(e,t)=>{let r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,f=-1,u;for(e.heap_len=0,e.heap_max=_C,a=0;a<o;a++)r[a*2]!==0?(e.heap[++e.heap_len]=f=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=f<2?++f:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=f,a=e.heap_len>>1;a>=1;a--)S1(e,r,a);u=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],S1(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,r[u*2]=r[a*2]+r[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,r[a*2+1]=r[s*2+1]=u,e.heap[1]=u++,S1(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],$V(e,t),MC(r,f,e.bl_count)},jM=(e,t,r)=>{let n,i=-1,o,a=t[1],s=0,f=7,u=4;for(a===0&&(f=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=a,a=t[(n+1)*2+1],!(++s<f&&o===a)&&(s<u?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[bC*2]++):s<=10?e.bl_tree[yC*2]++:e.bl_tree[wC*2]++,s=0,i=o,a===0?(f=138,u=3):o===a?(f=6,u=3):(f=7,u=4))},qM=(e,t,r)=>{let n,i=-1,o,a=t[1],s=0,f=7,u=4;for(a===0&&(f=138,u=3),n=0;n<=r;n++)if(o=a,a=t[(n+1)*2+1],!(++s<f&&o===a)){if(s<u)do zi(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(zi(e,o,e.bl_tree),s--),zi(e,bC,e.bl_tree),sn(e,s-3,2)):s<=10?(zi(e,yC,e.bl_tree),sn(e,s-3,3)):(zi(e,wC,e.bl_tree),sn(e,s-11,7));s=0,i=o,a===0?(f=138,u=3):o===a?(f=6,u=3):(f=7,u=4)}},GV=e=>{let t;for(jM(e,e.dyn_ltree,e.l_desc.max_code),jM(e,e.dyn_dtree,e.d_desc.max_code),j1(e,e.bl_desc),t=W1-1;t>=3&&e.bl_tree[xC[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},YV=(e,t,r,n)=>{let i;for(sn(e,t-257,5),sn(e,r-1,5),sn(e,n-4,4),i=0;i<n;i++)sn(e,e.bl_tree[xC[i]*2+1],3);qM(e,e.dyn_ltree,t-1),qM(e,e.dyn_dtree,r-1)},ZV=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(r=32;r<uf;r++)if(e.dyn_ltree[r*2]!==0)return 1;return 0},FM=!1,KV=e=>{FM||(VV(),FM=!0),e.l_desc=new x1(e.dyn_ltree,SC),e.d_desc=new x1(e.dyn_dtree,EC),e.bl_desc=new x1(e.bl_tree,AC),e.bi_buf=0,e.bi_valid=0,CC(e)},RC=(e,t,r,n)=>{sn(e,(FV<<1)+(n?1:0),3),kC(e),rf(e,r),rf(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},XV=e=>{sn(e,vC<<1,3),zi(e,$1,ko),WV(e)},JV=(e,t,r,n)=>{let i,o,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=ZV(e)),j1(e,e.l_desc),j1(e,e.d_desc),a=GV(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&t!==-1?RC(e,t,r,n):e.strategy===4||o===i?(sn(e,(vC<<1)+(n?1:0),3),LM(e,ko,Kc)):(sn(e,(NV<<1)+(n?1:0),3),YV(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),LM(e,e.dyn_ltree,e.dyn_dtree)),CC(e),n&&kC(e)},QV=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(tf[r]+uf+1)*2]++,e.dyn_dtree[TC(t)*2]++),e.sym_next===e.sym_end),eG=KV,tG=RC,rG=JV,nG=QV,iG=XV,oG={_tr_init:eG,_tr_stored_block:tG,_tr_flush_block:rG,_tr_tally:nG,_tr_align:iG},aG=(e,t,r,n)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},nf=aG,sG=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},uG=new Uint32Array(sG()),lG=(e,t,r,n)=>{let i=uG,o=n+r;e^=-1;for(let a=n;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1},ur=lG,Es={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Du={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:cG,_tr_stored_block:q1,_tr_flush_block:fG,_tr_tally:pa,_tr_align:dG}=oG,{Z_NO_FLUSH:ha,Z_PARTIAL_FLUSH:pG,Z_FULL_FLUSH:hG,Z_FINISH:Nn,Z_BLOCK:NM,Z_OK:xr,Z_STREAM_END:DM,Z_STREAM_ERROR:Ui,Z_DATA_ERROR:mG,Z_BUF_ERROR:E1,Z_DEFAULT_COMPRESSION:gG,Z_FILTERED:vG,Z_HUFFMAN_ONLY:dh,Z_RLE:_G,Z_FIXED:bG,Z_DEFAULT_STRATEGY:yG,Z_UNKNOWN:wG,Z_DEFLATED:wh}=Du,xG=9,SG=15,EG=8,AG=29,TG=256,F1=TG+1+AG,OG=30,MG=19,CG=2*F1+1,kG=15,qe=3,da=258,Hi=da+qe+1,RG=32,qu=42,G1=57,N1=69,D1=73,B1=91,z1=103,xs=113,Yc=666,Hr=1,Bu=2,As=3,zu=4,PG=3,Ss=(e,t)=>(e.msg=Es[t],t),BM=e=>e*2-(e>4?9:0),fa=e=>{let t=e.length;for(;--t>=0;)e[t]=0},IG=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},LG=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,ma=LG,An=e=>{let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Tn=(e,t)=>{fG(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,An(e.strm)},$e=(e,t)=>{e.pending_buf[e.pending++]=t},Gc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},U1=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=nf(e.adler,t,i,r):e.state.wrap===2&&(e.adler=ur(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},PC=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,o,a=e.prev_length,s=e.nice_match,f=e.strstart>e.w_size-Hi?e.strstart-(e.w_size-Hi):0,u=e.window,l=e.w_mask,c=e.prev,d=e.strstart+da,p=u[n+a-1],h=u[n+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(u[i+a]!==h||u[i+a-1]!==p||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<d);if(o=da-(d-n),n=d-da,o>a){if(e.match_start=t,a=o,o>=s)break;p=u[n+a-1],h=u[n+a]}}while((t=c[t&l])>f&&--r!==0);return a<=e.lookahead?a:e.lookahead},Fu=e=>{let t=e.w_size,r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Hi)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),IG(e),n+=t),e.strm.avail_in===0)break;if(r=U1(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=qe)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ma(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ma(e,e.ins_h,e.window[i+qe-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<qe)););}while(e.lookahead<Hi&&e.strm.avail_in!==0)},IC=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,o,a=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>o&&(n=o),n<r&&(n===0&&t!==Nn||t===ha||n!==i+e.strm.avail_in)))break;a=t===Nn&&n===i+e.strm.avail_in?1:0,q1(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,An(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(U1(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?zu:t!==ha&&t!==Nn&&e.strm.avail_in===0&&e.strstart===e.block_start?Bu:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(U1(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,r=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=r||(i||t===Nn)&&t!==ha&&e.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=t===Nn&&e.strm.avail_in===0&&n===i?1:0,q1(e,e.block_start,n,a),e.block_start+=n,An(e.strm)),a?As:Hr)},A1=(e,t)=>{let r,n;for(;;){if(e.lookahead<Hi){if(Fu(e),e.lookahead<Hi&&t===ha)return Hr;if(e.lookahead===0)break}if(r=0,e.lookahead>=qe&&(e.ins_h=ma(e,e.ins_h,e.window[e.strstart+qe-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Hi&&(e.match_length=PC(e,r)),e.match_length>=qe)if(n=pa(e,e.strstart-e.match_start,e.match_length-qe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=qe){e.match_length--;do e.strstart++,e.ins_h=ma(e,e.ins_h,e.window[e.strstart+qe-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ma(e,e.ins_h,e.window[e.strstart+1]);else n=pa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Tn(e,!1),e.strm.avail_out===0))return Hr}return e.insert=e.strstart<qe-1?e.strstart:qe-1,t===Nn?(Tn(e,!0),e.strm.avail_out===0?As:zu):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?Hr:Bu},Iu=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<Hi){if(Fu(e),e.lookahead<Hi&&t===ha)return Hr;if(e.lookahead===0)break}if(r=0,e.lookahead>=qe&&(e.ins_h=ma(e,e.ins_h,e.window[e.strstart+qe-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=qe-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Hi&&(e.match_length=PC(e,r),e.match_length<=5&&(e.strategy===vG||e.match_length===qe&&e.strstart-e.match_start>4096)&&(e.match_length=qe-1)),e.prev_length>=qe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-qe,n=pa(e,e.strstart-1-e.prev_match,e.prev_length-qe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ma(e,e.ins_h,e.window[e.strstart+qe-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=qe-1,e.strstart++,n&&(Tn(e,!1),e.strm.avail_out===0))return Hr}else if(e.match_available){if(n=pa(e,0,e.window[e.strstart-1]),n&&Tn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Hr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=pa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<qe-1?e.strstart:qe-1,t===Nn?(Tn(e,!0),e.strm.avail_out===0?As:zu):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?Hr:Bu},jG=(e,t)=>{let r,n,i,o,a=e.window;for(;;){if(e.lookahead<=da){if(Fu(e),e.lookahead<=da&&t===ha)return Hr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=qe&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+da;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=da-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=qe?(r=pa(e,1,e.match_length-qe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=pa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Tn(e,!1),e.strm.avail_out===0))return Hr}return e.insert=0,t===Nn?(Tn(e,!0),e.strm.avail_out===0?As:zu):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?Hr:Bu},qG=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Fu(e),e.lookahead===0)){if(t===ha)return Hr;break}if(e.match_length=0,r=pa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Tn(e,!1),e.strm.avail_out===0))return Hr}return e.insert=0,t===Nn?(Tn(e,!0),e.strm.avail_out===0?As:zu):e.sym_next&&(Tn(e,!1),e.strm.avail_out===0)?Hr:Bu};function Bi(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var Zc=[new Bi(0,0,0,0,IC),new Bi(4,4,8,4,A1),new Bi(4,5,16,8,A1),new Bi(4,6,32,32,A1),new Bi(4,4,16,16,Iu),new Bi(8,16,32,32,Iu),new Bi(8,16,128,128,Iu),new Bi(8,32,128,256,Iu),new Bi(32,128,258,1024,Iu),new Bi(32,258,258,4096,Iu)],FG=e=>{e.window_size=2*e.w_size,fa(e.head),e.max_lazy_match=Zc[e.level].max_lazy,e.good_match=Zc[e.level].good_length,e.nice_match=Zc[e.level].nice_length,e.max_chain_length=Zc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=qe-1,e.match_available=0,e.ins_h=0};function NG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(CG*2),this.dyn_dtree=new Uint16Array((2*OG+1)*2),this.bl_tree=new Uint16Array((2*MG+1)*2),fa(this.dyn_ltree),fa(this.dyn_dtree),fa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(kG+1),this.heap=new Uint16Array(2*F1+1),fa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*F1+1),fa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var lf=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==qu&&t.status!==G1&&t.status!==N1&&t.status!==D1&&t.status!==B1&&t.status!==z1&&t.status!==xs&&t.status!==Yc?1:0},LC=e=>{if(lf(e))return Ss(e,Ui);e.total_in=e.total_out=0,e.data_type=wG;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?G1:t.wrap?qu:xs,e.adler=t.wrap===2?0:1,t.last_flush=-2,cG(t),xr},jC=e=>{let t=LC(e);return t===xr&&FG(e.state),t},DG=(e,t)=>lf(e)||e.state.wrap!==2?Ui:(e.state.gzhead=t,xr),qC=(e,t,r,n,i,o)=>{if(!e)return Ui;let a=1;if(t===gG&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>xG||r!==wh||n<8||n>15||t<0||t>9||o<0||o>bG||n===8&&a!==1)return Ss(e,Ui);n===8&&(n=9);let s=new NG;return e.state=s,s.strm=e,s.status=qu,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+qe-1)/qe),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=r,jC(e)},BG=(e,t)=>qC(e,t,wh,SG,EG,yG),zG=(e,t)=>{if(lf(e)||t>NM||t<0)return e?Ss(e,Ui):Ui;let r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Yc&&t!==Nn)return Ss(e,e.avail_out===0?E1:Ui);let n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(An(e),e.avail_out===0)return r.last_flush=-1,xr}else if(e.avail_in===0&&BM(t)<=BM(n)&&t!==Nn)return Ss(e,E1);if(r.status===Yc&&e.avail_in!==0)return Ss(e,E1);if(r.status===qu&&r.wrap===0&&(r.status=xs),r.status===qu){let i=wh+(r.w_bits-8<<4)<<8,o=-1;if(r.strategy>=dh||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,i|=o<<6,r.strstart!==0&&(i|=RG),i+=31-i%31,Gc(r,i),r.strstart!==0&&(Gc(r,e.adler>>>16),Gc(r,e.adler&65535)),e.adler=1,r.status=xs,An(e),r.pending!==0)return r.last_flush=-1,xr}if(r.status===G1){if(e.adler=0,$e(r,31),$e(r,139),$e(r,8),r.gzhead)$e(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),$e(r,r.gzhead.time&255),$e(r,r.gzhead.time>>8&255),$e(r,r.gzhead.time>>16&255),$e(r,r.gzhead.time>>24&255),$e(r,r.level===9?2:r.strategy>=dh||r.level<2?4:0),$e(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&($e(r,r.gzhead.extra.length&255),$e(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ur(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=N1;else if($e(r,0),$e(r,0),$e(r,0),$e(r,0),$e(r,0),$e(r,r.level===9?2:r.strategy>=dh||r.level<2?4:0),$e(r,PG),r.status=xs,An(e),r.pending!==0)return r.last_flush=-1,xr}if(r.status===N1){if(r.gzhead.extra){let i=r.pending,o=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+o>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=s,An(e),r.pending!==0)return r.last_flush=-1,xr;i=0,o-=s}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending+=o,r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=D1}if(r.status===D1){if(r.gzhead.name){let i=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i)),An(e),r.pending!==0)return r.last_flush=-1,xr;i=0}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,$e(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=B1}if(r.status===B1){if(r.gzhead.comment){let i=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i)),An(e),r.pending!==0)return r.last_flush=-1,xr;i=0}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,$e(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ur(e.adler,r.pending_buf,r.pending-i,i))}r.status=z1}if(r.status===z1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(An(e),r.pending!==0))return r.last_flush=-1,xr;$e(r,e.adler&255),$e(r,e.adler>>8&255),e.adler=0}if(r.status=xs,An(e),r.pending!==0)return r.last_flush=-1,xr}if(e.avail_in!==0||r.lookahead!==0||t!==ha&&r.status!==Yc){let i=r.level===0?IC(r,t):r.strategy===dh?qG(r,t):r.strategy===_G?jG(r,t):Zc[r.level].func(r,t);if((i===As||i===zu)&&(r.status=Yc),i===Hr||i===As)return e.avail_out===0&&(r.last_flush=-1),xr;if(i===Bu&&(t===pG?dG(r):t!==NM&&(q1(r,0,0,!1),t===hG&&(fa(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),An(e),e.avail_out===0))return r.last_flush=-1,xr}return t!==Nn?xr:r.wrap<=0?DM:(r.wrap===2?($e(r,e.adler&255),$e(r,e.adler>>8&255),$e(r,e.adler>>16&255),$e(r,e.adler>>24&255),$e(r,e.total_in&255),$e(r,e.total_in>>8&255),$e(r,e.total_in>>16&255),$e(r,e.total_in>>24&255)):(Gc(r,e.adler>>>16),Gc(r,e.adler&65535)),An(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?xr:DM)},UG=e=>{if(lf(e))return Ui;let t=e.state.status;return e.state=null,t===xs?Ss(e,mG):xr},HG=(e,t)=>{let r=t.length;if(lf(e))return Ui;let n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==qu||n.lookahead)return Ui;if(i===1&&(e.adler=nf(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(fa(n.head),n.strstart=0,n.block_start=0,n.insert=0);let f=new Uint8Array(n.w_size);f.set(t.subarray(r-n.w_size,r),0),t=f,r=n.w_size}let o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Fu(n);n.lookahead>=qe;){let f=n.strstart,u=n.lookahead-(qe-1);do n.ins_h=ma(n,n.ins_h,n.window[f+qe-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++;while(--u);n.strstart=f,n.lookahead=qe-1,Fu(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=qe-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,n.wrap=i,xr},WG=BG,$G=qC,VG=jC,GG=LC,YG=DG,ZG=zG,KG=UG,XG=HG,JG="pako deflate (from Nodeca project)",Xc={deflateInit:WG,deflateInit2:$G,deflateReset:VG,deflateResetKeep:GG,deflateSetHeader:YG,deflate:ZG,deflateEnd:KG,deflateSetDictionary:XG,deflateInfo:JG},QG=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),eY=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(let n in r)QG(r,n)&&(e[n]=r[n])}}return e},tY=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;let r=new Uint8Array(t);for(let n=0,i=0,o=e.length;n<o;n++){let a=e[n];r.set(a,i),i+=a.length}return r},xh={assign:eY,flattenChunks:tY},FC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FC=!1}var of=new Uint8Array(256);for(let e=0;e<256;e++)of[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;of[254]=of[254]=1;var rY=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t},nY=(e,t)=>{if(t<65534&&e.subarray&&FC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r},iY=(e,t)=>{let r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i,o=new Array(r*2);for(i=0,n=0;n<r;){let a=e[n++];if(a<128){o[i++]=a;continue}let s=of[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<r;)a=a<<6|e[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return nY(o,i)},oY=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+of[e[r]]>t?r:t},af={string2buf:rY,buf2string:iY,utf8border:oY};function aY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NC=aY,DC=Object.prototype.toString,{Z_NO_FLUSH:sY,Z_SYNC_FLUSH:uY,Z_FULL_FLUSH:lY,Z_FINISH:cY,Z_OK:bh,Z_STREAM_END:fY,Z_DEFAULT_COMPRESSION:dY,Z_DEFAULT_STRATEGY:pY,Z_DEFLATED:hY}=Du;function cf(e){this.options=xh.assign({level:dY,method:hY,chunkSize:16384,windowBits:15,memLevel:8,strategy:pY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NC,this.strm.avail_out=0;let r=Xc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==bh)throw new Error(Es[r]);if(t.header&&Xc.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=af.string2buf(t.dictionary):DC.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Xc.deflateSetDictionary(this.strm,n),r!==bh)throw new Error(Es[r]);this._dict_set=!0}}cf.prototype.push=function(e,t){let r=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?cY:sY,typeof e=="string"?r.input=af.string2buf(e):DC.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===uY||o===lY)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Xc.deflate(r,o),i===fY)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Xc.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===bh;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};cf.prototype.onData=function(e){this.chunks.push(e)};cf.prototype.onEnd=function(e){e===bh&&(this.result=xh.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Y1(e,t){let r=new cf(t);if(r.push(e,!0),r.err)throw r.msg||Es[r.err];return r.result}function mY(e,t){return t=t||{},t.raw=!0,Y1(e,t)}function gY(e,t){return t=t||{},t.gzip=!0,Y1(e,t)}var vY=cf,_Y=Y1,bY=mY,yY=gY,wY=Du,xY={Deflate:vY,deflate:_Y,deflateRaw:bY,gzip:yY,constants:wY},ph=16209,SY=16191,EY=function(t,r){let n,i,o,a,s,f,u,l,c,d,p,h,m,v,g,_,w,y,x,A,E,O,M,C,k=t.state;n=t.next_in,M=t.input,i=n+(t.avail_in-5),o=t.next_out,C=t.output,a=o-(r-t.avail_out),s=o+(t.avail_out-257),f=k.dmax,u=k.wsize,l=k.whave,c=k.wnext,d=k.window,p=k.hold,h=k.bits,m=k.lencode,v=k.distcode,g=(1<<k.lenbits)-1,_=(1<<k.distbits)-1;e:do{h<15&&(p+=M[n++]<<h,h+=8,p+=M[n++]<<h,h+=8),w=m[p&g];t:for(;;){if(y=w>>>24,p>>>=y,h-=y,y=w>>>16&255,y===0)C[o++]=w&65535;else if(y&16){x=w&65535,y&=15,y&&(h<y&&(p+=M[n++]<<h,h+=8),x+=p&(1<<y)-1,p>>>=y,h-=y),h<15&&(p+=M[n++]<<h,h+=8,p+=M[n++]<<h,h+=8),w=v[p&_];r:for(;;){if(y=w>>>24,p>>>=y,h-=y,y=w>>>16&255,y&16){if(A=w&65535,y&=15,h<y&&(p+=M[n++]<<h,h+=8,h<y&&(p+=M[n++]<<h,h+=8)),A+=p&(1<<y)-1,A>f){t.msg="invalid distance too far back",k.mode=ph;break e}if(p>>>=y,h-=y,y=o-a,A>y){if(y=A-y,y>l&&k.sane){t.msg="invalid distance too far back",k.mode=ph;break e}if(E=0,O=d,c===0){if(E+=u-y,y<x){x-=y;do C[o++]=d[E++];while(--y);E=o-A,O=C}}else if(c<y){if(E+=u+c-y,y-=c,y<x){x-=y;do C[o++]=d[E++];while(--y);if(E=0,c<x){y=c,x-=y;do C[o++]=d[E++];while(--y);E=o-A,O=C}}}else if(E+=c-y,y<x){x-=y;do C[o++]=d[E++];while(--y);E=o-A,O=C}for(;x>2;)C[o++]=O[E++],C[o++]=O[E++],C[o++]=O[E++],x-=3;x&&(C[o++]=O[E++],x>1&&(C[o++]=O[E++]))}else{E=o-A;do C[o++]=C[E++],C[o++]=C[E++],C[o++]=C[E++],x-=3;while(x>2);x&&(C[o++]=C[E++],x>1&&(C[o++]=C[E++]))}}else if((y&64)===0){w=v[(w&65535)+(p&(1<<y)-1)];continue r}else{t.msg="invalid distance code",k.mode=ph;break e}break}}else if((y&64)===0){w=m[(w&65535)+(p&(1<<y)-1)];continue t}else if(y&32){k.mode=SY;break e}else{t.msg="invalid literal/length code",k.mode=ph;break e}break}}while(n<i&&o<s);x=h>>3,n-=x,h-=x<<3,p&=(1<<h)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<s?257+(s-o):257-(o-s),k.hold=p,k.bits=h},Lu=15,zM=852,UM=592,HM=0,T1=1,WM=2,AY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),CY=(e,t,r,n,i,o,a,s)=>{let f=s.bits,u=0,l=0,c=0,d=0,p=0,h=0,m=0,v=0,g=0,_=0,w,y,x,A,E,O=null,M,C=new Uint16Array(Lu+1),k=new Uint16Array(Lu+1),q=null,N,R,F;for(u=0;u<=Lu;u++)C[u]=0;for(l=0;l<n;l++)C[t[r+l]]++;for(p=f,d=Lu;d>=1&&C[d]===0;d--);if(p>d&&(p=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(c=1;c<d&&C[c]===0;c++);for(p<c&&(p=c),v=1,u=1;u<=Lu;u++)if(v<<=1,v-=C[u],v<0)return-1;if(v>0&&(e===HM||d!==1))return-1;for(k[1]=0,u=1;u<Lu;u++)k[u+1]=k[u]+C[u];for(l=0;l<n;l++)t[r+l]!==0&&(a[k[t[r+l]]++]=l);if(e===HM?(O=q=a,M=20):e===T1?(O=AY,q=TY,M=257):(O=OY,q=MY,M=0),_=0,l=0,u=c,E=o,h=p,m=0,x=-1,g=1<<p,A=g-1,e===T1&&g>zM||e===WM&&g>UM)return 1;for(;;){N=u-m,a[l]+1<M?(R=0,F=a[l]):a[l]>=M?(R=q[a[l]-M],F=O[a[l]-M]):(R=96,F=0),w=1<<u-m,y=1<<h,c=y;do y-=w,i[E+(_>>m)+y]=N<<24|R<<16|F|0;while(y!==0);for(w=1<<u-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,l++,--C[u]===0){if(u===d)break;u=t[r+a[l]]}if(u>p&&(_&A)!==x){for(m===0&&(m=p),E+=c,h=u-m,v=1<<h;h+m<d&&(v-=C[h+m],!(v<=0));)h++,v<<=1;if(g+=1<<h,e===T1&&g>zM||e===WM&&g>UM)return 1;x=_&A,i[x]=p<<24|h<<16|E-o|0}}return _!==0&&(i[E+_]=u-m<<24|64<<16|0),s.bits=p,0},Jc=CY,kY=0,BC=1,zC=2,{Z_FINISH:$M,Z_BLOCK:RY,Z_TREES:hh,Z_OK:Ts,Z_STREAM_END:PY,Z_NEED_DICT:IY,Z_STREAM_ERROR:Dn,Z_DATA_ERROR:UC,Z_MEM_ERROR:HC,Z_BUF_ERROR:LY,Z_DEFLATED:VM}=Du,Sh=16180,GM=16181,YM=16182,ZM=16183,KM=16184,XM=16185,JM=16186,QM=16187,eC=16188,tC=16189,yh=16190,Co=16191,O1=16192,rC=16193,M1=16194,nC=16195,iC=16196,oC=16197,aC=16198,mh=16199,gh=16200,sC=16201,uC=16202,lC=16203,cC=16204,fC=16205,C1=16206,dC=16207,pC=16208,ct=16209,WC=16210,$C=16211,jY=852,qY=592,FY=15,NY=FY,hC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function DY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Os=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<Sh||t.mode>$C?1:0},VC=e=>{if(Os(e))return Dn;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Sh,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(jY),t.distcode=t.distdyn=new Int32Array(qY),t.sane=1,t.back=-1,Ts},GC=e=>{if(Os(e))return Dn;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,VC(e)},YC=(e,t)=>{let r;if(Os(e))return Dn;let n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Dn:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,GC(e))},ZC=(e,t)=>{if(!e)return Dn;let r=new DY;e.state=r,r.strm=e,r.window=null,r.mode=Sh;let n=YC(e,t);return n!==Ts&&(e.state=null),n},BY=e=>ZC(e,NY),mC=!0,k1,R1,zY=e=>{if(mC){k1=new Int32Array(512),R1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Jc(BC,e.lens,0,288,k1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Jc(zC,e.lens,0,32,R1,0,e.work,{bits:5}),mC=!1}e.lencode=k1,e.lenbits=9,e.distcode=R1,e.distbits=5},KC=(e,t,r,n)=>{let i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},UY=(e,t)=>{let r,n,i,o,a,s,f,u,l,c,d,p,h,m,v=0,g,_,w,y,x,A,E,O,M=new Uint8Array(4),C,k,q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Os(e)||!e.output||!e.input&&e.avail_in!==0)return Dn;r=e.state,r.mode===Co&&(r.mode=O1),a=e.next_out,i=e.output,f=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,c=s,d=f,O=Ts;e:for(;;)switch(r.mode){case Sh:if(r.wrap===0){r.mode=O1;break}for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,M[0]=u&255,M[1]=u>>>8&255,r.check=ur(r.check,M,2,0),u=0,l=0,r.mode=GM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ct;break}if((u&15)!==VM){e.msg="unknown compression method",r.mode=ct;break}if(u>>>=4,l-=4,E=(u&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){e.msg="invalid window size",r.mode=ct;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?tC:Co,u=0,l=0;break;case GM:for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==VM){e.msg="unknown compression method",r.mode=ct;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ct;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=ur(r.check,M,2,0)),u=0,l=0,r.mode=YM;case YM:for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,r.check=ur(r.check,M,4,0)),u=0,l=0,r.mode=ZM;case ZM:for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=ur(r.check,M,2,0)),u=0,l=0,r.mode=KM;case KM:if(r.flags&1024){for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=ur(r.check,M,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=XM;case XM:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+p),E)),r.flags&512&&r.wrap&4&&(r.check=ur(r.check,n,p,o)),s-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=JM;case JM:if(r.flags&2048){if(s===0)break e;p=0;do E=n[o+p++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&p<s);if(r.flags&512&&r.wrap&4&&(r.check=ur(r.check,n,p,o)),s-=p,o+=p,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=QM;case QM:if(r.flags&4096){if(s===0)break e;p=0;do E=n[o+p++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&p<s);if(r.flags&512&&r.wrap&4&&(r.check=ur(r.check,n,p,o)),s-=p,o+=p,E)break e}else r.head&&(r.head.comment=null);r.mode=eC;case eC:if(r.flags&512){for(;l<16;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ct;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Co;break;case tC:for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}e.adler=r.check=hC(u),u=0,l=0,r.mode=yh;case yh:if(r.havedict===0)return e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,IY;e.adler=r.check=1,r.mode=Co;case Co:if(t===RY||t===hh)break e;case O1:if(r.last){u>>>=l&7,l-=l&7,r.mode=C1;break}for(;l<3;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=rC;break;case 1:if(zY(r),r.mode=mh,t===hh){u>>>=2,l-=2;break e}break;case 2:r.mode=iC;break;case 3:e.msg="invalid block type",r.mode=ct}u>>>=2,l-=2;break;case rC:for(u>>>=l&7,l-=l&7;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ct;break}if(r.length=u&65535,u=0,l=0,r.mode=M1,t===hh)break e;case M1:r.mode=nC;case nC:if(p=r.length,p){if(p>s&&(p=s),p>f&&(p=f),p===0)break e;i.set(n.subarray(o,o+p),a),s-=p,o+=p,f-=p,a+=p,r.length-=p;break}r.mode=Co;break;case iC:for(;l<14;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ct;break}r.have=0,r.mode=oC;case oC:for(;r.have<r.ncode;){for(;l<3;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.lens[q[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},O=Jc(kY,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,O){e.msg="invalid code lengths set",r.mode=ct;break}r.have=0,r.mode=aC;case aC:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(w<16)u>>>=g,l-=g,r.lens[r.have++]=w;else{if(w===16){for(k=g+2;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(u>>>=g,l-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=ct;break}E=r.lens[r.have-1],p=3+(u&3),u>>>=2,l-=2}else if(w===17){for(k=g+3;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,p=3+(u&7),u>>>=3,l-=3}else{for(k=g+7;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=g,l-=g,E=0,p=11+(u&127),u>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ct;break}for(;p--;)r.lens[r.have++]=E}}if(r.mode===ct)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ct;break}if(r.lenbits=9,C={bits:r.lenbits},O=Jc(BC,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,O){e.msg="invalid literal/lengths set",r.mode=ct;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},O=Jc(zC,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,O){e.msg="invalid distances set",r.mode=ct;break}if(r.mode=mh,t===hh)break e;case mh:r.mode=gh;case gh:if(s>=6&&f>=258){e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,EY(e,d),a=e.next_out,i=e.output,f=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,u=r.hold,l=r.bits,r.mode===Co&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(_&&(_&240)===0){for(y=g,x=_,A=w;v=r.lencode[A+((u&(1<<y+x)-1)>>y)],g=v>>>24,_=v>>>16&255,w=v&65535,!(y+g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,r.back+=y}if(u>>>=g,l-=g,r.back+=g,r.length=w,_===0){r.mode=fC;break}if(_&32){r.back=-1,r.mode=Co;break}if(_&64){e.msg="invalid literal/length code",r.mode=ct;break}r.extra=_&15,r.mode=sC;case sC:if(r.extra){for(k=r.extra;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=uC;case uC:for(;v=r.distcode[u&(1<<r.distbits)-1],g=v>>>24,_=v>>>16&255,w=v&65535,!(g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if((_&240)===0){for(y=g,x=_,A=w;v=r.distcode[A+((u&(1<<y+x)-1)>>y)],g=v>>>24,_=v>>>16&255,w=v&65535,!(y+g<=l);){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,r.back+=y}if(u>>>=g,l-=g,r.back+=g,_&64){e.msg="invalid distance code",r.mode=ct;break}r.offset=w,r.extra=_&15,r.mode=lC;case lC:if(r.extra){for(k=r.extra;l<k;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ct;break}r.mode=cC;case cC:if(f===0)break e;if(p=d-f,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ct;break}p>r.wnext?(p-=r.wnext,h=r.wsize-p):h=r.wnext-p,p>r.length&&(p=r.length),m=r.window}else m=i,h=a-r.offset,p=r.length;p>f&&(p=f),f-=p,r.length-=p;do i[a++]=m[h++];while(--p);r.length===0&&(r.mode=gh);break;case fC:if(f===0)break e;i[a++]=r.length,f--,r.mode=gh;break;case C1:if(r.wrap){for(;l<32;){if(s===0)break e;s--,u|=n[o++]<<l,l+=8}if(d-=f,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?ur(r.check,i,d,a-d):nf(r.check,i,d,a-d)),d=f,r.wrap&4&&(r.flags?u:hC(u))!==r.check){e.msg="incorrect data check",r.mode=ct;break}u=0,l=0}r.mode=dC;case dC:if(r.wrap&&r.flags){for(;l<32;){if(s===0)break e;s--,u+=n[o++]<<l,l+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ct;break}u=0,l=0}r.mode=pC;case pC:O=PY;break e;case ct:O=UC;break e;case WC:return HC;case $C:default:return Dn}return e.next_out=a,e.avail_out=f,e.next_in=o,e.avail_in=s,r.hold=u,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<ct&&(r.mode<C1||t!==$M))&&KC(e,e.output,e.next_out,d-e.avail_out),c-=e.avail_in,d-=e.avail_out,e.total_in+=c,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?ur(r.check,i,d,e.next_out-d):nf(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Co?128:0)+(r.mode===mh||r.mode===M1?256:0),(c===0&&d===0||t===$M)&&O===Ts&&(O=LY),O},HY=e=>{if(Os(e))return Dn;let t=e.state;return t.window&&(t.window=null),e.state=null,Ts},WY=(e,t)=>{if(Os(e))return Dn;let r=e.state;return(r.wrap&2)===0?Dn:(r.head=t,t.done=!1,Ts)},$Y=(e,t)=>{let r=t.length,n,i,o;return Os(e)||(n=e.state,n.wrap!==0&&n.mode!==yh)?Dn:n.mode===yh&&(i=1,i=nf(i,t,r,0),i!==n.check)?UC:(o=KC(e,t,r,r),o?(n.mode=WC,HC):(n.havedict=1,Ts))},VY=GC,GY=YC,YY=VC,ZY=BY,KY=ZC,XY=UY,JY=HY,QY=WY,eZ=$Y,tZ="pako inflate (from Nodeca project)",Ro={inflateReset:VY,inflateReset2:GY,inflateResetKeep:YY,inflateInit:ZY,inflateInit2:KY,inflate:XY,inflateEnd:JY,inflateGetHeader:QY,inflateSetDictionary:eZ,inflateInfo:tZ};function rZ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nZ=rZ,XC=Object.prototype.toString,{Z_NO_FLUSH:iZ,Z_FINISH:oZ,Z_OK:sf,Z_STREAM_END:P1,Z_NEED_DICT:I1,Z_STREAM_ERROR:aZ,Z_DATA_ERROR:gC,Z_MEM_ERROR:sZ}=Du;function ff(e){this.options=xh.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NC,this.strm.avail_out=0;let r=Ro.inflateInit2(this.strm,t.windowBits);if(r!==sf)throw new Error(Es[r]);if(this.header=new nZ,Ro.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=af.string2buf(t.dictionary):XC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ro.inflateSetDictionary(this.strm,t.dictionary),r!==sf)))throw new Error(Es[r])}ff.prototype.push=function(e,t){let r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?oZ:iZ,XC.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Ro.inflate(r,a),o===I1&&i&&(o=Ro.inflateSetDictionary(r,i),o===sf?o=Ro.inflate(r,a):o===gC&&(o=I1));r.avail_in>0&&o===P1&&r.state.wrap>0&&e[r.next_in]!==0;)Ro.inflateReset(r),o=Ro.inflate(r,a);switch(o){case aZ:case gC:case I1:case sZ:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||o===P1))if(this.options.to==="string"){let f=af.utf8border(r.output,r.next_out),u=r.next_out-f,l=af.buf2string(r.output,f);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(f,f+u),0),this.onData(l)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===sf&&s===0)){if(o===P1)return o=Ro.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ff.prototype.onData=function(e){this.chunks.push(e)};ff.prototype.onEnd=function(e){e===sf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xh.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Z1(e,t){let r=new ff(t);if(r.push(e),r.err)throw r.msg||Es[r.err];return r.result}function uZ(e,t){return t=t||{},t.raw=!0,Z1(e,t)}var lZ=ff,cZ=Z1,fZ=uZ,dZ=Z1,pZ=Du,hZ={Inflate:lZ,inflate:cZ,inflateRaw:fZ,ungzip:dZ,constants:pZ},{Deflate:CRe,deflate:kRe,deflateRaw:RRe,gzip:PRe}=xY,{Inflate:IRe,inflate:LRe,inflateRaw:jRe,ungzip:qRe}=hZ;async function JC(e,t){let r=await fetch(e,t);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${e} ${await r.text()}`);return r}async function Ut(e,t){return(await JC(e,t)).text()}async function Uu(e,t){return(await JC(e,t)).json()}function Eh(e){return new Promise(t=>setTimeout(t,e))}async function df(e,t){let r=localStorage.getItem(e);if(r)try{return JSON.parse(r)}catch(i){console.error(`Error parsing cached data for ${e}:`,i),localStorage.removeItem(e)}let n=await t();return localStorage.setItem(e,JSON.stringify(n)),n}var QC="https://rest.ensembl.org";async function ek(e){let t=e.replace(/\..*/,""),{species:r}=await df(`${t}-ensembl`,()=>Uu(`${QC}/lookup/id/${t}?content-type=application/json`)),n=`${QC}/genetree/member/id/${r}/${t}`,i=await df(`${t}-msa`,()=>Uu(`${n}?content-type=application/json;aligned=1;sequence=pep`)),o=await df(`${t}-tree`,()=>Ut(`${n}?nh_format=simple;content-type=text/x-nh`)),a=b1(i.tree);return{geneTreeId:i.id,tree:o,msa:a.map(s=>`>${s.id}
${s.seq}`).join(`
`),treeMetadata:JSON.stringify(Object.fromEntries(a.map(s=>[s.id,{genome:s.species}])))}}function tk(e){let{data:t,error:r,isLoading:n}=ys(()=>e?["geneTree",e]:null,([,i])=>ek(i));return{treeData:t,isTreeLoading:n,treeError:r}}var rk=T(vt());function Wi(e){let t=e.get("subfeatures")??[];return t.some(r=>r.get("type")==="CDS")?[e]:t.filter(r=>r.get("subfeatures")?.some(n=>n.get("type")==="CDS"))}function Ah(e){let t=(0,rk.sum)(e.get("subfeatures")?.filter(r=>r.get("type")?.toLowerCase()==="cds").map(r=>r.get("end")-r.get("start"))??[]);return{len:Math.floor(t/3),mod:t%3}}function Tt(e){return e?.get("name")??e?.get("id")??""}function pf(e){return e===void 0?"":[e.get("name"),e.get("id")].filter(t=>!!t).join(" ")}function $i(e){return e===void 0?"":[e.get("gene_name")??e.get("name"),e.get("id")?`(${e.get("id")})`:""].filter(t=>!!t).join(" ")}var ui=T(U()),Th=T(pe()),ak=T(De());var ik=T(U()),ok=T(De());var K1=T(U()),nk=T(pe());function mZ({children:e,...t}){return K1.default.createElement("div",null,K1.default.createElement(nk.TextField,{...t},e))}var Wr=mZ;var gZ=(0,ok.makeStyles)()({textAreaFont:{fontFamily:"Courier New"}});function X1({value:e}){let{classes:t}=gZ();return ik.default.createElement(Wr,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,fullWidth:!0,value:e,slotProps:{input:{readOnly:!0,classes:{input:t.textAreaFont}}}})}var vZ=(0,ak.makeStyles)()({flex:{display:"flex"},minWidth:{minWidth:300}});function li({feature:e,options:t,selectedTranscriptId:r,onTranscriptChange:n,proteinSequence:i,validSet:o}){let{classes:a}=vZ(),[s,f]=(0,ui.useState)(!1),u=t.find(l=>Tt(l)===r);return ui.default.createElement(ui.default.Fragment,null,ui.default.createElement("div",{className:a.flex},ui.default.createElement(Wr,{variant:"outlined",label:`Choose isoform of ${$i(e)}`,select:!0,className:a.minWidth,value:r,onChange:l=>{n(l.target.value)}},t.toSorted((l,c)=>Ah(c).len-Ah(l).len).map(l=>{let c=o?o.has(Tt(l)):!0,{len:d,mod:p}=Ah(l);return ui.default.createElement(Th.MenuItem,{value:Tt(l),key:l.id(),disabled:!c},pf(l)," (",d," aa)"," ",p?" (possible fragment)":"",o?c?" (has data)":" (no data)":"")})),ui.default.createElement("div",{style:{alignContent:"center",marginLeft:20}},ui.default.createElement(Th.Button,{variant:"contained",color:"primary",onClick:()=>{f(!s)}},s?"Hide sequence":"Show sequence"))),s&&ui.default.createElement(X1,{value:i?`>${pf(u)}
${i}`:"Loading..."}))}var ga=T(vt());function _Z(e,t){return e.map(r=>t.slice(r.start,r.end)).join("")}function bZ({cds:e,sequence:t,codonTable:r}){let n=_Z(e,t),i="";for(let o=0;o<n.length;o+=3)i+=r[n.slice(o,o+3)]??"&";return i}function yZ(e,t){return e.map(r=>({...r,start:t-r.end,end:t-r.start})).toSorted((r,n)=>r.start-n.start)}function sk({feature:e,seq:t}){let{subfeatures:r,start:n,strand:i}=e.toJSON(),o=(0,ga.dedupe)(r?.toSorted((a,s)=>a.start-s.start).map(a=>({...a,start:a.start-n,end:a.end-n})).filter(a=>a.type==="CDS")??[],a=>`${a.start}-${a.end}`);return bZ({cds:i===-1?yZ(o,t.length):o,sequence:i===-1?(0,ga.revcom)(t):t,codonTable:(0,ga.generateCodonTable)(ga.defaultCodonTable)})}var lk=T(vt());var uk=T(Eu());async function Oh({start:e,end:t,refName:r,session:n,assemblyName:i}){let{assemblyManager:o,rpcManager:a}=n,s=await o.waitForAssembly(i);if(!s)throw new Error("assembly not found");let f="getSequence";return(await a.call(f,"CoreGetFeatures",{adapterConfig:(0,uk.getConf)(s,["sequence","adapter"]),sessionId:f,regions:[{start:e,end:t,refName:s.getCanonicalRefName(r),assemblyName:i}]}))[0]?.get("seq")??""}async function wZ({feature:e,assemblyName:t,upDownBp:r,view:n,forceLoad:i}){let o=(0,lk.getSession)(n),{start:a,end:s,refName:f}=e.toJSON(),u=a-r,l=s+r,[c,d,p]=await Promise.all([Oh({start:a,end:s,refName:f,assemblyName:t,session:o}),Oh({start:Math.max(0,u),end:a,refName:f,assemblyName:t,session:o}),Oh({start:s,end:l,refName:f,assemblyName:t,session:o})]);return{seq:c,upstream:d,downstream:p}}function ck({view:e,feature:t,upDownBp:r=0,forceLoad:n=!0}){let i=e?.assemblyNames?.[0],{data:o,error:a}=ys(t&&i&&e?[t.id(),i,r,n,"feature-sequence"]:null,()=>wZ({feature:t,assemblyName:i,upDownBp:r,view:e,forceLoad:n}));return{sequence:o,error:a}}function Vi({view:e,feature:t,upDownBp:r=0,forceLoad:n=!0}){let{sequence:i,error:o}=ck({view:e,feature:t,upDownBp:r,forceLoad:n});return{proteinSequence:i&&!("error"in i)&&t?sk({seq:i.seq,feature:t}):"",sequence:i,error:o}}var xZ=(0,dk.makeStyles)()({dialogContent:{width:"80em",display:"flex",flexDirection:"column",gap:16}}),SZ=(0,fk.observer)(function({model:e,feature:t,handleClose:r}){let n=(0,Ch.getSession)(e),i=(0,Ch.getContainingView)(e),{classes:o}=xZ(),[a,s]=(0,qr.useState)(),f=Wi(t),[u,l]=(0,qr.useState)(Tt(f[0])),{treeData:c,isTreeLoading:d,treeError:p}=tk(u),h=f.find(w=>Tt(w)===u),{proteinSequence:m,error:v}=Vi({view:i,feature:h}),g=d?"Loading tree data from Ensembl GeneTree":void 0,_=p??a??v;return qr.default.createElement(qr.default.Fragment,null,qr.default.createElement(Po.DialogContent,{className:o.dialogContent},_?qr.default.createElement(Mh.ErrorMessage,{error:_}):null,g?qr.default.createElement(Mh.LoadingEllipses,{message:g}):null,c?qr.default.createElement("div",null,qr.default.createElement("div",null,"Found Ensembl Compara GeneTree: ",c.geneTreeId),qr.default.createElement(Po.Link,{target:"_blank",href:`https://useast.ensembl.org/Multi/GeneTree/Image?gt=${c.geneTreeId}`},"See ",c.geneTreeId," at Ensembl")):null,qr.default.createElement(li,{feature:t,options:f,selectedTranscriptId:u,onTranscriptChange:l,proteinSequence:m})),qr.default.createElement(Po.DialogActions,null,qr.default.createElement(Po.Button,{color:"primary",variant:"contained",onClick:()=>{try{if(!c)return;s(void 0),fM({feature:t,view:i,session:n,newViewTitle:$i(t),data:c}),r()}catch(w){console.error(w),s(w)}}},"Submit"),qr.default.createElement(Po.Button,{color:"secondary",variant:"contained",onClick:()=>{r()}},"Cancel")))}),pk=SZ;var Ve=T(U()),hf=T(zt()),kh=T(vt()),Q1=T(J1()),Sr=T(pe()),gk=T(Se()),vk=T(De());function mk({session:e,newViewTitle:t,view:r,feature:n,msaFileLocation:i,treeFileLocation:o,data:a}){e.addView("MsaView",{type:"MsaView",displayName:t,connectedViewId:r.id,connectedFeature:n.toJSON(),msaFileLocation:i,treeFileLocation:o,data:a})}var EZ=(0,vk.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}),AZ=(0,gk.observer)(function({model:t,feature:r,handleClose:n}){let i=(0,kh.getSession)(t),o=(0,kh.getContainingView)(t),{classes:a}=EZ(),[s,f]=(0,Ve.useState)(),[u,l]=(0,Ve.useState)("file"),[c,d]=(0,Ve.useState)(""),[p,h]=(0,Ve.useState)(""),[m,v]=(0,Ve.useState)(),[g,_]=(0,Ve.useState)(),w=Wi(r),[y,x]=(0,Ve.useState)(Tt(w[0])),A=w.find(k=>y===Tt(k)),E=w.find(k=>Tt(k)===y),{proteinSequence:O,error:M}=Vi({view:o,feature:E}),C=s??M;return Ve.default.createElement(Ve.default.Fragment,null,Ve.default.createElement(Sr.DialogContent,{className:a.dialogContent},C?Ve.default.createElement(hf.ErrorMessage,{error:C}):null,Ve.default.createElement(Sr.FormControl,{component:"fieldset"},Ve.default.createElement(Sr.RadioGroup,{row:!0,value:u,onChange:k=>{l(k.target.value)}},Ve.default.createElement(Sr.FormControlLabel,{value:"file",control:Ve.default.createElement(Sr.Radio,null),label:"Open files"}),Ve.default.createElement(Sr.FormControlLabel,{value:"text",control:Ve.default.createElement(Sr.Radio,null),label:"Paste text"}))),Ve.default.createElement("div",{style:{marginBottom:30}},u==="file"?Ve.default.createElement("div",{style:{maxWidth:500}},Ve.default.createElement(hf.FileSelector,{name:"MSA File .aln (Clustal), .fa/.mfa (aligned FASTA), .stock (Stockholm), etc)",inline:!0,location:m,setLocation:v}),Ve.default.createElement(hf.FileSelector,{name:"Tree file .nh (Newick) or .asn (NCBI COBALT ASN.1)",inline:!0,location:g,setLocation:_})):Ve.default.createElement(Ve.default.Fragment,null,Ve.default.createElement(Wr,{variant:"outlined",name:"MSA",multiline:!0,minRows:5,style:{marginBottom:"20px"},maxRows:10,fullWidth:!0,placeholder:"Paste MSA here",value:c,onChange:k=>{d(k.target.value)}}),Ve.default.createElement(Wr,{variant:"outlined",name:"Tree",multiline:!0,minRows:5,maxRows:10,fullWidth:!0,placeholder:"Paste newick tree (optional)",value:p,onChange:k=>{h(k.target.value)}}))),Ve.default.createElement(li,{feature:r,options:w,selectedTranscriptId:y,onTranscriptChange:x,proteinSequence:O})),Ve.default.createElement(Sr.DialogActions,null,Ve.default.createElement(Sr.Button,{color:"primary",variant:"contained",disabled:!A||u==="file"&&!m||u==="text"&&!c.trim(),onClick:()=>{(async()=>{try{if(!A)return;f(void 0),mk({session:i,newViewTitle:$i(A),view:o,feature:A,data:u==="file"?{msa:m?await(0,Q1.openLocation)(m).readFile("utf8"):"",tree:g?await(0,Q1.openLocation)(g).readFile("utf8"):void 0}:{msa:c,tree:p}}),n()}catch(k){console.error(k),f(k)}})()}},"Submit"),Ve.default.createElement(Sr.Button,{color:"secondary",variant:"contained",onClick:()=>{n()}},"Cancel")))}),_k=AZ;var fi=T(U()),jk=T(vt());ew();var qk=T(pe());var nt=T(U()),xk=T(zt()),Sk=T(vt()),un=T(pe()),Ek=T(Se()),Ak=T(De());var yk=T(vt());function wk({newViewTitle:e,view:t,feature:r,blastParams:n}){return(0,yk.getSession)(t).addView("MsaView",{type:"MsaView",displayName:e,connectedViewId:t.id,connectedFeature:r.toJSON(),drawNodeBubbles:!0,colWidth:10,rowHeight:12,blastParams:n})}var TZ=(0,Ak.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}),OZ=["nr","nr_cluster_seq"],MZ=["clustalo","muscle","kalign","mafft"],CZ=["blastp","quick-blastp"],kZ=(0,Ek.observer)(function({handleClose:e,feature:t,model:r,children:n,baseUrl:i}){let{classes:o}=TZ(),a=(0,Sk.getContainingView)(r),[s,f]=(0,nt.useState)(),[u,l]=(0,nt.useState)("nr"),[c,d]=(0,nt.useState)("clustalo"),p=Wi(t),[h,m]=(0,nt.useState)(Tt(p[0])),[v,g]=(0,nt.useState)("quick-blastp"),_=p.find(E=>Tt(E)===h),{error:w,proteinSequence:y}=Vi({view:a,feature:_});(0,nt.useEffect)(()=>{u==="nr_cluster_seq"&&g("blastp")},[u]);let x=w??s,A={width:150};return nt.default.createElement(nt.default.Fragment,null,nt.default.createElement(un.DialogContent,{className:o.dialogContent},n,x?nt.default.createElement(xk.ErrorMessage,{error:x}):null,nt.default.createElement(Wr,{variant:"outlined",label:"BLAST database",style:A,select:!0,value:u,onChange:E=>{l(E.target.value)}},OZ.map(E=>nt.default.createElement(un.MenuItem,{value:E,key:E},E))),nt.default.createElement(Wr,{variant:"outlined",label:"MSA Algorithm",style:A,select:!0,value:c,onChange:E=>{d(E.target.value)}},MZ.map(E=>nt.default.createElement(un.MenuItem,{value:E,key:E},E))),nt.default.createElement("div",{style:{display:"flex"}},nt.default.createElement(Wr,{variant:"outlined",label:"BLAST program",disabled:u==="nr_cluster_seq",style:A,select:!0,value:v,onChange:E=>{g(E.target.value)}},CZ.map(E=>nt.default.createElement(un.MenuItem,{value:E,key:E},E))),u==="nr_cluster_seq"?nt.default.createElement(un.Typography,{variant:"subtitle2",style:{marginLeft:4,alignContent:"center"}},"Can only use blastp on nr_cluster_seq"):null),nt.default.createElement(li,{feature:t,options:p,selectedTranscriptId:h,onTranscriptChange:m,proteinSequence:y}),nt.default.createElement(un.Typography,{style:{marginTop:20}},"This panel will automatically submit a query to NCBI. Using blastp can take 10+ minutes to run, quick-blastp is generally a lot faster but is not available for the clustered database. After completion, all the hits will be run through a multiple sequence alignment. Note: we are not able to currently run NCBI COBALT automatically on the BLAST results, even though that is the method NCBI uses on their website. If you need a COBALT alignment, please use the manual approach of submitting BLAST yourself and downloading the resulting files")),nt.default.createElement(un.DialogActions,null,nt.default.createElement(un.Button,{color:"primary",variant:"contained",onClick:()=>{try{f(void 0),wk({feature:_,view:a,newViewTitle:`BLAST - ${$i(t)} - ${pf(_)}`,blastParams:{baseUrl:i,blastProgram:v,blastDatabase:u,msaAlgorithm:c,selectedTranscript:_,proteinSequence:y}})}catch(E){console.error(E),f(E)}e()},disabled:!y},"Submit"),nt.default.createElement(un.Button,{color:"secondary",variant:"contained",onClick:()=>{e()}},"Cancel")))}),Tk=kZ;var ln=T(U()),Rk=T(zt()),Ph=T(vt()),Io=T(pe()),Pk=T(Se()),Ik=T(De());rw();var RZ=(0,Ik.makeStyles)()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},ncbiLink:{wordBreak:"break-all",margin:30,maxWidth:600}}),PZ=(0,Pk.observer)(function({handleClose:e,feature:t,model:r,children:n,baseUrl:i}){let{classes:o}=RZ(),a=(0,Ph.getContainingView)(r),s=Wi(t),[f,u]=(0,ln.useState)(Tt(s[0])),l=s.find(v=>Tt(v)===f),{proteinSequence:c,error:d}=Vi({view:a,feature:l}),p=c.replaceAll("*","").replaceAll("&",""),h=`${i}?PAGE_TYPE=BlastSearch&PAGE=Proteins&PROGRAM=blastp&QUERY=${p}`,m=`${i}?PAGE_TYPE=BlastSearch&PAGE=Proteins&PROGRAM=blastp&QUERY=${(0,Ph.shorten2)(p,10)}`;return ln.default.createElement(ln.default.Fragment,null,ln.default.createElement(Io.DialogContent,{className:o.dialogContent},n,d?ln.default.createElement(Rk.ErrorMessage,{error:d}):null,ln.default.createElement(li,{feature:t,options:s,selectedTranscriptId:f,onTranscriptChange:u,proteinSequence:c}),c?ln.default.createElement("div",{className:o.ncbiLink},"Link to NCBI BLAST: ",ln.default.createElement(mf,{href:h},m)):null,ln.default.createElement(Io.Typography,{style:{marginTop:20}},`Click the link above and run your BLAST query, and once you have results, click "Multiple Alignment" at the top of the results page to be redirected to COBALT, NCBI's multiple sequence aligner. Once COBALT completes, you can download an MSA (.aln file) and optionally a Newick tree (.nh) and paste the results into JBrowse`)),ln.default.createElement(Io.DialogActions,null,ln.default.createElement(Io.Button,{color:"primary",variant:"contained",onClick:()=>{e()}},"Submit"),ln.default.createElement(Io.Button,{color:"secondary",variant:"contained",onClick:()=>{e()}},"Close")))}),Lk=PZ;var Ms=T(U()),Gi=T(pe());function nw({lookupMethod:e,setLookupMethod:t}){return Ms.default.createElement(Gi.FormControl,{component:"fieldset"},Ms.default.createElement(Gi.RadioGroup,{row:!0,value:e,onChange:r=>{t(r.target.value)}},Ms.default.createElement(Gi.FormControlLabel,{value:"automatic",control:Ms.default.createElement(Gi.Radio,null),label:"Run NCBI BLAST and load results automatically"}),Ms.default.createElement(Gi.FormControlLabel,{value:"manual",control:Ms.default.createElement(Gi.Radio,null),label:"Link to NCBI BLAST and import results manually"})))}var ci=T(U()),Bn=T(pe());var Ih="https://blast.ncbi.nlm.nih.gov/Blast.cgi";function iw({handleClose:e,baseUrl:t}){let[r,n]=(0,ci.useState)(t);return ci.default.createElement(Bn.Dialog,{open:!0,maxWidth:"lg",onClose:()=>{e()}},ci.default.createElement(Bn.DialogTitle,null,"BLAST Settings"),ci.default.createElement(Bn.DialogContent,null,ci.default.createElement(Wr,{autoFocus:!0,margin:"dense",label:"BLAST Base URL",fullWidth:!0,variant:"outlined",value:r,style:{minWidth:"300px"},onChange:i=>{n(i.target.value)}}),ci.default.createElement(Bn.Button,{variant:"contained",onClick:()=>{n(Ih)}},"Reset")),ci.default.createElement(Bn.DialogActions,null,ci.default.createElement(Bn.Button,{variant:"contained",color:"secondary",onClick:()=>{e()}},"Cancel"),ci.default.createElement(Bn.Button,{color:"primary",variant:"contained",onClick:()=>{e(r)}},"Save")))}function ow({handleClose:e,model:t,feature:r}){let[n,i]=(0,fi.useState)("automatic"),[o,a]=(0,jk.useLocalStorage)("msa-blastRootUrl",Ih),[s,f]=(0,fi.useState)(!1);return fi.default.createElement(fi.default.Fragment,null,fi.default.createElement(qk.IconButton,{style:{float:"right"},size:"small",onClick:()=>{f(!0)}},fi.default.createElement(Rh,null)),fi.default.createElement(n==="automatic"?Tk:Lk,{model:t,feature:r,handleClose:e,baseUrl:o},fi.default.createElement(nw,{lookupMethod:n,setLookupMethod:i})),s?fi.default.createElement(iw,{baseUrl:o,handleClose:l=>{l&&a(l),f(!1)}}):null)}var at=T(U()),q6=T(Eu()),eu=T(zt()),Hl=T(vt()),po=T(pe()),F6=T(Se());var N6=T(De());var aw={revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!1};var sE=T(R6());async function P6({config:e,pluginManager:t}){return(await(0,sE.getAdapter)(t,"msa",e)).dataAdapter.getMSAList()}async function I6({config:e,pluginManager:t,msaId:r}){return(await(0,sE.getAdapter)(t,"msa",e)).dataAdapter.getMSA(r)}function L6({transcriptsList:e,validMsaList:t}){if(!t||t.length===0)return null;for(let r of e){let n=Tt(r);if(n&&t.includes(n))return n}return null}function j6({session:e,newViewTitle:t,view:r,feature:n,data:i,querySeqName:o}){e.addView("MsaView",{type:"MsaView",displayName:t,treeAreaWidth:200,querySeqName:o,treeWidth:100,drawNodeBubbles:!1,labelsAlignRight:!0,showBranchLen:!1,colWidth:10,rowHeight:12,colorSchemeName:"percent_identity_dynamic",data:i,connectedViewId:r.id,connectedFeature:n.toJSON()})}var w_e=(0,N6.makeStyles)()({dialogContent:{width:"80em"}}),x_e=(0,F6.observer)(function({model:t,feature:r,handleClose:n}){let i=(0,Hl.getSession)(t),o=(0,Hl.getContainingView)(t),{classes:a}=w_e(),{pluginManager:s}=(0,Hl.getEnv)(t),{assemblyNames:f}=o,u=Wi(r),[l,c]=(0,at.useState)(Tt(u[0])),[d,p]=(0,at.useState)(),h=l?u.find(R=>Tt(R)===l):void 0,{proteinSequence:m,error:v}=Vi({view:o,feature:h}),{jbrowse:g}=i,_=(0,q6.readConfObject)(g,["msa","datasets"]),[w,y]=(0,at.useState)(_?.[0]?.datasetId),x=_?.find(R=>R.datasetId===w),{data:A,isLoading:E,error:O}=ys(w?`${w}-msa-list`:"none-msa-list",()=>x?P6({config:x.adapter,pluginManager:s}):void 0,aw),{data:M,isLoading:C,error:k}=ys(l&&w?`${l}-${l}-${A?.length}-msa`:"none-msa",()=>l&&x&&A?I6({msaId:l,config:x.adapter,pluginManager:s}):void 0,aw),q=(0,at.useMemo)(()=>new Set(A),[A]);(0,at.useEffect)(()=>{if(A&&A.length>0){let R=L6({transcriptsList:u,validMsaList:A});R&&R!==l&&c(R)}},[A,u,l]);let N=O??k??v??d;return N&&console.error(N),at.default.createElement(at.default.Fragment,null,at.default.createElement(po.DialogContent,{className:a.dialogContent},N?at.default.createElement(eu.ErrorMessage,{error:N}):null,at.default.createElement(Wr,{select:!0,label:"Select MSA dataset",value:w,onChange:R=>{y(R.target.value)}},_&&_.length>0?_.map(R=>at.default.createElement(po.MenuItem,{key:R.datasetId,value:R.datasetId},R.name)):at.default.createElement(po.MenuItem,null,"No MSA datasets found")),x?at.default.createElement("div",{style:{marginTop:50}},!E&&C?at.default.createElement(eu.LoadingEllipses,{variant:"h6",message:`Loading MSA for (${l})`}):null,E?at.default.createElement(eu.LoadingEllipses,{variant:"h6",message:`Loading available MSAs for (${x.name})`}):null,A?at.default.createElement("div",null,at.default.createElement(eu.SanitizedHTML,{html:x.description}),at.default.createElement(li,{feature:r,options:u,selectedTranscriptId:l,onTranscriptChange:c,proteinSequence:m,validSet:q})):null):null),at.default.createElement(po.DialogActions,null,at.default.createElement(po.Button,{color:"primary",variant:"contained",disabled:!h||!M?.length,onClick:()=>{try{if(!h||!M)return;let R=`${l}_${f[0]}`;j6({session:i,newViewTitle:$i(h),view:o,querySeqName:R,feature:h,data:{msa:M.map(F=>`>${F.get("refName")}
${F.get("seq")}`).join(`
`)}}),n()}catch(R){p(R)}}},"Submit"),at.default.createElement(po.Button,{color:"secondary",variant:"contained",onClick:()=>{n()}},"Cancel")))}),D6=x_e;var uE=T(U());function Wl({children:e,value:t,index:r,...n}){return uE.default.createElement("div",{role:"tabpanel",hidden:t!==r,...n},t===r&&uE.default.createElement("div",null,e))}var Vo={NCBI_BLAST:0,PRELOADED_MSA:1,ENSEMBL_GENETREE:2,MANUAL_MSA:3};function lE({handleClose:e,feature:t,model:r}){let[n,i]=(0,Mr.useState)(Vo.NCBI_BLAST);return Mr.default.createElement(B6.Dialog,{maxWidth:"xl",title:"Launch MSA view",open:!0,onClose:e},Mr.default.createElement(tu.Tabs,{value:n,onChange:(a,s)=>{i(s)}},Mr.default.createElement(tu.Tab,{label:"NCBI BLAST query",value:Vo.NCBI_BLAST}),Mr.default.createElement(tu.Tab,{label:"Pre-loaded MSA datasets",value:Vo.PRELOADED_MSA}),Mr.default.createElement(tu.Tab,{label:"Ensembl GeneTree",value:Vo.ENSEMBL_GENETREE}),Mr.default.createElement(tu.Tab,{label:"Manually open MSA dataset",value:Vo.MANUAL_MSA})),Mr.default.createElement(Wl,{value:n,index:Vo.NCBI_BLAST},Mr.default.createElement(ow,{handleClose:e,feature:t,model:r})),Mr.default.createElement(Wl,{value:n,index:Vo.PRELOADED_MSA},Mr.default.createElement(D6,{model:r,feature:t,handleClose:e})),Mr.default.createElement(Wl,{value:n,index:Vo.ENSEMBL_GENETREE},Mr.default.createElement(pk,{model:r,feature:t,handleClose:e})),Mr.default.createElement(Wl,{value:n,index:Vo.MANUAL_MSA},Mr.default.createElement(_k,{model:r,feature:t,handleClose:e})))}function S_e(e){return e.name==="LinearBasicDisplay"}function E_e(e){return e.views(t=>{let r=t.contextMenuItems;return{contextMenuItems(){let n=t.contextMenuFeature,i=(0,wv.getContainingTrack)(t),o=n?.get("type"),a=n&&["gene","mRNA","transcript"].includes(o);return[...r(),...a?[{label:"Launch MSA view",icon:uM,onClick:()=>{(0,wv.getSession)(i).queueDialog(s=>[lE,{model:i,handleClose:s,feature:n}])}}]:[]]}}})}function cE(e){e.addToExtensionPoint("Core-extendPluggableElement",t=>(S_e(t)&&(t.stateModel=E_e(t.stateModel)),t))}var U$=T(U()),H$=T(U6());var k$=T(Dy()),Ty=T(vt()),R$=T(H6()),UO=T(io()),vr=T(Jt());zO();function x$(e){return`${e.accession}-${e.sciname.replaceAll(" ","_")}`}function S$(e){return e.replace("-","")}var jn="https://www.ebi.ac.uk/Tools/services/rest";async function gCe({sequence:e,onProgress:t}){let r=await Ut(`${jn}/clustalo/run`,{method:"POST",body:new URLSearchParams({email:"colin.diesh@gmail.com",sequence:e})});return await Ey({jobId:r,algorithm:"clustalo",onProgress:t}),{msa:await Ut(`${jn}/clustalo/result/${r}/aln-clustal_num`),tree:await Ut(`${jn}/clustalo/result/${r}/phylotree`)}}async function vCe({sequence:e,onProgress:t}){let r=await Ut(`${jn}/muscle/run`,{method:"POST",body:new URLSearchParams({email:"colin.diesh@gmail.com",format:"clw",tree:"tree1",sequence:e})});return await Ey({jobId:r,algorithm:"muscle",onProgress:t}),{msa:await Ut(`${jn}/muscle/result/${r}/fa`),tree:await Ut(`${jn}/muscle/result/${r}/phylotree`)}}async function _Ce({sequence:e,onProgress:t}){let r=await Ut(`${jn}/kalign/run`,{method:"POST",body:new URLSearchParams({email:"colin.diesh@gmail.com",stype:"protein",sequence:e})});return await Ey({jobId:r,algorithm:"kalign",onProgress:t}),{msa:await Ut(`${jn}/kalign/result/${r}/fa`),tree:await Ut(`${jn}/kalign/result/${r}/phylotree`)}}async function bCe({sequence:e,onProgress:t}){let r=await Ut(`${jn}/mafft/run`,{method:"POST",body:new URLSearchParams({email:"colin.diesh@gmail.com",stype:"protein",sequence:e})});return await Ey({jobId:r,algorithm:"mafft",onProgress:t}),{msa:await Ut(`${jn}/mafft/result/${r}/fa`),tree:await Ut(`${jn}/mafft/result/${r}/phylotree`)}}async function Ey({onProgress:e,jobId:t,algorithm:r}){for(;;){for(let i=0;i<10;i++)await Eh(1e3),e(`Re-checking MSA status in... ${10-i}`);let n=await Ut(`${jn}/${r}/status/${t}`);if(n==="FINISHED")break;if(n.includes("FAILURE"))throw new Error(`Failed to run: jobId ${t}`)}}async function E$({algorithm:e,sequence:t,onProgress:r}){switch(r(`Launching ${e} MSA...`),e){case"clustalo":return gCe({sequence:t,onProgress:r});case"muscle":return vCe({sequence:t,onProgress:r});case"kalign":return _Ce({sequence:t,onProgress:r});case"mafft":return bCe({sequence:t,onProgress:r});default:throw new Error("unknown algorithm")}}async function A$({query:e,blastDatabase:t,blastProgram:r,baseUrl:n,onProgress:i,onRid:o}){i("Submitting to NCBI BLAST...");let{rid:a}=await yCe({query:e,blastDatabase:t,blastProgram:r,baseUrl:n});o(a),await wCe({rid:a,onProgress:i,baseUrl:n});let s=await Uu(`${n}?CMD=Get&RID=${a}&FORMAT_TYPE=JSON2_S&FORMAT_OBJECT=Alignment`);return{rid:a,hits:s.BlastOutput2[0]?.report.results.search.hits??[]}}async function yCe({query:e,blastProgram:t,blastDatabase:r,baseUrl:n}){let i=await Ut(n,{method:"POST",body:new URLSearchParams({CMD:"Put",PROGRAM:t==="quick-blastp"?"blastp":t,DATABASE:r,QUERY:e,...r==="nr_clustered_seq"?{CLUSTERED_DB:"on",DB_TYPE:"Experimental Databases"}:{},...t==="quick-blastp"?{BLAST_PROGRAMS:"kmerBlastp"}:{}})}),o=/^ {4}RID = (.*$)/m.exec(i)?.[1],a=/^ {4}RTOE = (.*$)/m.exec(i)?.[1];if(!o)throw new Error("Failed to get RID from BLAST request");return{rid:o,rtoe:a}}async function wCe({rid:e,onProgress:t,baseUrl:r}){for(;;){for(let u=0;u<20;u++)await Eh(1e3),t(`Re-checking BLAST status in... ${20-u}`);let i=await Ut(`${r}?CMD=Get&FORMAT_OBJECT=SearchInfo&RID=${e}`),o=/\s+Status=WAITING/m.test(i),a=/\s+Status=FAILED/m.test(i),s=/\s+Status=READY/m.test(i),f=/\s+ThereAreHits=yes/m.test(i);if(!o){if(a)throw new Error(`BLAST ${e} failed`);if(s){if(f)return!0;throw new Error("No hits found")}}}}async function T$({self:e}){let{baseUrl:t,blastDatabase:r,blastProgram:n,msaAlgorithm:i,proteinSequence:o}=e.blastParams,{hits:a}=await A$({query:o.replaceAll("*","").replaceAll("&",""),blastDatabase:r,blastProgram:n,baseUrl:t,onProgress:s=>{e.setProgress(s)},onRid:s=>{e.setRid(s)}});return E$({algorithm:i,sequence:[`>QUERY
${o.replaceAll("*","").replaceAll("&","")}`,...a.map(s=>[x$(s.description[0]??{accession:"unknown",id:"unknown",sciname:"unknown"}),S$(s.hsps[0]?.hseq??"")]).map(([s,f])=>`>${s}
${f}`)].join(`
`),onProgress:s=>{e.setProgress(s)}})}var M$=T(vt());function O$(e){return typeof e=="object"&&e!==null&&"hoverFeature"in e&&"hoverPosition"in e}function C$({model:e}){let{hovered:t}=(0,M$.getSession)(e),{querySeqName:r,transcriptToMsaMap:n,connectedView:i}=e;if(i?.initialized&&n&&O$(t)){let{coord:o}=t.hoverPosition,{g2p:a}=n,s=a[o];if(s!==void 0)return e.seqCoordToRowSpecificGlobalCoord(r,s+1)}}function xCe(e,t){let r=0;for(let n=0;n<t&&n<e.length;n++)e[n]!=="-"&&r++;return r}function Ay({model:e,coord:t}){let{querySeqName:r,transcriptToMsaMap:n}=e;if(n!==void 0){let o=e.rows.find(c=>c[0]===r)?.[1];if(!o||o[t]==="-")return;let a=xCe(o,t),{refName:s,p2g:f}=n,u=f[a],l=f[a+1];return u!==void 0&&l!==void 0?{refName:s,start:Math.min(u,l),end:Math.max(u,l)}:void 0}}function HO(){return vr.types.compose(k$.BaseViewModel,BO(),vr.types.model("MsaView",{connectedViewId:vr.types.maybe(vr.types.string),connectedFeature:vr.types.frozen(),connectedHighlights:vr.types.array(vr.types.model({refName:vr.types.string,start:vr.types.number,end:vr.types.number})),blastParams:vr.types.frozen(),querySeqName:"QUERY",zoomToBaseLevel:!1})).volatile(()=>({rid:void 0,progress:"",error:void 0})).views(e=>({ungappedCoordMap(t,r){let i=e.rows.find(o=>o[0]===t)?.[1];if(i&&r<i.length){let o=0,a=0;for(;a<r;a++,o++)for(;i[o]==="-";)o++;return o}}})).views(e=>({get transcriptToMsaMap(){return e.connectedFeature?(0,R$.genomeToTranscriptSeqMapping)(e.connectedFeature):void 0}})).views(e=>({get mouseCol2(){return C$({model:e})},get clickCol2(){}})).views(e=>({get processing(){return!!e.progress},get connectedView(){let{views:t}=(0,Ty.getSession)(e);return t.find(r=>r.id===e.connectedViewId)}})).actions(e=>({setZoomToBaseLevel(t){e.zoomToBaseLevel=t},setError(t){e.error=t},setProgress(t){e.progress=t},setRid(t){e.rid=t},setConnectedHighlights(t){e.connectedHighlights=(0,vr.cast)(t)},addToConnectedHighlights(t){e.connectedHighlights.push(t)},clearConnectedHighlights(){e.connectedHighlights=(0,vr.cast)([])},setBlastParams(t){e.blastParams=t},handleMsaClick(t){let{connectedView:r,zoomToBaseLevel:n}=e,{assemblyManager:i}=(0,Ty.getSession)(e),o=Ay({model:e,coord:t});if(!(!o||!r))if(n)r.navTo(o);else{let a=i.get(r.assemblyNames[0])?.getCanonicalRefName(o.refName)??o.refName;r.centerAt(o.start,a)}}})).actions(e=>{let t=e.setMouseClickPos;return{setMouseClickPos(r,n){t(r,n),r!==void 0&&e.handleMsaClick(r)}}}).views(e=>({extraViewMenuItems(){return[{label:"Zoom to base level on click?",checked:e.zoomToBaseLevel,type:"checkbox",onClick:()=>{e.setZoomToBaseLevel(!e.zoomToBaseLevel)}}]},get processing(){return!!e.progress},get connectedView(){let{views:t}=(0,Ty.getSession)(e);return t.find(r=>r.id===e.connectedViewId)}})).actions(e=>({afterCreate(){(0,vr.addDisposer)(e,(0,UO.autorun)(async()=>{if(e.blastParams)try{e.setProgress("Submitting query"),e.setError(void 0);let t=await T$({self:e});e.setData(t),e.setBlastParams(void 0)}catch(t){e.setError(t),console.error(t)}finally{e.setProgress("")}})),(0,vr.addDisposer)(e,(0,UO.autorun)(()=>{let{mouseCol:t,mouseClickCol:r}=e,n=t===void 0?void 0:Ay({model:e,coord:t}),i=r===void 0?void 0:Ay({model:e,coord:r});e.setConnectedHighlights([n,i].filter(o=>!!o))}))}}))}var CCe=(0,U$.lazy)(()=>Promise.resolve().then(()=>(z$(),B$)));function GO(e){e.addViewType(()=>new H$.default({name:"MsaView",stateModel:HO(),ReactComponent:CCe}))}var Cy=class extends W$.default{constructor(){super(...arguments);this.name="MsaViewPlugin";this.version=h2}install(r){GO(r),cE(r),Ny(r),n1(r)}configure(r){(0,$$.isAbstractMenuManager)(r.rootModel)&&r.rootModel.appendToSubMenu(["Add"],{label:"Multiple sequence alignment view",icon:d2,onClick:n=>{n.addView("MsaView",{})}})}rootConfigurationSchema(r){return{msa:(0,YO.ConfigurationSchema)("MSA",{datasets:ZO.types.maybe(ZO.types.array((0,YO.ConfigurationSchema)("MSAEntry",{datasetId:{type:"string",defaultValue:""},description:{type:"string",defaultValue:""},name:{type:"string",defaultValue:""},adapter:r.pluggableConfigSchemaType("adapter")})))})}}};return Iy(kCe);})();
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

canvas2svg/canvas2svg.js:
  (*!!
   *  Canvas 2 Svg v1.0.15
   *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
   *
   *  Licensed under the MIT license:
   *  http://www.opensource.org/licenses/mit-license.php
   *
   *  Author:
   *  Kerry Liu
   *
   *  Copyright (c) 2014 Gliffy Inc.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

svgcanvas/dist/svgcanvas.js:
  (*!!
   *  SVGCanvas v2.0.3
   *  Draw on SVG using Canvas's 2D Context API.
   *
   *  Licensed under the MIT license:
   *  http://www.opensource.org/licenses/mit-license.php
   *
   *  Author:
   *  Kerry Liu
   *  Zeno Zeng
   *
   *  Copyright (c) 2014 Gliffy Inc.
   *  Copyright (c) 2021 Zeno Zeng
   *)

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
//# sourceMappingURL=jbrowse-plugin-msaview.umd.production.min.js.map

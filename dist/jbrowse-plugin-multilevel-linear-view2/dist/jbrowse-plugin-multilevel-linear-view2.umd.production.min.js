!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@jbrowse/core/Plugin"),require("@jbrowse/core/util"),require("@mui/material/utils"),require("react/jsx-runtime"),require("mobx-state-tree"),require("@jbrowse/core/ui"),require("@jbrowse/core/util/types/mst"),require("react"),require("mobx-react"),require("tss-react/mui"),require("@mui/material"),require("@mui/material/IconButton"),require("@mui/material/Paper"),require("@jbrowse/core/configuration"),require("@jbrowse/core/pluggableElementTypes/models"),require("@jbrowse/core/util/tracks"),require("mobx"),require("react-dom"),require("@jbrowse/core/pluggableElementTypes"),require("@jbrowse/core/util/Base1DViewModel"),require("@mui/material/SvgIcon")):"function"==typeof define&&define.amd?define(["exports","@jbrowse/core/Plugin","@jbrowse/core/util","@mui/material/utils","react/jsx-runtime","mobx-state-tree","@jbrowse/core/ui","@jbrowse/core/util/types/mst","react","mobx-react","tss-react/mui","@mui/material","@mui/material/IconButton","@mui/material/Paper","@jbrowse/core/configuration","@jbrowse/core/pluggableElementTypes/models","@jbrowse/core/util/tracks","mobx","react-dom","@jbrowse/core/pluggableElementTypes","@jbrowse/core/util/Base1DViewModel","@mui/material/SvgIcon"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).JBrowsePluginMultilevelLinearView={},e.JBrowseExports["@jbrowse/core/Plugin"],e.JBrowseExports["@jbrowse/core/util"],e.JBrowseExports["@mui/material/utils"],e.JBrowseExports["react/jsx-runtime"],e.JBrowseExports["mobx-state-tree"],e.JBrowseExports["@jbrowse/core/ui"],e.JBrowseExports["@jbrowse/core/util/types/mst"],e.JBrowseExports.react,e.JBrowseExports["mobx-react"],e.JBrowseExports["tss-react/mui"],e.JBrowseExports["@mui/material"],e.JBrowseExports["@mui/material/IconButton"],e.JBrowseExports["@mui/material/Paper"],e.JBrowseExports["@jbrowse/core/configuration"],e.JBrowseExports["@jbrowse/core/pluggableElementTypes/models"],e.JBrowseExports["@jbrowse/core/util/tracks"],e.JBrowseExports.mobx,e.JBrowseExports["react-dom"],0,e.JBrowseExports["@jbrowse/core/util/Base1DViewModel"],e.JBrowseExports["@mui/material/SvgIcon"])}(this,(function(e,t,n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,w,_){"use strict";function x(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,t}function k(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),e}var S=x(t),C=x(r),P=x(o),T=x(i),M=x(l),A=E(l),O=x(u),R=x(c),N=x(f),I=x(d),L=x(h),B=x(v),j=x(y),D=E(y),z=x(w),F=x(_),$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function U(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var H={},V={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(V);var q={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=C.default}(q);var G=V.exports;Object.defineProperty(H,"__esModule",{value:!0});var W=H.default=void 0,J=G(q),Y=P.default;W=H.default=(0,J.default)([(0,Y.jsx)("path",{d:"M8 8H6v7c0 1.1.9 2 2 2h9v-2H8z"},"0"),(0,Y.jsx)("path",{d:"M20 3h-8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 8h-8V7h8zM4 12H2v7c0 1.1.9 2 2 2h9v-2H4z"},"1")],"DynamicFeed");var Z={},K=V.exports;Object.defineProperty(Z,"__esModule",{value:!0});var X=Z.default=void 0,Q=K(q);X=Z.default=(0,Q.default)((0,P.default.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}),"FolderOpen");var ee={},te=V.exports;Object.defineProperty(ee,"__esModule",{value:!0});var ne=ee.default=void 0,re=te(q);ne=ee.default=(0,re.default)((0,P.default.jsx)("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99zM9 3 5 6.99h3V14h2V6.99h3z"}),"SwapVert");var oe={},ie=V.exports;Object.defineProperty(oe,"__esModule",{value:!0});var ae=oe.default=void 0,se=ie(q);ae=oe.default=(0,se.default)((0,P.default.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var le={},ue=V.exports;Object.defineProperty(le,"__esModule",{value:!0});var ce=le.default=void 0,fe=ue(q);ce=le.default=(0,fe.default)((0,P.default.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter");var de={},he=V.exports;Object.defineProperty(de,"__esModule",{value:!0});var pe=de.default=void 0,me=he(q);pe=de.default=(0,me.default)((0,P.default.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var ge={},ve=V.exports;Object.defineProperty(ge,"__esModule",{value:!0});var ye=ge.default=void 0,be=ve(q);ye=ge.default=(0,be.default)((0,P.default.jsx)("path",{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5m-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3z"}),"LinkOff");var we={},_e={},xe={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.nanoid=e.customAlphabet=e.customRandom=e.random=e.urlAlphabet=void 0,e.urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e.random=e=>crypto.getRandomValues(new Uint8Array(e)),e.customRandom=(e,t,n)=>{const r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let a="";for(;;){const t=n(o);let s=o;for(;s--;)if(a+=e[t[s]&r]||"",a.length===i)return a}}},e.customAlphabet=(t,n=21)=>(0,e.customRandom)(t,n,e.random),e.nanoid=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")}(xe),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FileLocation=e.UriLocation=e.UriLocationRaw=e.BlobLocation=e.LocalPathLocation=e.Region=e.NoAssemblyRegion=e.ElementId=void 0;const t=T.default,n=xe;e.ElementId=t.types.optional(t.types.identifier,(()=>(0,n.nanoid)())),e.NoAssemblyRegion=t.types.model("NoAssemblyRegion",{refName:t.types.string,start:t.types.number,end:t.types.number,reversed:t.types.optional(t.types.boolean,!1)}).actions((e=>({setRefName(t){e.refName=t}}))),e.Region=t.types.compose("Region",e.NoAssemblyRegion,t.types.model({assemblyName:t.types.string})),e.LocalPathLocation=t.types.model("LocalPathLocation",{locationType:t.types.literal("LocalPathLocation"),localPath:t.types.string}),e.BlobLocation=t.types.model("BlobLocation",{locationType:t.types.literal("BlobLocation"),name:t.types.string,blobId:t.types.string}),e.UriLocationRaw=t.types.model("UriLocation",{locationType:t.types.literal("UriLocation"),uri:t.types.string,baseUri:t.types.maybe(t.types.string),internetAccountId:t.types.maybe(t.types.string),internetAccountPreAuthorization:t.types.maybe(t.types.model("InternetAccountPreAuthorization",{internetAccountType:t.types.string,authInfo:t.types.frozen()}))}),e.UriLocation=t.types.snapshotProcessor(e.UriLocationRaw,{postProcessor:e=>{const{baseUri:t,...n}=e;return t?e:n}}),e.FileLocation=t.types.snapshotProcessor(t.types.union(e.LocalPathLocation,e.UriLocation,e.BlobLocation),{preProcessor(e){if(!e)return;const{locationType:t,...n}=e;if(!t){const{uri:e,localPath:t,blob:r}=n;let o="";return void 0!==e?o="UriLocation":void 0!==t?o="LocalPathLocation":void 0!==r&&(o="BlobLocation"),{...n,locationType:o}}return e}})}(_e),Object.defineProperty(we,"__esModule",{value:!0}),we.BaseViewModelWithDisplayedRegions=void 0;const Ee=T.default,ke=_e,Se=Ee.types.model("BaseView",{id:ke.ElementId,displayName:Ee.types.maybe(Ee.types.string),minimized:!1}).volatile((()=>({width:800}))).views((()=>({menuItems:()=>[]}))).actions((e=>({setDisplayName(t){e.displayName=t},setWidth(t){e.width=t},setMinimized(t){e.minimized=t}})));var Ce=we.default=Se;function Pe(e){return i.types.compose("MultilevelLinearView",Ce,i.types.model({id:s.ElementId,type:i.types.literal("MultilevelLinearView"),height:400,trackSelectorType:"hierarchical",linkViews:!1,interactToggled:!1,isDescending:!0,tracks:i.types.array(e.pluggableMstType("track","stateModel")),views:i.types.array(e.getViewType("LinearGenomeMultilevelView").stateModel)})).volatile((()=>({headerHeight:0,width:800}))).views((e=>({get initialized(){return e.views.length>0},get refNames(){return e.views.map((e=>[...new Set(e.staticBlocks.map((e=>e.refName)))]))},get assemblyNames(){return[...new Set(e.views.map((e=>e.assemblyNames)).flat())]},get numViews(){return e.views.length}}))).actions((e=>({setLimitBpPerPx(){let t=-1,n=1;e.views.forEach((r=>{if((-1===t&&e.isDescending||n===e.views.length&&!e.isDescending)&&r.setLimitBpPerPx(!0,r.bpPerPx,r.bpPerPx),(n===e.views.length&&e.isDescending||-1===t&&!e.isDescending)&&r.setLimitBpPerPx(!1,r.bpPerPx,r.bpPerPx),-1!==t&&n!==e.views.length){let o,i;e.isDescending?(o=e.views[t].bpPerPx,i=e.views[n].bpPerPx):(o=e.views[n].bpPerPx,i=e.views[t].bpPerPx);const a=e.views.find((e=>e.isOverview))?.bpPerPx,s=e.views.find((e=>e.isAnchor))?.bpPerPx;r.setLimitBpPerPx(!0,o,i,a,s)}t++,n++}))},setViews(t){e.views=i.cast(t)}}))).actions((e=>({afterAttach(){i.addDisposer(e,i.onAction(e,(t=>{if(e.linkViews){const{name:e,path:n,args:r}=t;["horizontalScroll","zoomTo","navToLocString","setScaleFactor","showTrack","hideTrack","toggleTrack","moveIfAnchor"].includes(e)&&n&&this.onSubviewAction(e,n,r)}})))},beforeDestroy(){const t=n.getSession(e);e.assemblyNames.forEach((e=>{e.endsWith("-temp")&&t.removeAssembly?.(e)}))},onSubviewAction(t,n,r=[]){const o=e.views.findIndex((e=>e.isAnchor)),a=e.views.findIndex((e=>e.isOverview));if("horizontalScroll"===t&&e.views.forEach((a=>{if(a.initialized){a[t](0!==a.bpPerPx?r[0]*(e.views[o].bpPerPx/a.bpPerPx):0);const s=i.getPath(a);s.lastIndexOf(n)===s.length-n.length&&a[t](-1*r[0])}})),"zoomTo"===t){const t=parseInt(n.charAt(n.length-1)),o=e.views[t];let i=1,a=e.views[t];const s=!(o.bpPerPx<r[0]);for(o.zoomTo(r[0]);i>0;)if(s){const n=e.isDescending?e.views[t+i]:e.views[t-i];n&&a.bpPerPx<=n.bpPerPx&&!n.isAnchor&&!n.isOverview&&n.bpPerPx/2>=n.limitBpPerPx.apexLowerLimit?(n.zoomTo(n.bpPerPx/2),i++,a=n):i=-1}else{const n=e.isDescending?e.views[t-i]:e.views[t+i];n&&a.bpPerPx>=n.bpPerPx&&!n.isAnchor&&!n.isOverview&&2*n.bpPerPx<=n.limitBpPerPx.apexUpperLimit?(n.zoomTo(2*n.bpPerPx),i++,a=n):i=-1}e.setLimitBpPerPx()}if("navToLocString"===t&&(e.views[o][t](r[0]),e.views.forEach((e=>{e.initialized&&e.setLimitBpPerPx(!1)})),e.views.forEach((t=>{if(t.initialized){if(!t.isAnchor){const n=e.views[o].pxToBp(t.width/2),r=0!==t.bpPerPx?e.views[o].bpPerPx/(e.views[o].limitBpPerPx.upperLimit/t.bpPerPx):0;t.navToLocString(n.refName),t.zoomTo(r),t.centerAt(n.coord,n.refName,n.index)}if(t.isOverview){const n=e.views[o].pxToBp(t.width/2);t.centerAt(n.coord,n.refName,n.index)}}})),this.resetZooms(),this.alignViews(),e.setLimitBpPerPx()),"moveIfAnchor"===t){e.views.forEach((e=>{e.initialized&&(e.moveIfAnchor(r[0],r[1]),e.setLimitBpPerPx(!1))})),e.views.forEach((t=>{if(t.initialized&&!t.isAnchor&&!t.isOverview){const n=e.views[o].pxToBp(t.width/2),r=0!==t.bpPerPx?e.views[o].bpPerPx/(e.views[o].limitBpPerPx.upperLimit/t.bpPerPx):0;t.navToLocString(n.refName),t.zoomTo(r),t.centerAt(n.coord,n.refName,n.index)}})),e.setLimitBpPerPx();const t=e.views[o].pxToBp(e.views[a].width/2);e.views[a].navToLocString(t.refName),e.views[a].centerAt(t.coord,t.refName,t.index)}},setWidth(t){e.width=t,e.views.forEach((e=>e.setWidth(t)))},setHeight(t){e.height=t},insertView(t,n){e.views.spliceWithArray(t,0,[n])},setHeaderHeight(t){e.headerHeight=t},setIsDescending(t){e.isDescending=t},toggleLinkViews(){e.linkViews=!e.linkViews},alignViews(){const t=e.views.findIndex((e=>e.isAnchor));e.views.forEach((n=>{const r=e.views[t].pxToBp(n.width/2),o=n.bpPerPx;n.navToLocString(r.refName),n.zoomTo(o),n.centerAt(r.coord,r.refName,r.index)}))},reverseViewsDirection(){this.setIsDescending(!e.isDescending),e.views.reverse()},resetZooms(){let t=!1;e.isDescending&&(this.reverseViewsDirection(),t=!0);const n=e.views.find((e=>e.isAnchor));let r=n?.bpPerPx?n?.bpPerPx:1,o=2;e.views.forEach((e=>{e.zoomTo(r),r*=o,o++})),t&&this.reverseViewsDirection()},clearView(){e.views=i.cast([]),e.linkViews=!1},removeView(t){const r=n.getSession(e),o=i.getEnv(r);!1===t.isAnchor&&!1===t.isOverview&&(e.views.remove(t),r.notify("A view has been closed","info",{name:"undo",onClick:()=>{o.rootModel.history.undo()}}))}}))).actions((e=>({async addView(t,r){const{assemblyManager:o}=n.getSession(e),i=await o.waitForAssembly(e.assemblyNames[0]);if(i){let n=t?e.isDescending?r.limitBpPerPx.upperLimit:r.limitBpPerPx.lowerLimit:e.isDescending?r.limitBpPerPx.lowerLimit:r.limitBpPerPx.upperLimit;const o=e.views.find((e=>e.isAnchor));n<o?.bpPerPx&&(n=o.bpPerPx);let a={type:"LinearGenomeMultilevelView",bpPerPx:n,offsetPx:0,displayedRegions:i.regions};if(r.isOverview){r.toggleIsOverview();const e=o?.offsetPx;a={...a,isOverview:!0,offsetPx:e||0}}if(r.isAnchor&&!t||r.isAnchor&&t&&!e.isDescending){r.toggleIsAnchor(),r.setLimitBpPerPx(!0);const e=r?.offsetPx;a={...a,isAnchor:!0,offsetPx:e,limitBpPerPx:{limited:!1,upperLimit:1,lowerLimit:0}}}const s=t?e.views.findIndex((e=>e.id===r.id)):e.views.findIndex((e=>e.id===r.id))+1;e.insertView(s,a),e.setWidth(e.width),e.setLimitBpPerPx(),e.alignViews()}}}))).views((e=>({menuItems(){const t=[];t.push({label:"Return to import form",onClick:()=>{n.getSession(e).queueDialog((t=>[a.ReturnToImportFormDialog,{model:e,handleClose:t}]))},icon:X},{label:"Reverse views direction",icon:ne,onClick:e.reverseViewsDirection},{label:"Align views",onClick:e.alignViews,icon:ce},{label:e.linkViews?"Unlink views":"Link views",onClick:e.toggleLinkViews,icon:e.linkViews?ye:pe});const r=[];return e.views.forEach(((e,t)=>{e.menuItems?.()&&r.push({label:e.displayName?`${e.displayName} Menu`:`View ${t+1} Menu`,subMenu:e.menuItems()})})),r.length>0&&t.push({label:"View Menus",subMenu:r,icon:ae}),t}}))).views((e=>({searchScope:t=>({assemblyName:t,includeAggregateIndexes:!0,tracks:e.tracks}),rankSearchResults(t){const n=e.tracks.map((e=>e.configuration.trackId));return t.forEach((e=>{0!==n.length&&n.includes(e.trackId)&&e.updateScore(e.getScore()+1)})),t}})))}we.BaseViewModelWithDisplayedRegions=Se.props({displayedRegions:Ee.types.array(ke.Region)});const Te=c.makeStyles()((e=>({guide:{pointerEvents:"none",position:"absolute",zIndex:10}}))),Me=u.observer((({model:e,view:t,polygonPoints:n})=>{const{classes:r}=Te(),{left:o,right:i}=n,a=f.useTheme(),{tertiary:s,primary:l}=a.palette,u=s?s.light:l.light,c=Math.max(isNaN(i)?0:i-o,3),d="offset"===t.trackLabels?25*t.tracks.length:0,h=0===t.tracks.length?t.hideHeader?t.height+55:t.height-12:t.hideHeader?t.height+4*(t.tracks.length-1)+d:t.height-55-12+4*(t.tracks.length-1)+d,p=e.views.find((e=>e.isAnchor));return M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{className:r.guide,style:{left:o,width:c,height:h,background:f.alpha(u,.2)}}),M.default.createElement(f.Typography,{className:r.guide,variant:"caption",style:{paddingLeft:"1px",left:o,height:h,width:c,color:u}},p?.displayName))}));var Ae={},Oe=V.exports;Object.defineProperty(Ae,"__esModule",{value:!0});var Re=Ae.default=void 0,Ne=Oe(q);Re=Ae.default=(0,Ne.default)((0,P.default.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Ie={},Le=V.exports;Object.defineProperty(Ie,"__esModule",{value:!0});var Be=Ie.default=void 0,je=Le(q);Be=Ie.default=(0,je.default)((0,P.default.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var De={},ze=V.exports;Object.defineProperty(De,"__esModule",{value:!0});var Fe=De.default=void 0,$e=ze(q),Ue=P.default;Fe=De.default=(0,$e.default)([(0,Ue.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,Ue.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn");var He={},Ve=V.exports;Object.defineProperty(He,"__esModule",{value:!0});var qe=He.default=void 0,Ge=Ve(q);qe=He.default=(0,Ge.default)((0,P.default.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut");var We={},Je={},Ye={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=C.default}(Ye);var Ze=V.exports.default;Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var Ke=Ze(Ye);Je.default=(0,Ke.default)((0,P.default.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var Xe={exports:{}},Qe={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Qe);var et={exports:{}};!function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(et);var tt={exports:{}},nt={exports:{}},rt={exports:{}};!function(e){var t=Qe.exports.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(rt),function(e){var t=Qe.exports.default,n=rt.exports;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(nt),function(e){var t=nt.exports;e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(tt);var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.interopRequireDefault=function(e){return e.__esModule?e.default:e},function(e,t){var n=V.exports,r=Qe.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(et.exports),i=n(tt.exports),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var t=s(void 0);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(M.default);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,ot.interopRequireDefault)(N.default.Menu);t.default=a.forwardRef((function(e,t){var n,r,i=a.useMemo((function(){var t,n=null===(t=e.slotProps)||void 0===t?void 0:t.paper;return n instanceof Function?function(e){var t=n(e);return u(u({},t),{},{style:u({pointerEvents:"auto"},null==t?void 0:t.style)})}:u(u({},n),{},{style:u({pointerEvents:"auto"},null==n?void 0:n.style)})}),[null===(n=e.slotProps)||void 0===n?void 0:n.paper]);return a.createElement(c,(0,o.default)({},e,{ref:t,style:u({pointerEvents:"none"},e.style),PaperProps:u(u({},e.PaperProps),{},{style:u({pointerEvents:"auto"},null===(r=e.PaperProps)||void 0===r?void 0:r.style)}),slotProps:u(u({},e.slotProps),{},{paper:i})}))})),e.exports=t.default}(Xe,Xe.exports);var it={},at={exports:{}},st={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(st);var lt={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(lt);var ut={exports:{}},ct={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(ct),function(e){var t=ct.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(ut);var ft={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(ft),function(e){var t=st.exports,n=lt.exports,r=ut.exports,o=ft.exports;e.exports=function(e,i){return t(e)||n(e,i)||r(e,i)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(at);var dt={},ht=Qe.exports;Object.defineProperty(dt,"__esModule",{value:!0}),dt.useEvent=function(e){if("undefined"==typeof window)return e;var t=pt.useRef(null);return pt.useLayoutEffect((function(){t.current=e})),pt.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(e=t.current)||void 0===e||e.call.apply(e,[t].concat(r))}),[])};var pt=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=ht(e)&&"function"!=typeof e)return{default:e};var t=mt(void 0);if(t&&t.has(e))return t.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(M.default);function mt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(mt=function(e){return e?n:t})(e)}var gt=V.exports,vt=Qe.exports;Object.defineProperty(it,"__esModule",{value:!0}),it.anchorRef=function(e){return e.setAnchorEl},it.bindContextMenu=function(e){return St(St({},At(e)),{},{onContextMenu:function(t){t.preventDefault(),e.open(t)}})},it.bindDialog=function(e){return{open:e.isOpen,onClose:e.close}},it.bindDoubleClick=function(e){var t=e.open,n=e.variant;return(0,yt.default)((0,yt.default)((0,yt.default)({},"popover"===n?"aria-controls":"aria-describedby",e.isOpen?e.popupId:null),"aria-haspopup","popover"===n||void 0),"onDoubleClick",t)},it.bindFocus=function(e){var t=e.open,n=e.onBlur;return St(St({},At(e)),{},{onFocus:t,onBlur:n})},it.bindHover=function(e){var t=e.open,n=e.onMouseLeave;return St(St({},At(e)),{},{onTouchStart:t,onMouseOver:t,onMouseLeave:n})},it.bindMenu=function(e){return St({id:e.popupId,anchorEl:e.anchorEl,anchorPosition:e.anchorPosition,anchorReference:"contextmenu"===e._openEventType?"anchorPosition":"anchorEl",open:e.isOpen,onClose:e.close,onMouseLeave:e.onMouseLeave},e.disableAutoFocus&&{autoFocus:!1,disableAutoFocusItem:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})},it.bindPopover=function(e){return St({id:e.popupId,anchorEl:e.anchorEl,anchorPosition:e.anchorPosition,anchorReference:"contextmenu"===e._openEventType?"anchorPosition":"anchorEl",open:e.isOpen,onClose:e.close,onMouseLeave:e.onMouseLeave},e.disableAutoFocus&&{disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})},it.bindPopper=function(e){return{id:e.popupId,anchorEl:e.anchorEl,open:e.isOpen,onMouseLeave:e.onMouseLeave}},it.bindToggle=function(e){return St(St({},At(e)),{},{onClick:e.toggle,onTouchStart:e.toggle})},it.bindTrigger=function(e){return St(St({},At(e)),{},{onClick:e.open,onTouchStart:e.open})},it.initCoreState=void 0,it.usePopupState=function(e){var t=e.parentPopupState,n=e.popupId,r=void 0===n?Mt():n,o=e.variant,i=e.disableAutoFocus,a=(0,wt.useRef)(!0);(0,wt.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]);var s=(0,wt.useState)(Pt),l=(0,bt.default)(s,2),u=l[0],c=l[1],f=(0,wt.useCallback)((function(e){a.current&&c(e)}),[]),d=(0,wt.useCallback)((function(e){return f((function(t){return St(St({},t),{},{setAnchorElUsed:!0,anchorEl:null!=e?e:void 0})}))}),[]),h=(0,xt.useEvent)((function(e){return u.isOpen?g(e):p(e),u})),p=(0,xt.useEvent)((function(e){var n=e instanceof Element?void 0:e,r=e instanceof Element?e:(null==e?void 0:e.currentTarget)instanceof Element?e.currentTarget:void 0;if("touchstart"!==(null==n?void 0:n.type)){var i=null==n?void 0:n.clientX,a=null==n?void 0:n.clientY,s="number"==typeof i&&"number"==typeof a?{left:i,top:a}:void 0,l=function(i){if(e||i.setAnchorElUsed||"dialog"===o||Ct.missingEventOrAnchorEl||(Ct.missingEventOrAnchorEl=!0,console.error("[material-ui-popup-state] WARNING","eventOrAnchorEl should be defined if setAnchorEl is not used")),t){if(!t.isOpen)return i;setTimeout((function(){return t._setChildPopupState(_)}))}var a=St(St({},i),{},{isOpen:!0,anchorPosition:s,hovered:"mouseover"===(null==n?void 0:n.type)||i.hovered,focused:"focus"===(null==n?void 0:n.type)||i.focused,_openEventType:null==n?void 0:n.type});return i.setAnchorElUsed||(null!=n&&n.currentTarget?a.anchorEl=null==n?void 0:n.currentTarget:r&&(a.anchorEl=r)),a};f((function(e){return e._deferNextOpen?(setTimeout((function(){return f(l)}),0),St(St({},e),{},{_deferNextOpen:!1})):l(e)}))}else f((function(e){return St(St({},e),{},{_deferNextOpen:!0})}))})),m=function(e){var n=e._childPopupState;return setTimeout((function(){null==n||n.close(),null==t||t._setChildPopupState(null)})),St(St({},e),{},{isOpen:!1,hovered:!1,focused:!1})},g=(0,xt.useEvent)((function(e){var t=e instanceof Element?void 0:e;f("touchstart"!==(null==t?void 0:t.type)?function(e){return e._deferNextClose?(setTimeout((function(){return f(m)}),0),St(St({},e),{},{_deferNextClose:!1})):m(e)}:function(e){return St(St({},e),{},{_deferNextClose:!0})})})),v=(0,wt.useCallback)((function(e,t){e?p(t):g(t)}),[]),y=(0,xt.useEvent)((function(e){var t=e.relatedTarget;f((function(e){return!e.hovered||t instanceof Element&&Ot(t,_)?e:e.focused?St(St({},e),{},{hovered:!1}):m(e)}))})),b=(0,xt.useEvent)((function(e){if(e){var t=e.relatedTarget;f((function(e){return!e.focused||t instanceof Element&&Ot(t,_)?e:e.hovered?St(St({},e),{},{focused:!1}):m(e)}))}})),w=(0,wt.useCallback)((function(e){return f((function(t){return St(St({},t),{},{_childPopupState:e})}))}),[]),_=St(St({},u),{},{setAnchorEl:d,popupId:null!=r?r:void 0,variant:o,open:p,close:g,toggle:h,setOpen:v,onBlur:b,onMouseLeave:y,disableAutoFocus:null!=i?i:Boolean(u.hovered||u.focused),_setChildPopupState:w});return _};var yt=gt(tt.exports),bt=gt(at.exports),wt=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=vt(e)&&"function"!=typeof e)return{default:e};var t=Et(void 0);if(t&&t.has(e))return t.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(M.default),_t=wt,xt=dt;function Et(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Et=function(e){return e?n:t})(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,yt.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct={},Pt=it.initCoreState={isOpen:!1,setAnchorElUsed:!1,anchorEl:void 0,anchorPosition:void 0,hovered:!1,focused:!1,_openEventType:null,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1},Tt=_t,Mt="useId"in Tt?function(){return Tt.useId()}:function(){};function At(e){var t=e.isOpen,n=e.popupId,r=e.variant;return St({},"popover"===r?{"aria-haspopup":!0,"aria-controls":t?n:void 0}:"popper"===r?{"aria-describedby":t?n:void 0}:void 0)}function Ot(e,t){var n=t._childPopupState;return Rt(t.anchorEl,e)||Rt(function(e,t){var n=t.popupId;if(!n)return null;var r="function"==typeof e.getRootNode?e.getRootNode():document;return"function"==typeof r.getElementById?r.getElementById(n):null}(e,t),e)||null!=n&&Ot(e,n)}function Rt(e,t){if(!e)return!1;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}var Nt={},It={},Lt=V.exports.default;Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var Bt=Lt(Ye);It.default=(0,Bt.default)((0,P.default.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight");var jt={},Dt=V.exports.default;Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0;var zt=Dt(Ye);jt.default=(0,zt.default)((0,P.default.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var Ft={},$t=V.exports.default;Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0;var Ut=$t(Ye);Ft.default=(0,Ut.default)((0,P.default.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");var Ht={},Vt=V.exports.default;Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var qt=Vt(Ye);Ht.default=(0,qt.default)((0,P.default.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked");var Gt={},Wt=V.exports.default;Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=void 0;var Jt=Wt(Ye);Gt.default=(0,Jt.default)((0,P.default.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked");for(var Yt={},Zt={},Kt={byteLength:function(e){var t=rn(e),n=t[1];return 3*(t[0]+n)/4-n},toByteArray:function(e){var t,n,r=rn(e),o=r[0],i=r[1],a=new en(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),s=0,l=i>0?o-4:o;for(n=0;n<l;n+=4)t=Qt[e.charCodeAt(n)]<<18|Qt[e.charCodeAt(n+1)]<<12|Qt[e.charCodeAt(n+2)]<<6|Qt[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===i&&(t=Qt[e.charCodeAt(n)]<<2|Qt[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===i&&(t=Qt[e.charCodeAt(n)]<<10|Qt[e.charCodeAt(n+1)]<<4|Qt[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,s=n-r;a<s;a+=i)o.push(on(e,a,a+i>s?s:a+i));return 1===r?o.push(Xt[(t=e[n-1])>>2]+Xt[t<<4&63]+"=="):2===r&&o.push(Xt[(t=(e[n-2]<<8)+e[n-1])>>10]+Xt[t>>4&63]+Xt[t<<2&63]+"="),o.join("")}},Xt=[],Qt=[],en="undefined"!=typeof Uint8Array?Uint8Array:Array,tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn=0;nn<64;++nn)Xt[nn]=tn[nn],Qt[tn.charCodeAt(nn)]=nn;function rn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function on(e,t,n){for(var r,o=[],i=t;i<n;i+=3)o.push(Xt[(r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]))>>18&63]+Xt[r>>12&63]+Xt[r>>6&63]+Xt[63&r]);return o.join("")}Qt["-".charCodeAt(0)]=62,Qt["_".charCodeAt(0)]=63;var an={read:function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:Infinity*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},write:function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||Infinity===t?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}};!function(e){var t=Kt,n=an,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=i(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var o=function(e){if(a.isBuffer(e)){var t=0|d(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||F(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),i(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return r?-1:B(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var f=!0,d=0;d<l;d++)if(u(e,i+d)!==u(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(F(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return D(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return D(j(t),e,n,r)}function x(e,t,n,r){return D(function(e,t){for(var n,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o.push(n%256),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,n,r){return t.fromByteArray(0===n&&r===e.length?e:e.slice(n,r))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,u=e[o],c=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:a=e[o+2],128==(192&(i=e[o+1]))&&128==(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[o+2],s=e[o+3],128==(192&(i=e[o+1]))&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}e.kMaxLength=o,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(z(i,Uint8Array))o+i.length>r.length?a.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,o){if(z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(i,s),u=this.slice(r,o),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){i=u[f],s=c[f];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=$[e[i]];return o}function M(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,r,o,i){return t=+t,r>>>=0,i||R(e,0,r,4),n.write(e,t,r,o,23,4),r+4}function I(e,t,r,o,i){return t=+t,r>>>=0,i||R(e,0,r,8),n.write(e,t,r,o,52,8),r+8}a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||Infinity;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}var $=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}(Zt);var sn={},ln={};!function(e){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)n(r,o)&&(e[o]=r[o])}}return e},e.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)a.set(i=e[t],o),o+=i.length;return a}},o={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(t)}(ln);var un={},cn={},fn={},dn=ln;function hn(e){for(var t=e.length;--t>=0;)e[t]=0}var pn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],vn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],yn=new Array(576);hn(yn);var bn=new Array(60);hn(bn);var wn=new Array(512);hn(wn);var _n=new Array(256);hn(_n);var xn=new Array(29);hn(xn);var En,kn,Sn,Cn=new Array(30);function Pn(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function Tn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Mn(e){return e<256?wn[e]:wn[256+(e>>>7)]}function An(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function On(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,An(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function Rn(e,t,n){On(e,n[2*t],n[2*t+1])}function Nn(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function In(e,t,n){var r,o,i=new Array(16),a=0;for(r=1;r<=15;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=Nn(i[s]++,s))}}function Ln(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Bn(e){e.bi_valid>8?An(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function jn(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function Dn(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&jn(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!jn(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function zn(e,t,n){var r,o,i,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?Rn(e,o,t):(Rn(e,(i=_n[o])+256+1,t),0!==(a=pn[i])&&On(e,o-=xn[i],a),Rn(e,i=Mn(--r),n),0!==(a=mn[i])&&On(e,r-=Cn[i],a))}while(s<e.last_lit);Rn(e,256,t)}function Fn(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)Dn(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Dn(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,Dn(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,m++),l[2*r+1]=i,r>u||(e.bl_count[i]++,a=0,r>=h&&(a=d[r-h]),e.opt_len+=(s=l[2*r])*(i+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>u||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),In(i,u,e.bl_count)}function $n(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function Un(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<u)do{Rn(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(Rn(e,o,e.bl_tree),s--),Rn(e,16,e.bl_tree),On(e,s-3,2)):s<=10?(Rn(e,17,e.bl_tree),On(e,s-3,3)):(Rn(e,18,e.bl_tree),On(e,s-11,7));s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}hn(Cn);var Hn=!1;function Vn(e,t,n,r){On(e,0+(r?1:0),3),function(e,t,n){Bn(e),An(e,n),An(e,~n),dn.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}fn._tr_init=function(e){Hn||(function(){var e,t,n,r,o,i=new Array(16);for(n=0,r=0;r<28;r++)for(xn[r]=n,e=0;e<1<<pn[r];e++)_n[n++]=r;for(_n[n-1]=r,o=0,r=0;r<16;r++)for(Cn[r]=o,e=0;e<1<<mn[r];e++)wn[o++]=r;for(o>>=7;r<30;r++)for(Cn[r]=o<<7,e=0;e<1<<mn[r]-7;e++)wn[256+o++]=r;for(t=0;t<=15;t++)i[t]=0;for(e=0;e<=143;)yn[2*e+1]=8,e++,i[8]++;for(;e<=255;)yn[2*e+1]=9,e++,i[9]++;for(;e<=279;)yn[2*e+1]=7,e++,i[7]++;for(;e<=287;)yn[2*e+1]=8,e++,i[8]++;for(In(yn,287,i),e=0;e<30;e++)bn[2*e+1]=5,bn[2*e]=Nn(e,5);En=new Pn(yn,pn,257,286,15),kn=new Pn(bn,mn,0,30,15),Sn=new Pn(new Array(0),gn,0,19,7)}(),Hn=!0),e.l_desc=new Tn(e.dyn_ltree,En),e.d_desc=new Tn(e.dyn_dtree,kn),e.bl_desc=new Tn(e.bl_tree,Sn),e.bi_buf=0,e.bi_valid=0,Ln(e)},fn._tr_stored_block=Vn,fn._tr_flush_block=function(e,t,n,r){var o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Fn(e,e.l_desc),Fn(e,e.d_desc),a=function(e){var t;for($n(e,e.dyn_ltree,e.l_desc.max_code),$n(e,e.dyn_dtree,e.d_desc.max_code),Fn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*vn[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(i=e.static_len+3+7>>>3)<=(o=e.opt_len+3+7>>>3)&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?Vn(e,t,n,r):4===e.strategy||i===o?(On(e,2+(r?1:0),3),zn(e,yn,bn)):(On(e,4+(r?1:0),3),function(e,t,n,r){var o;for(On(e,t-257,5),On(e,n-1,5),On(e,r-4,4),o=0;o<r;o++)On(e,e.bl_tree[2*vn[o]+1],3);Un(e,e.dyn_ltree,t-1),Un(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),zn(e,e.dyn_ltree,e.dyn_dtree)),Ln(e),r&&Bn(e)},fn._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_n[n]+256+1)]++,e.dyn_dtree[2*Mn(t)]++),e.last_lit===e.lit_bufsize-1},fn._tr_align=function(e){On(e,2,3),Rn(e,256,yn),function(e){16===e.bi_valid?(An(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)};var qn,Gn=function(e,t,n,r){for(var o=65535&e,i=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16},Wn=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}(),Jn=function(e,t,n,r){var o=Wn,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return~e},Yn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zn=ln,Kn=fn,Xn=Gn,Qn=Jn,er=Yn,tr=-2,nr=258,rr=262,or=103,ir=113,ar=666;function sr(e,t){return e.msg=er[t],t}function lr(e){return(e<<1)-(e>4?9:0)}function ur(e){for(var t=e.length;--t>=0;)e[t]=0}function cr(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(Zn.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function fr(e,t){Kn._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,cr(e.strm)}function dr(e,t){e.pending_buf[e.pending++]=t}function hr(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function pr(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-rr?e.strstart-(e.w_size-rr):0,u=e.window,c=e.w_mask,f=e.prev,d=e.strstart+nr,h=u[i+a-1],p=u[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<d);if(r=nr-(d-i),i=d-nr,r>a){if(e.match_start=t,a=r,r>=s)break;h=u[i+a-1],p=u[i+a]}}}while((t=f[t&c])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function mr(e){var t,n,r,o,i,a,s,l,u,c,f=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-rr)){Zn.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=f?r-f:0}while(--n);t=n=f;do{r=e.prev[--t],e.prev[t]=r>=f?r-f:0}while(--n);o+=f}if(0===e.strm.avail_in)break;if(s=e.window,l=e.strstart+e.lookahead,c=void 0,(c=(a=e.strm).avail_in)>(u=o)&&(c=u),n=0===c?0:(a.avail_in-=c,Zn.arraySet(s,a.input,a.next_in,c,l),1===a.state.wrap?a.adler=Xn(a.adler,s,c,l):2===a.state.wrap&&(a.adler=Qn(a.adler,s,c,l)),a.next_in+=c,a.total_in+=c,c),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[i=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+3-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<rr&&0!==e.strm.avail_in)}function gr(e,t){for(var n,r;;){if(e.lookahead<rr){if(mr(e),e.lookahead<rr&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-rr&&(e.match_length=pr(e,n)),e.match_length>=3)if(r=Kn._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(fr(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(fr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fr(e,!1),0===e.strm.avail_out)?1:2}function vr(e,t){for(var n,r,o;;){if(e.lookahead<rr){if(mr(e),e.lookahead<rr&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-rr&&(e.match_length=pr(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=Kn._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(fr(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=Kn._tr_tally(e,0,e.window[e.strstart-1]))&&fr(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Kn._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(fr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fr(e,!1),0===e.strm.avail_out)?1:2}function yr(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function br(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Zn.Buf16(1146),this.dyn_dtree=new Zn.Buf16(122),this.bl_tree=new Zn.Buf16(78),ur(this.dyn_ltree),ur(this.dyn_dtree),ur(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Zn.Buf16(16),this.heap=new Zn.Buf16(573),ur(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Zn.Buf16(573),ur(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wr(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ir,e.adler=2===t.wrap?0:1,t.last_flush=0,Kn._tr_init(t),0):sr(e,tr)}function _r(e){var t=wr(e);return 0===t&&function(e){e.window_size=2*e.w_size,ur(e.head),e.max_lazy_match=qn[e.level].max_lazy,e.good_match=qn[e.level].good_length,e.nice_match=qn[e.level].nice_length,e.max_chain_length=qn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function xr(e,t,n,r,o,i){if(!e)return tr;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||i<0||i>4)return sr(e,tr);8===r&&(r=9);var s=new br;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Zn.Buf8(2*s.w_size),s.head=new Zn.Buf16(s.hash_size),s.prev=new Zn.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Zn.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,_r(e)}qn=[new yr(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(mr(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,fr(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-rr&&(fr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(fr(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&fr(e,!1),1)})),new yr(4,4,8,4,gr),new yr(4,5,16,8,gr),new yr(4,6,32,32,gr),new yr(4,4,16,16,vr),new yr(8,16,32,32,vr),new yr(8,16,128,128,vr),new yr(8,32,128,256,vr),new yr(32,128,258,1024,vr),new yr(32,258,258,4096,vr)],cn.deflateInit=function(e,t){return xr(e,t,8,15,8,0)},cn.deflateInit2=xr,cn.deflateReset=_r,cn.deflateResetKeep=wr,cn.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?tr:(e.state.gzhead=t,0):tr},cn.deflate=function(e,t){var n,r,o,i;if(!e||!e.state||t>5||t<0)return e?sr(e,tr):tr;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===ar&&4!==t)return sr(e,0===e.avail_out?-5:tr);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,dr(r,31),dr(r,139),dr(r,8),r.gzhead?(dr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),dr(r,255&r.gzhead.time),dr(r,r.gzhead.time>>8&255),dr(r,r.gzhead.time>>16&255),dr(r,r.gzhead.time>>24&255),dr(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),dr(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(dr(r,255&r.gzhead.extra.length),dr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Qn(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(dr(r,0),dr(r,0),dr(r,0),dr(r,0),dr(r,0),dr(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),dr(r,3),r.status=ir);else{var a=8+(r.w_bits-8<<4)<<8;a|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=ir,hr(r,a),0!==r.strstart&&(hr(r,e.adler>>>16),hr(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),cr(e),o=r.pending,r.pending!==r.pending_buf_size));)dr(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),cr(e),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,dr(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),cr(e),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,dr(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(e.adler=Qn(e.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.status=or)}else r.status=or;if(r.status===or&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&cr(e),r.pending+2<=r.pending_buf_size&&(dr(r,255&e.adler),dr(r,e.adler>>8&255),e.adler=0,r.status=ir)):r.status=ir),0!==r.pending){if(cr(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&lr(t)<=lr(n)&&4!==t)return sr(e,-5);if(r.status===ar&&0!==e.avail_in)return sr(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==ar){var s=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(mr(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=Kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(fr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(fr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fr(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,r,o,i,a=e.window;;){if(e.lookahead<=nr){if(mr(e),e.lookahead<=nr&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[o=e.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){i=e.strstart+nr;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=nr-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Kn._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Kn._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(fr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(fr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fr(e,!1),0===e.strm.avail_out)?1:2}(r,t):qn[r.level].func(r,t);if(3!==s&&4!==s||(r.status=ar),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===s&&(1===t?Kn._tr_align(r):5!==t&&(Kn._tr_stored_block(r,0,0,!1),3===t&&(ur(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),cr(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(dr(r,255&e.adler),dr(r,e.adler>>8&255),dr(r,e.adler>>16&255),dr(r,e.adler>>24&255),dr(r,255&e.total_in),dr(r,e.total_in>>8&255),dr(r,e.total_in>>16&255),dr(r,e.total_in>>24&255)):(hr(r,e.adler>>>16),hr(r,65535&e.adler)),cr(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},cn.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==or&&t!==ir&&t!==ar?sr(e,tr):(e.state=null,t===ir?sr(e,-3):0):tr},cn.deflateSetDictionary=function(e,t){var n,r,o,i,a,s,l,u,c=t.length;if(!e||!e.state)return tr;if(2===(i=(n=e.state).wrap)||1===i&&42!==n.status||n.lookahead)return tr;for(1===i&&(e.adler=Xn(e.adler,t,c,0)),n.wrap=0,c>=n.w_size&&(0===i&&(ur(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new Zn.Buf8(n.w_size),Zn.arraySet(u,t,c-n.w_size,n.w_size,0),t=u,c=n.w_size),a=e.avail_in,s=e.next_in,l=e.input,e.avail_in=c,e.next_in=0,e.input=t,mr(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,mr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,n.wrap=i,0},cn.deflateInfo="pako deflate (from Nodeca project)";var Er={},kr=ln,Sr=!0,Cr=!0;try{String.fromCharCode.apply(null,[0])}catch(e){Sr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Cr=!1}for(var Pr=new kr.Buf8(256),Tr=0;Tr<256;Tr++)Pr[Tr]=Tr>=252?6:Tr>=248?5:Tr>=240?4:Tr>=224?3:Tr>=192?2:1;function Mr(e,t){if(t<65534&&(e.subarray&&Cr||!e.subarray&&Sr))return String.fromCharCode.apply(null,kr.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Pr[254]=Pr[254]=1,Er.string2buf=function(e){var t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new kr.Buf8(s),i=0,o=0;i<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},Er.buf2binstring=function(e){return Mr(e,e.length)},Er.binstring2buf=function(e){for(var t=new kr.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},Er.buf2string=function(e,t){var n,r,o,i,a=t||e.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((o=e[n++])<128)s[r++]=o;else if((i=Pr[o])>4)s[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<a;)o=o<<6|63&e[n++],i--;i>1?s[r++]=65533:o<65536?s[r++]=o:(s[r++]=55296|(o-=65536)>>10&1023,s[r++]=56320|1023&o)}return Mr(s,r)},Er.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Pr[e[n]]>t?n:t};var Ar=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Or=cn,Rr=ln,Nr=Er,Ir=Yn,Lr=Ar,Br=Object.prototype.toString;function jr(e){if(!(this instanceof jr))return new jr(e);this.options=Rr.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Lr,this.strm.avail_out=0;var n=Or.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(Ir[n]);if(t.header&&Or.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?Nr.string2buf(t.dictionary):"[object ArrayBuffer]"===Br.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=Or.deflateSetDictionary(this.strm,r)))throw new Error(Ir[n]);this._dict_set=!0}}function Dr(e,t){var n=new jr(t);if(n.push(e,!0),n.err)throw n.msg||Ir[n.err];return n.result}jr.prototype.push=function(e,t){var n,r,o=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,o.input="string"==typeof e?Nr.string2buf(e):"[object ArrayBuffer]"===Br.call(e)?new Uint8Array(e):e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new Rr.Buf8(i),o.next_out=0,o.avail_out=i),1!==(n=Or.deflate(o,r))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||this.onData("string"===this.options.to?Nr.buf2binstring(Rr.shrinkBuf(o.output,o.next_out)):Rr.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===r?(n=Or.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),o.avail_out=0,!0)},jr.prototype.onData=function(e){this.chunks.push(e)},jr.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):Rr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},un.Deflate=jr,un.deflate=Dr,un.deflateRaw=function(e,t){return(t=t||{}).raw=!0,Dr(e,t)},un.gzip=function(e,t){return(t=t||{}).gzip=!0,Dr(e,t)};var zr={},Fr={},$r=ln,Ur=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Hr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Vr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],qr=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Gr=ln,Wr=Gn,Jr=Jn,Yr=function(e,t){var n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,w,_,x,E,k,S,C;S=e.input,o=(r=e.next_in)+(e.avail_in-5),C=e.output,a=(i=e.next_out)-(t-e.avail_out),s=i+(e.avail_out-257),l=(n=e.state).dmax,u=n.wsize,c=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,h+=S[r++]<<(p+=8),p+=8),b=m[h&v];t:for(;;){if(h>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))C[i++]=65535&b;else{if(!(16&w)){if(64&w){if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}b=m[(65535&b)+(h&(1<<w)-1)];continue t}for(_=65535&b,(w&=15)&&(p<w&&(h+=S[r++]<<p,p+=8),_+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=S[r++]<<p,h+=S[r++]<<(p+=8),p+=8),b=g[h&y];;){if(h>>>=w=b>>>24,p-=w,16&(w=b>>>16&255)){if(x=65535&b,p<(w&=15)&&(h+=S[r++]<<p,(p+=8)<w&&(h+=S[r++]<<p,p+=8)),(x+=h&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,x>(w=i-a)){if((w=x-w)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,k=d,0===f){if(E+=u-w,w<_){_-=w;do{C[i++]=d[E++]}while(--w);E=i-x,k=C}}else if(f<w){if(E+=u+f-w,(w-=f)<_){_-=w;do{C[i++]=d[E++]}while(--w);if(E=0,f<_){_-=w=f;do{C[i++]=d[E++]}while(--w);E=i-x,k=C}}}else if(E+=f-w,w<_){_-=w;do{C[i++]=d[E++]}while(--w);E=i-x,k=C}for(;_>2;)C[i++]=k[E++],C[i++]=k[E++],C[i++]=k[E++],_-=3;_&&(C[i++]=k[E++],_>1&&(C[i++]=k[E++]))}else{E=i-x;do{C[i++]=C[E++],C[i++]=C[E++],C[i++]=C[E++],_-=3}while(_>2);_&&(C[i++]=C[E++],_>1&&(C[i++]=C[E++]))}break}if(64&w){e.msg="invalid distance code",n.mode=30;break e}b=g[(65535&b)+(h&(1<<w)-1)]}}break}}while(r<o&&i<s);h&=(1<<(p-=(_=p>>3)<<3))-1,e.next_in=r-=_,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=p},Zr=function(e,t,n,r,o,i,a,s){var l,u,c,f,d,h,p,m,g,v=s.bits,y=0,b=0,w=0,_=0,x=0,E=0,k=0,S=0,C=0,P=0,T=null,M=0,A=new $r.Buf16(16),O=new $r.Buf16(16),R=null,N=0;for(y=0;y<=15;y++)A[y]=0;for(b=0;b<r;b++)A[t[n+b]]++;for(x=v,_=15;_>=1&&0===A[_];_--);if(x>_&&(x=_),0===_)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(w=1;w<_&&0===A[w];w++);for(x<w&&(x=w),S=1,y=1;y<=15;y++)if(S<<=1,(S-=A[y])<0)return-1;if(S>0&&(0===e||1!==_))return-1;for(O[1]=0,y=1;y<15;y++)O[y+1]=O[y]+A[y];for(b=0;b<r;b++)0!==t[n+b]&&(a[O[t[n+b]]++]=b);if(0===e?(T=R=a,h=19):1===e?(T=Ur,M-=257,R=Hr,N-=257,h=256):(T=Vr,R=qr,h=-1),P=0,b=0,y=w,d=i,E=x,k=0,c=-1,f=(C=1<<x)-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){p=y-k,a[b]<h?(m=0,g=a[b]):a[b]>h?(m=R[N+a[b]],g=T[M+a[b]]):(m=96,g=0),l=1<<y-k,w=u=1<<E;do{o[d+(P>>k)+(u-=l)]=p<<24|m<<16|g}while(0!==u);for(l=1<<y-1;P&l;)l>>=1;if(0!==l?(P&=l-1,P+=l):P=0,b++,0==--A[y]){if(y===_)break;y=t[n+a[b]]}if(y>x&&(P&f)!==c){for(0===k&&(k=x),d+=w,S=1<<(E=y-k);E+k<_&&!((S-=A[E+k])<=0);)E++,S<<=1;if(C+=1<<E,1===e&&C>852||2===e&&C>592)return 1;o[c=P&f]=x<<24|E<<16|d-i}}return 0!==P&&(o[d+P]=y-k<<24|64<<16),s.bits=x,0},Kr=-2,Xr=12,Qr=30;function eo(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function to(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Gr.Buf16(320),this.work=new Gr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function no(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Gr.Buf32(852),t.distcode=t.distdyn=new Gr.Buf32(592),t.sane=1,t.back=-1,0):Kr}function ro(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,no(e)):Kr}function oo(e,t){var n,r;return e&&e.state?(t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Kr:(null!==(r=e.state).window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ro(e))):Kr}function io(e,t){var n,r;return e?(r=new to,e.state=r,r.window=null,0!==(n=oo(e,t))&&(e.state=null),n):Kr}var ao,so,lo=!0;function uo(e){if(lo){var t;for(ao=new Gr.Buf32(512),so=new Gr.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zr(1,e.lens,0,288,ao,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zr(2,e.lens,0,32,so,0,e.work,{bits:5}),lo=!1}e.lencode=ao,e.lenbits=9,e.distcode=so,e.distbits=5}function co(e,t,n,r){var o,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Gr.Buf8(i.wsize)),r>=i.wsize?(Gr.arraySet(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>r&&(o=r),Gr.arraySet(i.window,t,n-r,o,i.wnext),(r-=o)?(Gr.arraySet(i.window,t,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}Fr.inflateReset=ro,Fr.inflateReset2=oo,Fr.inflateResetKeep=no,Fr.inflateInit=function(e){return io(e,15)},Fr.inflateInit2=io,Fr.inflate=function(e,t){var n,r,o,i,a,s,l,u,c,f,d,h,p,m,g,v,y,b,w,_,x,E,k,S,C=0,P=new Gr.Buf8(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Kr;(n=e.state).mode===Xr&&(n.mode=13),a=e.next_out,o=e.output,i=e.next_in,r=e.input,u=n.hold,c=n.bits,f=s=e.avail_in,d=l=e.avail_out,E=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(2&n.wrap&&35615===u){n.check=0,P[0]=255&u,P[1]=u>>>8&255,n.check=Jr(n.check,P,2,0),u=0,c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Qr;break}if(8!=(15&u)){e.msg="unknown compression method",n.mode=Qr;break}if(c-=4,x=8+(15&(u>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=Qr;break}n.dmax=1<<x,e.adler=n.check=1,n.mode=512&u?10:Xr,u=0,c=0;break;case 2:for(;c<16;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(n.flags=u,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=Qr;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Qr;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(P[0]=255&u,P[1]=u>>>8&255,n.check=Jr(n.check,P,2,0)),u=0,c=0,n.mode=3;case 3:for(;c<32;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&(P[0]=255&u,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=Jr(n.check,P,4,0)),u=0,c=0,n.mode=4;case 4:for(;c<16;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(P[0]=255&u,P[1]=u>>>8&255,n.check=Jr(n.check,P,2,0)),u=0,c=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(P[0]=255&u,P[1]=u>>>8&255,n.check=Jr(n.check,P,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Gr.arraySet(n.head.extra,r,i,h,x)),512&n.flags&&(n.check=Jr(n.check,r,h,i)),s-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{x=r[i+h++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&(n.check=Jr(n.check,r,h,i)),s-=h,i+=h,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{x=r[i+h++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&(n.check=Jr(n.check,r,h,i)),s-=h,i+=h,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Qr;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Xr;break;case 10:for(;c<32;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}e.adler=n.check=eo(u),u=0,c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=u,n.bits=c,2;e.adler=n.check=1,n.mode=Xr;case Xr:if(5===t||6===t)break e;case 13:if(n.last){u>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}switch(n.last=1&u,c-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(uo(n),n.mode=20,6===t){u>>>=2,c-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Qr}u>>>=2,c-=2;break;case 14:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Qr;break}if(n.length=65535&u,u=0,c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;Gr.arraySet(o,r,i,h,a),s-=h,i+=h,l-=h,a+=h,n.length-=h;break}n.mode=Xr;break;case 17:for(;c<14;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(n.nlen=257+(31&u),c-=5,n.ndist=1+(31&(u>>>=5)),c-=5,n.ncode=4+(15&(u>>>=5)),u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Qr;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.lens[T[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E=Zr(0,n.lens,0,19,n.lencode,0,n.work,k={bits:n.lenbits}),n.lenbits=k.bits,E){e.msg="invalid code lengths set",n.mode=Qr;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(C=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&C,!((g=C>>>24)<=c);){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(y<16)u>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){for(S=g+2;c<S;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(u>>>=g,c-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Qr;break}x=n.lens[n.have-1],h=3+(3&u),u>>>=2,c-=2}else if(17===y){for(S=g+3;c<S;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}c-=g,x=0,h=3+(7&(u>>>=g)),u>>>=3,c-=3}else{for(S=g+7;c<S;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}c-=g,x=0,h=11+(127&(u>>>=g)),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Qr;break}for(;h--;)n.lens[n.have++]=x}}if(n.mode===Qr)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Qr;break}if(n.lenbits=9,E=Zr(1,n.lens,0,n.nlen,n.lencode,0,n.work,k={bits:n.lenbits}),n.lenbits=k.bits,E){e.msg="invalid literal/lengths set",n.mode=Qr;break}if(n.distbits=6,n.distcode=n.distdyn,E=Zr(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k={bits:n.distbits}),n.distbits=k.bits,E){e.msg="invalid distances set",n.mode=Qr;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=u,n.bits=c,Yr(e,d),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,u=n.hold,c=n.bits,n.mode===Xr&&(n.back=-1);break}for(n.back=0;v=(C=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&C,!((g=C>>>24)<=c);){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(v&&!(240&v)){for(b=g,w=v,_=y;v=(C=n.lencode[_+((u&(1<<b+w)-1)>>b)])>>>16&255,y=65535&C,!(b+(g=C>>>24)<=c);){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=g,c-=g,n.back+=g,n.length=y,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=Xr;break}if(64&v){e.msg="invalid literal/length code",n.mode=Qr;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(S=n.extra;c<S;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(C=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&C,!((g=C>>>24)<=c);){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(!(240&v)){for(b=g,w=v,_=y;v=(C=n.distcode[_+((u&(1<<b+w)-1)>>b)])>>>16&255,y=65535&C,!(b+(g=C>>>24)<=c);){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}u>>>=b,c-=b,n.back+=b}if(u>>>=g,c-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=Qr;break}n.offset=y,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(S=n.extra;c<S;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Qr;break}n.mode=25;case 25:if(0===l)break e;if(n.offset>(h=d-l)){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Qr;break}p=h>n.wnext?n.wsize-(h-=n.wnext):n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=o,p=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{o[a++]=m[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break e;s--,u|=r[i++]<<c,c+=8}if(e.total_out+=d-=l,n.total+=d,d&&(e.adler=n.check=n.flags?Jr(n.check,o,d,a-d):Wr(n.check,o,d,a-d)),d=l,(n.flags?u:eo(u))!==n.check){e.msg="incorrect data check",n.mode=Qr;break}u=0,c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break e;s--,u+=r[i++]<<c,c+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Qr;break}u=0,c=0}n.mode=29;case 29:E=1;break e;case Qr:E=-3;break e;case 31:return-4;default:return Kr}return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=u,n.bits=c,(n.wsize||d!==e.avail_out&&n.mode<Qr&&(n.mode<27||4!==t))&&co(e,e.output,e.next_out,d-e.avail_out),d-=e.avail_out,e.total_in+=f-=e.avail_in,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?Jr(n.check,o,d,e.next_out-d):Wr(n.check,o,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Xr?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===d||4===t)&&0===E&&(E=-5),E},Fr.inflateEnd=function(e){if(!e||!e.state)return Kr;var t=e.state;return t.window&&(t.window=null),e.state=null,0},Fr.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?(n.head=t,t.done=!1,0):Kr},Fr.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Kr:11===n.mode&&Wr(1,t,r,0)!==n.check?-3:co(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):Kr},Fr.inflateInfo="pako inflate (from Nodeca project)";var fo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ho=Fr,po=ln,mo=Er,go=fo,vo=Yn,yo=Ar,bo=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},wo=Object.prototype.toString;function _o(e){if(!(this instanceof _o))return new _o(e);this.options=po.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yo,this.strm.avail_out=0;var n=ho.inflateInit2(this.strm,t.windowBits);if(n!==go.Z_OK)throw new Error(vo[n]);if(this.header=new bo,ho.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=mo.string2buf(t.dictionary):"[object ArrayBuffer]"===wo.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ho.inflateSetDictionary(this.strm,t.dictionary))!==go.Z_OK))throw new Error(vo[n])}function xo(e,t){var n=new _o(t);if(n.push(e,!0),n.err)throw n.msg||vo[n.err];return n.result}_o.prototype.push=function(e,t){var n,r,o,i,a,s=this.strm,l=this.options.chunkSize,u=this.options.dictionary,c=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?go.Z_FINISH:go.Z_NO_FLUSH,s.input="string"==typeof e?mo.binstring2buf(e):"[object ArrayBuffer]"===wo.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new po.Buf8(l),s.next_out=0,s.avail_out=l),(n=ho.inflate(s,go.Z_NO_FLUSH))===go.Z_NEED_DICT&&u&&(n=ho.inflateSetDictionary(this.strm,u)),n===go.Z_BUF_ERROR&&!0===c&&(n=go.Z_OK,c=!1),n!==go.Z_STREAM_END&&n!==go.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==go.Z_STREAM_END&&(0!==s.avail_in||r!==go.Z_FINISH&&r!==go.Z_SYNC_FLUSH)||("string"===this.options.to?(o=mo.utf8border(s.output,s.next_out),i=s.next_out-o,a=mo.buf2string(s.output,o),s.next_out=i,s.avail_out=l-i,i&&po.arraySet(s.output,s.output,o,i,0),this.onData(a)):this.onData(po.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(c=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==go.Z_STREAM_END);return n===go.Z_STREAM_END&&(r=go.Z_FINISH),r===go.Z_FINISH?(n=ho.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===go.Z_OK):r!==go.Z_SYNC_FLUSH||(this.onEnd(go.Z_OK),s.avail_out=0,!0)},_o.prototype.onData=function(e){this.chunks.push(e)},_o.prototype.onEnd=function(e){e===go.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):po.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},zr.Inflate=_o,zr.inflate=xo,zr.inflateRaw=function(e,t){return(t=t||{}).raw=!0,xo(e,t)},zr.ungzip=xo;var Eo={};(0,ln.assign)(Eo,un,zr,fo);var ko=Eo;async function So(e){try{let t,n=0,r=0;const o=[];let i,a=0;do{const s=e.subarray(n);if(i=new ko.Inflate,({strm:t}=i),i.push(s,ko.Z_SYNC_FLUSH),i.err)throw new Error(i.msg);n+=t.next_in,o[r]=i.result,a+=o[r].length,r+=1}while(t.avail_in);const s=new Uint8Array(a);for(let e=0,t=0;e<o.length;e++)s.set(o[e],t),t+=o[e].length;return Zt.Buffer.from(s)}catch(e){if(/incorrect header check/.exec(`${e}`))throw new Error("problem decompressing block: incorrect gzip header check");throw e}}var Co=To,Po=null;try{Po=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(s_){}function To(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Mo(e){return!0===(e&&e.__isLong__)}Object.defineProperty(To.prototype,"__isLong__",{value:!0}),To.isLong=Mo;var Ao={},Oo={};function Ro(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=Oo[e])?r:(n=Io(e,(0|e)<0?-1:0,!0),o&&(Oo[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=Ao[e])?r:(n=Io(e,e<0?-1:0,!1),o&&(Ao[e]=n),n)}function No(e,t){if(isNaN(e))return t?Ho:Uo;if(t){if(e<0)return Ho;if(e>=zo)return Jo}else{if(e<=-Fo)return Yo;if(e+1>=Fo)return Wo}return e<0?No(-e,t).neg():Io(e%Do|0,e/Do|0,t)}function Io(e,t,n){return new To(e,t,n)}To.fromInt=Ro,To.fromNumber=No,To.fromBits=Io;var Lo=Math.pow;function Bo(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Uo;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return Bo(e.substring(1),t,n).neg();for(var o=No(Lo(n,8)),i=Uo,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),n);if(s<8){var u=No(Lo(n,s));i=i.mul(u).add(No(l))}else i=(i=i.mul(o)).add(No(l))}return i.unsigned=t,i}function jo(e,t){return"number"==typeof e?No(e,t):"string"==typeof e?Bo(e,t):Io(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}To.fromString=Bo,To.fromValue=jo;var Do=4294967296,zo=Do*Do,Fo=zo/2,$o=Ro(1<<24),Uo=Ro(0);To.ZERO=Uo;var Ho=Ro(0,!0);To.UZERO=Ho;var Vo=Ro(1);To.ONE=Vo;var qo=Ro(1,!0);To.UONE=qo;var Go=Ro(-1);To.NEG_ONE=Go;var Wo=Io(-1,2147483647,!1);To.MAX_VALUE=Wo;var Jo=Io(-1,-1,!0);To.MAX_UNSIGNED_VALUE=Jo;var Yo=Io(0,-2147483648,!1);To.MIN_VALUE=Yo;var Zo=To.prototype;Zo.toInt=function(){return this.unsigned?this.low>>>0:this.low},Zo.toNumber=function(){return this.unsigned?(this.high>>>0)*Do+(this.low>>>0):this.high*Do+(this.low>>>0)},Zo.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Yo)){var t=No(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=No(Lo(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),l=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Zo.getHighBits=function(){return this.high},Zo.getHighBitsUnsigned=function(){return this.high>>>0},Zo.getLowBits=function(){return this.low},Zo.getLowBitsUnsigned=function(){return this.low>>>0},Zo.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Yo)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},Zo.isZero=function(){return 0===this.high&&0===this.low},Zo.eqz=Zo.isZero,Zo.isNegative=function(){return!this.unsigned&&this.high<0},Zo.isPositive=function(){return this.unsigned||this.high>=0},Zo.isOdd=function(){return!(1&~this.low)},Zo.isEven=function(){return!(1&this.low)},Zo.equals=function(e){return Mo(e)||(e=jo(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},Zo.eq=Zo.equals,Zo.notEquals=function(e){return!this.eq(e)},Zo.neq=Zo.notEquals,Zo.ne=Zo.notEquals,Zo.lessThan=function(e){return this.comp(e)<0},Zo.lt=Zo.lessThan,Zo.lessThanOrEqual=function(e){return this.comp(e)<=0},Zo.lte=Zo.lessThanOrEqual,Zo.le=Zo.lessThanOrEqual,Zo.greaterThan=function(e){return this.comp(e)>0},Zo.gt=Zo.greaterThan,Zo.greaterThanOrEqual=function(e){return this.comp(e)>=0},Zo.gte=Zo.greaterThanOrEqual,Zo.ge=Zo.greaterThanOrEqual,Zo.compare=function(e){if(Mo(e)||(e=jo(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Zo.comp=Zo.compare,Zo.negate=function(){return!this.unsigned&&this.eq(Yo)?Yo:this.not().add(Vo)},Zo.neg=Zo.negate,Zo.add=function(e){Mo(e)||(e=jo(e));var t=0,n=0,r=0,o=0;return r+=(o+=(65535&this.low)+(65535&e.low))>>>16,n+=(r+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),Io((r&=65535)<<16|(o&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},Zo.subtract=function(e){return Mo(e)||(e=jo(e)),this.add(e.neg())},Zo.sub=Zo.subtract,Zo.multiply=function(e){if(this.isZero())return Uo;if(Mo(e)||(e=jo(e)),Po)return Io(Po.mul(this.low,this.high,e.low,e.high),Po.get_high(),this.unsigned);if(e.isZero())return Uo;if(this.eq(Yo))return e.isOdd()?Yo:Uo;if(e.eq(Yo))return this.isOdd()?Yo:Uo;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt($o)&&e.lt($o))return No(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,n=this.low>>>16,r=65535&this.low,o=65535&e.high,i=e.low>>>16,a=65535&e.low,s=0,l=0,u=0,c=0;return u+=(c+=r*a)>>>16,l+=(u+=n*a)>>>16,u&=65535,l+=(u+=r*i)>>>16,s+=(l+=t*a)>>>16,l&=65535,s+=(l+=n*i)>>>16,l&=65535,s+=(l+=r*o)>>>16,s+=(this.high>>>16)*a+t*i+n*o+r*(e.high>>>16),Io((u&=65535)<<16|(c&=65535),(s&=65535)<<16|(l&=65535),this.unsigned)},Zo.mul=Zo.multiply,Zo.divide=function(e){if(Mo(e)||(e=jo(e)),e.isZero())throw Error("division by zero");var t,n,r;if(Po)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Io((this.unsigned?Po.div_u:Po.div_s)(this.low,this.high,e.low,e.high),Po.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ho:Uo;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ho;if(e.gt(this.shru(1)))return qo;r=Ho}else{if(this.eq(Yo))return e.eq(Vo)||e.eq(Go)?Yo:e.eq(Yo)?Vo:(t=this.shr(1).div(e).shl(1)).eq(Uo)?e.isNegative()?Vo:Go:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Yo))return this.unsigned?Ho:Uo;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Uo}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),i=o<=48?1:Lo(2,o-48),a=No(t),s=a.mul(e);s.isNegative()||s.gt(n);)s=(a=No(t-=i,this.unsigned)).mul(e);a.isZero()&&(a=Vo),r=r.add(a),n=n.sub(s)}return r},Zo.div=Zo.divide,Zo.modulo=function(e){return Mo(e)||(e=jo(e)),Po?Io((this.unsigned?Po.rem_u:Po.rem_s)(this.low,this.high,e.low,e.high),Po.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Zo.mod=Zo.modulo,Zo.rem=Zo.modulo,Zo.not=function(){return Io(~this.low,~this.high,this.unsigned)},Zo.and=function(e){return Mo(e)||(e=jo(e)),Io(this.low&e.low,this.high&e.high,this.unsigned)},Zo.or=function(e){return Mo(e)||(e=jo(e)),Io(this.low|e.low,this.high|e.high,this.unsigned)},Zo.xor=function(e){return Mo(e)||(e=jo(e)),Io(this.low^e.low,this.high^e.high,this.unsigned)},Zo.shiftLeft=function(e){return Mo(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Io(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Io(0,this.low<<e-32,this.unsigned)},Zo.shl=Zo.shiftLeft,Zo.shiftRight=function(e){return Mo(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Io(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Io(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Zo.shr=Zo.shiftRight,Zo.shiftRightUnsigned=function(e){if(Mo(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?Io(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Io(32===e?t:t>>>e-32,0,this.unsigned)},Zo.shru=Zo.shiftRightUnsigned,Zo.shr_u=Zo.shiftRightUnsigned,Zo.toSigned=function(){return this.unsigned?Io(this.low,this.high,!1):this},Zo.toUnsigned=function(){return this.unsigned?this:Io(this.low,this.high,!0)},Zo.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Zo.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Zo.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},To.fromBytes=function(e,t,n){return n?To.fromBytesLE(e,t):To.fromBytesBE(e,t)},To.fromBytesLE=function(e,t){return new To(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},To.fromBytesBE=function(e,t){return new To(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};class Ko{constructor({filehandle:e,path:t}){if(e)this.filehandle=e;else{if(!t)throw new TypeError("either filehandle or path must be defined");this.filehandle=new sn(t)}}_readLongWithOverflow(e,t=0,n=!0){const r=Co.fromBytesLE(e.slice(t,t+8),n);if(r.greaterThan(Number.MAX_SAFE_INTEGER)||r.lessThan(Number.MIN_SAFE_INTEGER))throw new TypeError("integer overflow");return r.toNumber()}_getIndex(){return this.index||(this.index=this._readIndex()),this.index}async _readIndex(){let e=Zt.Buffer.allocUnsafe(8);await this.filehandle.read(e,0,8,0);const t=this._readLongWithOverflow(e,0,!0);if(!t)return[[0,0]];const n=new Array(t+1);n[0]=[0,0];const r=16*t;if(r>Number.MAX_SAFE_INTEGER)throw new TypeError("integer overflow");e=Zt.Buffer.allocUnsafe(r),await this.filehandle.read(e,0,r,8);for(let r=0;r<t;r+=1){const t=this._readLongWithOverflow(e,16*r),o=this._readLongWithOverflow(e,16*r+8);n[r+1]=[t,o]}return n}async getLastBlock(){const e=await this._getIndex();if(e.length)return e[e.length-1]}async getRelevantBlocksForRead(e,t){const n=t+e;if(0===e)return[];const r=await this._getIndex(),o=[],i=(e,n)=>{const r=e[1];return r<=t&&(n?n[1]:Infinity)>t?0:r<t?-1:1};let a=0,s=r.length-1,l=Math.floor(r.length/2),u=i(r[l],r[l+1]);for(;0!==u;)u>0?s=l-1:u<0&&(a=l+1),l=Math.ceil((s-a)/2)+a,u=i(r[l],r[l+1]);o.push(r[l]);let c=l+1;for(;c<r.length&&(o.push(r[c]),!(r[c][1]>=n));c+=1);return o[o.length-1][1]<n&&o.push([]),o}}var Xo={__proto__:null,BgzfFilehandle:class{constructor({filehandle:e,path:t,gziFilehandle:n,gziPath:r}){if(e)this.filehandle=e;else{if(!t)throw new TypeError("either filehandle or path must be defined");this.filehandle=new sn(t)}if(!n&&!r&&!t)throw new TypeError("either gziFilehandle or gziPath must be defined");this.gzi=new Ko({filehandle:n,path:n||r||!t?`${t}.gzi`:r})}async stat(){const e=await this.filehandle.stat();return Object.assign(e,{size:await this.getUncompressedFileSize(),blocks:void 0,blksize:void 0})}async getUncompressedFileSize(){const[,e]=await this.gzi.getLastBlock(),{size:t}=await this.filehandle.stat(),n=Zt.Buffer.allocUnsafe(4),{bytesRead:r}=await this.filehandle.read(n,0,4,t-28-4);if(4!==r)throw new Error("read error");return e+n.readUInt32LE(0)}async _readAndUncompressBlock(e,[t],[n]){let r=n;r||(r=(await this.filehandle.stat()).size);const o=r-t;return await this.filehandle.read(e,0,o,t),await So(e.slice(0,o))}async read(e,t,n,r){const o=await this.gzi.getRelevantBlocksForRead(n,r),i=Zt.Buffer.allocUnsafe(65536);let a=t,s=0;for(let t=0;t<o.length-1;t+=1){const l=await this._readAndUncompressBlock(i,o[t],o[t+1]),[,u]=o[t],c=u>=r?0:r-u,f=Math.min(r+n,u+l.length)-u;c>=0&&c<l.length&&(l.copy(e,a,c,f),a+=f-c,s+=f-c)}return{bytesRead:s,buffer:e}}},unzip:So,unzipChunk:async function(e){try{let t,n=0,r=0;const o=[],i=[],a=[];do{const s=e.slice(n),l=new ko.Inflate;if(({strm:t}=l),l.push(s,ko.Z_SYNC_FLUSH),l.err)throw new Error(l.msg);const u=Zt.Buffer.from(l.result);o.push(u),i.push(n),a.push(r),n+=t.next_in,r+=u.length}while(t.avail_in);return{buffer:Zt.Buffer.concat(o),cpositions:i,dpositions:a}}catch(e){if(/incorrect header check/.exec(`${e}`))throw new Error("problem decompressing block: incorrect gzip header check");throw e}},unzipChunkSlice:async function(e,t){try{let n;const{minv:r,maxv:o}=t;let i=r.blockPosition,a=r.dataPosition;const s=[],l=[],u=[];let c=0,f=0;do{const t=e.subarray(i-r.blockPosition),d=new ko.Inflate;if(({strm:n}=d),d.push(t,ko.Z_SYNC_FLUSH),d.err)throw new Error(d.msg);const h=d.result;s.push(h);let p=h.length;l.push(i),u.push(a),1===s.length&&r.dataPosition&&(s[0]=s[0].subarray(r.dataPosition),p=s[0].length);const m=i;if(i+=n.next_in,a+=p,m>=o.blockPosition){s[f]=s[f].subarray(0,o.blockPosition===r.blockPosition?o.dataPosition-r.dataPosition+1:o.dataPosition+1),l.push(i),u.push(a),c+=s[f].length;break}c+=s[f].length,f++}while(n.avail_in);const d=new Uint8Array(c);for(let e=0,t=0;e<s.length;e++)d.set(s[e],t),t+=s[e].length;return{buffer:Zt.Buffer.from(d),cpositions:l,dpositions:u}}catch(e){if(/incorrect header check/.exec(`${e}`))throw new Error("problem decompressing block: incorrect gzip header check");throw e}}},Qo=U(Xo),ei={};Object.defineProperty(ei,"__esModule",{value:!0}),ei.default=function(){const e=(0,ti.useRef)(null),[t,n]=(0,ti.useState)({width:void 0,height:void 0});return(0,ti.useEffect)((()=>{if(!e.current)return;const t="undefined"!=typeof window&&"ResizeObserver"in window?window.ResizeObserver:void 0;if(!t)return;const r=new t((e=>{n({width:e[0].contentRect.width,height:e[0].contentRect.height})}));return r.observe(e.current),()=>{r.disconnect()}}),[]),[e,t]};const ti=M.default;var ni=function(e){return"object"==typeof e&&null!==e},ri={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});var ii={grad:.9,turn:360,rad:360/(2*Math.PI)},ai=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},si=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},li=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},ui=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},ci=function(e){return{r:li(e.r,0,255),g:li(e.g,0,255),b:li(e.b,0,255),a:li(e.a)}},fi=function(e){return{r:si(e.r),g:si(e.g),b:si(e.b),a:si(e.a,3)}},di=/^#([0-9a-f]{3,8})$/i,hi=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},pi=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),s=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:o}},mi=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),s=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),u=i%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u],a:o}},gi=function(e){return{h:ui(e.h),s:li(e.s,0,100),l:li(e.l,0,100),a:li(e.a)}},vi=function(e){return{h:si(e.h),s:si(e.s),l:si(e.l),a:si(e.a,3)}},yi=function(e){return mi((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},bi=function(e){return{h:(t=pi(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},wi=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_i=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xi=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ei=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ki={string:[[function(e){var t=di.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?si(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?si(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=xi.exec(e)||Ei.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:ci({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=wi.exec(e)||_i.exec(e);if(!t)return null;var n,r,o=gi({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(ii[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return yi(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=void 0===o?1:o;return ai(t)&&ai(n)&&ai(r)?ci({r:Number(t),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,i=void 0===o?1:o;if(!ai(t)||!ai(n)||!ai(r))return null;var a=gi({h:Number(t),s:Number(n),l:Number(r),a:Number(i)});return yi(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,i=void 0===o?1:o;if(!ai(t)||!ai(n)||!ai(r))return null;var a=function(e){return{h:ui(e.h),s:li(e.s,0,100),v:li(e.v,0,100),a:li(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(i)});return mi(a)},"hsv"]]},Si=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Ci=function(e){return"string"==typeof e?Si(e.trim(),ki.string):"object"==typeof e&&null!==e?Si(e,ki.object):[null,void 0]},Pi=function(e,t){var n=bi(e);return{h:n.h,s:li(n.s+100*t,0,100),l:n.l,a:n.a}},Ti=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Mi=function(e,t){var n=bi(e);return{h:n.h,s:n.s,l:li(n.l+100*t,0,100),a:n.a}},Ai=function(){function e(e){this.parsed=Ci(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return si(Ti(this.rgba),2)},e.prototype.isDark=function(){return Ti(this.rgba)<.5},e.prototype.isLight=function(){return Ti(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=fi(this.rgba)).r,n=e.g,r=e.b,i=(o=e.a)<1?hi(si(255*o)):"","#"+hi(t)+hi(n)+hi(r)+i;var e,t,n,r,o,i},e.prototype.toRgb=function(){return fi(this.rgba)},e.prototype.toRgbString=function(){return t=(e=fi(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return vi(bi(this.rgba))},e.prototype.toHslString=function(){return t=(e=vi(bi(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=pi(this.rgba),{h:si(e.h),s:si(e.s),v:si(e.v),a:si(e.a,3)};var e},e.prototype.invert=function(){return Oi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Oi(Pi(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Oi(Pi(this.rgba,-e))},e.prototype.grayscale=function(){return Oi(Pi(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Oi(Mi(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Oi(Mi(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Oi({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):si(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=bi(this.rgba);return"number"==typeof e?Oi({h:e,s:t.s,l:t.l,a:t.a}):si(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Oi(e).toHex()},e}(),Oi=function(e){return e instanceof Ai?e:new Ai(e)},Ri=[];oi.Colord=Ai,oi.colord=Oi,oi.extend=function(e){e.forEach((function(e){Ri.indexOf(e)<0&&(e(Ai,ki),Ri.push(e))}))},oi.getFormat=function(e){return Ci(e)[1]},oi.random=function(){return new Ai({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};var Ni=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Ii=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Li=function(e){return 255*(e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e)},Bi=96.422,ji=82.521,Di=function(e){var t=Ii(e.r),n=Ii(e.g),r=Ii(e.b);return function(e){return{x:Ni(e.x,0,Bi),y:Ni(e.y,0,100),z:Ni(e.z,0,ji),a:Ni(e.a)}}(function(e){return{x:1.0478112*e.x+.0228866*e.y+-.050127*e.z,y:.0295424*e.x+.9904844*e.y+-.0170491*e.z,z:-.0092345*e.x+.0150436*e.y+.7521316*e.z,a:e.a}}({x:100*(.4124564*t+.3575761*n+.1804375*r),y:100*(.2126729*t+.7151522*n+.072175*r),z:100*(.0193339*t+.119192*n+.9503041*r),a:e.a}))},zi=216/24389,Fi=24389/27,$i=function(e){var t=Di(e),n=t.x/Bi,r=t.y/100,o=t.z/ji;return n=n>zi?Math.cbrt(n):(Fi*n+16)/116,{l:116*(r=r>zi?Math.cbrt(r):(Fi*r+16)/116)-16,a:500*(n-r),b:200*(r-(o=o>zi?Math.cbrt(o):(Fi*o+16)/116)),alpha:t.a}},Ui=function(e){function t(e,t,n){void 0===n&&(n=5);for(var r=[],o=1/(n-1),i=0;i<=n-1;i++)r.push(e.mix(t,o*i));return r}e.prototype.mix=function(t,n){void 0===n&&(n=.5);var r=t instanceof e?t:new e(t),o=function(e,t,n){var r,o=$i(e),i=$i(t);return function(e){var t=(e.l+16)/116,n=e.a/500+t,r=t-e.b/200;return function(e){var t,n,r=.9555766*(t=e).x+-.0230393*t.y+.0631636*t.z,o=-.0282895*t.x+1.0099416*t.y+.0210077*t.z,i=.0122982*t.x+-.020483*t.y+1.3299098*t.z;return n={r:Li(.032404542*r-.015371385*o-.004985314*i),g:Li(-.00969266*r+.018760108*o+41556e-8*i),b:Li(556434e-9*r-.002040259*o+.010572252*i),a:e.a},{r:Ni(n.r,0,255),g:Ni(n.g,0,255),b:Ni(n.b,0,255),a:Ni(n.a)}}({x:(Math.pow(n,3)>zi?Math.pow(n,3):(116*n-16)/Fi)*Bi,y:100*(e.l>8?Math.pow((e.l+16)/116,3):e.l/Fi),z:(Math.pow(r,3)>zi?Math.pow(r,3):(116*r-16)/Fi)*ji,a:e.alpha})}({l:Ni((r={l:o.l*(1-n)+i.l*n,a:o.a*(1-n)+i.a*n,b:o.b*(1-n)+i.b*n,alpha:o.alpha*(1-n)+i.alpha*n}).l,0,400),a:r.a,b:r.b,alpha:Ni(r.alpha)})}(this.toRgb(),r.toRgb(),n);return new e(o)},e.prototype.tints=function(e){return t(this,"#fff",e)},e.prototype.shades=function(e){return t(this,"#000",e)},e.prototype.tones=function(e){return t(this,"#808080",e)}},Hi=function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var i={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,a,s=r[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!i.length)for(var f in n)i[f]=new e(n[f]).toRgb();for(var d in n){var h=(o=l,a=i[d],Math.pow(o.r-a.r,2)+Math.pow(o.g-a.g,2)+Math.pow(o.b-a.b,2));h<u&&(u=h,c=d)}return c}},t.string.push([function(t){var r=t.toLowerCase(),o="transparent"===r?"#0000":n[r];return o?new e(o).toRgb():null},"name"])};!function(e){var t=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.colord=e.Colord=void 0;const n=oi,r=t(Ui),o=t(Hi);(0,n.extend)([r.default,o.default]);var i=oi;Object.defineProperty(e,"Colord",{enumerable:!0,get:function(){return i.Colord}}),Object.defineProperty(e,"colord",{enumerable:!0,get:function(){return i.colord}})}(ri);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.createStopToken=function(){var e;return(null===(e=URL.createObjectURL)||void 0===e?void 0:e.call(URL,new Blob))||`${Math.random()}`};var qi=Vi.stopStopToken=function(e){var t;null===(t=URL.revokeObjectURL)||void 0===t||t.call(URL,e)};Vi.checkStopToken=function(e){if("undefined"==typeof jest&&void 0!==e&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const t=new XMLHttpRequest;t.open("GET",e,!1);try{t.send(null)}catch(e){throw new Error("aborted")}}};var Gi={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});var Ji={},Yi={},Zi={},Ki={},Xi={},Qi={},ea={exports:{}},ta={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(ta);var na={exports:{}};!function(e){var t=nt.exports;function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(na);var ra={},oa={exports:{}},ia={exports:{}};!function(e){var t=ct.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(ia);var aa={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(aa);var sa={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(sa),function(e){var t=ia.exports,n=aa.exports,r=ut.exports,o=sa.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(oa);var la=(0,V.exports)(oa.exports),ua={functions:"Jexl Function",transforms:"Transform"};ra.ArrayLiteral=function(e){return this.evalArray(e.value)},ra.BinaryExpression=function(e){var t=this,n=this._grammar.elements[e.operator];if(n.evalOnDemand){var r=function(e){return{eval:function(){return t.eval(e)}}};return n.evalOnDemand(r(e.left),r(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then((function(e){return n.eval(e[0],e[1])}))},ra.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then((function(n){return n?e.consequent?t.eval(e.consequent):n:t.eval(e.alternate)}))},ra.FilterExpression=function(e){var t=this;return this.eval(e.subject).then((function(n){return e.relative?t._filterRelative(n,e.expr):t._filterStatic(n,e.expr)}))},ra.Identifier=function(e){return e.from?this.eval(e.from).then((function(t){if(null!=t)return Array.isArray(t)&&(t=t[0]),t[e.value]})):e.relative?this._relContext[e.value]:this._context[e.value]},ra.Literal=function(e){return e.value},ra.ObjectLiteral=function(e){return this.evalMap(e.value)},ra.FunctionCall=function(e){var t=ua[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var n=this._grammar[e.pool][e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then((function(e){return n.apply(void 0,(0,la.default)(e))}))},ra.UnaryExpression=function(e){var t=this;return this.eval(e.right).then((function(n){return t._grammar.elements[e.operator].eval(n)}))};var ca=V.exports,fa=ca(ta.exports),da=ca(na.exports),ha=ra,pa=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Promise;(0,fa.default)(this,e),this._grammar=t,this._context=n||{},this._relContext=r||this._context,this.Promise=o}return(0,da.default)(e,[{key:"eval",value:function(e){var t=this;return this.Promise.resolve().then((function(){return ha[e.type].call(t,e)}))}},{key:"evalArray",value:function(e){var t=this;return this.Promise.all(e.map((function(e){return t.eval(e)})))}},{key:"evalMap",value:function(e){var t=this,n=Object.keys(e),r={},o=n.map((function(n){return t.eval(e[n])}));return this.Promise.all(o).then((function(e){return e.forEach((function(e,t){r[n[t]]=e})),r}))}},{key:"_filterRelative",value:function(t,n){var r=this,o=[];return Array.isArray(t)||(t=void 0===t?[]:[t]),t.forEach((function(t){var i=new e(r._grammar,r._context,t,r.Promise);o.push(i.eval(n))})),this.Promise.all(o).then((function(e){var n=[];return e.forEach((function(e,r){e&&n.push(t[r])})),n}))}},{key:"_filterStatic",value:function(e,t){return this.eval(t).then((function(t){return"boolean"==typeof t?t?e:void 0:e[t]}))}}]),e}(),ma=pa,ga=V.exports,va=ga(ta.exports),ya=ga(na.exports),ba=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,wa=/^[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Z--0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,_a=/\\\\/,xa=/^\s*$/,Ea=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],ka=["[a-zA-Z--_---\\$][a-zA-Z0-9--_---\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],Sa=["binaryOp","unaryOp","openParen","openBracket","question","colon"],Ca=function(){function e(t){(0,va.default)(this,e),this._grammar=t}return(0,ya.default)(e,[{key:"getElements",value:function(e){var t=this._getSplitRegex();return e.split(t).filter((function(e){return e}))}},{key:"getTokens",value:function(e){for(var t=[],n=!1,r=0;r<e.length;r++)this._isWhitespace(e[r])?t.length&&(t[t.length-1].raw+=e[r]):"-"===e[r]&&this._isNegative(t)?n=!0:(n&&(e[r]="-"+e[r],n=!1),t.push(this._createToken(e[r])));return n&&t.push(this._createToken("-")),t}},{key:"tokenize",value:function(e){var t=this.getElements(e);return this.getTokens(t)}},{key:"_createToken",value:function(e){var t={type:"literal",value:e,raw:e};if('"'===e[0]||"'"===e[0])t.value=this._unquote(e);else if(e.match(ba))t.value=parseFloat(e);else if("true"===e||"false"===e)t.value="true"===e;else if(this._grammar.elements[e])t.type=this._grammar.elements[e].type;else{if(!e.match(wa))throw new Error("Invalid expression token: ".concat(e));t.type="identifier"}return t}},{key:"_escapeRegExp",value:function(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(wa)&&(e="\\b"+e+"\\b"),e}},{key:"_getSplitRegex",value:function(){var e=this;if(!this._splitRegex){var t=Object.keys(this._grammar.elements).sort((function(e,t){return t.length-e.length})).map((function(t){return e._escapeRegExp(t)}),this);this._splitRegex=new RegExp("("+[Ea.join("|"),t.join("|"),ka.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(e){return!e.length||Sa.some((function(t){return t===e[e.length-1].type}))}},{key:"_isWhitespace",value:function(e){return!!e.match(xa)}},{key:"_unquote",value:function(e){var t=e[0],n=new RegExp("\\\\"+t,"g");return e.substr(1,e.length-2).replace(n,t).replace(_a,"\\")}}]),e}(),Pa=Ca,Ta={argVal:function(e){e&&this._cursor.args.push(e)},arrayStart:function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},arrayVal:function(e){e&&this._cursor.value.push(e)},binaryOp:function(e){for(var t=this._grammar.elements[e.value].precedence||0,n=this._cursor._parent;n&&n.operator&&this._grammar.elements[n.operator].precedence>=t;)this._cursor=n,n=n._parent;var r={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,r),this._cursor=n,this._placeAtCursor(r)},dot:function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},filter:function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},functionCall:function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})},identifier:function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},literal:function(e){this._placeAtCursor({type:"Literal",value:e.value})},objKey:function(e){this._curObjKey=e.value},objStart:function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},objVal:function(e){this._cursor.value[this._curObjKey]=e},subExpression:function(e){this._placeAtCursor(e)},ternaryEnd:function(e){this._cursor.alternate=e},ternaryMid:function(e){this._cursor.consequent=e},ternaryStart:function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},transform:function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})},unaryOp:function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}},Ma={};Ma.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:Ta.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:Ta.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:Ta.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:Ta.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:Ta.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:Ta.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:Ta.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:Ta.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:Ta.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:Ta.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:Ta.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:Ta.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:Ta.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:Ta.ternaryEnd,completable:!0}};var Aa=V.exports,Oa=Aa(ta.exports),Ra=Aa(na.exports),Na=Ta,Ia=Ma.states,La=function(){function e(t,n,r){(0,Oa.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=n||"",this._relative=!1,this._stopMap=r||{}}return(0,Ra.default)(e,[{key:"addToken",value:function(e){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");var t=Ia[this._state],n=this._exprStr;if(this._exprStr+=e.raw,t.subHandler){this._subParser||this._startSubExpression(n);var r=this._subParser.addToken(e);if(r){if(this._endSubExpression(),this._parentStop)return r;this._state=r}}else{if(!t.tokenTypes[e.type]){if(this._stopMap[e.type])return this._stopMap[e.type];throw new Error("Token ".concat(e.raw," (").concat(e.type,") unexpected in expression: ").concat(this._exprStr))}var o=t.tokenTypes[e.type],i=Na[e.type];o.handler&&(i=o.handler),i&&i.call(this,e),o.toState&&(this._state=o.toState)}return!1}},{key:"addTokens",value:function(e){e.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!Ia[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){Ia[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(e){this._cursor?(this._cursor.right=e,this._setParent(e,this._cursor)):this._tree=e,this._cursor=e}},{key:"_placeBeforeCursor",value:function(e){this._cursor=this._cursor._parent,this._placeAtCursor(e)}},{key:"_setParent",value:function(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}},{key:"_startSubExpression",value:function(t){var n=Ia[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,t,n)}}]),e}(),Ba=La,ja=V.exports,Da=ja(ta.exports),za=ja(na.exports),Fa=function(){function e(t){(0,Da.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,za.default)(e,[{key:"catch",value:function(e){if(this.error)try{this._resolve(e(this.error))}catch(e){this._reject(e)}return this}},{key:"then",value:function(e,t){if(!this.error)try{this._resolve(e(this.value))}catch(e){this._reject(e)}return t&&this.catch(t),this}},{key:"_reject",value:function(e){this.value=void 0,this.error=e}},{key:"_resolve",value:function(t){t instanceof e?t.error?this._reject(t.error):this._resolve(t.value):(this.value=t,this.error=void 0)}}]),e}();Fa.all=function(e){return new Fa((function(t){t(e.map((function(e){for(;e instanceof Fa;){if(e.error)throw Error(e.error);e=e.value}return e})))}))},Fa.resolve=function(e){return new Fa((function(t){return t(e)}))},Fa.reject=function(e){return new Fa((function(t,n){return n(e)}))};var $a=Fa,Ua=V.exports,Ha=Ua(ta.exports),Va=Ua(na.exports),qa=ma,Ga=Pa,Wa=Ba,Ja=$a,Ya=function(){function e(t,n){(0,Ha.default)(this,e),this._grammar=t,this._exprStr=n,this._ast=null}return(0,Va.default)(e,[{key:"compile",value:function(){var e=new Ga(this._grammar),t=new Wa(this._grammar),n=e.tokenize(this._exprStr);return t.addTokens(n),this._ast=t.complete(),this}},{key:"eval",value:function(){return this._eval(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Promise)}},{key:"evalSync",value:function(){var e=this._eval(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ja);if(e.error)throw e.error;return e.value}},{key:"_eval",value:function(e,t){var n=this;return t.resolve().then((function(){var r=n._getAst();return new qa(n._grammar,e,void 0,t).eval(r)}))}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e}(),Za=Ya,Ka=V.exports,Xa=Ka(tt.exports),Qa=Ka(ta.exports),es=Ka(na.exports),ts=Za,ns=function(){function e(){(0,Qa.default)(this,e),this.expr=this.expr.bind(this),this._grammar={elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(e,t){return e+t}},"-":{type:"binaryOp",precedence:30,eval:function(e,t){return e-t}},"*":{type:"binaryOp",precedence:40,eval:function(e,t){return e*t}},"/":{type:"binaryOp",precedence:40,eval:function(e,t){return e/t}},"//":{type:"binaryOp",precedence:40,eval:function(e,t){return Math.floor(e/t)}},"%":{type:"binaryOp",precedence:50,eval:function(e,t){return e%t}},"^":{type:"binaryOp",precedence:50,eval:function(e,t){return Math.pow(e,t)}},"==":{type:"binaryOp",precedence:20,eval:function(e,t){return e==t}},"!=":{type:"binaryOp",precedence:20,eval:function(e,t){return e!=t}},">":{type:"binaryOp",precedence:20,eval:function(e,t){return e>t}},">=":{type:"binaryOp",precedence:20,eval:function(e,t){return e>=t}},"<":{type:"binaryOp",precedence:20,eval:function(e,t){return e<t}},"<=":{type:"binaryOp",precedence:20,eval:function(e,t){return e<=t}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e?t.eval():e}))}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e||t.eval()}))}},in:{type:"binaryOp",precedence:20,eval:function(e,t){return"string"==typeof t?-1!==t.indexOf(e):!!Array.isArray(t)&&t.some((function(t){return t===e}))}},"!":{type:"unaryOp",precedence:Infinity,eval:function(e){return!e}}},functions:{},transforms:{}}}return(0,es.default)(e,[{key:"addBinaryOp",value:function(e,t,n,r){this._addGrammarElement(e,(0,Xa.default)({type:"binaryOp",precedence:t},r?"evalOnDemand":"eval",n))}},{key:"addFunction",value:function(e,t){this._grammar.functions[e]=t}},{key:"addFunctions",value:function(e){for(var t in e)this._grammar.functions[t]=e[t]}},{key:"addUnaryOp",value:function(e,t){this._addGrammarElement(e,{type:"unaryOp",weight:Infinity,eval:t})}},{key:"addTransform",value:function(e,t){this._grammar.transforms[e]=t}},{key:"addTransforms",value:function(e){for(var t in e)this._grammar.transforms[t]=e[t]}},{key:"compile",value:function(e){return this.createExpression(e).compile()}},{key:"createExpression",value:function(e){return new ts(this._grammar,e)}},{key:"getFunction",value:function(e){return this._grammar.functions[e]}},{key:"getTransform",value:function(e){return this._grammar.transforms[e]}},{key:"eval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).eval(t)}},{key:"evalSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).evalSync(t)}},{key:"expr",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e.reduce((function(e,t,r){return e+(t+(r<n.length?n[r]:""))}),"");return this.createExpression(o)}},{key:"removeOp",value:function(e){!this._grammar.elements[e]||"binaryOp"!==this._grammar.elements[e].type&&"unaryOp"!==this._grammar.elements[e].type||delete this._grammar.elements[e]}},{key:"_addGrammarElement",value:function(e,t){this._grammar.elements[e]=t}}]),e}();ea.exports=new ns,ea.exports.Jexl=ns;var rs=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.default=function(){const e=new os.default.Jexl;return e.addFunction("get",((e,t)=>e.get(t))),e.addFunction("parent",(e=>e.parent())),e.addFunction("id",(e=>e.id())),e.addFunction("cast",(e=>e)),e.addFunction("log",(e=>(console.log(e),e))),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",((e,t)=>e.split(t))),e.addFunction("charAt",((e,t)=>e.charAt(t))),e.addFunction("charCodeAt",((e,t)=>e.charCodeAt(t))),e.addFunction("codePointAt",((e,t)=>e.codePointAt(t))),e.addFunction("startsWith",((e,t,n)=>e.startsWith(t,n))),e.addFunction("endsWith",((e,t,n)=>e.endsWith(t,n))),e.addFunction("padEnd",((e,t,n)=>e.padEnd(t,n))),e.addFunction("padStart",((e,t,n)=>e.padStart(t,n))),e.addFunction("repeat",((e,t)=>e.repeat(t))),e.addFunction("replace",((e,t,n)=>e.replace(t,n))),e.addFunction("replaceAll",((e,t,n)=>e.replaceAll(t,n))),e.addFunction("slice",((e,t,n)=>e.slice(t,n))),e.addFunction("startsWith",((e,t,n)=>e.startsWith(t,n))),e.addFunction("substring",((e,t,n)=>e.substring(t,n))),e.addFunction("toLowerCase",(e=>e.toLowerCase())),e.addFunction("toUpperCase",(e=>e.toUpperCase())),e.addFunction("jsonParse",(e=>JSON.parse(e))),e.addFunction("trim",(e=>e.trim())),e.addFunction("trimEnd",(e=>e.trimEnd())),e.addFunction("trimStart",(e=>e.trimStart())),e.addFunction("getTag",((e,t)=>{const n=e.get("tags");return n?n[t]:e.get(t)})),e.addBinaryOp("&",15,((e,t)=>e&t)),e};const os=rs(ea.exports);var is=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});var as=Xi.stringToJexlExpression=function(e,t){const n=`nosig|${e}`;if(!ls[n]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");const r=e.split("jexl:")[1],o=t?t.compile(r):(0,ss.default)().compile(r);ls[n]=o}return ls[n]};const ss=is(Qi),ls={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.default=function(e,{description:t="",model:n,type:r,defaultValue:o,contextVariable:i=[]}){if(!r)throw new Error("type name required");if(n||(n=hs[r]),!n)throw new Error(`no builtin config slot type "${r}", and no 'model' param provided`);if(void 0===o)throw new Error("no 'defaultValue' provided");const a=`${e.charAt(0).toUpperCase()}${e.slice(1)}ConfigSlot`;let s=us.types.model(a,{name:us.types.literal(e),description:us.types.literal(t),type:us.types.literal(r),value:us.types.optional(us.types.union(ys,n),o)}).volatile((()=>({contextVariable:i}))).views((e=>({get isCallback(){return String(e.value).startsWith("jexl:")}}))).views((e=>({get expr(){if(e.isCallback){const{pluginManager:t}=(0,cs.getEnv)(e);return t||"undefined"!=typeof jest||console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,fs.stringToJexlExpression)(String(e.value),null==t?void 0:t.jexl)}return{evalSync:()=>e.value}},get valueJSON(){var t;if(!e.isCallback)return(null==(t=e.value)?void 0:t.toJSON)?t.toJSON():`"${t}"`}}))).preProcessSnapshot((n=>"object"==typeof n&&n.name===e?n:{name:e,description:t,type:r,value:n})).postProcessSnapshot((e=>"object"==typeof e.value?JSON.stringify(e.value)!==JSON.stringify(o)?e.value:void 0:e.value!==o?e.value:void 0)).actions((e=>({set(t){e.value=t},reset(){e.value=o},convertToCallback(){e.isCallback||(e.value=`jexl:${e.valueJSON||"''"}`)},convertToValue(){if(e.isCallback){try{const t=e.expr.evalSync();if(void 0!==t)return void(e.value=t)}catch(e){}if(e.value=o,!(r in ps))throw new Error(`no fallbackDefault defined for type ${r}`);e.value=ps[r]}}})));vs[r]&&(s=s.extend(vs[r]));const l=us.types.optional(s,{name:e,type:r,description:t,value:o});return Object.defineProperty(l,"isJBrowseConfigurationSlot",{value:!0}),l};const us=T.default,cs=Yt,fs=Xi,ds=_e,hs={stringArray:us.types.array(us.types.string),stringArrayMap:us.types.map(us.types.array(us.types.string)),numberMap:us.types.map(us.types.number),boolean:us.types.boolean,color:us.types.refinement("Color",us.types.string,(function(){return!0})),integer:us.types.integer,number:us.types.number,string:us.types.string,text:us.types.string,fileLocation:ds.FileLocation,frozen:us.types.frozen()},ps={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},ms=e=>({views:{get valueJSON(){return e.value}}}),gs=e=>({views:{get valueJSON(){return JSON.stringify(e.value)}}}),vs={fileLocation:gs,number:ms,integer:ms,boolean:ms,frozen:gs,stringArray:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t){e.value.push(t)},removeAtIndex(t){e.value.splice(t,1)},setAtIndex(t,n){e.value[t]=n}}}),stringArrayMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,n){e.value.set(t,n)},remove(t){e.value.delete(t)},addToKey(t,n){const r=e.value.get(t);if(!r)throw new Error(`${t} not found`);r.push(n)},removeAtKeyIndex(t,n){const r=e.value.get(t);if(!r)throw new Error(`${t} not found`);r.splice(n,1)},setAtKeyIndex(t,n,r){const o=e.value.get(t);if(!o)throw new Error(`${t} not found`);o[n]=r}}}),numberMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,n){e.value.set(t,n)},remove(t){e.value.delete(t)}}})},ys=us.types.refinement("JexlString",us.types.string,(e=>e.startsWith("jexl:")));var bs={},ws={};Object.defineProperty(ws,"__esModule",{value:!0}),ws.getSubType=xs,ws.getUnionSubTypes=Es,ws.getPropertyType=function(e,t){return e.properties[t]},ws.getDefaultValue=function(e){if(!(0,_s.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue},ws.getEnumerationValues=function(e){return Es(e).map((e=>e.value))},ws.resolveLateType=function(e){return(0,_s.isUnionType)(e)||(0,_s.isArrayType)(e)||!(0,_s.isLateType)(e)?e:e.getSubType()};const _s=T.default;function xs(e){let t;if((0,_s.isOptionalType)(e))t=e._subtype||e.type;else{if(!(0,_s.isArrayType)(e)&&!(0,_s.isMapType)(e)){if("function"==typeof e.getSubType)return e.getSubType();throw new TypeError("unsupported mst type")}t=e._subtype||e._subType||e.subType}if(!t)throw new Error("failed to get subtype");return t}function Es(e){if(!(0,_s.isUnionType)(e))throw new TypeError("not an MST union type");const t=e._types||e.types||xs(e)._types||xs(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}Object.defineProperty(bs,"__esModule",{value:!0}),bs.readConfObject=Cs,bs.getConf=function(e,t,n){const{configuration:r}=e;if(Ms(r))return Cs(r,t,n);throw new TypeError("cannot getConf on this model, it has no configuration")},bs.getTypeNamesFromExplicitlyTypedUnion=function e(t){if((0,ks.isType)(t)&&(t=(0,Ss.resolveLateType)(t),(0,ks.isUnionType)(t))){const n=[];return(0,Ss.getUnionSubTypes)(t).forEach((t=>{t=(0,Ss.resolveLateType)(t);let r=e(t);if(r.length||(r=[(0,Ss.getDefaultValue)(t).type]),!r[0])throw new Error(`invalid config schema type ${t}`);n.push(...r)})),n}return[]},bs.isBareConfigurationSchemaType=Ps,bs.isConfigurationSchemaType=Ts,bs.isConfigurationModel=Ms,bs.isConfigurationSlotType=function(e){return"object"==typeof e&&null!==e&&"isJBrowseConfigurationSlot"in e};const ks=T.default,Ss=ws;function Cs(e,t,n={}){if(!t)return structuredClone((0,ks.getSnapshot)(e));if("string"!=typeof t){if(Array.isArray(t)){const r=t[0];if(t.length>1){const o=t.slice(1);let i=e[r];return!i&&(0,ks.isStateTreeNode)(e)&&(0,ks.isMapType)((0,ks.getType)(e))&&(i=e.get(r)),i?Cs(i,o,n):void 0}return Cs(e,r,n)}throw new TypeError("slotPath must be a string or array")}{let r=e[t];if(!r&&(0,ks.isStateTreeNode)(e)&&(0,ks.isMapType)((0,ks.getType)(e))&&(r=e.get(t)),r){const e=r.expr?r.expr.evalSync(n):r;return(0,ks.isStateTreeNode)(e)?JSON.parse(JSON.stringify((0,ks.getSnapshot)(e))):e}}}function Ps(e){if((0,ks.isType)(e)){if((0,ks.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema")))return!0;if((0,ks.isLateType)(e))return!0}return!1}function Ts(e){return!!(0,ks.isType)(e)&&(!!Ps(e)||((0,ks.isUnionType)(e)?(0,Ss.getUnionSubTypes)(e).every((e=>Ts(e)||"undefined"===e.name)):!(!(0,ks.isOptionalType)(e)||!Ts((0,Ss.getSubType)(e)))||!(!(0,ks.isArrayType)(e)||!Ts((0,Ss.getSubType)(e)))||!(!(0,ks.isMapType)(e)||!Ts((0,Ss.getSubType)(e)))))}function Ms(e){return(0,ks.isStateTreeNode)(e)&&Ts((0,ks.getType)(e))}var As=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.ConfigurationSchema=function(e,t,n){const{schemaDefinition:r,options:o}=function(e,t,n={}){var r;if("string"!=typeof e)throw new Error("first arg must be string name of the model that this config schema goes with");let o=t,i=n;return(null===(r=n.baseConfiguration)||void 0===r?void 0:r.jbrowseSchemaDefinition)&&(o={...n.baseConfiguration.jbrowseSchemaDefinition,...o},i={...n.baseConfiguration.jbrowseSchemaOptions,...n},i.baseConfiguration=void 0),{schemaDefinition:o,options:i}}(e,t,n),i=function(e,t,n){const r={};let o;if(n.explicitlyTyped&&(r.type=Os.types.optional(Os.types.literal(e),e)),n.explicitIdentifier&&n.implicitIdentifier)throw new Error(`Cannot have both explicit and implicit identifiers in ${e}`);n.explicitIdentifier?"string"==typeof n.explicitIdentifier?(r[n.explicitIdentifier]=Os.types.identifier,o=n.explicitIdentifier):(r.id=Os.types.identifier,o="id"):n.implicitIdentifier&&("string"==typeof n.implicitIdentifier?(r[n.implicitIdentifier]=Is.ElementId,o=n.implicitIdentifier):(r.id=Is.ElementId,o="id"));const i={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:n}};Object.entries(t).forEach((([t,n])=>{if((0,Os.isType)(n)&&(0,Os.isLateType)(n)||(0,Ns.isConfigurationSchemaType)(n))r[t]=n;else if("string"==typeof n||"number"==typeof n)i[t]=n;else{if("object"!=typeof n)throw new Error(`invalid configuration schema definition, "${t}" must be either a valid configuration slot definition, a constant, or a nested configuration schema`);if(!n.type)throw new Error(`no type set for config slot ${e}.${t}`);try{r[t]=(0,Rs.default)(t,n)}catch(n){throw new Error(`invalid config slot definition for ${e}.${t}: ${n}`)}}}));let a=Os.types.model(`${e}ConfigurationSchema`,r).actions((e=>({setSubschema(t,n){if(!(0,Ns.isConfigurationSchemaType)(r[t]))throw new Error(`${t} is not a subschema, cannot replace`);const o=(0,Os.isStateTreeNode)(n)?n:r[t].create(n);return e[t]=o,o}})));Object.keys(i).length&&(a=a.volatile((()=>i))),n.actions&&(a=a.actions(n.actions)),n.views&&(a=a.views(n.views)),n.extend&&(a=a.extend(n.extend));const s=o?{[o]:"placeholderId"}:{},l=n.explicitlyTyped?{type:e,...s}:s,u=(0,Os.getSnapshot)(a.create(l));return a=a.postProcessSnapshot((e=>{const t={};let n=!0;for(const[o,a]of Object.entries(e))n&&("object"==typeof u[o]&&"object"==typeof a?JSON.stringify(u[o])!==JSON.stringify(a)&&(n=!1):u[o]!==a&&(n=!1)),void 0===a||void 0!==i[o]||"object"==typeof(r=a)&&!Array.isArray(r)&&null!==r&&0===Object.keys(r).length||Ls(a)||(t[o]=a);var r;return n?{}:t})),n.preProcessSnapshot&&(a=a.preProcessSnapshot(n.preProcessSnapshot)),Os.types.optional(a,l)}(e,r,o);return i.isJBrowseConfigurationSchema=!0,i.jbrowseSchemaDefinition=r,i.jbrowseSchemaOptions=o,i},Zi.ConfigurationReference=function(e){return Os.types.union(Os.types.reference(e),e)};const Os=T.default,Rs=As(Ki),Ns=bs,Is=_e;function Ls(e){return Array.isArray(e)&&0===e.length}!function(e){var t=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=$&&$.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationSchema=e.ConfigurationReference=void 0;var r=Zi;Object.defineProperty(e,"ConfigurationReference",{enumerable:!0,get:function(){return r.ConfigurationReference}}),Object.defineProperty(e,"ConfigurationSchema",{enumerable:!0,get:function(){return r.ConfigurationSchema}}),n(bs,e)}(Yi);var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});class js extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)||(yield e)}for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)||(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const r="number"==typeof n&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)||(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)||(yield[t,n.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,o]=n;this._deleteIfExpired(r,o)||(yield[r,o.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,o]=n;this.cache.has(r)||this._deleteIfExpired(r,o)||(yield[r,o.value])}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[n,r]of this.entriesAscending())e.call(t,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}Bs.default=js;var Ds=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const zs=Yi,Fs=Ds(Bs);Ji.default=class{constructor(e){this.pluginManager=e,this.adapterCache=new Fs.default({maxSize:15})}loadTextSearchAdapters(e){return Promise.all(this.relevantAdapters(e).map((async e=>{const t=(0,zs.readConfObject)(e,"textSearchAdapterId"),n=this.adapterCache.get(t);if(n)return n;{const n=this.pluginManager.getTextSearchAdapterType(e.type),r=new(await n.getAdapterClass())(e,void 0,this.pluginManager);return this.adapterCache.set(t,r),r}})))}relevantAdapters(e){const t=this.pluginManager.rootModel,{aggregateTextSearchAdapters:n}=null==t?void 0:t.jbrowse,{tracks:r}=null==t?void 0:t.session,{assemblyName:o}=e;return[...this.getAdaptersWithAssembly(o,n),...this.getTrackAdaptersWithAssembly(o,r)]}getAdaptersWithAssembly(e,t){return t.filter((t=>{var n;return null===(n=(0,zs.readConfObject)(t,"assemblyNames"))||void 0===n?void 0:n.includes(e)}))}getTrackAdaptersWithAssembly(e,t){return t.filter((t=>{var n;return null===(n=(0,zs.readConfObject)(t,["textSearching","textSearchAdapter","assemblyNames"]))||void 0===n?void 0:n.includes(e)})).map((e=>e.textSearching.textSearchAdapter))}async search(e,t,n){const r=await this.loadTextSearchAdapters(t),o=await Promise.all(r.map((t=>t.searchIndex(e))));return this.sortResults(o.flat(),n)}sortResults(e,t){return t(e.sort(((e,t)=>-t.getLabel().localeCompare(e.getLabel())))).sort(((e,t)=>e.getScore()-t.getScore()))}},function(e){var t=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=$&&$.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)},r=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchManager=e.RetryError=e.AuthNeededError=void 0,e.isViewContainer=function(e){return(0,o.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e},e.isSessionModel=i,e.isSessionModelWithConfigEditing=function(e){return i(e)&&"editConfiguration"in e},e.isSessionWithAddTracks=function(e){return i(e)&&"addTrackConf"in e&&!e.disableAddTracks},e.isSessionWithShareURL=function(e){return i(e)&&"shareURL"in e&&!!e.shareURL},e.isSessionModelWithWidgets=function(e){return i(e)&&"widgets"in e},e.isSessionModelWithConnections=function(e){return i(e)&&"makeConnection"in e},e.isSessionModelWithConnectionEditing=function(e){return i(e)&&"addConnectionConf"in e},e.isSessionWithSessionPlugins=function(e){return i(e)&&"sessionPlugins"in e},e.isSelectionContainer=function(e){return"object"==typeof e&&null!==e&&"selection"in e&&"setSelection"in e},e.isViewModel=function(e){return"object"==typeof e&&null!==e&&"width"in e&&"setWidth"in e},e.isTrackModel=function(e){return"object"==typeof e&&null!==e&&"configuration"in e&&e.configuration.trackId},e.isDisplayModel=function(e){return"object"==typeof e&&null!==e&&"configuration"in e&&e.configuration.displayId},e.isTrackViewModel=function(e){return"object"==typeof e&&null!==e&&"showTrack"in e&&"hideTrack"in e},e.isAppRootModel=function(e){return"object"==typeof e&&null!==e&&"findAppropriateInternetAccount"in e},e.isRootModelWithInternetAccounts=function(e){return"object"==typeof e&&null!==e&&"internetAccounts"in e&&"findAppropriateInternetAccount"in e},e.isAbstractMenuManager=function(e){return"object"==typeof e&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e},e.isUriLocation=function(e){return"object"==typeof e&&null!==e&&"uri"in e&&!!e.uri},e.isLocalPathLocation=function(e){return"object"==typeof e&&null!==e&&"localPath"in e&&!!e.localPath},e.isBlobLocation=function(e){return"object"==typeof e&&null!==e&&"blobId"in e&&!!e.blobId},e.isAuthNeededException=function(e){return e instanceof Error&&("AuthNeededError"===e.name||void 0!==e.url)},e.isRetryException=function(e){return"RetryError"===e.name||void 0!==e.internetAccountId};const o=T.default;function i(e){return"object"==typeof e&&null!==e&&"rpcManager"in e&&"configuration"in e}n(Wi,e);class a extends Error{constructor(e,t){super(e),this.message=e,this.url=t,this.name="AuthNeededError",Object.setPrototypeOf(this,a.prototype)}}e.AuthNeededError=a;class s extends Error{constructor(e,t){super(e),this.message=e,this.internetAccountId=t,this.name="RetryError"}}e.RetryError=s;var l=Ji;Object.defineProperty(e,"TextSearchManager",{enumerable:!0,get:function(){return r(l).default}})}(Gi);var $s={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.when=void 0;var t=B.default;Object.defineProperty(e,"when",{enumerable:!0,get:function(){return t.when}})}($s);var Us={};Object.defineProperty(Us,"__esModule",{value:!0}),Us.intersection2=function(e,t,n,r){return t>n&&e<r&&r-n&&t-e?e>n?t<r?[e,t]:[e,r]:t<r?[n,t]:[n,r]:[]},Us.doesIntersect2=function(e,t,n,r){return t>n&&e<r},Us.isContainedWithin=function(e,t,n,r){return n<=e&&r>=t};var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.dedupe=function(e,t=JSON.stringify){const n=[],r=new Set;for(const o of e){const e=t(o);r.has(e)||(n.push(o),r.add(e))}return n};var Vs={},qs={},Gs={};const Ws={METHOD:"method",PROPERTY:"property"};class Js{constructor(e,t){this.inst=e,this.args=t}}const Ys={[Ws.METHOD]:class extends Js{constructor(e,t){super(e,t),this.type=Ws.METHOD}execute(e){e[this.inst](...this.args)}},[Ws.PROPERTY]:class extends Js{constructor(e,t){super(e,t),this.type=Ws.PROPERTY}execute(e){e[this.inst]=this.args[0]}}};class Zs{constructor(e,t,n){return new Ys[e](t,n)}}Object.entries(Ws).forEach((([e,t])=>{Object.defineProperty(Zs,e,{value:t,configurable:!1,enumerable:!0,writable:!1})})),Gs=Zs;const Ks=Object.freeze({METHODS:["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearHitRegions","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","removeHitRegion","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["direction","fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),Xs=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")});class Qs{constructor(e=null){this[Xs.sequence]=[],e&&this[Xs.fromJSON](e)}[Xs.fromJSON](e={sequence:[]}){e.sequence.forEach((({type:e,inst:t,args:n})=>{this[Xs.push](e,t,n)}))}[Xs.push](e,t,n){this[Xs.sequence].push(new Gs(e,t,n))}execute(e){e.save(),this[Xs.sequence].forEach((t=>t.execute(e))),e.restore()}toJSON(){return{sequence:this[Xs.sequence]}}}var el;Ks.METHODS.forEach((e=>{Object.defineProperty(Qs.prototype,e,{value:function(...t){this[Xs.push](Gs.METHOD,e,t)},writable:!1,enumerable:!0,configurable:!1})})),Ks.PROPERTIES.forEach((e=>{Object.defineProperty(Qs.prototype,e,{get(){throw`Invalid canvas sequencer interaction, cannot get ${e}.`},set(t){this[Xs.push](Gs.PROPERTY,e,[t])},enumerable:!0,configurable:!1})})),qs=Qs;const tl=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});el=class extends qs{build(e={}){const t=new qs;return this[tl.sequence].forEach((({type:n,inst:r,args:o})=>{const i=o.map((t=>"string"==typeof t?function(e,t){const n=e.replace(/^\{|\}$/gu,"");return n!==e?t.hasOwnProperty(n)?t[n]:n:e}(t,e):t));t[tl.push](n,r,i)})),t}execute(){throw new TypeError("Cannot execute a blueprint.")}};var nl={CanvasSequence:qs,CanvasBlueprint:el},rl="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function ol(){throw new Error("setTimeout has not been defined")}function il(){throw new Error("clearTimeout has not been defined")}var al=ol,sl=il;function ll(e){if(al===setTimeout)return setTimeout(e,0);if((al===ol||!al)&&setTimeout)return al=setTimeout,setTimeout(e,0);try{return al(e,0)}catch(t){try{return al.call(null,e,0)}catch(t){return al.call(this,e,0)}}}"function"==typeof rl.setTimeout&&(al=setTimeout),"function"==typeof rl.clearTimeout&&(sl=clearTimeout);var ul,cl=[],fl=!1,dl=-1;function hl(){fl&&ul&&(fl=!1,ul.length?cl=ul.concat(cl):dl=-1,cl.length&&pl())}function pl(){if(!fl){var e=ll(hl);fl=!0;for(var t=cl.length;t;){for(ul=cl,cl=[];++dl<t;)ul&&ul[dl].run();dl=-1,t=cl.length}ul=null,fl=!1,function(e){if(sl===clearTimeout)return clearTimeout(e);if((sl===il||!sl)&&clearTimeout)return sl=clearTimeout,clearTimeout(e);try{return sl(e)}catch(t){try{return sl.call(null,e)}catch(t){return sl.call(this,e)}}}(e)}}function ml(e,t){this.fun=e,this.array=t}function gl(){}ml.prototype.run=function(){this.fun.apply(null,this.array)};var vl=gl,yl=gl,bl=gl,wl=gl,_l=gl,xl=gl,El=gl,kl=rl.performance||{},Sl=kl.now||kl.mozNow||kl.msNow||kl.oNow||kl.webkitNow||function(){return(new Date).getTime()},Cl=new Date,Pl={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];cl.push(new ml(e,t)),1!==cl.length||fl||ll(pl)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:vl,addListener:yl,once:bl,off:wl,removeListener:_l,removeAllListeners:xl,emit:El,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Sl.call(kl),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Cl)/1e3}},Tl=U({__proto__:null,default:"[object process]"===Object.prototype.toString.call(Pl)}),Ml=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ImageBitmapType=Vs.createImageBitmap=Vs.createCanvas=void 0,Vs.drawImageOntoCanvasContext=function(e,t){e.serializedCommands?new Al.CanvasSequence(e.serializedCommands).execute(t):t.drawImage(e,0,0)};const Al=nl,Ol=Ml(Tl),Rl="function"==typeof OffscreenCanvas,Nl=Ol.default;Rl?(Vs.createCanvas=(e,t)=>new OffscreenCanvas(e,t),Vs.createImageBitmap=window.createImageBitmap||self.createImageBitmap,Vs.ImageBitmapType=window.ImageBitmap||self.ImageBitmap):Nl?(Vs.createCanvas=(...e)=>nodeCreateCanvas(...e),Vs.createImageBitmap=async e=>{const t=e.toDataURL(),n=new nodeImage;return new Promise(((e,r)=>{n.onload=()=>{e(n)},n.onerror=r,n.src=t}))}):(Vs.createCanvas=(e,t)=>{const n=new Al.CanvasSequence;return{width:e,height:t,getContext:()=>n}},Vs.createImageBitmap=async e=>{const t=e.getContext("2d");return{height:e.height,width:e.width,serializedCommands:t.toJSON(),containsNoTransferables:!0}},Vs.ImageBitmapType=String);var Il={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.blobToDataURL=function(e){const t=new FileReader;return new Promise(((n,r)=>{t.onload=e=>{e.target?n(e.target.result):r(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)}))};var Bl={exports:{}};!function(e){!function(){var t,n,r,o,i;function a(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function s(e){var t,n;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="";do{for(t="",n=0;n<12;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(51*Math.random())]}while(e[t]);return t}function l(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}i=function(e,t){var n,r,o,i={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",o=parseInt(e[n],t),i[r]="&#"+o+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),t={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},r=function(e,t){this.__root=e,this.__ctx=t},r.prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",a("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},o=function(e,t){this.__root=e,this.__ctx=t},n=function(e){var t,r={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((t=r).width=arguments[0],t.height=arguments[1]):t=e||r,!(this instanceof n))return new n(t);this.width=t.width||r.width,this.height=t.height||r.height,this.enableMirroring=void 0!==t.enableMirroring?t.enableMirroring:r.enableMirroring,this.canvas=this,this.__document=t.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},n.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r,o,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(n&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),r=0;r<a.length;r++)i.setAttribute(o=a[r],t[o]);return i},n.prototype.__setDefaultStyles=function(){var e,n,r=Object.keys(t);for(e=0;e<r.length;e++)this[n=r[e]]=t[n].canvas},n.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},n.prototype.__getStyleState=function(){var e,n,r={},o=Object.keys(t);for(e=0;e<o.length;e++)r[n=o[e]]=this[n];return r},n.prototype.__applyStyleToCurrentElement=function(e){var n,i,s,l,u,c=Object.keys(t);for(n=0;n<c.length;n++)if(s=this[c[n]],(i=t[c[n]]).apply)if(-1!==i.apply.indexOf("fill")&&s instanceof o){if(s.__ctx)for(;s.__ctx.__defs.childNodes.length;)l=s.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[l]=l,this.__defs.appendChild(s.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",a("url(#{id})",{id:s.__root.getAttribute("id")}))}else-1!==i.apply.indexOf("fill")&&s instanceof r?this.__currentElement.setAttribute("fill",a("url(#{id})",{id:s.__root.getAttribute("id")})):-1!==i.apply.indexOf(e)&&i.svg!==s&&("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||-1===s.indexOf("rgba")?this.__currentElement.setAttribute(i.svgAttr,s):(u=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(s),this.__currentElement.setAttribute(i.svgAttr,a("rgb({r},{g},{b})",{r:u[1],g:u[2],b:u[3]})),this.__currentElement.setAttribute(i.svgAttr+"-opacity",u[4])))},n.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},n.prototype.getSerializedSvg=function(e){var t,n,r,o,a,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(i),n=0;n<t.length;n++)o=i[r=t[n]],(a=new RegExp(r,"gi")).test(s)&&(s=s.replace(a,o));return s},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var e=this.__stack.pop();this.__applyStyleState(e)},n.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",this.__currentElement.setAttribute("transform",r+=e)},n.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(a("scale({x},{y})",{x:e,y:t}))},n.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(a("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},n.prototype.translate=function(e,t){this.__addTransform(a("translate({x},{y})",{x:e,y:t}))},n.prototype.transform=function(e,t,n,r,o,i){this.__addTransform(a("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:o,f:i}))},n.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},n.prototype.__applyCurrentDefaultPath=function(){if("path"!==this.__currentElement.nodeName)throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName);this.__currentElement.setAttribute("d",this.__currentDefaultPath)},n.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},n.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.closePath=function(){this.__addPathCommand("Z")},n.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(a("L {x} {y}",{x:e,y:t})):this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.__currentPosition={x:o,y:i},this.__addPathCommand(a("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:o,y:i}))},n.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(a("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var u=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};n.prototype.arcTo=function(e,t,n,r,o){var i=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==a){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(i===e&&a===t||e===n&&t===r||0===o)this.lineTo(e,t);else{var s=u([i-e,a-t]),l=u([n-e,r-t]);if(s[0]*l[1]!=s[1]*l[0]){var c=Math.acos(Math.abs(s[0]*l[0]+s[1]*l[1])),f=u([s[0]+l[0],s[1]+l[1]]),d=o/Math.sin(c/2),h=e+d*f[0],p=t+d*f[1],m=[-s[1],s[0]],g=[l[1],-l[0]],v=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},y=v(m),b=v(g);this.lineTo(h+m[0]*o,p+m[1]*o),this.arc(h,p,o,y,b)}else this.lineTo(e,t)}}},n.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},n.prototype.fillRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")},n.prototype.clearRect=function(e,t,n,r){var o,i=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),i.appendChild(o)},n.prototype.createLinearGradient=function(e,t,n,o){var i=this.__createElement("linearGradient",{id:s(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:o+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new r(i,this)},n.prototype.createRadialGradient=function(e,t,n,o,i,a){var l=this.__createElement("radialGradient",{id:s(this.__ids),cx:o+"px",cy:i+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new r(l,this)},n.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},n.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},n.prototype.__applyText=function(e,t,n,r){var o,i,a=this.__parseFont(),s=this.__closestGroupOrSvg(),u=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(o=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[o]||i.start),"dominant-baseline":l(this.textBaseline)},!0);u.appendChild(this.__document.createTextNode(e)),this.__currentElement=u,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,u))},n.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},n.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},n.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},n.prototype.arc=function(e,t,n,r,o,i){if(r!==o){(r%=2*Math.PI)==(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var s,l=e+n*Math.cos(o),u=t+n*Math.sin(o),c=e+n*Math.cos(r),f=t+n*Math.sin(r),d=i?0:1,h=o-r;h<0&&(h+=2*Math.PI),s=i?h>Math.PI?0:1:h>Math.PI?1:0,this.lineTo(c,f),this.__addPathCommand(a("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:s,sweepFlag:d,endX:l,endY:u})),this.__currentPosition={x:l,y:u}}},n.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=s(this.__ids),r=this.__createElement("g");e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",a("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},n.prototype.drawImage=function(){var e,t,r,o,i,a,s,l,u,c,f,d,h,p,m=Array.prototype.slice.call(arguments),g=m[0],v=0,y=0;if(3===m.length)e=m[1],t=m[2],r=i=g.width,o=a=g.height;else if(5===m.length)e=m[1],t=m[2],r=m[3],o=m[4],i=g.width,a=g.height;else{if(9!==m.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);v=m[1],y=m[2],i=m[3],a=m[4],e=m[5],t=m[6],r=m[7],o=m[8]}if(s=this.__closestGroupOrSvg(),f=this.__currentElement,g instanceof n){for(u=(l=g.getSvg()).childNodes[0];u.childNodes.length;)p=u.childNodes[0].getAttribute("id"),this.__ids[p]=p,this.__defs.appendChild(u.childNodes[0]);s.appendChild(c=l.childNodes[1]),this.__currentElement=c,this.translate(e,t),this.__currentElement=f}else"CANVAS"!==g.nodeName&&"IMG"!==g.nodeName||((d=this.__createElement("image")).setAttribute("width",r),d.setAttribute("height",o),d.setAttribute("preserveAspectRatio","none"),(v||y||i!==g.width||a!==g.height)&&((h=this.__document.createElement("canvas")).width=r,h.height=o,h.getContext("2d").drawImage(g,v,y,i,a,0,0,r,o),g=h),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===g.nodeName?g.toDataURL():g.getAttribute("src")),s.appendChild(d),this.__currentElement=d,this.translate(e,t),this.__currentElement=f)},n.prototype.createPattern=function(e,t){var r,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),a=s(this.__ids);return i.setAttribute("id",a),i.setAttribute("width",e.width),i.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((r=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),r.setAttribute("height",e.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),i.appendChild(r),this.__defs.appendChild(i)):e instanceof n&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new o(i,this)},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=n),e.exports=n}()}(Bl);var jl=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Dl=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zl=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&jl(t,e,n);return Dl(t,e),t},Fl=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.renderToAbstractCanvas=async function(e,t,n,r){const{exportSVG:o,highResolutionScaling:i=1}=n;if(o){if(o.rasterizeLayers){const n=o.scale||i,a=(0,Vl.createCanvas)(Math.ceil(e*n),t*n),s=a.getContext("2d");if(!s)throw new Error("2d canvas rendering not supported on this platform");return s.scale(n,n),{...await r(s),reactElement:$l.default.createElement("image",{width:e,height:t,xlinkHref:"convertToBlob"in a?await(0,Hl.blobToDataURL)(await a.convertToBlob({type:"image/png"})):a.toDataURL("image/png")})}}{const e=new Ul.CanvasSequence;return{...await r(e),canvasRecordedData:e.toJSON()}}}{const n=i,o=(0,Vl.createCanvas)(Math.ceil(e*n),t*n),a=o.getContext("2d");if(!a)throw new Error("2d canvas rendering not supported on this platform");return a.scale(n,n),{...await r(a),imageData:await(0,Vl.createImageBitmap)(o)}}},Il.getSerializedSvg=async function(e){const{width:t,height:n,canvasRecordedData:r}=e,o=new((await Promise.resolve().then((()=>zl(Bl.exports)))).default)(t,n);return new Ul.CanvasSequence(r).execute(o),o.getSvg().innerHTML},Il.ReactRendering=function({rendering:e}){return $l.default.isValidElement(e.reactElement)?e.reactElement:$l.default.createElement("g",{dangerouslySetInnerHTML:{__html:e.html||""}})};const $l=Fl(M.default),Ul=nl,Hl=Ll,Vl=Vs;var ql={};function Gl(e){return"uniqueId"in e&&"object"!=typeof e.data}Object.defineProperty(ql,"__esModule",{value:!0}),ql.isFeature=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.get&&"function"==typeof e.id};class Wl{constructor(e){var t;Gl(e)?this.data=e:(this.data=e.data,this.parentHandle=e.parent);const n=Gl(e)?e.uniqueId:e.id;if(null==n)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(n),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error(`invalid feature data, end less than start. end: ${this.data.end} start: ${this.data.start}`);this.data.subfeatures&&(this.subfeatures=null===(t=this.data.subfeatures)||void 0===t?void 0:t.map(((e,t)=>"function"!=typeof e.get?new Wl({id:e.uniqueId||`${n}-${t}`,data:{strand:this.data.strand,...e},parent:this}):e)))}get(e){return"subfeatures"===e?this.subfeatures:"parent"===e?this.parent():this.data[e]}set(e,t){this.data[e]=t}tags(){return Object.keys(this.data)}id(){return this.uniqueId}parent(){return this.parentHandle}children(){return this.get("subfeatures")}toJSON(){const e={...this.data,uniqueId:this.id()},t=this.parent();t&&(e.parentId=t.id());const n=this.children();return n&&(e.subfeatures=n.map((e=>e.toJSON()))),e}static fromJSON(e){return new Wl({...e})}}ql.default=Wl;var Jl={},Yl={},Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zl(e,t)};function Kl(e,t){function n(){this.constructor=e}Zl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Xl(e){return"function"==typeof e}var Ql=!1,eu={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){Ql=e},get useDeprecatedSynchronousErrorHandling(){return Ql}};function tu(e){setTimeout((function(){throw e}),0)}var nu={closed:!0,next:function(e){},error:function(e){if(eu.useDeprecatedSynchronousErrorHandling)throw e;tu(e)},complete:function(){}},ru=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function ou(e){return null!==e&&"object"==typeof e}var iu=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),au=iu,su=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(Xl(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(e){t=e instanceof au?lu(e.errors):[e]}}if(ru(a)){s=-1;for(var l=a.length;++s<l;){var u=a[s];if(ou(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof au?t=t.concat(lu(e.errors)):t.push(e)}}}if(t)throw new au(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function lu(e){return e.reduce((function(e,t){return e.concat(t instanceof au?t.errors:t)}),[])}var uu=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),cu=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=nu;break;case 1:if(!n){i.destination=nu;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new fu(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new fu(i,n,r,o)}return i}return Kl(t,e),t.prototype[uu]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(su),fu=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return Xl(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==nu&&(Xl((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=r,a._complete=o,a}return Kl(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;eu.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=eu.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):tu(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;tu(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};eu.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),eu.useDeprecatedSynchronousErrorHandling)throw e;tu(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!eu.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return eu.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(tu(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(cu);function du(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof cu?t:null}return!0}var hu=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function pu(e){return e}function mu(e){return 0===e.length?pu:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var gu=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof cu)return e;if(e[uu])return e[uu]()}return e||t||n?new cu(e,t,n):new cu(nu)}(e,t,n);if(o.add(r?r.call(o,this.source):this.source||eu.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),eu.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){eu.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),du(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=vu(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[hu]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:mu(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=vu(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function vu(e){if(e||(e=eu.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var yu=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),bu=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return Kl(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(su),wu=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return Kl(t,e),t}(cu),_u=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Kl(t,e),t.prototype[uu]=function(){return new wu(this)},t.prototype.lift=function(e){var t=new xu(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new yu;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new yu;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new yu;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new yu;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new yu;return this.hasError?(e.error(this.thrownError),su.EMPTY):this.isStopped?(e.complete(),su.EMPTY):(this.observers.push(e),new bu(this,e))},t.prototype.asObservable=function(){var e=new gu;return e.source=this,e},t.create=function(e,t){return new xu(e,t)},t}(gu),xu=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Kl(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):su.EMPTY},t}(_u),Eu=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new ku(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),ku=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return Kl(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(cu),Su=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return Kl(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new su).add(this.source.subscribe(new Cu(this.getSubject(),this))),e.closed&&(this._connection=null,e=su.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new Eu(e));var e},t}(gu),Cu=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return Kl(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(wu),Pu=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return Kl(t,e),t.prototype._subscribe=function(e){var t=new su,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new Tu(n)),t.add(r.subscribe(e)),t},t}(gu),Tu=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return Kl(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(su),Mu=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Kl(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yu;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(_u),Au=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Kl(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return Kl(t,e),t.prototype.schedule=function(e,t){return this},t}(su)),Ou=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Kl(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Au),Ru=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Nu=function(e){function t(n,r){void 0===r&&(r=Ru.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return Kl(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ru),Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kl(t,e),t}(Nu),Lu=new Iu(Ou),Bu=Lu,ju=new gu((function(e){return e.complete()}));function Du(e){return e?function(e){return new gu((function(t){return e.schedule((function(){return t.complete()}))}))}(e):ju}function zu(e){return e&&"function"==typeof e.schedule}var Fu,$u=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function Uu(e,t){return new gu((function(n){var r=new su,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Hu(e,t){return t?Uu(e,t):new gu($u(e))}function Vu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return zu(n)?(e.pop(),Uu(e,n)):Hu(e)}function qu(e,t){return new gu(t?function(n){return t.schedule(Gu,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Gu(e){e.subscriber.error(e.error)}Fu||(Fu={});var Wu=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Vu(this.value);case"E":return qu(this.error);case"C":return Du()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Ju=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return Kl(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Yu(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Wu.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Wu.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Wu.createComplete()),this.unsubscribe()},t}(cu),Yu=function(){return function(e,t){this.notification=e,this.destination=t}}(),Zu=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return Kl(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Ku(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new yu;if(this.isStopped||this.hasError?t=su.EMPTY:(this.observers.push(e),t=new bu(this,e)),o&&e.add(e=new Ju(e,o)),n)for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);else for(a=0;a<i&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||Bu).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(_u),Ku=function(){return function(e,t){this.time=e,this.value=t}}(),Xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return Kl(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),su.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),su.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(_u),Qu=1,ec=function(){return Promise.resolve()}(),tc={};function nc(e){return e in tc&&(delete tc[e],!0)}var rc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Kl(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=(o=t.flush.bind(t,null),i=Qu++,tc[i]=!0,ec.then((function(){return nc(i)&&o()})),i)));var o,i},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(nc(n),t.scheduled=void 0)},t}(Au),oc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kl(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(Nu),ic=new oc(rc),ac=ic,sc=new Nu(Au),lc=sc,uc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Kl(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(Au),cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kl(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(Nu),fc=new cc(uc),dc=fc,hc=function(e){function t(t,n){void 0===t&&(t=pc),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return Kl(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Nu),pc=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return Kl(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Au);function mc(){}var gc=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),vc=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),yc=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}();function bc(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new wc(e,t))}}var wc=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new _c(e,this.project,this.thisArg))},e}(),_c=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return Kl(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(cu);function xc(e){var t=this,n=e.args,r=e.subscriber,o=e.params,i=o.callbackFunc,a=o.context,s=o.scheduler,l=o.subject;if(!l){l=o.subject=new Xu;try{i.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(s.schedule(Ec,0,{value:e.length<=1?e[0]:e,subject:l}))}]))}catch(e){l.error(e)}}this.add(l.subscribe(r))}function Ec(e){var t=e.subject;t.next(e.value),t.complete()}function kc(e){var t=this,n=e.params,r=e.subscriber,o=e.context,i=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new Xu;try{i.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();t.add(r?s.schedule(Cc,0,{err:r,subject:l}):s.schedule(Sc,0,{value:e.length<=1?e[0]:e,subject:l}))}]))}catch(e){this.add(s.schedule(Cc,0,{err:e,subject:l}))}}this.add(l.subscribe(r))}function Sc(e){var t=e.subject;t.next(e.value),t.complete()}function Cc(e){e.subject.error(e.err)}var Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kl(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(cu),Tc=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return Kl(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(cu);function Mc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Ac=Mc(),Oc=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Rc(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Nc=function(e){if(e&&"function"==typeof e[hu])return r=e,function(e){var t=r[hu]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Oc(e))return $u(e);if(Rc(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,tu),e};if(e&&"function"==typeof e[Ac])return t=e,function(e){for(var n=t[Ac]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=ou(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ic(e,t,n,r,o){if(void 0===o&&(o=new Tc(e,n,r)),!o.closed)return t instanceof gu?t.subscribe(o):Nc(t)(o)}var Lc={},Bc=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new jc(e,this.resultSelector))},e}(),jc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return Kl(t,e),t.prototype._next=function(e){this.values.push(Lc),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(Ic(this,e[n],void 0,n))}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=this.toRespond?r[n]===Lc?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Pc);function Dc(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[hu]}(e))return function(e,t){return new gu((function(n){var r=new su;return r.add(t.schedule((function(){var o=e[hu]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Rc(e))return function(e,t){return new gu((function(n){var r=new su;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Oc(e))return Uu(e,t);if(function(e){return e&&"function"==typeof e[Ac]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new gu((function(n){var r,o=new su;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[Ac](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function zc(e,t){return t?Dc(e,t):e instanceof gu?e:new gu(Nc(e))}var Fc=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return Kl(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(cu),$c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kl(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(cu);function Uc(e,t){if(!t.closed){if(e instanceof gu)return e.subscribe(t);var n;try{n=Nc(e)(t)}catch(e){t.error(e)}return n}}function Hc(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Hc((function(n,r){return zc(e(n,r)).pipe(bc((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Vc(e,n))})}var Vc=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new qc(e,this.project,this.concurrent))},e}(),qc=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return Kl(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Fc(this),n=this.destination;n.add(t);var r=Uc(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}($c);function Gc(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Hc(pu,e)}function Wc(e){return new gu((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?zc(n):Du()).subscribe(t)}))}function Jc(e,t){return new gu((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,a=0,s=function(s){var l=zc(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),o[s]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},l=0;l<r;l++)s(l);else n.complete()}))}function Yc(e,t,n,r,o){var i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,o),i=function(){return a.removeEventListener(t,n,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),i=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var l=e;e.addListener(t,n),i=function(){return l.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,c=e.length;u<c;u++)Yc(e[u],t,n,r,o)}r.add(i)}function Zc(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function Kc(e){return!ru(e)&&e-parseFloat(e)+1>=0}function Xc(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var Qc=new gu(mc);function ef(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,i[a]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}function tf(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function nf(e,t){return function(n){return n.lift(new rf(e,t))}}var rf=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new of(e,this.predicate,this.thisArg))},e}(),of=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return Kl(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(cu),af=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new sf(e))},e}(),sf=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return Kl(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=Ic(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(Pc);function lf(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function uf(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var cf=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ff(e,this.resultSelector))},e}(),ff=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return Kl(t,e),t.prototype._next=function(e){var t=this.iterators;ru(e)?t.push(new hf(e)):t.push("function"==typeof e[Ac]?new df(e[Ac]()):new pf(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;var o=!1,i=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(cu),df=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),hf=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Ac]=function(){return this},e.prototype.next=function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),pf=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return Kl(t,e),t.prototype[Ac]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Uc(this.observable,new Fc(this))},t}($c),mf={__proto__:null,Observable:gu,ConnectableObservable:Su,GroupedObservable:Pu,observable:hu,Subject:_u,BehaviorSubject:Mu,ReplaySubject:Zu,AsyncSubject:Xu,asap:ac,asapScheduler:ic,async:lc,asyncScheduler:sc,queue:Bu,queueScheduler:Lu,animationFrame:dc,animationFrameScheduler:fc,VirtualTimeScheduler:hc,VirtualAction:pc,Scheduler:Ru,Subscription:su,Subscriber:cu,Notification:Wu,get NotificationKind(){return Fu},pipe:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mu(e)},noop:mc,identity:pu,isObservable:function(e){return!!e&&(e instanceof gu||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:gc,EmptyError:vc,ObjectUnsubscribedError:yu,UnsubscriptionError:au,TimeoutError:yc,bindCallback:function e(t,n,r){if(n){if(!zu(n))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return e(t,r).apply(void 0,o).pipe(bc((function(e){return ru(e)?n.apply(void 0,e):n(e)})))};r=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o,i=this,a={context:i,subject:o,callbackFunc:t,scheduler:r};return new gu((function(n){if(r)return r.schedule(xc,0,{args:e,subscriber:n,params:a});if(!o){o=new Xu;try{t.apply(i,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){du(o)?o.error(e):console.warn(e)}}return o.subscribe(n)}))}},bindNodeCallback:function e(t,n,r){if(n){if(!zu(n))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return e(t,r).apply(void 0,o).pipe(bc((function(e){return ru(e)?n.apply(void 0,e):n(e)})))};r=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new gu((function(n){var i=o.context,a=o.subject;if(r)return r.schedule(kc,0,{params:o,subscriber:n,context:i});if(!a){a=o.subject=new Xu;try{t.apply(i,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(e){du(a)?a.error(e):console.warn(e)}}return a.subscribe(n)}))}},combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return zu(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&ru(e[0])&&(e=e[0]),Hu(e,r).lift(new Bc(n))},concat:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gc(1)(Vu.apply(void 0,e))},defer:Wc,empty:Du,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(ru(n))return Jc(n,null);if(ou(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Jc(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Jc(e=1===e.length&&ru(e[0])?e[0]:e,null).pipe(bc((function(e){return o.apply(void 0,e)})))}return Jc(e,null)},from:zc,fromEvent:function e(t,n,r,o){return Xl(r)&&(o=r,r=void 0),o?e(t,n,r).pipe(bc((function(e){return ru(e)?o.apply(void 0,e):o(e)}))):new gu((function(e){Yc(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,r)}))},fromEventPattern:function e(t,n,r){return r?e(t,n).pipe(bc((function(e){return ru(e)?r.apply(void 0,e):r(e)}))):new gu((function(e){var r,o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void e.error(t)}if(Xl(n))return function(){return n(o,r)}}))},generate:function(e,t,n,r,o){var i,a;return 1==arguments.length?(a=e.initialState,t=e.condition,n=e.iterate,i=e.resultSelector||pu,o=e.scheduler):void 0===r||zu(r)?(a=e,i=pu,o=r):(a=e,i=r),new gu((function(e){var r=a;if(o)return o.schedule(Zc,0,{subscriber:e,iterate:n,condition:t,resultSelector:i,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){return void e.error(t)}if(!s){e.complete();break}}var l=void 0;try{l=i(r)}catch(t){return void e.error(t)}if(e.next(l),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))},iif:function(e,t,n){return void 0===t&&(t=ju),void 0===n&&(n=ju),Wc((function(){return e()?t:n}))},interval:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=lc),(!Kc(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=lc),new gu((function(n){return n.add(t.schedule(Xc,e,{subscriber:n,counter:0,period:e})),n}))},merge:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return zu(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof gu?e[0]:Gc(n)(Hu(e,r))},never:function(){return Qc},of:Vu,onErrorResumeNext:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return ju;var r=t[0],o=t.slice(1);return 1===t.length&&ru(r)?e.apply(void 0,r):new gu((function(t){var n=function(){return t.add(e.apply(void 0,o).subscribe(t))};return zc(r).subscribe({next:function(e){t.next(e)},error:n,complete:n})}))},pairs:function(e,t){return new gu(t?function(n){var r=Object.keys(e),o=new su;return o.add(t.schedule(ef,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()})},partition:function(e,t,n){return[nf(t,n)(new gu(Nc(e))),nf(tf(t,n))(new gu(Nc(e)))]},race:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!ru(e[0]))return e[0];e=e[0]}return Hu(e,void 0).lift(new af)},range:function(e,t,n){return void 0===e&&(e=0),new gu((function(r){void 0===t&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(lf,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}}))},throwError:qu,timer:function(e,t,n){void 0===e&&(e=0);var r=-1;return Kc(t)?r=Number(t)<1?1:Number(t):zu(t)&&(n=t),zu(n)||(n=lc),new gu((function(t){var o=Kc(e)?e:+e-n.now();return n.schedule(uf,o,{index:0,period:r,subscriber:t})}))},using:function(e,t){return new gu((function(n){var r,o;try{r=e()}catch(e){return void n.error(e)}try{o=t(r)}catch(e){return void n.error(e)}var i=(o?zc(o):ju).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))},zip:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Hu(e,void 0).lift(new cf(n))},scheduled:Dc,EMPTY:ju,NEVER:Qc,config:eu},gf=U(mf);Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.checkAbortSignal=bf,Yl.abortBreakPoint=async function(e){await new Promise((e=>setTimeout(e,1))),bf(e)},Yl.makeAbortError=wf,Yl.observeAbortSignal=function(e){return e?(0,vf.fromEvent)(e,"abort"):new vf.Observable},Yl.isAbortException=function(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!/\b(aborted|aborterror)\b/i.test(e.message))};const vf=gf;class yf extends Error{}function bf(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw wf()}}function wf(){if("undefined"!=typeof DOMException)return new DOMException("aborted","AbortError");const e=new yf("aborted");return e.code="ERR_ABORTED",e}Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.makeAbortableReaction=function(e,t,n,r,o,i,a){let s;function l(t){(0,Ef.isAbortException)(t)||(console.error(t),(0,xf.isAlive)(e)&&a(t))}(0,xf.addDisposer)(e,(0,_f.reaction)((()=>{try{return t(e)}catch(e){return void l(e)}}),(async(t,r)=>{if(s&&(0,kf.stopStopToken)(s),(0,xf.isAlive)(e)){s=(0,kf.createStopToken)(),o(s);try{const o=await n(t,s,e,r);(0,xf.isAlive)(e)&&i(o)}catch(e){l(e)}}}),r)),(0,xf.addDisposer)(e,(()=>{s&&(0,kf.stopStopToken)(s)}))};const _f=B.default,xf=T.default,Ef=Yl,kf=Vi;!function(e){var t=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=$&&$.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)},r=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.makeAbortableReaction=e.blobToDataURL=e.isFeature=e.SimpleFeature=e.defaultCodonTable=e.defaultStops=e.defaultStarts=e.rIC=e.complementTable=e.isElectron=void 0,e.useDebounce=function(e,t){const[n,r]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const n=setTimeout((()=>{r(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n},e.useWidthSetter=function(e,t){const[n,{width:r}]=(0,a.default)();return(0,o.useEffect)((()=>{r&&(0,l.isAlive)(e)&&requestAnimationFrame((()=>{e.setWidth(r-2*Number.parseInt(t,10))}))}),[t,e,r]),n},e.useDebouncedCallback=function(e,t=400){const n=(0,o.useRef)(),r=(0,o.useRef)();return(0,o.useEffect)((()=>{r.current&&clearTimeout(r.current)}),[]),function(...o){n.current=o,r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{n.current&&e(...n.current)}),t)}},e.findParentThat=h,e.springAnimate=function(e,t,n,r=()=>{},o=0,i=400,a=20,s=!0){let l;function u(c){const f=Date.now();let d=c.lastPosition,h=c.lastTime||f,p=c.lastVelocity||0;f>h+64&&(h=f);const m=Math.floor(f-h);for(let e=0;e<m;++e)p+=(-i*(d-t)+-a*p)/1*1/1e3,d+=1*p/1e3;const g=Math.abs(p)<=o,v=0===i||Math.abs(t-d)<=o;s&&0!==i&&(e<t?d>t:d<t)||g&&v?(n(t),r()):(n(d),l=requestAnimationFrame((()=>{u({lastPosition:d,lastTime:f,lastVelocity:p})})))}return o||(o=Math.abs(t-e)/1e3),[()=>{u({lastPosition:e})},()=>{cancelAnimationFrame(l)}]},e.findParentThatIs=p,e.getSession=function(e){try{return p(e,d.isSessionModel)}catch(e){throw new Error("no session model found!")}},e.getContainingView=m,e.getContainingTrack=function(e){try{return p(e,d.isTrackModel)}catch(e){throw new Error("no containing track found")}},e.getContainingDisplay=function(e){try{return p(e,d.isDisplayModel)}catch(e){throw new Error("no containing display found")}},e.assembleLocString=function(e){return g(e,R)},e.assembleLocStringFast=g,e.parseLocStringOneBased=v,e.parseLocString=y,e.compareLocs=b,e.compareLocStrings=function(e,t,n){return b(y(e,n),y(t,n))},e.clamp=function(e,t,n){return e<t?t:e>n?n:e},e.bpToPx=w,e.radToDeg=function(e){return e*_%360},e.degToRad=function(e){return e*x%(2*Math.PI)},e.polarToCartesian=function(e,t){return[e*Math.cos(t),e*Math.sin(t)]},e.cartesianToPolar=function(e,t){return[Math.sqrt(e*e+t*t),Math.atan(t/e)]},e.featureSpanPx=function(e,t,n){return E(e.get("start"),e.get("end"),t,n)},e.bpSpanPx=E,e.iterMap=function(e,t,n){const r=Array.from({length:n||0});let o=0;for(const n of e)r[o]=t(n),o+=1;return r},e.findLastIndex=function(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1},e.findLast=function(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]},e.renameRegionIfNeeded=k,e.renameRegionsIfNeeded=async function(e,t){const{regions:n=[],adapterConfig:r}=t;if(!t.sessionId)throw new Error("sessionId is required");const o=n.map((e=>e.assemblyName)),i=Object.fromEntries(await Promise.all([...new Set(o)].map((async n=>[n,await e.getRefNameMapForAdapter(r,n,t)]))));return{...t,regions:n.map(((e,t)=>k(i[o[t]],e)))}},e.minmax=function(e,t){return[Math.min(e,t),Math.max(e,t)]},e.shorten=S,e.stringify=function({refName:e,coord:t,assemblyName:n,oob:r},o){return[n&&o?`{${n}}`:"",e?`${S(e)}:${R(t)}${r?" (out of bounds)":""}`:""].join("")},e.revcom=function(t){var n;let r="";for(let o=t.length-1;o>=0;o--)r+=null!==(n=e.complementTable[t[o]])&&void 0!==n?n:t[o];return r},e.reverse=function(e){let t="";for(let n=e.length-1;n>=0;n--)t+=e[n];return t},e.complement=function(t){var n;let r="";for(let o=0;o<t.length;o++)r+=null!==(n=e.complementTable[t[o]])&&void 0!==n?n:t[o];return r},e.measureText=P,e.getFrame=function(e,t,n,r){return 1===n?(e+r)%3+1:(t-r)%3*-1-1},e.generateCodonTable=function(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n],o=[];for(let e=0;e<3;e++){const t=n.charAt(e);o[e]=[],o[e][0]=t.toUpperCase(),o[e][1]=t.toLowerCase()}for(let e=0;e<2;e++){const n=o[0][e];for(let e=0;e<2;e++){const i=o[1][e];for(let e=0;e<2;e++)t[n+i+o[2][e]]=r}}})),t},e.updateStatus=A,e.updateStatus2=async function(e,t,n,r){t(e);const o=await r();return(0,f.checkStopToken)(n),t(""),o},e.hashCode=O,e.objectHash=function(e){return`${O(JSON.stringify(e))}`},e.bytesForRegions=async function(e,t){const n=await Promise.all(e.map((e=>t.blocksForRange(e.refName,e.start,e.end))));return n.flat().map((e=>({start:e.minv.blockPosition,end:e.maxv.blockPosition+65535}))).reduce(((e,t)=>e+t.end-t.start),0)},e.isSupportedIndexingAdapter=function(e=""){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(e)},e.getBpDisplayStr=function(e){return Math.floor(e/1e6)>0?`${Number.parseFloat((e/1e6).toPrecision(3))}Mbp`:Math.floor(e/1e3)>0?`${Number.parseFloat((e/1e3).toPrecision(3))}Kbp`:`${R(Math.floor(e))}bp`},e.toLocale=R,e.getTickDisplayStr=function(e,t){return Math.floor(t/1e3)>0?`${R(Number.parseFloat((e/1e6).toFixed(2)))}M`:R(Math.floor(e))},e.getViewParams=function(e,t){const{dynamicBlocks:n,staticBlocks:r,offsetPx:o}=m(e),i=(null==n?void 0:n.contentBlocks[0])||{};return{offsetPx:t?0:o-((null==r?void 0:r.contentBlocks[0])||{}).offsetPx,offsetPx1:t?0:o-((null==r?void 0:r.contentBlocks[1])||{}).offsetPx,start:i.start,end:i.end}},e.getLayoutId=function({sessionId:e,layoutId:t}){return`${e}-${t}`},e.useLocalStorage=function(e,t){const[n,r]=(0,o.useState)((()=>{if("undefined"==typeof window)return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.error(e),t}}));return[n,t=>{try{const o=t instanceof Function?t(n):t;r(o),"undefined"!=typeof window&&window.localStorage.setItem(e,JSON.stringify(o))}catch(e){console.error(e)}}]},e.getUriLink=N,e.getStr=I,e.coarseStripHTML=L,e.linkify=function(e){return e.replaceAll(/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[-A-Z0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z0-9+\u0026@#/%=~()_|])/gi,"$1<a href='$2' target=\"_blank\">$2</a>")},e.measureGridWidth=function(e,t){const{padding:n=30,minWidth:r=80,fontSize:o=12,maxWidth:i=1e3,stripHTML:a=!1}=t||{};return B(e.map((e=>I(e))).map((e=>a?L(e):e)).map((e=>P(e,o))).map((e=>Math.min(Math.max(e+n,r),i))))},e.getEnv=function(e){return(0,l.getEnv)(e)},e.localStorageGetItem=function(e){return"undefined"!=typeof localStorage?localStorage.getItem(e):void 0},e.localStorageSetItem=function(e,t){"undefined"!=typeof localStorage&&localStorage.setItem(e,t)},e.max=B,e.min=function(e,t=Number.POSITIVE_INFINITY){let n=t;for(const t of e)n=Math.min(t,n);return n},e.sum=D,e.avg=function(e){return D(e)/e.length},e.groupBy=function(e,t){const n={};for(const r of e){const e=t(r);n[e]||(n[e]=[]),n[e].push(r)}return n},e.notEmpty=function(e){return null!=e},e.mergeIntervals=z,e.gatherOverlaps=function(e,t=5e3){const n={};for(const t of e)n[t.refName]||(n[t.refName]=[]),n[t.refName].push(t);return Object.values(n).flatMap((e=>z(e.sort(((e,t)=>e.start-t.start)),t)))},e.stripAlpha=function(e){return(0,c.colord)(e).alpha(1).toHex()},e.getStrokeProps=function(e){const t=(0,c.colord)(e);return{strokeOpacity:t.alpha(),stroke:t.alpha(1).toHex()}},e.getFillProps=function(e){const t=(0,c.colord)(e);return{fillOpacity:t.alpha(),fill:t.alpha(1).toHex()}},e.renderToStaticMarkup=function(e,t){const n=document.createElement("div");return(0,u.flushSync)((()=>{t?t(n).render(e):(0,u.render)(e,n)})),n.innerHTML.replaceAll(/\brgba\((.+?),[^,]+?\)/g,"rgb($1)")},e.isGzip=F,e.fetchAndMaybeUnzip=async function(e,t){const{statusCallback:n=()=>{}}=t||{},r=await A("Downloading file",n,(()=>e.readFile(t)));return F(r)?await A("Unzipping",n,(()=>(0,i.unzip)(r))):r};const o=M.default,i=Qo,a=r(ei),s=r(ni),l=T.default,u=j.default,c=ri,f=Vi,d=Gi;function h(e,t){if(!(0,l.hasParent)(e))throw new Error("node does not have parent");let n=(0,l.getParent)(e);for(;n&&(0,l.isAlive)(n);){if(t(n))return n;if(!(0,l.hasParent)(n))break;n=(0,l.getParent)(n)}throw new Error("no matching node found")}function p(e,t){return h(e,t)}function m(e){try{return p(e,d.isViewModel)}catch(e){throw new Error("no containing view found")}}function g(e,t=e=>e){const{assemblyName:n,refName:r,start:o,end:i,reversed:a}=e,s=n?`{${n}}`:"";let l,u;l=void 0!==o?`:${t(o+1)}`:void 0!==i?":1":"",u=void 0!==i?void 0!==o&&o+1===i?"":`..${t(i)}`:void 0!==o?"..":"";let c="";return a&&(c="[rev]"),`${s}${r}${l}${u}${c}`}function v(e,t){if(!e)throw new Error("no location string provided, could not parse");let n=!1;e.endsWith("[rev]")&&(n=!0,e=e.replace(/\[rev]$/,"")),e=e.replace(/\s/,"");const r=/({(.+)})?(.+)/.exec(e);if(!r)throw new Error(`invalid location string: "${e}"`);const[,,o,i]=r,a=o,s=i;if(!a&&s.startsWith("{}"))throw new Error(`no assembly name was provided in location "${s}"`);const l=s.lastIndexOf(":");if(-1===l){if(t(s,a))return{assemblyName:a,refName:s,reversed:n};throw new Error(`Unknown reference sequence "${s}"`)}const u=s.slice(0,l),c=s.slice(l+1);if(t(u,a)&&t(s,a))throw new Error(`ambiguous location string: "${e}"`);if(t(u,a)){if(!c)return{assemblyName:a,refName:u,reversed:n};{const t=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/.exec(c),r=/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/.exec(c);if(t){const[,e,,,,r]=t;if(void 0!==e&&void 0!==r)return{assemblyName:a,refName:u,start:+e.replaceAll(",",""),end:+r.replaceAll(",",""),reversed:n}}else{if(!r)throw new Error(`could not parse range "${c}" on location "${e}"`);{const[,e,,,t]=r;if(void 0!==e)return t?{assemblyName:a,refName:u,start:+e.replaceAll(",",""),reversed:n}:{assemblyName:a,refName:u,start:+e.replaceAll(",",""),end:+e.replaceAll(",",""),reversed:n}}}}}else if(t(s,a))return{assemblyName:a,refName:s,reversed:n};throw new Error(`unknown reference sequence name in location "${e}"`)}function y(e,t){const n=v(e,t);return"number"==typeof n.start&&(n.start-=1),n}function b(e,t){const n=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(n)return n;const r=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(r)return r;if(void 0!==e.start&&void 0!==t.start){const n=e.start-t.start;if(n)return n}if(void 0!==e.end&&void 0!==t.end){const n=e.end-t.end;if(n)return n}return 0}function w(e,{reversed:t,end:n=0,start:r=0},o){return Math.round((t?n-e:e-r)/o*10)/10}n(Gi,e),n($s,e),n(Us,e),n(Hs,e),n(Vs,e),n(Il,e);const _=180/Math.PI,x=Math.PI/180;function E(e,t,n,r){const o=w(e,n,r),i=w(t,n,r);return n.reversed?[i,o]:[o,i]}function k(e,t){if((0,l.isStateTreeNode)(t)&&!(0,l.isAlive)(t))return t;if(null==e?void 0:e[t.refName]){const n=e[(t=(0,l.isStateTreeNode)(t)?{...(0,l.getSnapshot)(t)}:{...t}).refName];if(n)return{...t,refName:n,originalRefName:t.refName}}return t}function S(e,t=70,n=30){return e.length>t?`${e.slice(0,n)}...${e.slice(-n)}`:e}e.isElectron=/electron/i.test("undefined"!=typeof navigator?navigator.userAgent:""),e.complementTable={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"},e.rIC="undefined"==typeof jest?"undefined"!=typeof window&&window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout((()=>{e()}),1):e=>{e()};const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];function P(e,t=10){var n;const r=String(e);let o=0;for(let e=0;e<r.length;e++){const t=r.charCodeAt(e);o+=null!==(n=C[t])&&void 0!==n?n:.5279276315789471}return o*t}async function A(e,t,n){t(e);const r=await n();return t(""),r}function O(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function R(e){return e.toLocaleString("en-US")}function N(e){const{uri:t,baseUri:n=""}=e;let r;try{r=new URL(t,n).href}catch(e){r=t}return r}function I(e){return(0,s.default)(e)?(0,d.isUriLocation)(e)?N(e):JSON.stringify(e):String(e)}function L(e){return e.replaceAll(/(<([^>]+)>)/gi,"")}function B(e,t=Number.NEGATIVE_INFINITY){let n=t;for(const t of e)n=Math.max(t,n);return n}function D(e){let t=0;for(const n of e)t+=n;return t}function z(e,t=5e3){if(e.length<=1)return e;const n=[];let r=null;e=e.sort(((e,t)=>e.start-t.start)),n.push(e[0]);for(let o=1;o<e.length;o++)r=n.at(-1),r.end+t<e[o].start-t?n.push(e[o]):r.end<e[o].end&&(r.end=Math.max(r.end,e[o].end),n.pop(),n.push(r));return n}function F(e){return 31===e[0]&&139===e[1]&&8===e[2]}e.defaultStarts=["ATG"],e.defaultStops=["TAA","TAG","TGA"],e.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"};var U=ql;Object.defineProperty(e,"SimpleFeature",{enumerable:!0,get:function(){return r(U).default}}),Object.defineProperty(e,"isFeature",{enumerable:!0,get:function(){return U.isFeature}});var H=Ll;Object.defineProperty(e,"blobToDataURL",{enumerable:!0,get:function(){return H.blobToDataURL}});var V=Jl;Object.defineProperty(e,"makeAbortableReaction",{enumerable:!0,get:function(){return V.makeAbortableReaction}}),n(Yl,e)}(Yt);var Sf=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Cf=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pf=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&Sf(t,e,n);return Cf(t,e),t},Tf=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.MenuItemEndDecoration=Df;const Mf=Pf(M.default),Af=Tf(It),Of=Tf(jt),Rf=Tf(Ft),Nf=Tf(Ht),If=Tf(Gt),Lf=N.default,Bf=Yt,jf=(0,R.default.makeStyles)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function Df(e){const{classes:t}=jf(),{type:n}=e;let r,o,i;switch("checked"in e&&({checked:r,disabled:o}=e),n){case"subMenu":i=Mf.default.createElement(Af.default,{color:"action"});break;case"checkbox":i=r?Mf.default.createElement(Of.default,{color:o?"inherit":void 0}):Mf.default.createElement(Rf.default,{color:"action"});break;case"radio":i=r?Mf.default.createElement(Nf.default,{color:o?"inherit":void 0}):Mf.default.createElement(If.default,{color:"action"})}return Mf.default.createElement("div",{className:t.menuItemEndDecoration},i)}function zf(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}const Ff=Mf.default.forwardRef((function(e,t){const[n,r]=(0,Mf.useState)(),[o,i]=(0,Mf.useState)(),[a,s]=(0,Mf.useState)(!1),[l,u]=(0,Mf.useState)(),[c,f]=(0,Mf.useState)(),d=(0,Mf.useRef)(null),{classes:h}=jf(),{menuItems:p,onMenuItemClick:m,open:g,onClose:v,anchorEl:y,top:b=!1}=e;(0,Mf.useEffect)((()=>{g||(r(void 0),i(void 0))}),[g]),(0,Mf.useEffect)((()=>{const e=g&&Boolean(n);let t;return e&&!a?t=setTimeout((()=>{s(!0)}),300):!e&&a&&(t=setTimeout((()=>{s(!1)}),300)),()=>{clearTimeout(t)}}),[a,g,n]),(0,Mf.useEffect)((()=>{if(y){const e=y.getBoundingClientRect();c&&e.top===c.top&&e.left+e.width===c.left||f({top:e.top,left:e.left+e.width})}else c||f({})}),[c,y]);const w=p.some((e=>"icon"in e&&e.icon)),_={},x=Mf.default.createElement(Mf.default.Fragment,null,Mf.default.createElement(Lf.MenuList,{autoFocusItem:g&&!a,dense:!0},p.sort(((e,t)=>(t.priority||0)-(e.priority||0))).map(((e,t)=>{if("divider"===e.type)return Mf.default.createElement(Lf.Divider,{key:`divider-${JSON.stringify(e)}-${t}`,component:"li"});if("subHeader"===e.type)return Mf.default.createElement(Lf.ListSubheader,{key:`subHeader-${e.label}-${t}`},e.label);let n=null,a=null;e.icon&&(n=Mf.default.createElement(Lf.ListItemIcon,null,Mf.default.createElement(e.icon,null))),"subMenu"in e?a=Mf.default.createElement(Df,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(a=Mf.default.createElement(Df,{type:e.type,checked:e.checked,disabled:e.disabled}));const c="onClick"in e?(f=e.onClick,e=>{m(e,f)}):void 0;var f;return Mf.default.createElement(Lf.MenuItem,{key:e.id||String(e.label),style:_,selected:t===l,onClick:c,onMouseMove:n=>{n.currentTarget!==document.activeElement&&(n.currentTarget.focus(),u(t)),"subMenu"in e?o!==t&&(r(n.currentTarget),i(t)):(r(void 0),i(void 0))},onKeyDown:n=>{switch(n.key){case"ArrowLeft":case"Escape":null==v||v(n,"escapeKeyDown");break;case"ArrowUp":u(function(e,t){return(0,Bf.findLastIndex)(e.slice(0,t),zf)}(p,t));break;case"ArrowDown":{const e=function(e,t){const n=e.slice(t+1).findIndex(zf);return-1===n?n:t+1+n}(p,t);u(e);break}default:!("subMenu"in e)||"ArrowRight"!==n.key&&"Enter"!==n.key||(r(n.currentTarget),i(t),s(!0))}},disabled:Boolean(e.disabled)},n,Mf.default.createElement(Lf.ListItemText,{primary:e.label,secondary:e.subLabel,inset:w&&!e.icon}),a)}))),p.map(((e,t)=>{let i=null;return"subMenu"in e&&(i=Mf.default.createElement(Ff,{key:e.id||String(e.label),anchorEl:n,open:a&&o===t,onClose:()=>{s(!1),r(void 0)},onMenuItemClick:m,menuItems:e.subMenu})),i})));return b?x:Mf.default.createElement(Lf.Grow,{in:g,style:{transformOrigin:"0 0 0"},ref:t},Mf.default.createElement(Lf.Paper,{elevation:8,ref:d,className:h.paper,style:{...c}},x))}));Nt.default=function(e){const{open:t,onClose:n,menuItems:r,onMenuItemClick:o,...i}=e;return Mf.default.createElement(Lf.Popover,{open:t,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right",...i.anchorOrigin},transformOrigin:{vertical:"top",horizontal:"left",...i.transformOrigin},...i},Mf.default.createElement(Ff,{open:t,onClose:n,menuItems:r,onMenuItemClick:o,top:!0}))};var $f=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Uf=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hf=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&$f(t,e,n);return Uf(t,e),t},Vf=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(We,"__esModule",{value:!0});const qf=Hf(M.default),Gf=Vf(Je),Wf=N.default,Jf=Vf(Xe.exports),Yf=it,Zf=Nt,Kf=qf.default.createContext({parentPopupState:null,rootPopupState:null});function Xf({onClick:e,closeAfterItemClick:t,...n}){const{rootPopupState:r}=(0,qf.useContext)(Kf);if(!r)throw new Error("must be used inside a CascadingMenu");return qf.default.createElement(Wf.MenuItem,{...n,onClick:n=>{t&&r.close(),null==e||e(n)}})}function Qf({title:e,Icon:t,inset:n,popupId:r,...o}){const{parentPopupState:i}=(0,qf.useContext)(Kf),a=(0,Yf.usePopupState)({popupId:r,variant:"popover",parentPopupState:i});return qf.default.createElement(qf.default.Fragment,null,qf.default.createElement(Wf.MenuItem,{...(0,Yf.bindHover)(a),...(0,Yf.bindFocus)(a)},t?qf.default.createElement(Wf.ListItemIcon,null,qf.default.createElement(t,null)):null,qf.default.createElement(Wf.ListItemText,{primary:e,inset:n}),qf.default.createElement(Gf.default,null)),qf.default.createElement(ed,{...o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:a}))}function ed({popupState:e,onMenuItemClick:t,menuItems:n,classes:r,...o}){const{rootPopupState:i}=(0,qf.useContext)(Kf),a=(0,qf.useMemo)((()=>({rootPopupState:i||e,parentPopupState:e})),[i,e]);return qf.default.createElement(Kf.Provider,{value:a},qf.default.createElement(Jf.default,{...o,...(0,Yf.bindMenu)(e)}))}function td({popupState:e,onMenuItemClick:t,menuItems:n,...r}){const{rootPopupState:o}=(0,qf.useContext)(Kf),i=(0,qf.useMemo)((()=>({rootPopupState:o||e,parentPopupState:e})),[o,e]);return qf.default.createElement(Kf.Provider,{value:i},qf.default.createElement(Wf.Menu,{...r,...(0,Yf.bindMenu)(e)}))}function nd({item:e}){return"subMenu"in e?qf.default.createElement(Zf.MenuItemEndDecoration,{type:"subMenu"}):"checkbox"===e.type||"radio"===e.type?qf.default.createElement(Zf.MenuItemEndDecoration,{type:e.type,checked:e.checked,disabled:e.disabled}):null}function rd({onMenuItemClick:e,closeAfterItemClick:t,menuItems:n,...r}){const o=n.some((e=>"icon"in e&&e.icon));return qf.default.createElement(qf.default.Fragment,null,n.sort(((e,t)=>(t.priority||0)-(e.priority||0))).map(((n,i)=>{return"subMenu"in n?qf.default.createElement(Qf,{key:`subMenu-${n.label}-${i}`,popupId:`subMenu-${n.label}`,title:n.label,Icon:n.icon,inset:o&&!n.icon,onMenuItemClick:e,menuItems:n.subMenu},qf.default.createElement(rd,{...r,closeAfterItemClick:t,onMenuItemClick:e,menuItems:n.subMenu})):"divider"===n.type?qf.default.createElement(Wf.Divider,{key:`divider-${JSON.stringify(n)}-${i}`,component:"li"}):"subHeader"===n.type?qf.default.createElement(Wf.ListSubheader,{key:`subHeader-${n.label}-${i}`},n.label):qf.default.createElement(Xf,{key:`${n.label}-${i}`,closeAfterItemClick:t,onClick:"onClick"in n?(a=n.onClick,t=>{e(t,a)}):void 0,disabled:Boolean(n.disabled)},n.icon?qf.default.createElement(Wf.ListItemIcon,null,qf.default.createElement(n.icon,null)):null," ",qf.default.createElement(Wf.ListItemText,{primary:n.label,secondary:n.subLabel,inset:o&&!n.icon}),qf.default.createElement("div",{style:{flexGrow:1,minWidth:10}}),qf.default.createElement(nd,{item:n}));var a})))}var od=We.default=function(e){const{closeAfterItemClick:t=!0,...n}=e;return qf.default.createElement(td,{...n},qf.default.createElement(rd,{...n,closeAfterItemClick:t}))};function id(e){if("undefined"==typeof window)return e;const t=A.useRef(null);return A.useLayoutEffect((()=>{t.current=e})),A.useCallback(((...e)=>{var n;null===(n=t.current)||void 0===n||n.call(t,...e)}),[])}const ad={},sd={isOpen:!1,setAnchorElUsed:!1,anchorEl:void 0,anchorPosition:void 0,hovered:!1,focused:!1,_openEventType:null,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1},ld=A,ud="useId"in ld?()=>ld.useId():()=>{};function cd({isOpen:e,popupId:t,variant:n}){return{..."popover"===n?{"aria-haspopup":!0,"aria-controls":e?t:void 0}:"popper"===n?{"aria-describedby":e?t:void 0}:void 0}}function fd(e){return{...cd(e),onClick:e.open,onTouchStart:e.open}}function dd({isOpen:e,anchorEl:t,anchorPosition:n,close:r,popupId:o,onMouseLeave:i,disableAutoFocus:a,_openEventType:s}){return{id:o,anchorEl:t,anchorPosition:n,anchorReference:"contextmenu"===s?"anchorPosition":"anchorEl",open:e,onClose:r,onMouseLeave:i,...a&&{disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0}}}function hd(e,t){const{anchorEl:n,_childPopupState:r}=t;return pd(n,e)||pd(function(e,{popupId:t}){if(!t)return null;const n="function"==typeof e.getRootNode?e.getRootNode():document;return"function"==typeof n.getElementById?n.getElementById(t):null}(e,t),e)||null!=r&&hd(e,r)}function pd(e,t){if(!e)return!1;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}const md=u.observer((({model:e})=>{const[t,r]=l.useState(e.displayName?e.displayName:""),o=()=>n.measureText(e.displayName,15)<100&&n.measureText(e.displayName,15)>100?n.measureText(e.displayName,15):100,[i,a]=l.useState(o());return l.useEffect((()=>{r(e.displayName?e.displayName:"")}),[e.displayName]),M.default.createElement(f.Tooltip,{title:"Rename view",arrow:!0},M.default.createElement(M.default.Fragment,null,M.default.createElement(f.TextField,{variant:"standard",value:t,size:"small",margin:"none",style:{margin:"0px",paddingRight:"5px"},onChange:t=>{return n=t?.target.value,r(n),e.setDisplayName(n),void a(o());var n},InputProps:{style:{width:`${i}px`,height:"25px",padding:"0px"}}})))})),gd=u.observer((({model:e})=>{const{coarseTotalBp:t}=e;return M.default.createElement(f.Typography,{variant:"body2",color:"textSecondary",style:{display:"flex",alignItems:"center",marginLeft:10}},Math.round(t).toLocaleString("en-US")," bp")})),vd=u.observer((e=>{const{model:t}=e,{bpPerPx:n,maxBpPerPx:r,minBpPerPx:o,scaleFactor:i}=t,a=function({parentPopupState:e,popupId:t=ud(),variant:n,disableAutoFocus:r}){const o=l.useRef(!0);l.useEffect((()=>(o.current=!0,()=>{o.current=!1})),[]);const[i,a]=l.useState(sd),s=l.useCallback((e=>{o.current&&a(e)}),[]),u=l.useCallback((e=>s((t=>({...t,setAnchorElUsed:!0,anchorEl:e??void 0})))),[]),c=id((e=>(i.isOpen?h(e):f(e),i))),f=id((t=>{const r=t instanceof Element?void 0:t,o=t instanceof Element?t:(null==t?void 0:t.currentTarget)instanceof Element?t.currentTarget:void 0;if("touchstart"===(null==r?void 0:r.type))return void s((e=>({...e,_deferNextOpen:!0})));const i=null==r?void 0:r.clientX,a=null==r?void 0:r.clientY,l="number"==typeof i&&"number"==typeof a?{left:i,top:a}:void 0,u=i=>{if(t||i.setAnchorElUsed||"dialog"===n||ad.missingEventOrAnchorEl||(ad.missingEventOrAnchorEl=!0,console.error("[material-ui-popup-state] WARNING","eventOrAnchorEl should be defined if setAnchorEl is not used")),e){if(!e.isOpen)return i;setTimeout((()=>e._setChildPopupState(y)))}const a={...i,isOpen:!0,anchorPosition:l,hovered:"mouseover"===(null==r?void 0:r.type)||i.hovered,focused:"focus"===(null==r?void 0:r.type)||i.focused,_openEventType:null==r?void 0:r.type};return i.setAnchorElUsed||(null!=r&&r.currentTarget?a.anchorEl=null==r?void 0:r.currentTarget:o&&(a.anchorEl=o)),a};s((e=>e._deferNextOpen?(setTimeout((()=>s(u)),0),{...e,_deferNextOpen:!1}):u(e)))})),d=t=>{const{_childPopupState:n}=t;return setTimeout((()=>{null==n||n.close(),null==e||e._setChildPopupState(null)})),{...t,isOpen:!1,hovered:!1,focused:!1}},h=id((e=>{const t=e instanceof Element?void 0:e;s("touchstart"!==(null==t?void 0:t.type)?e=>e._deferNextClose?(setTimeout((()=>s(d)),0),{...e,_deferNextClose:!1}):d(e):e=>({...e,_deferNextClose:!0}))})),p=l.useCallback(((e,t)=>{e?f(t):h(t)}),[]),m=id((e=>{const{relatedTarget:t}=e;s((e=>!e.hovered||t instanceof Element&&hd(t,y)?e:e.focused?{...e,hovered:!1}:d(e)))})),g=id((e=>{if(!e)return;const{relatedTarget:t}=e;s((e=>!e.focused||t instanceof Element&&hd(t,y)?e:e.hovered?{...e,focused:!1}:d(e)))})),v=l.useCallback((e=>s((t=>({...t,_childPopupState:e})))),[]),y={...i,setAnchorEl:u,popupId:t??void 0,variant:n,open:f,close:h,toggle:c,setOpen:p,onBlur:g,onMouseLeave:m,disableAutoFocus:r??Boolean(i.hovered||i.focused),_setChildPopupState:v};return y}({popupId:"mllvViewMenu",variant:"popover"});return M.default.createElement("div",{style:{position:"absolute",right:"0px",zIndex:"1001"}},M.default.createElement(L.default,{style:{background:"#aaa7",display:"flex",alignItems:"center"}},M.default.createElement("div",null,M.default.createElement(I.default,{...fd(a),color:"secondary","data-testid":"mllv-minicontrols-menu"},M.default.createElement(ae,null)),M.default.createElement(od,{...dd(a),onMenuItemClick:(e,t)=>t(),menuItems:t.menuItems(),popupState:a}),M.default.createElement(md,{model:t})),M.default.createElement("div",null,M.default.createElement(gd,{model:t})),M.default.createElement("div",{"data-testid":"mllv-minicontrols"},t.limitBpPerPx.limited&&2*n>t.limitBpPerPx.apexUpperLimit?M.default.createElement(f.Tooltip,{title:"This view is at its max zoom level relative to its neighbouring views",arrow:!0},M.default.createElement("span",null,M.default.createElement(I.default,{disabled:!0,"data-testid":"zoom_out"},M.default.createElement(qe,null)))):M.default.createElement(I.default,{"data-testid":"zoom_out",onClick:()=>{t.zoom(2*n)},disabled:n>=r-1e-4||1!==i,color:"secondary"},M.default.createElement(qe,null)),t.isOverview||t.limitBpPerPx.limited&&n/2<t.limitBpPerPx.apexLowerLimit?M.default.createElement(f.Tooltip,{title:"This view is at its min zoom level relative to its neighbouring views",arrow:!0},M.default.createElement("span",null,M.default.createElement(I.default,{disabled:!0,"data-testid":"zoom_in"},M.default.createElement(Fe,null)))):M.default.createElement(I.default,{"data-testid":"zoom_in",onClick:()=>{t.zoom(t.bpPerPx/2)},disabled:n<=o+1e-4||1!==i,color:"secondary"},M.default.createElement(Fe,null)))))})),yd=c.makeStyles()((e=>({headerBar:{gridArea:"1/1/auto/span 2",display:"flex",alignItems:"center",height:48},spacer:{flexGrow:1},headerForm:{flexWrap:"nowrap",marginRight:7},toggleButton:{height:44,border:"none",margin:e.spacing(.5)},searchContainer:{marginLeft:5},searchBox:{display:"flex"},buttonSpacer:{marginRight:e.spacing(2)},panButton:{background:f.alpha(e.palette.background.paper,.8),height:32,margin:7}}))),bd=u.observer((({view:e,polygonPoints:t})=>{const{dynamicBlocks:n}=e,{contentBlocks:r}=n,{left:o,right:i,prevLeft:a,prevRight:s}=t,l=f.useTheme(),{tertiary:u,primary:c}=l.palette,d=u?u.light:c.light;return r.length?M.default.createElement("polygon",{points:[[o,48],[i,48],[s,0],[a,0]].toString(),fill:f.alpha(d,.2),stroke:f.alpha(d,.8),"data-testid":"polygon"}):null}));function wd({model:e}){const{classes:t}=yd();return M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Button,{variant:"outlined",className:t.panButton,onClick:()=>e.slide(-.9),"data-testid":"panleft"},M.default.createElement(Be,null)),M.default.createElement(f.Button,{variant:"outlined",className:t.panButton,onClick:()=>e.slide(.9),"data-testid":"panright"},M.default.createElement(Re,null)))}const _d=u.observer((({view:e,model:t,polygonPoints:r,ExtraControls:o})=>{const{classes:a}=yd(),s=i.getEnv(n.getSession(t)).pluginManager.getPlugin("LinearGenomeViewPlugin"),{SearchBox:l}=s.exports;return M.default.createElement("div",{className:a.headerBar},t.views[0].id!==e.id?M.default.createElement("svg",{height:48,style:{width:"100%",position:"absolute"}},M.default.createElement(bd,{view:e,polygonPoints:r})):null,M.default.createElement("div",{className:a.spacer}),!e.isVisible||e.hideControls||e.isAnchor?null:M.default.createElement(M.default.Fragment,null,M.default.createElement(f.FormGroup,{row:!0,className:a.headerForm},M.default.createElement(wd,{model:e}),M.default.createElement(l,{model:e})),M.default.createElement(gd,{model:e}),o),M.default.createElement("div",{className:a.spacer}),e.isVisible?null:M.default.createElement(vd,{model:e}))})),xd=u.observer((({model:e,view:t,polygonPoints:n})=>M.default.createElement("div",{"data-testid":"subheader"},M.default.createElement(_d,{model:e,view:t,polygonPoints:n}))));var Ed={},kd=V.exports;Object.defineProperty(Ed,"__esModule",{value:!0});var Sd=Ed.default=void 0,Cd=kd(q);Sd=Ed.default=(0,Cd.default)((0,P.default.jsx)("path",{d:"M11 2h2v5h8v3h-8v4h5v3h-5v5h-2v-5H6v-3h5v-4H3V7h8z"}),"AlignHorizontalCenter");const Pd=u.observer((({model:e})=>M.default.createElement(f.IconButton,{onClick:e.toggleLinkViews,title:"Toggle linked scrolls and behavior across views","data-testid":"link_views"},M.default.createElement(e.linkViews?ye:pe,{color:"secondary"})))),Td=u.observer((({model:e})=>M.default.createElement(f.IconButton,{onClick:e.alignViews,title:"Align views (realign sub views to the anchor view)","data-testid":"align_views"},M.default.createElement(Sd,{color:"secondary"})))),Md=u.observer((({model:e})=>M.default.createElement(f.IconButton,{onClick:e.resetZooms,title:"Reset sub view zoom levels within one stage of the anchor view","data-testid":"zoom_views"},M.default.createElement(ce,{color:"secondary"})))),Ad=u.observer((({model:e})=>{const t=f.useTheme(),{primary:r}=t.palette,o=r.light,a=e?.views?.find((e=>e.isAnchor)),s=i.getEnv(n.getSession(e)).pluginManager.getPlugin("LinearGenomeViewPlugin"),{ZoomControls:l,SearchBox:u}=s.exports;return M.default.createElement("div",null,e?.initialized&&a?.initialized?M.default.createElement("div",{style:{gridArea:"1/1/auto/span 2",display:"flex",alignItems:"center",height:48,background:f.alpha(o,.3)}},M.default.createElement(Pd,{model:e}),M.default.createElement(Td,{model:e}),M.default.createElement(Md,{model:e}),M.default.createElement("div",{style:{flexGrow:1}}),M.default.createElement(f.FormGroup,{row:!0,style:{flexWrap:"nowrap",marginRight:7}},M.default.createElement(wd,{model:a}),M.default.createElement(u,{model:a})),M.default.createElement(gd,{model:a}),M.default.createElement(l,{model:a}),M.default.createElement("div",{style:{flexGrow:1}})):null)}));var Od={},Rd=V.exports;Object.defineProperty(Od,"__esModule",{value:!0});var Nd=Od.default=void 0,Id=Rd(q);Nd=Od.default=(0,Id.default)((0,P.default.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});var Bd=Ld.RefSequenceResult=void 0;class jd{constructor(e){this.label=e.label,this.locString=e.locString,this.renderingComponent=e.renderingComponent,this.displayString=e.displayString,this.matchedAttribute=e.matchedAttribute,this.matchedObject=e.matchedObject,this.textSearchAdapter=e.textSearchAdapter,this.relevance=e.relevance,this.trackId=e.trackId,this.score=e.score||1,this.results=e.results||[]}getLabel(){return this.label}getDisplayString(){return this.displayString||this.label}getRenderingComponent(){return this.renderingComponent}getTrackId(){return this.trackId}getScore(){return this.score}updateScore(e){return this.score=e,this.score}getId(){return`${this.getLabel()}-${this.getLocation()}-${this.getTrackId()}`}hasLocation(){return!!this.locString}getLocation(){return this.locString}getComboResults(){return this.results}}var Dd=Ld.default=jd;Bd=Ld.RefSequenceResult=class extends jd{constructor(e){var t;super(e),this.refName=null!==(t=e.refName)&&void 0!==t?t:""}getLocation(){return this.refName}};const zd=p.ConfigurationSchema("BaseLinearDisplay",{maxFeatureScreenDensity:{type:"number",description:"maximum features per pixel that is displayed in the view, used if byte size estimates not available",defaultValue:.3},fetchSizeLimit:{type:"number",defaultValue:1e6,description:"maximum data to attempt to download for a given track, used if adapter doesn't specify one"},height:{type:"number",defaultValue:100,description:"default height for the track"},mouseover:{type:"string",description:"text to display when the cursor hovers over a feature",defaultValue:"jexl:get(feature,'name')",contextVariable:["feature"]},jexlFilters:{type:"stringArray",description:"default set of jexl filters to apply to a track. note: these do not use the jexl prefix because they have a deferred evaluation system",defaultValue:[]}},{explicitIdentifier:"displayId"});var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});class $d{constructor(e){this.submaps=e}has(e){for(const t of this.submaps.values())if(t.has(e))return!0;return!1}get(e){for(const t of this.submaps.values())if(t.has(e))return t.get(e)}*values(){for(const e of this.keys())yield this.get(e)}*keys(){const e=new Set;for(const t of this.submaps.values())for(const n of t.keys())e.add(n);for(const t of e)yield t}find(e){for(const t of this.submaps.values())for(const n of t.values())if(e(n))return n}*[Symbol.iterator](){for(const e of this.keys())yield[e,this.get(e)]}*entries(){for(const e of this.keys())yield[e,this.get(e)]}}var Ud=Fd.default=$d,Hd=r.createSvgIcon(o.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m-7 7H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2z"}),"CenterFocusStrong"),Vd=r.createSvgIcon(o.jsx("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen");const qd=c.makeStyles()({ellipses:{textOverflow:"ellipsis",overflow:"hidden"}});function Gd({message:e,severity:t,action:n}){const{classes:r}=qd();return M.default.createElement(f.Alert,{onClick:e=>{e.stopPropagation()},severity:t,action:n,classes:{message:r.ellipses}},M.default.createElement(f.Tooltip,{title:e},M.default.createElement("div",null,e)))}function Wd({model:e}){const{regionTooLargeReason:t}=e;return M.default.createElement(Gd,{severity:"warning",action:M.default.createElement(f.Button,{onClick:()=>{e.setFeatureDensityStatsLimit(e.featureDensityStats),e.reload()}},"Force load"),message:[t,"Zoom in to see features or force load (may be slow)"].filter((e=>!!e)).join(". ")})}const Jd=l.lazy((()=>Promise.resolve().then((function(){return cP})))),Yd=c.makeStyles()((e=>{const t=e.palette.action.disabledBackground;return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${t} 5px, ${t} 10px)`,textAlign:"center"}}})),Zd=u.observer((({model:e})=>{const{classes:t}=Yd(),{status:n}=e,{message:r}=i.getParent(e,2);return M.default.createElement("div",{className:t.loading},M.default.createElement(a.LoadingEllipses,{message:r||n}))})),Kd=u.observer((function({model:e}){return e.error?M.default.createElement(l.Suspense,{fallback:null},M.default.createElement(Jd,{model:e})):e.message?M.default.isValidElement(e.message)?e.message:M.default.createElement(Gd,{message:`${e.message}`,severity:"info"}):e.filled?e.reactElement:M.default.createElement(Zd,{model:e})})),Xd=i.types.model("BlockState",{key:i.types.string,region:i.types.frozen(),reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile((()=>({stopToken:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:Kd,renderProps:void 0}))).actions((e=>({doReload(){e.reloadFlag=e.reloadFlag+1},afterAttach(){const t=n.getContainingDisplay(e);setTimeout((()=>{i.isAlive(e)&&n.makeAbortableReaction(e,Qd,eh,{name:`${t.id}/${n.assembleLocString(e.region)} rendering`,delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)}),t.renderDelay)},setStatus(t){e.status=t},setLoading(t){void 0!==e.stopToken&&qi(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=t},setMessage(t){void 0!==e.stopToken&&qi(e.stopToken),e.filled=!1,e.message=t,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,e.stopToken=void 0},setRendered(t){if(!t)return;const{reactElement:n,features:r,layout:o,maxHeightReached:i,renderProps:a}=t;e.filled=!0,e.message=void 0,e.reactElement=n,e.features=r,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=a,e.stopToken=void 0},setError(t){console.error(t),void 0!==e.stopToken&&qi(e.stopToken),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=t,e.renderProps=void 0,e.stopToken=void 0,Gi.isRetryException(t)&&this.reload()},reload(){e.stopToken=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=Kd,e.renderProps=void 0,i.getParent(e,2).reload()},beforeDestroy(){(async()=>{try{void 0!==e.stopToken&&qi(e.stopToken);const t=n.getContainingDisplay(e),{rpcManager:r}=n.getSession(e),{rendererType:o}=t,{renderArgs:a}=Qd(i.cast(e));a&&await o.freeResourcesInClient(r,JSON.parse(JSON.stringify(a)))}catch(e){console.error("Error while destroying block",e)}})()}})));function Qd(e,t){try{const r=t||n.getContainingDisplay(e),{assemblyManager:o,rpcManager:a}=n.getSession(r),{adapterConfig:s,rendererType:l,error:u,parentTrack:c}=r,f=g.getTrackAssemblyNames(c),d=e.region.assemblyName;if(!f.includes(d)&&!f.some((e=>{var t;return null===(t=o.get(e))||void 0===t?void 0:t.hasName(d)})))throw new Error(`region assembly (${d}) does not match track assemblies (${f})`);const h=r.renderProps(),{config:m}=h;p.readConfObject(m);const v=g.getRpcSessionId(r),y=n.getContainingView(r).id;return{rendererType:l,rpcManager:a,renderProps:h,cannotBeRenderedReason:r.regionCannotBeRendered(e.region),displayError:u,renderArgs:{statusCallback:t=>{i.isAlive(e)&&e.setStatus(t)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:s,rendererType:l.name,sessionId:v,layoutId:y,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(e){return{displayError:e}}}async function eh(e,t,r){if(!e)return;const{rendererType:o,renderProps:a,rpcManager:s,renderArgs:l,cannotBeRenderedReason:u,displayError:c}=e;if(i.isAlive(r)){if(c)return void r.setError(c);if(u)return void r.setMessage(u);if(a.notReady)return;{const{reactElement:e,features:i,layout:u,maxHeightReached:c}=await o.renderInClient(s,{...l,...a,viewParams:n.getViewParams(r),stopToken:t});return{reactElement:e,features:i,layout:u,maxHeightReached:c,renderProps:a}}}}const th=l.lazy((()=>Promise.resolve().then((function(){return yv}))));i.types.compose("BaseLinearDisplay",m.BaseDisplay,i.types.model({heightPreConfig:i.types.maybe(i.types.refinement("displayHeight",i.types.number,(e=>e>=20)))}).volatile((()=>({scrollTop:0}))).views((e=>({get height(){var t;return null!==(t=e.heightPreConfig)&&void 0!==t?t:p.getConf(e,"height")}}))).actions((e=>({setScrollTop(t){e.scrollTop=t},setHeight:t=>(e.heightPreConfig=Math.max(t,20),e.height),resizeHeight(t){const n=e.height;return this.setHeight(e.height+t)-n}}))),i.types.model({userBpPerPxLimit:i.types.maybe(i.types.number),userByteSizeLimit:i.types.maybe(i.types.number)}).volatile((()=>({featureDensityStatsP:void 0,featureDensityStats:void 0,currStatsBpPerPx:0}))).views((e=>({get currentBytesRequested(){var t;return(null===(t=e.featureDensityStats)||void 0===t?void 0:t.bytes)||0},get currentFeatureScreenDensity(){var t;const r=n.getContainingView(e);return((null===(t=e.featureDensityStats)||void 0===t?void 0:t.featureDensity)||0)*r.bpPerPx},get maxFeatureScreenDensity(){return p.getConf(e,"maxFeatureScreenDensity")},get featureDensityStatsReady(){const t=n.getContainingView(e);return!(e.currStatsBpPerPx!==t.bpPerPx||!e.featureDensityStats&&!e.userBpPerPxLimit)},get maxAllowableBytes(){var t;return e.userByteSizeLimit||(null===(t=e.featureDensityStats)||void 0===t?void 0:t.fetchSizeLimit)||p.getConf(e,"fetchSizeLimit")}}))).actions((e=>({afterAttach(){i.addDisposer(e,v.autorun((()=>async function(e){var t;try{const r=n.getContainingView(e);if(!r.initialized||!r.staticBlocks.contentBlocks.length||r.bpPerPx===e.currStatsBpPerPx||e.error)return;if(void 0!==(null===(t=e.featureDensityStats)||void 0===t?void 0:t.featureDensity))return void e.setCurrStatsBpPerPx(r.bpPerPx);e.clearFeatureDensityStats(),e.setCurrStatsBpPerPx(r.bpPerPx);const o=await e.getFeatureDensityStats();i.isAlive(e)&&e.setFeatureDensityStats(o)}catch(t){console.error(t),i.isAlive(e)&&!n.isAbortException(t)&&e.setError(t)}}(e))))}}))).actions((e=>({setCurrStatsBpPerPx(t){e.currStatsBpPerPx=t},setFeatureDensityStatsLimit(t){const r=n.getContainingView(e);(null==t?void 0:t.bytes)?e.userByteSizeLimit=t.bytes:e.userBpPerPxLimit=r.bpPerPx},getFeatureDensityStats(){return e.featureDensityStatsP||(e.featureDensityStatsP=async function(e){const t=n.getContainingView(e).staticBlocks.contentBlocks,{rpcManager:r}=n.getSession(e),{adapterConfig:o}=e;if(!o)return{};const a=g.getRpcSessionId(e);return r.call(a,"CoreGetFeatureDensityStats",{sessionId:a,regions:t,adapterConfig:o,statusCallback:t=>{i.isAlive(e)&&e.setMessage(t)}})}(e).catch((t=>{throw i.isAlive(e)&&this.setFeatureDensityStatsP(void 0),t}))),e.featureDensityStatsP},setFeatureDensityStatsP(t){e.featureDensityStatsP=t},setFeatureDensityStats(t){e.featureDensityStats=t},clearFeatureDensityStats(){e.featureDensityStatsP=void 0,e.featureDensityStats=void 0}}))).views((e=>({get regionTooLarge(){const t=n.getContainingView(e);return!(!e.featureDensityStatsReady||t.dynamicBlocks.totalBp<2e4)&&(e.currentBytesRequested>e.maxAllowableBytes||(e.userBpPerPxLimit?t.bpPerPx>e.userBpPerPxLimit:e.currentFeatureScreenDensity>e.maxFeatureScreenDensity))},get regionTooLargeReason(){const t=e.currentBytesRequested;return t&&t>e.maxAllowableBytes?`Requested too much data (${n=t,Math.floor(n/1e6)>0?`${Number.parseFloat((n/1e6).toPrecision(3))} Mb`:Math.floor(n/1e3)>0?`${Number.parseFloat((n/1e3).toPrecision(3))} Kb`:`${Math.floor(n)} bytes`})`:"";var n}}))).views((e=>({get statsReadyAndRegionNotTooLarge(){return e.featureDensityStatsReady&&!e.regionTooLarge},regionCannotBeRenderedText:t=>e.regionTooLarge?"Force load to see features":"",regionCannotBeRendered:t=>e.regionTooLarge?M.default.createElement(Wd,{model:e}):null}))),i.types.model({blockState:i.types.map(Xd),configuration:p.ConfigurationReference(zd)})).volatile((()=>({featureIdUnderMouse:void 0,contextMenuFeature:void 0}))).views((e=>({get DisplayMessageComponent(){},get blockType(){return"staticBlocks"},get blockDefinitions(){const t=n.getContainingView(e);if(!t.initialized)throw new Error("view not initialized yet");return t[this.blockType]}}))).views((e=>({get renderDelay(){return 50},get TooltipComponent(){return th},get selectedFeatureId(){if(i.isAlive(e)){const{selection:t}=n.getSession(e);if(n.isFeature(t))return t.id()}}}))).views((e=>({get features(){const t=[];for(const n of e.blockState.values())n.features&&t.push(n.features);return new Ud(t)},get featureUnderMouse(){const t=e.featureIdUnderMouse;return t?this.features.get(t):void 0},getFeatureOverlapping(t,n,r){var o,i;return null===(i=null===(o=e.blockState.get(t))||void 0===o?void 0:o.layout)||void 0===i?void 0:i.getByCoord(n,r)},getFeatureByID(t,n){var r,o;return null===(o=null===(r=e.blockState.get(t))||void 0===r?void 0:r.layout)||void 0===o?void 0:o.getByID(n)},searchFeatureByID(t){let n;return e.blockState.forEach((e=>{var r;const o=null===(r=e.layout)||void 0===r?void 0:r.getByID(t);o&&(n=o)})),n}}))).actions((e=>({addBlock(t,n){e.blockState.set(t,Xd.create({key:t,region:n.toRegion()}))},deleteBlock(t){e.blockState.delete(t)},selectFeature(t){const r=n.getSession(e);if(n.isSessionModelWithWidgets(r)){const o=r.addWidget("BaseFeatureWidget","baseFeature",{view:n.getContainingView(e),track:n.getContainingTrack(e),featureData:t.toJSON()});r.showWidget(o)}n.isSelectionContainer(r)&&r.setSelection(t)},navToFeature(t){n.getContainingView(e).navTo({refName:t.get("refName"),start:t.get("start"),end:t.get("end")})},clearFeatureSelection(){n.getSession(e).clearSelection()},setFeatureIdUnderMouse(t){e.featureIdUnderMouse=t},setContextMenuFeature(t){e.contextMenuFeature=t}}))).actions((e=>{const{reload:t}=e;return{async reload(){e.setError(),e.setCurrStatsBpPerPx(0),e.clearFeatureDensityStats(),[...e.blockState.values()].forEach((e=>{e.doReload()})),t()}}})).views((e=>({trackMenuItems:()=>[],contextMenuItems:()=>[...e.contextMenuFeature?[{label:"Open feature details",icon:Vd,onClick:()=>{e.contextMenuFeature&&e.selectFeature(e.contextMenuFeature)}},{label:"Zoom to feature",icon:Hd,onClick:()=>{e.contextMenuFeature&&e.navToFeature(e.contextMenuFeature)}}]:[]],renderProps:()=>({...g.getParentRenderProps(e),notReady:!e.featureDensityStatsReady,rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick(t,n){const r=n||e.featureIdUnderMouse;if(r){const t=e.features.get(r);t&&e.selectFeature(t)}else e.clearFeatureSelection()},onClick(){e.clearFeatureSelection()},onFeatureContextMenu(t,n){const r=n||e.featureIdUnderMouse;r?e.setContextMenuFeature(e.features.get(r)):e.clearFeatureSelection()},onMouseMove(t,n){e.setFeatureIdUnderMouse(n)},onMouseLeave(t){e.setFeatureIdUnderMouse(void 0)},onContextMenu(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}})}))).actions((e=>({async renderSvg(t){const{renderBaseLinearDisplaySvg:n}=await Promise.resolve().then((function(){return fP}));return n(e,t)},afterAttach(){i.addDisposer(e,v.autorun((()=>{const t={};n.getContainingView(e).initialized&&(e.blockDefinitions.contentBlocks.forEach((n=>{t[n.key]=!0,e.blockState.has(n.key)||e.addBlock(n.key,n)})),e.blockState.forEach(((n,r)=>{t[r]||e.deleteBlock(r)})))})))}}))).preProcessSnapshot((e=>{if(!e)return e;const{height:t,...n}=e;return{heightPreConfig:t,...n}})).postProcessSnapshot((e=>{const t=e,{blockState:n,...r}=t;return r}));const nh=c.makeStyles()((e=>({contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.disabled},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}}))),rh=u.observer((function({block:e,children:t}){const{classes:n}=nh(),{widthPx:r}=e;return M.default.createElement("div",{style:{width:r},className:n.contentBlock},t)}));function oh({width:e}){const{classes:t}=nh();return M.default.createElement("div",{className:t.elidedBlock,style:{width:e}})}function ih({boundary:e,width:t,style:n={}}){const{classes:r}=nh();return M.default.createElement("div",{style:{...n,width:t},className:e?r.boundaryPaddingBlock:r.interRegionPaddingBlock})}const ah=c.makeStyles()({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"},heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:2e3,boxSizing:"border-box"}}),sh=u.observer((function({model:e}){const{classes:t}=ah(),{blockDefinitions:n,blockState:r}=e;return M.default.createElement(M.default.Fragment,null,n.map((n=>{const o=`${e.id}-${n.key}`;if("ContentBlock"===n.type){const e=r.get(n.key);return M.default.createElement(rh,{block:n,key:o},(null==e?void 0:e.ReactComponent)?M.default.createElement(e.ReactComponent,{model:e}):null,(null==e?void 0:e.maxHeightReached)?M.default.createElement("div",{className:t.heightOverflowed,style:{top:e.layout.getTotalHeight()-16,pointerEvents:"none",height:16}},"Max height reached"):null)}if("ElidedBlock"===n.type)return M.default.createElement(oh,{key:o,width:n.widthPx});if("InterRegionPaddingBlock"===n.type)return M.default.createElement(ih,{key:o,width:n.widthPx,style:{background:"none"},boundary:"boundary"===n.variant});throw new Error(`invalid block type ${JSON.stringify(n)}`)})))})),lh=u.observer((function({model:e}){const{classes:t}=ah(),{blockDefinitions:r}=e,o=n.getContainingView(e);return M.default.createElement("div",{className:t.linearBlocks,style:{left:r.offsetPx-o.offsetPx}},M.default.createElement(sh,{model:e}))}));var uh={};function ch(){return"undefined"!=typeof window}function fh(e){return ph(e)?(e.nodeName||"").toLowerCase():"#document"}function dh(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function hh(e){var t;return null==(t=(ph(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ph(e){return!!ch()&&(e instanceof Node||e instanceof dh(e).Node)}function mh(e){return!!ch()&&(e instanceof Element||e instanceof dh(e).Element)}function gh(e){return!!ch()&&(e instanceof HTMLElement||e instanceof dh(e).HTMLElement)}function vh(e){return!(!ch()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof dh(e).ShadowRoot)}function yh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=kh(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function bh(e){return["table","td","th"].includes(fh(e))}function wh(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function _h(e){const t=xh(),n=mh(e)?kh(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function xh(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Eh(e){return["html","body","#document"].includes(fh(e))}function kh(e){return dh(e).getComputedStyle(e)}function Sh(e){return mh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ch(e){if("html"===fh(e))return e;const t=e.assignedSlot||e.parentNode||vh(e)&&e.host||hh(e);return vh(t)?t.host:t}function Ph(e){const t=Ch(e);return Eh(t)?e.ownerDocument?e.ownerDocument.body:e.body:gh(t)&&yh(t)?t:Ph(t)}function Th(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Ph(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=dh(o);if(i){const e=Mh(a);return t.concat(a,a.visualViewport||[],yh(o)?o:[],e&&n?Th(e):[])}return t.concat(o,Th(o,[],n))}function Mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ah(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function Oh(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&vh(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Rh(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function Nh(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function Ih(e){return!(0!==e.mozInputSource||!e.isTrusted)||(jh()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function Lh(e){return!Nh().includes("jsdom/")&&(!jh()&&0===e.width&&0===e.height||jh()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function Bh(){return/apple/i.test(navigator.vendor)}function jh(){const e=/android/i;return e.test(Rh())||e.test(Nh())}function Dh(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function zh(e){return(null==e?void 0:e.ownerDocument)||document}function Fh(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function $h(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Uh(e){return gh(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function Hh(e){e.preventDefault(),e.stopPropagation()}function Vh(e){return!!e&&"combobox"===e.getAttribute("role")&&Uh(e)}const qh=["top","right","bottom","left"],Gh=["start","end"],Wh=qh.reduce(((e,t)=>e.concat(t,t+"-"+Gh[0],t+"-"+Gh[1])),[]),Jh=Math.min,Yh=Math.max,Zh=Math.round,Kh=Math.floor,Xh=e=>({x:e,y:e}),Qh={left:"right",right:"left",bottom:"top",top:"bottom"},ep={start:"end",end:"start"};function tp(e,t,n){return Yh(e,Jh(t,n))}function np(e,t){return"function"==typeof e?e(t):e}function rp(e){return e.split("-")[0]}function op(e){return e.split("-")[1]}function ip(e){return"x"===e?"y":"x"}function ap(e){return"y"===e?"height":"width"}function sp(e){return["top","bottom"].includes(rp(e))?"y":"x"}function lp(e){return ip(sp(e))}function up(e,t,n){void 0===n&&(n=!1);const r=op(e),o=lp(e),i=ap(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=fp(a)),[a,fp(a)]}function cp(e){return e.replace(/start|end/g,(e=>ep[e]))}function fp(e){return e.replace(/left|right|bottom|top/g,(e=>Qh[e]))}function dp(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function hp(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var pp=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),mp="undefined"==typeof Element,gp=mp?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vp=!mp&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},yp=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},bp=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!yp(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:a,candidates:l})}else{gp.call(a,pp)&&r.filter(a)&&(n||!t.includes(a))&&o.push(a);var u=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),c=!yp(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(u&&c){var f=e(!0===u?a.children:u.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:a,candidates:f})}else i.unshift.apply(i,a.children)}}return o},wp=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_p=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!wp(e)?0:e.tabIndex},xp=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ep=function(e){return"INPUT"===e.tagName},kp=function(e){var t=e.getBoundingClientRect();return 0===t.width&&0===t.height},Sp=function(e,t){return!(function(e){return function(e){return Ep(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||vp(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)}(t)||_p(t)<0||!function(e,t){return!(t.disabled||yp(t)||function(e){return Ep(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=gp.call(e,"details>summary:first-of-type");if(gp.call(o?e.parentElement:e,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return kp(e)}else{if("function"==typeof r){for(var i=e;e;){var a=e.parentElement,s=vp(e);if(a&&!a.shadowRoot&&!0===r(a))return kp(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=i}if(function(e){var t,n,r,o,i=e&&vp(e),a=null===(t=i)||void 0===t?void 0:t.host,s=!1;if(i&&i!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&a;){var l,u,c;s=!(null===(u=a=null===(l=i=vp(a))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!gp.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))}(e,t))},Cp=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Pp=function e(t){var n=[],r=[];return t.forEach((function(t,o){var i=!!t.scopeParent,a=i?t.scopeParent:t,s=function(e,t){var n=_p(e);return n<0&&t&&!wp(e)?0:n}(a,i),l=i?e(t.candidates):a;0===s?i?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:s,item:t,isScope:i,content:l})})),r.sort(xp).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Tp=function(e,t){var n;return n=(t=t||{}).getShadowRoot?bp([e],t.includeContainer,{filter:Sp.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Cp}):function(e,t,n){if(yp(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(pp));return t&&gp.call(e,pp)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,Sp.bind(null,t)),Pp(n)};function Mp(e,t,n){let{reference:r,floating:o}=e;const i=sp(t),a=lp(t),s=ap(a),l=rp(t),u="y"===i,c=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[s]/2-o[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(op(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1)}return h}async function Ap(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=np(t,e),p=dp(h),m=s[d?"floating"===f?"reference":"floating":f],g=hp(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===f?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=hp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+p.top)/b.y,bottom:(w.bottom-g.bottom+p.bottom)/b.y,left:(g.left-w.left+p.left)/b.x,right:(w.right-g.right+p.right)/b.x}}function Op(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rp(e){return qh.some((t=>e[t]>=0))}function Np(e){const t=Jh(...e.map((e=>e.left))),n=Jh(...e.map((e=>e.top)));return{x:t,y:n,width:Yh(...e.map((e=>e.right)))-t,height:Yh(...e.map((e=>e.bottom)))-n}}function Ip(e){const t=kh(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gh(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=Zh(n)!==i||Zh(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function Lp(e){return mh(e)?e:e.contextElement}function Bp(e){const t=Lp(e);if(!gh(t))return Xh(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Ip(t);let a=(i?Zh(n.width):n.width)/r,s=(i?Zh(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const jp=Xh(0);function Dp(e){const t=dh(e);return xh()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:jp}function zp(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=Lp(e);let a=Xh(1);t&&(r?mh(r)&&(a=Bp(r)):a=Bp(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==dh(e))&&t}(i,n,r)?Dp(i):Xh(0);let l=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,c=o.width/a.x,f=o.height/a.y;if(i){const e=dh(i),t=r&&mh(r)?dh(r):r;let n=e,o=Mh(n);for(;o&&r&&t!==n;){const e=Bp(o),t=o.getBoundingClientRect(),r=kh(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,f*=e.y,l+=i,u+=a,n=dh(o),o=Mh(n)}}return hp({width:c,height:f,x:l,y:u})}function Fp(e,t){const n=Sh(e).scrollLeft;return t?t.left+n:zp(hh(e)).left+n}function $p(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Fp(e,r)),y:r.top+t.scrollTop}}function Up(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=dh(e),r=hh(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=xh();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=hh(e),n=Sh(e),r=e.ownerDocument.body,o=Yh(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Yh(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Fp(e);const s=-n.scrollTop;return"rtl"===kh(r).direction&&(a+=Yh(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(hh(e));else if(mh(t))r=function(e,t){const n=zp(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=gh(e)?Bp(e):Xh(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Dp(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return hp(r)}function Hp(e,t){const n=Ch(e);return!(n===t||!mh(n)||Eh(n))&&("fixed"===kh(n).position||Hp(n,t))}function Vp(e,t,n){const r=gh(t),o=hh(t),i="fixed"===n,a=zp(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Xh(0);if(r||!r&&!i)if(("body"!==fh(t)||yh(o))&&(s=Sh(t)),r){const e=zp(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=Fp(o));const u=!o||r||i?Xh(0):$p(o,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function qp(e){return"static"===kh(e).position}function Gp(e,t){if(!gh(e)||"fixed"===kh(e).position)return null;if(t)return t(e);let n=e.offsetParent;return hh(e)===n&&(n=n.ownerDocument.body),n}function Wp(e,t){const n=dh(e);if(wh(e))return n;if(!gh(e)){let t=Ch(e);for(;t&&!Eh(t);){if(mh(t)&&!qp(t))return t;t=Ch(t)}return n}let r=Gp(e,t);for(;r&&bh(r)&&qp(r);)r=Gp(r,t);return r&&Eh(r)&&qp(r)&&!_h(r)?n:r||function(e){let t=Ch(e);for(;gh(t)&&!Eh(t);){if(_h(t))return t;if(wh(t))return null;t=Ch(t)}return null}(e)||n}const Jp={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=hh(r),s=!!t&&wh(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Xh(1);const c=Xh(0),f=gh(r);if((f||!f&&!i)&&(("body"!==fh(r)||yh(a))&&(l=Sh(r)),gh(r))){const e=zp(r);u=Bp(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const d=!a||f||i?Xh(0):$p(a,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}},getDocumentElement:hh,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?wh(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Th(e,[],!1).filter((e=>mh(e)&&"body"!==fh(e))),o=null;const i="fixed"===kh(e).position;let a=i?Ch(e):e;for(;mh(a)&&!Eh(a);){const t=kh(a),n=_h(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||yh(a)&&!n&&Hp(e,a))?r=r.filter((e=>e!==a)):o=t,a=Ch(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a.reduce(((e,n)=>{const r=Up(t,n,o);return e.top=Yh(r.top,e.top),e.right=Jh(r.right,e.right),e.bottom=Jh(r.bottom,e.bottom),e.left=Yh(r.left,e.left),e}),Up(t,a[0],o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Wp,getElementRects:async function(e){const t=this.getOffsetParent||Wp,n=this.getDimensions,r=await n(e.floating);return{reference:Vp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ip(e);return{width:t,height:n}},getScale:Bp,isElement:mh,isRTL:function(e){return"rtl"===kh(e).direction}},Yp=Ap,Zp=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=rp(n),s=op(n),l="y"===sp(n),u=["left","top"].includes(a)?-1:1,c=i&&l?-1:1,f=np(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&"number"==typeof p&&(h="end"===s?-1*p:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},Kp=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:a,placement:s,platform:l,elements:u}=t,{crossAxis:c=!1,alignment:f,allowedPlacements:d=Wh,autoAlignment:h=!0,...p}=np(e,t),m=void 0!==f||d===Wh?function(e,t,n){return(e?[...n.filter((t=>op(t)===e)),...n.filter((t=>op(t)!==e))]:n.filter((e=>rp(e)===e))).filter((n=>!e||op(n)===e||!!t&&cp(n)!==n))}(f||null,h,d):d,g=await Ap(t,p),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,y=m[v];if(null==y)return{};const b=up(y,i,await(null==l.isRTL?void 0:l.isRTL(u.floating)));if(s!==y)return{reset:{placement:m[0]}};const w=[g[rp(y)],g[b[0]],g[b[1]]],_=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:w}],x=m[v+1];if(x)return{data:{index:v+1,overflows:_},reset:{placement:x}};const E=_.map((e=>{const t=op(e.placement);return[e.placement,t&&c?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),k=E.filter((e=>e[2].slice(0,op(e[0])?2:3).every((e=>e<=0)))),S=(null==(o=k[0])?void 0:o[0])||E[0][0];return S!==s?{data:{index:v+1,overflows:_},reset:{placement:S}}:{}}}},Xp=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=np(e,t),u={x:n,y:r},c=await Ap(t,l),f=sp(rp(o)),d=ip(f);let h=u[d],p=u[f];i&&(h=tp(h+c["y"===d?"top":"left"],h,h-c["y"===d?"bottom":"right"])),a&&(p=tp(p+c["y"===f?"top":"left"],p,p-c["y"===f?"bottom":"right"]));const m=s.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[f]:a}}}}}},Qp=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=np(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=rp(o),y=sp(s),b=rp(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(u.floating)),_=d||(b||!m?[fp(s)]:function(e){const t=fp(e);return[cp(e),t,cp(t)]}(s)),x="none"!==p;!d&&x&&_.push(...function(e,t,n,r){const o=op(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(rp(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(cp)))),i}(s,m,p,w));const E=[s,..._],k=await Ap(t,g),S=[];let C=(null==(r=i.flip)?void 0:r.overflows)||[];if(c&&S.push(k[v]),f){const e=up(o,a,w);S.push(k[e[0]],k[e[1]])}if(C=[...C,{placement:o,overflows:S}],!S.every((e=>e<=0))){var P,T;const e=((null==(P=i.flip)?void 0:P.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(T=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var M;const e=null==(M=C.filter((e=>{if(x){const t=sp(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},em=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...u}=np(e,t),c=await Ap(t,u),f=rp(o),d=op(o),h="y"===sp(o),{width:p,height:m}=i.floating;let g,v;"top"===f||"bottom"===f?(g=f,v=d===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,g="end"===d?"top":"bottom");const y=m-c.top-c.bottom,b=p-c.left-c.right;let w=Jh(m-c[g],y),_=Jh(p-c[v],b);if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(w=y),!t.middlewareData.shift&&!d){const e=Yh(c.left,0),t=Yh(c.right,0),n=Yh(c.top,0),r=Yh(c.bottom,0);h?_=p-2*(0!==e||0!==t?e+t:Yh(c.left,c.right)):w=m-2*(0!==n||0!==r?n+r:Yh(c.top,c.bottom))}await l({...t,availableWidth:_,availableHeight:w});const x=await a.getDimensions(s.floating);return p!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}},tm=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=np(e,t);switch(r){case"referenceHidden":{const e=Op(await Ap(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Rp(e)}}}case"escaped":{const e=Op(await Ap(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Rp(e)}}}default:return{}}}}},nm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=np(e,t)||{};if(null==u)return{};const f=dp(c),d={x:n,y:r},h=lp(o),p=ap(h),m=await a.getDimensions(u),g="y"===h,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let E=x?x[b]:0;E&&await(null==a.isElement?void 0:a.isElement(x))||(E=s.floating[b]||i.floating[p]);const k=w/2-_/2,S=E/2-m[p]/2-1,C=Jh(f[v],S),P=Jh(f[y],S),T=C,M=E-m[p]-P,A=E/2-m[p]/2+k,O=tp(T,A,M),R=!l.arrow&&null!=op(o)&&A!==O&&i.reference[p]/2-(A<T?C:P)-m[p]/2<0,N=R?A<T?A-T:A-M:0;return{[h]:d[h]+N,data:{[h]:O,centerOffset:A-O-N,...R&&{alignmentOffset:N}},reset:R}}}),rm=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:u}=np(e,t),c=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(r.reference))||[]),f=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let r=null;for(let e=0;e<t.length;e++){const o=t[e];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map((e=>hp(Np(e))))}(c),d=hp(Np(c)),h=dp(s),p=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===f.length&&f[0].left>f[1].right&&null!=l&&null!=u)return f.find((e=>l>e.left-h.left&&l<e.right+h.right&&u>e.top-h.top&&u<e.bottom+h.bottom))||d;if(f.length>=2){if("y"===sp(n)){const e=f[0],t=f[f.length-1],r="top"===rp(n),o=e.top,i=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:o,bottom:i,left:a,right:s,width:s-a,height:i-o,x:a,y:o}}const e="left"===rp(n),t=Yh(...f.map((e=>e.right))),r=Jh(...f.map((e=>e.left))),o=f.filter((n=>e?n.left===r:n.right===t)),i=o[0].top,a=o[o.length-1].bottom;return{top:i,bottom:a,left:r,right:t,width:t-r,height:a-i,x:r,y:i}}return d}},floating:r.floating,strategy:a});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},om=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=np(e,t),c={x:n,y:r},f=sp(o),d=ip(f);let h=c[d],p=c[f];const m=np(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===d?"height":"width",t=i.reference[d]-i.floating[e]+g.mainAxis,n=i.reference[d]+i.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(u){var v,y;const e="y"===d?"width":"height",t=["top","left"].includes(rp(o)),n=i.reference[f]-i.floating[e]+(t&&(null==(v=a.offset)?void 0:v[f])||0)+(t?0:g.crossAxis),r=i.reference[f]+i.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[f])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[d]:h,[f]:p}}}},im=(e,t,n)=>{const r=new Map,o={platform:Jp,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:f}=Mp(u,r,l),d=r,h={},p=0;for(let n=0;n<s.length;n++){const{name:i,fn:m}=s[n],{x:g,y:v,data:y,reset:b}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=g?g:c,f=null!=v?v:f,h={...h,[i]:{...h[i],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:c,y:f}=Mp(u,d,l))),n=-1)}return{x:c,y:f,placement:d,strategy:o,middlewareData:h}})(e,t,{...o,platform:i})};var am="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;function sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!sm(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(!("_owner"===n&&e.$$typeof||sm(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function lm(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function um(e,t){const n=lm(e);return Math.round(t*n)/n}function cm(e){const t=A.useRef(e);return am((()=>{t.current=e})),t}const fm=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&{}.hasOwnProperty.call(n,"current")?null!=n.current?nm({element:n.current,padding:r}).fn(t):{}:n?nm({element:n,padding:r}).fn(t):{}}}),dm=(e,t)=>({...Zp(e),options:[e,t]});function hm(e){return A.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const pm={...A},mm=pm.useInsertionEffect||(e=>e());function gm(e){const t=A.useRef((()=>{if("production"!==Pl.env.NODE_ENV)throw new Error("Cannot call an event handler while rendering.")}));return mm((()=>{t.current=e})),A.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const vm="ArrowUp",ym="ArrowDown",bm="ArrowLeft",wm="ArrowRight";function _m(e,t,n){return Math.floor(e/t)!==n}function xm(e,t){return t<0||t>=e.current.length}function Em(e,t){return Sm(e,{disabledIndices:t})}function km(e,t){return Sm(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Sm(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=void 0===t?{}:t;const a=e.current;let s=n;do{s+=r?-i:i}while(s>=0&&s<=a.length-1&&Am(a,s,o));return s}function Cm(e,t){let{event:n,orientation:r,loop:o,rtl:i,cols:a,disabledIndices:s,minIndex:l,maxIndex:u,prevIndex:c,stopEvent:f=!1}=t,d=c;if(n.key===vm){if(f&&Hh(n),-1===c)d=u;else if(d=Sm(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),o&&(c-a<l||d<0)){const e=c%a,t=u%a,n=u-(t-e);d=t===e?u:t>e?n:n-a}xm(e,d)&&(d=c)}if(n.key===ym&&(f&&Hh(n),-1===c?d=l:(d=Sm(e,{startingIndex:c,amount:a,disabledIndices:s}),o&&c+a>u&&(d=Sm(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),xm(e,d)&&(d=c)),"both"===r){const t=Kh(c/a);n.key===(i?bm:wm)&&(f&&Hh(n),c%a!=a-1?(d=Sm(e,{startingIndex:c,disabledIndices:s}),o&&_m(d,a,t)&&(d=Sm(e,{startingIndex:c-c%a-1,disabledIndices:s}))):o&&(d=Sm(e,{startingIndex:c-c%a-1,disabledIndices:s})),_m(d,a,t)&&(d=c)),n.key===(i?wm:bm)&&(f&&Hh(n),c%a!=0?(d=Sm(e,{startingIndex:c,decrement:!0,disabledIndices:s}),o&&_m(d,a,t)&&(d=Sm(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):o&&(d=Sm(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),_m(d,a,t)&&(d=c));const r=Kh(u/a)===t;xm(e,d)&&(d=o&&r?n.key===(i?wm:bm)?u:Sm(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return d}function Pm(e,t,n){const r=[];let o=0;return e.forEach(((e,i)=>{let{width:a,height:s}=e;if(a>t&&"production"!==Pl.env.NODE_ENV)throw new Error("[Floating UI]: Invalid grid - item width at index "+i+" is greater than grid columns");let l=!1;for(n&&(o=0);!l;){const e=[];for(let n=0;n<a;n++)for(let r=0;r<s;r++)e.push(o+n+r*t);o%t+a<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=i})),l=!0):o++}})),[...r]}function Tm(e,t,n,r,o){if(-1===e)return-1;const i=n.indexOf(e),a=t[e];switch(o){case"tl":return i;case"tr":return a?i+a.width-1:i;case"bl":return a?i+(a.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function Mm(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function Am(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var Om="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;function Rm(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Nm=A.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Im(e){const{children:t,elementsRef:n,labelsRef:r}=e,[o,i]=A.useState((()=>new Map)),a=A.useCallback((e=>{i((t=>new Map(t).set(e,null)))}),[]),s=A.useCallback((e=>{i((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return Om((()=>{const e=new Map(o);Array.from(e.keys()).sort(Rm).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(o,e)||i(e)}),[o]),A.createElement(Nm.Provider,{value:A.useMemo((()=>({register:a,unregister:s,map:o,elementsRef:n,labelsRef:r})),[a,s,o,n,r])},t)}function Lm(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:o,elementsRef:i,labelsRef:a}=A.useContext(Nm),[s,l]=A.useState(null),u=A.useRef(null),c=A.useCallback((e=>{var n;u.current=e,null!==s&&(i.current[s]=e,a)&&(a.current[s]=void 0!==t?t:null!=(n=null==e?void 0:e.textContent)?n:null)}),[s,i,a,t]);return Om((()=>{const e=u.current;if(e)return n(e),()=>{r(e)}}),[n,r]),Om((()=>{const e=u.current?o.get(u.current):null;null!=e&&l(e)}),[o]),A.useMemo((()=>({ref:c,index:null==s?-1:s})),[s,c])}function Bm(e,t){return"function"==typeof e?e(t):e?A.cloneElement(e,t):A.createElement("div",t)}const jm=A.createContext({activeIndex:0,onNavigate:()=>{}}),Dm=[bm,wm],zm=[vm,ym],Fm=[...Dm,...zm],$m=A.forwardRef((function(e,t){const{render:n,orientation:r="both",loop:o=!0,rtl:i=!1,cols:a=1,disabledIndices:s,activeIndex:l,onNavigate:u,itemSizes:c,dense:f=!1,...d}=e,[h,p]=A.useState(0),m=null!=l?l:h,g=gm(null!=u?u:p),v=A.useRef([]),y=n&&"function"!=typeof n?n.props:{},b=A.useMemo((()=>({activeIndex:m,onNavigate:g})),[m,g]),w=a>1,_={...d,...y,ref:t,"aria-orientation":"both"===r?void 0:r,onKeyDown(e){null==d.onKeyDown||d.onKeyDown(e),null==y.onKeyDown||y.onKeyDown(e),function(e){if(!Fm.includes(e.key))return;let t=m;const n=Em(v,s),l=km(v,s),u=i?bm:wm,d=i?wm:bm;if(w){const d=c||Array.from({length:v.current.length},(()=>({width:1,height:1}))),h=Pm(d,a,f),p=h.findIndex((e=>null!=e&&!Am(v.current,e,s))),g=h.reduce(((e,t,n)=>null==t||Am(v.current,t,s)?e:n),-1),y=h[Cm({current:h.map((e=>e?v.current[e]:null))},{event:e,orientation:r,loop:o,rtl:i,cols:a,disabledIndices:Mm([...s||v.current.map(((e,t)=>Am(v.current,t)?t:void 0)),void 0],h),minIndex:p,maxIndex:g,prevIndex:Tm(m>l?n:m,d,h,a,e.key===ym?"bl":e.key===u?"tr":"tl")})];null!=y&&(t=y)}const h={horizontal:[u],vertical:[ym],both:[u,ym]}[r],p={horizontal:[d],vertical:[vm],both:[d,vm]}[r],y=w?Fm:{horizontal:Dm,vertical:zm,both:Fm}[r];var b;t===m&&[...h,...p].includes(e.key)&&(t=o&&t===l&&h.includes(e.key)?n:o&&t===n&&p.includes(e.key)?l:Sm(v,{startingIndex:t,decrement:p.includes(e.key),disabledIndices:s})),t===m||xm(v,t)||(e.stopPropagation(),y.includes(e.key)&&e.preventDefault(),g(t),null==(b=v.current[t])||b.focus())}(e)}};return A.createElement(jm.Provider,{value:b},A.createElement(Im,{elementsRef:v},Bm(n,_)))})),Um=A.forwardRef((function(e,t){const{render:n,...r}=e,o=n&&"function"!=typeof n?n.props:{},{activeIndex:i,onNavigate:a}=A.useContext(jm),{ref:s,index:l}=Lm(),u=hm([s,t,o.ref]),c=i===l,f={...r,...o,ref:u,tabIndex:c?0:-1,"data-active":c?"":void 0,onFocus(e){null==r.onFocus||r.onFocus(e),null==o.onFocus||o.onFocus(e),a(l)}};return Bm(n,f)}));function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(this,arguments)}let Vm=!1,qm=0;const Gm=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qm++,Wm=pm.useId||function(){const[e,t]=A.useState((()=>Vm?Gm():void 0));return Om((()=>{null==e&&t(Gm())}),[]),A.useEffect((()=>{Vm=!0}),[]),e};let Jm;function Ym(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o="Floating UI: "+n.join(" ");var i;null!=(e=Jm)&&e.has(o)||(null==(i=Jm)||i.add(o),console.warn(o))}"production"!==Pl.env.NODE_ENV&&(Jm=new Set);const Zm=A.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:o,shift:i}},width:a=14,height:s=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:c,stroke:f,d:d,style:{transform:h,...p}={},...m}=e;"production"!==Pl.env.NODE_ENV&&(t||Ym("The `ref` prop is required for `FloatingArrow`."));const g=Wm(),[v,y]=A.useState(!1);if(Om((()=>{r&&"rtl"===kh(r).direction&&y(!0)}),[r]),!r)return null;const[b,w]=n.split("-"),_="top"===b||"bottom"===b;let x=c;(_&&null!=i&&i.x||!_&&null!=i&&i.y)&&(x=null);const E=2*u,k=E/2,S=a/2*(l/-8+1),C=s/2*l/4,P=!!d,T=x&&"end"===w?"bottom":"top";let M=x&&"end"===w?"right":"left";x&&v&&(M="end"===w?"left":"right");const O=null!=(null==o?void 0:o.x)?x||o.x:"",R=null!=(null==o?void 0:o.y)?x||o.y:"",N=d||"M0,0 H"+a+" L"+(a-S)+","+(s-C)+" Q"+a/2+","+s+" "+S+","+(s-C)+" Z",I={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[b];return A.createElement("svg",Hm({},m,{"aria-hidden":!0,ref:t,width:P?a:a+E,height:a,viewBox:"0 0 "+a+" "+(s>a?s:a),style:{position:"absolute",pointerEvents:"none",[M]:O,[T]:R,[b]:_||P?"100%":"calc(100% - "+E/2+"px)",transform:[I,h].filter((e=>!!e)).join(" "),...p}}),E>0&&A.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:f,strokeWidth:E+(d?0:1),d:N}),A.createElement("path",{stroke:E&&!d?m.fill:"none",d:N}),A.createElement("clipPath",{id:g},A.createElement("rect",{x:-k,y:k*(P?-1:1),width:a+E,height:a})))}));function Km(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const Xm=A.createContext(null),Qm=A.createContext(null),eg=()=>{var e;return(null==(e=A.useContext(Xm))?void 0:e.id)||null},tg=()=>A.useContext(Qm);function ng(e){return"data-floating-ui-"+e}function rg(e){const t=l.useRef(e);return Om((()=>{t.current=e})),t}const og=ng("safe-polygon");function ig(e,t,n){return n&&!Dh(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}const ag=()=>{},sg=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:ag,setState:ag,isInstantPhase:!1}),lg=()=>A.useContext(sg);let ug=0;function cg(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ug);const i=()=>null==e?void 0:e.focus({preventScroll:n});o?i():ug=requestAnimationFrame(i)}function fg(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function dg(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let hg=new WeakMap,pg=new WeakSet,mg={},gg=0;const vg=e=>e&&(e.host||vg(e.parentNode));function yg(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=zh(e[0]).body;return function(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,a=(s=t,e.map((e=>{if(s.contains(e))return e;const t=vg(e);return s.contains(t)?t:null})).filter((e=>null!=e)));var s;const l=new Set,u=new Set(a),c=[];mg[o]||(mg[o]=new WeakMap);const f=mg[o];return a.forEach((function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!u.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==fh(t))if(l.has(t))e(t);else{const e=i?t.getAttribute(i):null,n=null!==e&&"false"!==e,r=hg.get(t)||0,a=i?r+1:r,s=(f.get(t)||0)+1;hg.set(t,a),f.set(t,s),c.push(t),1===a&&n&&pg.add(t),1===s&&t.setAttribute(o,""),!n&&i&&t.setAttribute(i,"true")}}))}(t),l.clear(),gg++,()=>{c.forEach((e=>{const t=hg.get(e)||0,n=i?t-1:t,r=(f.get(e)||0)-1;hg.set(e,n),f.set(e,r),n||(!pg.has(e)&&i&&e.removeAttribute(i),pg.delete(e)),r||e.removeAttribute(o)})),gg--,gg||(hg=new WeakMap,hg=new WeakMap,pg=new WeakSet,mg={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const bg=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function wg(e,t){const n=Tp(e,bg());"prev"===t&&n.reverse();const r=n.indexOf(Ah(zh(e)));return n.slice(r+1)[0]}function _g(){return wg(document.body,"next")}function xg(){return wg(document.body,"prev")}function Eg(e,t){const n=e.relatedTarget;return!n||!Oh(t||e.currentTarget,n)}function kg(e){Tp(e,bg()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Sg(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Cg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Pg(e){"Tab"===e.key&&clearTimeout(void 0)}const Tg=A.forwardRef((function(e,t){const[n,r]=A.useState();Om((()=>(Bh()&&r("button"),document.addEventListener("keydown",Pg),()=>{document.removeEventListener("keydown",Pg)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[ng("focus-guard")]:"",style:Cg};return A.createElement("span",Hm({},e,o))})),Mg=A.createContext(null),Ag=ng("portal");function Og(e){void 0===e&&(e={});const{id:t,root:n}=e,r=Wm(),o=Rg(),[i,a]=A.useState(null),s=A.useRef(null);return Om((()=>()=>{null==i||i.remove(),queueMicrotask((()=>{s.current=null}))}),[i]),Om((()=>{if(!r)return;if(s.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Ag,""),e.appendChild(n),s.current=n,a(n)}),[t,r]),Om((()=>{if(null===n)return;if(!r)return;if(s.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!mh(e)&&(e=e.current),e=e||document.body;let i=null;t&&(i=document.createElement("div"),i.id=t,e.appendChild(i));const l=document.createElement("div");l.id=r,l.setAttribute(Ag,""),e=i||e,e.appendChild(l),s.current=l,a(l)}),[t,n,r,o]),i}const Rg=()=>A.useContext(Mg),Ng="data-floating-ui-focusable";function Ig(e){return e?e.hasAttribute(Ng)?e:e.querySelector("["+Ng+"]")||e:null}let Lg=[];function Bg(e){Lg=Lg.filter((e=>e.isConnected)),e&&"body"!==fh(e)&&(Lg.push(e),Lg.length>20&&(Lg=Lg.slice(-20)))}function jg(){return Lg.slice().reverse().find((e=>e.isConnected))}const Dg=A.forwardRef((function(e,t){return A.createElement("button",Hm({},e,{type:"button",ref:t,tabIndex:-1,style:Cg}))}));let zg=0,Fg=()=>{};const $g=A.forwardRef((function(e,t){const{lockScroll:n=!1,...r}=e;return Om((()=>{if(n)return zg++,1===zg&&(Fg=function(){const e=/iP(hone|ad|od)|iOS/.test(Rh()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,i=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var a,s;const e=(null==(a=window.visualViewport)?void 0:a.offsetLeft)||0,n=(null==(s=window.visualViewport)?void 0:s.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(i-Math.floor(n))+"px",left:-(o-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,i))}}()),()=>{zg--,0===zg&&Fg()}}),[n]),A.createElement("div",Hm({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));function Ug(e){return gh(e.target)&&"BUTTON"===e.target.tagName}function Hg(e){return Uh(e)}function Vg(e){return null!=e&&null!=e.clientX}const qg={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gg={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Wg=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Jg(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Wm(),i=A.useRef({}),[a]=A.useState((()=>Km())),s=null!=eg();if("production"!==Pl.env.NODE_ENV){const e=r.reference;e&&!mh(e)&&function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o="Floating UI: "+n.join(" ");var i;null!=(e=Jm)&&e.has(o)||(null==(i=Jm)||i.add(o),console.error(o))}("Cannot pass a virtual element to the `elements.reference` option,","as it must be a real DOM element. Use `refs.setPositionReference()`","instead.")}const[l,u]=A.useState(r.reference),c=gm(((e,t,r)=>{i.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:r,nested:s}),null==n||n(e,t,r)})),f=A.useMemo((()=>({setPositionReference:u})),[]),d=A.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return A.useMemo((()=>({dataRef:i,open:t,onOpenChange:c,elements:d,events:a,floatingId:o,refs:f})),[t,c,d,a,o,f])}const Yg="active",Zg="selected";function Kg(e,t,n){const r=new Map,o="item"===n;let i=e;if(o&&e){const{[Yg]:t,[Zg]:n,...r}=e;i=r}return{..."floating"===n&&{tabIndex:-1,[Ng]:""},...i,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var a;o&&[Yg,Zg].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(a=r.get(n))||a.push(i),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=i)})),e):e),{})}}function Xg(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Qg(e,t){return Xg(t,e===vm||e===ym,e===bm||e===wm)}function ev(e,t,n){return Xg(t,e===ym,n?e===bm:e===wm)||"Enter"===e||" "===e||""===e}function tv(e,t,n){return Xg(t,n?e===wm:e===bm,e===vm)}const nv=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]),rv=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function ov(e,t){return"function"==typeof e?e(t):e}function iv(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,i=("number"==typeof o?o:o.close)||0,[a,s]=A.useState("unmounted"),l=function(e,t){const[n,r]=A.useState(e);return e&&!n&&r(!0),A.useEffect((()=>{if(!e&&n){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,n,t]),n}(n,i);return l||"close"!==a||s("unmounted"),Om((()=>{if(r){if(n){s("initial");const e=requestAnimationFrame((()=>{s("open")}));return()=>{cancelAnimationFrame(e)}}s("close")}}),[n,r]),{isMounted:l,status:a}}function av(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function sv(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let e=0,a=i-1;e<i;a=e++){const[i,s]=t[e]||[0,0],[l,u]=t[a]||[0,0];s>=r!=u>=r&&n<=(l-i)*(r-s)/(u-s)+i&&(o=!o)}return o}var lv={__proto__:null,Composite:$m,CompositeItem:Um,FloatingArrow:Zm,FloatingDelayGroup:function(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=A.useReducer(((e,t)=>({...e,...t})),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=A.useRef(null),s=A.useCallback((e=>{i({currentId:e})}),[]);return Om((()=>{o.currentId?null===a.current?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)}),[o.currentId,o.isInstantPhase]),A.createElement(sg.Provider,{value:A.useMemo((()=>({...o,setState:i,setCurrentId:s})),[o,s])},t)},FloatingFocusManager:function(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0,outsideElementsInert:d=!1}=e,{open:h,refs:p,nodeId:m,onOpenChange:g,events:v,dataRef:y,elements:{domReference:b,floating:w}}=t,_="number"==typeof a&&a<0,x=Vh(b)&&_,E="undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,k=!E||i,S=!k||E&&d,C=rg(o),P=rg(a),T=rg(s),M=tg(),O=Rg(),R=A.useRef(null),N=A.useRef(null),I=A.useRef(!1),L=A.useRef(!1),B=A.useRef(-1),j=null!=O,D=Ig(w),z=gm((function(e){return void 0===e&&(e=D),e?Tp(e,bg()):[]})),F=gm((e=>{const t=z(e);return C.current.map((e=>b&&"reference"===e?b:D&&"floating"===e?D:t)).filter(Boolean).flat()}));A.useEffect((()=>{if(r)return;if(!u)return;function e(e){if("Tab"===e.key){Oh(D,Ah(zh(D)))&&0===z().length&&!x&&Hh(e);const t=F(),n=$h(e);"reference"===C.current[0]&&n===b&&(Hh(e),cg(e.shiftKey?t[t.length-1]:t[1])),"floating"===C.current[1]&&n===D&&e.shiftKey&&(Hh(e),cg(t[0]))}}const t=zh(D);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,b,D,u,C,x,z,F]),A.useEffect((()=>{if(!r&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=$h(e),n=z().indexOf(t);-1!==n&&(B.current=n)}}),[r,w,z]),A.useEffect((()=>{if(!r&&f)return w&&gh(b)?(b.addEventListener("focusout",t),b.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{b.removeEventListener("focusout",t),b.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)}):void 0;function e(){L.current=!0,setTimeout((()=>{L.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(Oh(b,t)||Oh(w,t)||Oh(t,w)||Oh(null==O?void 0:O.portalNode,t)||null!=t&&t.hasAttribute(ng("focus-guard"))||M&&(dg(M.nodesRef.current,m).find((e=>{var n,r;return Oh(null==(n=e.context)?void 0:n.elements.floating,t)||Oh(null==(r=e.context)?void 0:r.elements.domReference,t)}))||fg(M.nodesRef.current,m).find((e=>{var n,r,o;return[null==(n=e.context)?void 0:n.elements.floating,Ig(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(o=e.context)?void 0:o.elements.domReference)===t}))));if(l&&n&&Ah(zh(D))===zh(D).body){gh(D)&&D.focus();const e=B.current,t=z(),n=t[e]||t[t.length-1]||D;gh(n)&&n.focus()}!x&&u||!t||!n||L.current||t===jg()||(I.current=!0,g(!1,e,"focus-out"))}))}}),[r,b,w,D,u,m,M,O,g,f,l,z,x]);const $=A.useRef(null),U=A.useRef(null),H=hm([$,null==O?void 0:O.beforeInsideRef]),V=hm([U,null==O?void 0:O.afterInsideRef]);function q(e){return!r&&c&&u?A.createElement(Dg,{ref:"start"===e?R:N,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof c?c:"Dismiss"):null}A.useEffect((()=>{var e;if(r)return;if(!w)return;const t=Array.from((null==O||null==(e=O.portalNode)?void 0:e.querySelectorAll("["+ng("portal")+"]"))||[]),n=M&&!u?fg(null==M?void 0:M.nodesRef.current,m).map((e=>{var t;return null==(t=e.context)?void 0:t.elements.floating})):[],o=[w,...t,...n,R.current,N.current,$.current,U.current,null==O?void 0:O.beforeOutsideRef.current,null==O?void 0:O.afterOutsideRef.current,C.current.includes("reference")||x?b:null].filter((e=>null!=e)),i=u||x?yg(o,!S,S):yg(o);return()=>{i()}}),[r,b,w,u,C,O,x,k,S,M,m]),Om((()=>{if(r||!gh(D))return;const e=Ah(zh(D));queueMicrotask((()=>{const t=F(D),n=P.current,r=("number"==typeof n?t[n]:n.current)||D,o=Oh(D,e);_||o||!h||cg(r,{preventScroll:r===D})}))}),[r,h,D,_,F,P]),Om((()=>{if(r||!D)return;let e=!1;const t=zh(D),n=Ah(t);let o=y.current.openEvent;function i(t){let{open:n,reason:r,event:i,nested:a}=t;n&&(o=i),"escape-key"===r&&p.domReference.current&&Bg(p.domReference.current),["hover","safe-polygon"].includes(r)&&"mouseleave"===i.type&&(I.current=!0),"outside-press"===r&&(a?(I.current=!1,e=!0):I.current=!(Ih(i)||Lh(i)))}Bg(n),v.on("openchange",i);const a=t.createElement("span");return a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),Object.assign(a.style,Cg),j&&b&&b.insertAdjacentElement("afterend",a),()=>{v.off("openchange",i);const n=Ah(t),r=Oh(w,n)||M&&dg(M.nodesRef.current,m).some((e=>{var t;return Oh(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||o&&["click","mousedown"].includes(o.type))&&p.domReference.current&&Bg(p.domReference.current);const s="boolean"==typeof T.current?jg()||a:T.current.current||a;queueMicrotask((()=>{const o=function(e){const t=bg();return function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==gp.call(e,pp)&&Sp(t,e)}(e,t)?e:Tp(e,t)[0]||e}(s);T.current&&!I.current&&gh(o)&&(o===n||n===t.body||r)&&o.focus({preventScroll:e}),a.remove()}))}}),[r,w,D,T,y,p,v,M,m,j,b]),A.useEffect((()=>{queueMicrotask((()=>{I.current=!1}))}),[r]),Om((()=>{if(!r&&O)return O.setFocusManagerState({modal:u,closeOnFocusOut:f,open:h,onOpenChange:g,refs:p}),()=>{O.setFocusManagerState(null)}}),[r,O,u,h,g,p,f]),Om((()=>{if(r)return;if(!D)return;if("function"!=typeof MutationObserver)return;if(_)return;const e=()=>{const e=D.getAttribute("tabindex"),t=z(),n=Ah(zh(w)),r=t.indexOf(n);-1!==r&&(B.current=r),C.current.includes("floating")||n!==p.domReference.current&&0===t.length?"0"!==e&&D.setAttribute("tabindex","0"):"-1"!==e&&D.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(D,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,w,D,p,C,z,_]);const G=!r&&k&&(!u||!x)&&(j||u);return A.createElement(A.Fragment,null,G&&A.createElement(Tg,{"data-type":"inside",ref:H,onFocus:e=>{if(u){const e=F();cg("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=O&&O.preserveTabOrder&&O.portalNode)if(I.current=!1,Eg(e,O.portalNode)){const e=_g()||b;null==e||e.focus()}else{var t;null==(t=O.beforeOutsideRef.current)||t.focus()}}}),!x&&q("start"),n,q("end"),G&&A.createElement(Tg,{"data-type":"inside",ref:V,onFocus:e=>{if(u)cg(F()[0]);else if(null!=O&&O.preserveTabOrder&&O.portalNode)if(f&&(I.current=!0),Eg(e,O.portalNode)){const e=xg()||b;null==e||e.focus()}else{var t;null==(t=O.afterOutsideRef.current)||t.focus()}}}))},FloatingList:Im,FloatingNode:function(e){const{children:t,id:n}=e,r=eg();return A.createElement(Xm.Provider,{value:A.useMemo((()=>({id:n,parentId:r})),[n,r])},t)},FloatingOverlay:$g,FloatingPortal:function(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=Og({id:n,root:r}),[a,s]=A.useState(null),l=A.useRef(null),u=A.useRef(null),c=A.useRef(null),f=A.useRef(null),d=null==a?void 0:a.modal,h=null==a?void 0:a.open,p=!!a&&!a.modal&&a.open&&o&&!(!r&&!i);return A.useEffect((()=>{if(i&&o&&!d)return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){i&&Eg(e)&&("focusin"===e.type?Sg:kg)(i)}}),[i,o,d]),A.useEffect((()=>{i&&(h||Sg(i))}),[h,i]),A.createElement(Mg.Provider,{value:A.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:c,afterInsideRef:f,portalNode:i,setFocusManagerState:s})),[o,i])},p&&i&&A.createElement(Tg,{"data-type":"outside",ref:l,onFocus:e=>{if(Eg(e,i)){var t;null==(t=c.current)||t.focus()}else{const e=xg()||(null==a?void 0:a.refs.domReference.current);null==e||e.focus()}}}),p&&i&&A.createElement("span",{"aria-owns":i.id,style:Cg}),i&&D.createPortal(t,i),p&&i&&A.createElement(Tg,{"data-type":"outside",ref:u,onFocus:e=>{if(Eg(e,i)){var t;null==(t=f.current)||t.focus()}else{const t=_g()||(null==a?void 0:a.refs.domReference.current);null==t||t.focus(),(null==a?void 0:a.closeOnFocusOut)&&(null==a||a.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))},FloatingTree:function(e){const{children:t}=e,n=A.useRef([]),r=A.useCallback((e=>{n.current=[...n.current,e]}),[]),o=A.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),i=A.useState((()=>Km()))[0];return A.createElement(Qm.Provider,{value:A.useMemo((()=>({nodesRef:n,addNode:r,removeNode:o,events:i})),[r,o,i])},t)},inner:e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:l=0,scrollRef:u,...c}=np(e,t),{rects:f,elements:{floating:d}}=t,h=n.current[a],p=(null==u?void 0:u.current)||d,m=d.clientTop||p.clientTop,g=0!==d.clientTop,v=0!==p.clientTop,y=d===p;if("production"!==Pl.env.NODE_ENV&&(t.placement.startsWith("bottom")||Ym('`placement` side must be "bottom" when using the `inner`',"middleware.")),!h)return{};const b={...t,...await dm(-h.offsetTop-d.clientTop-f.reference.height/2-h.offsetHeight/2-i).fn(t)},w=await Yp(av(b,p.scrollHeight+m+d.clientTop),c),_=await Yp(b,{...c,elementContext:"reference"}),x=Yh(0,w.top),E=b.y+x,k=p.scrollHeight>p.clientHeight?e=>e:Zh,S=k(Yh(0,p.scrollHeight+(g&&y||v?2*m:0)-x-Yh(0,w.bottom)));if(p.style.maxHeight=S+"px",p.scrollTop=x,o){const e=p.offsetHeight<h.offsetHeight*Jh(s,n.current.length)-1||_.top>=-l||_.bottom>=-l;D.flushSync((()=>o(e)))}return r&&(r.current=await Yp(av({...b,y:E},p.offsetHeight+m+d.clientTop),c)),{y:E}}}),safePolygon:function(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,a=null,s=null,l=performance.now();const u=e=>{let{x:n,y:u,placement:c,elements:f,onClose:d,nodeId:h,tree:p}=e;return function(e){function m(){clearTimeout(o),d()}if(clearTimeout(o),!f.domReference||!f.floating||null==c||null==n||null==u)return;const{clientX:g,clientY:v}=e,y=[g,v],b=$h(e),w="mouseleave"===e.type,_=Oh(f.floating,b),x=Oh(f.domReference,b),E=f.domReference.getBoundingClientRect(),k=f.floating.getBoundingClientRect(),S=c.split("-")[0],C=n>k.right-k.width/2,P=u>k.bottom-k.height/2,T=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(y,E),M=k.width>E.width,A=k.height>E.height,O=(M?E:k).left,R=(M?E:k).right,N=(A?E:k).top,I=(A?E:k).bottom;if(_&&(i=!0,!w))return;if(x&&(i=!1),x&&!w)return void(i=!0);if(w&&mh(e.relatedTarget)&&Oh(f.floating,e.relatedTarget))return;if(p&&dg(p.nodesRef.current,h).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===S&&u>=E.bottom-1||"bottom"===S&&u<=E.top+1||"left"===S&&n>=E.right-1||"right"===S&&n<=E.left+1)return m();let L=[];switch(S){case"top":L=[[O,E.top+1],[O,k.bottom-1],[R,k.bottom-1],[R,E.top+1]];break;case"bottom":L=[[O,k.top+1],[O,E.bottom-1],[R,E.bottom-1],[R,k.top+1]];break;case"left":L=[[k.right-1,I],[k.right-1,N],[E.left+1,N],[E.left+1,I]];break;case"right":L=[[E.right-1,I],[E.right-1,N],[k.left+1,N],[k.left+1,I]]}if(!sv([g,v],L)){if(i&&!T)return m();if(!w&&r){const t=function(e,t){const n=performance.now(),r=n-l;if(null===a||null===s||0===r)return a=e,s=t,l=n,null;const o=e-a,i=t-s,u=Math.sqrt(o*o+i*i);return a=e,s=t,l=n,u/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return m()}sv([g,v],function(e){let[n,r]=e;switch(S){case"top":return[[M?n+t/2:C?n+4*t:n-4*t,r+t+1],[M?n-t/2:C?n+4*t:n-4*t,r+t+1],[k.left,C||M?k.bottom-t:k.top],[k.right,C?M?k.bottom-t:k.top:k.bottom-t]];case"bottom":return[[M?n+t/2:C?n+4*t:n-4*t,r-t],[M?n-t/2:C?n+4*t:n-4*t,r-t],[k.left,C||M?k.top+t:k.bottom],[k.right,C?M?k.top+t:k.bottom:k.top+t]];case"left":return[[P||A?k.right-t:k.left,k.top],[P?A?k.right-t:k.left:k.right-t,k.bottom],[n+t+1,A?r+t/2:P?r+4*t:r-4*t],[n+t+1,A?r-t/2:P?r+4*t:r-4*t]];case"right":return[[n-t,A?r+t/2:P?r+4*t:r-4*t],[n-t,A?r-t/2:P?r+4*t:r-4*t],[P||A?k.left+t:k.right,k.top],[P?A?k.left+t:k.right:k.left+t,k.bottom]]}}([n,u]))?!i&&r&&(o=window.setTimeout(m,40)):m()}}};return u.__options={blockPointerEvents:n},u},useClick:function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:a=!0,event:s="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:c=!0,stickIfOpen:f=!0}=t,d=A.useRef(),h=A.useRef(!1),p=A.useMemo((()=>({onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0===e.button&&"click"!==s&&(Dh(d.current,!0)&&u||(!n||!l||o.current.openEvent&&f&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=d.current;"mousedown"===s&&d.current?d.current=void 0:Dh(t,!0)&&u||r(!(n&&l&&(!o.current.openEvent||!f||"click"===o.current.openEvent.type)),e.nativeEvent,"click")},onKeyDown(e){d.current=void 0,e.defaultPrevented||!c||Ug(e)||(" "!==e.key||Hg(i)||(e.preventDefault(),h.current=!0),"Enter"===e.key&&r(!n||!l,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!c||Ug(e)||Hg(i)||" "===e.key&&h.current&&(h.current=!1,r(!n||!l,e.nativeEvent,"click"))}})),[o,i,s,u,c,r,n,f,l]);return A.useMemo((()=>a?{reference:p}:{}),[a,p])},useClientPoint:function(e,t){void 0===t&&(t={});const{open:n,dataRef:r,elements:{floating:o,domReference:i},refs:a}=e,{enabled:s=!0,axis:l="both",x:u=null,y:c=null}=t,f=A.useRef(!1),d=A.useRef(null),[h,p]=A.useState(),[m,g]=A.useState([]),v=gm(((e,t)=>{f.current||r.current.openEvent&&!Vg(r.current.openEvent)||a.setPositionReference(function(e,t){let n=null,r=null,o=!1;return{contextElement:e||void 0,getBoundingClientRect(){var i;const a=(null==e?void 0:e.getBoundingClientRect())||{width:0,height:0,x:0,y:0},s="x"===t.axis||"both"===t.axis,l="y"===t.axis||"both"===t.axis,u=["mouseenter","mousemove"].includes((null==(i=t.dataRef.current.openEvent)?void 0:i.type)||"")&&"touch"!==t.pointerType;let c=a.width,f=a.height,d=a.x,h=a.y;return null==n&&t.x&&s&&(n=a.x-t.x),null==r&&t.y&&l&&(r=a.y-t.y),d-=n||0,h-=r||0,c=0,f=0,!o||u?(c="y"===t.axis?a.width:0,f="x"===t.axis?a.height:0,d=s&&null!=t.x?t.x:d,h=l&&null!=t.y?t.y:h):o&&!u&&(f="x"===t.axis?a.height:f,c="y"===t.axis?a.width:c),o=!0,{width:c,height:f,x:d,y:h,top:h,right:d+c,bottom:h+f,left:d}}}}(i,{x:e,y:t,axis:l,dataRef:r,pointerType:h}))})),y=gm((e=>{null==u&&null==c&&(n?d.current||g([]):v(e.clientX,e.clientY))})),b=Dh(h)?o:n,w=A.useCallback((()=>{if(!b||!s||null!=u||null!=c)return;const e=dh(o);function t(n){const r=$h(n);Oh(o,r)?(e.removeEventListener("mousemove",t),d.current=null):v(n.clientX,n.clientY)}if(!r.current.openEvent||Vg(r.current.openEvent)){e.addEventListener("mousemove",t);const n=()=>{e.removeEventListener("mousemove",t),d.current=null};return d.current=n,n}a.setPositionReference(i)}),[b,s,u,c,o,r,a,i,v]);A.useEffect((()=>w()),[w,m]),A.useEffect((()=>{s&&!o&&(f.current=!1)}),[s,o]),A.useEffect((()=>{!s&&n&&(f.current=!0)}),[s,n]),Om((()=>{!s||null==u&&null==c||(f.current=!1,v(u,c))}),[s,u,c,v]);const _=A.useMemo((()=>{function e(e){let{pointerType:t}=e;p(t)}return{onPointerDown:e,onPointerEnter:e,onMouseMove:y,onMouseEnter:y}}),[y]);return A.useMemo((()=>s?{reference:_}:{}),[s,_])},useDelayGroup:function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:a=!0}=t,s=null!=i?i:o,l=lg(),{currentId:u,setCurrentId:c,initialDelay:f,setState:d,timeoutMs:h}=l;return Om((()=>{a&&u&&(d({delay:{open:1,close:ig(f,"close")}}),u!==s&&r(!1))}),[a,s,r,d,u,f]),Om((()=>{function e(){r(!1),d({delay:f,currentId:null})}if(a&&u&&!n&&u===s){if(h){const t=window.setTimeout(e,h);return()=>{clearTimeout(t)}}e()}}),[a,n,d,u,s,r,f,h]),Om((()=>{a&&c!==ag&&n&&c(s)}),[a,n,c,s]),l},useDelayGroupContext:lg,useDismiss:function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:f="pointerdown",ancestorScroll:d=!1,bubbles:h,capture:p}=t,m=tg(),g=gm("function"==typeof l?l:()=>!1),v="function"==typeof l?g:l,y=A.useRef(!1),b=A.useRef(!1),{escapeKey:w,outsidePress:_}=Wg(h),{escapeKey:x,outsidePress:E}=Wg(p),k=A.useRef(!1),S=gm((e=>{var t;if(!n||!a||!s||"Escape"!==e.key)return;if(k.current)return;const o=null==(t=i.current.floatingContext)?void 0:t.nodeId,l=m?dg(m.nodesRef.current,o):[];if(!w&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),C=gm((e=>{var t;const n=()=>{var t;S(e),null==(t=$h(e))||t.removeEventListener("keydown",n)};null==(t=$h(e))||t.addEventListener("keydown",n)})),P=gm((e=>{var t;const n=y.current;y.current=!1;const a=b.current;if(b.current=!1,"click"===u&&a)return;if(n)return;if("function"==typeof v&&!v(e))return;const s=$h(e),l="["+ng("inert")+"]",c=zh(o.floating).querySelectorAll(l);let f=mh(s)?s:null;for(;f&&!Eh(f);){const e=Ch(f);if(Eh(e)||!mh(e))break;f=e}if(c.length&&mh(s)&&!s.matches("html,body")&&!Oh(s,o.floating)&&Array.from(c).every((e=>!Oh(f,e))))return;if(gh(s)&&O){const t=Eh(s),n=kh(s),r=/auto|scroll/,o=t||r.test(n.overflowX);if((t||r.test(n.overflowY))&&s.clientHeight>0&&s.scrollHeight>s.clientHeight&&("rtl"===n.direction?e.offsetX<=s.offsetWidth-s.clientWidth:e.offsetX>s.clientWidth)||o&&s.clientWidth>0&&s.scrollWidth>s.clientWidth&&e.offsetY>s.clientHeight)return}const d=null==(t=i.current.floatingContext)?void 0:t.nodeId,h=m&&dg(m.nodesRef.current,d).some((t=>{var n;return Fh(e,null==(n=t.context)?void 0:n.elements.floating)}));if(Fh(e,o.floating)||Fh(e,o.domReference)||h)return;const p=m?dg(m.nodesRef.current,d):[];if(p.length>0){let e=!0;if(p.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),T=gm((e=>{var t;const n=()=>{var t;P(e),null==(t=$h(e))||t.removeEventListener(u,n)};null==(t=$h(e))||t.addEventListener(u,n)}));A.useEffect((()=>{if(!n||!a)return;i.current.__escapeKeyBubbles=w,i.current.__outsidePressBubbles=_;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function l(){window.clearTimeout(e),k.current=!0}function c(){e=window.setTimeout((()=>{k.current=!1}),xh()?5:0)}const f=zh(o.floating);s&&(f.addEventListener("keydown",x?C:S,x),f.addEventListener("compositionstart",l),f.addEventListener("compositionend",c)),v&&f.addEventListener(u,E?T:P,E);let h=[];return d&&(mh(o.domReference)&&(h=Th(o.domReference)),mh(o.floating)&&(h=h.concat(Th(o.floating))),!mh(o.reference)&&o.reference&&o.reference.contextElement&&(h=h.concat(Th(o.reference.contextElement)))),h=h.filter((e=>{var t;return e!==(null==(t=f.defaultView)?void 0:t.visualViewport)})),h.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{s&&(f.removeEventListener("keydown",x?C:S,x),f.removeEventListener("compositionstart",l),f.removeEventListener("compositionend",c)),v&&f.removeEventListener(u,E?T:P,E),h.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[i,o,s,v,u,n,r,d,a,w,_,S,x,C,P,E,T]),A.useEffect((()=>{y.current=!1}),[v,u]);const M=A.useMemo((()=>({onKeyDown:S,...c&&{[qg[f]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==f&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}})),[S,r,c,f]),O=A.useMemo((()=>({onKeyDown:S,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Gg[u]]:()=>{y.current=!0}})),[S,u]);return A.useMemo((()=>a?{reference:M,floating:O}:{}),[a,M,O])},useFloating:function(e){void 0===e&&(e={});const{nodeId:t}=e,n=Jg({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,a]=A.useState(null),[s,l]=A.useState(null),u=(null==o?void 0:o.domReference)||i,c=A.useRef(null),f=tg();Om((()=>{u&&(c.current=u)}),[u]);const d=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=A.useState(r);sm(d,r)||h(r);const[p,m]=A.useState(null),[g,v]=A.useState(null),y=A.useCallback((e=>{e!==x.current&&(x.current=e,m(e))}),[]),b=A.useCallback((e=>{e!==E.current&&(E.current=e,v(e))}),[]),w=i||p,_=a||g,x=A.useRef(null),E=A.useRef(null),k=A.useRef(c),S=null!=l,C=cm(l),P=cm(o),T=cm(u),M=A.useCallback((()=>{if(!x.current||!E.current)return;const e={placement:t,strategy:n,middleware:d};P.current&&(e.platform=P.current),im(x.current,E.current,e).then((e=>{const t={...e,isPositioned:!1!==T.current};O.current&&!sm(k.current,t)&&(k.current=t,D.flushSync((()=>{f(t)})))}))}),[d,t,n,P,T]);am((()=>{!1===u&&k.current.isPositioned&&(k.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[u]);const O=A.useRef(!1);am((()=>(O.current=!0,()=>{O.current=!1})),[]),am((()=>{if(w&&(x.current=w),_&&(E.current=_),w&&_){if(C.current)return C.current(w,_,M);M()}}),[w,_,M,C,S]);const R=A.useMemo((()=>({reference:x,floating:E,setReference:y,setFloating:b})),[y,b]),N=A.useMemo((()=>({reference:w,floating:_})),[w,_]),I=A.useMemo((()=>{const e={position:n,left:0,top:0};if(!N.floating)return e;const t=um(N.floating,c.x),r=um(N.floating,c.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...lm(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,s,N.floating,c.x,c.y]);return A.useMemo((()=>({...c,update:M,refs:R,elements:N,floatingStyles:I})),[c,M,R,N,I])}({...e,elements:{...o,...s&&{reference:s}}}),h=A.useCallback((e=>{const t=mh(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),d.refs.setReference(t)}),[d.refs]),p=A.useCallback((e=>{(mh(e)||null===e)&&(c.current=e,a(e)),(mh(d.refs.reference.current)||null===d.refs.reference.current||null!==e&&!mh(e))&&d.refs.setReference(e)}),[d.refs]),m=A.useMemo((()=>({...d.refs,setReference:p,setPositionReference:h,domReference:c})),[d.refs,p,h]),g=A.useMemo((()=>({...d.elements,domReference:u})),[d.elements,u]),v=A.useMemo((()=>({...d,...r,refs:m,elements:g,nodeId:t})),[d,m,g,t,r]);return Om((()=>{r.dataRef.current.floatingContext=v;const e=null==f?void 0:f.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),A.useMemo((()=>({...d,context:v,refs:m,elements:g})),[d,m,g,v])},useFloatingNodeId:function(e){const t=Wm(),n=tg(),r=eg(),o=e||r;return Om((()=>{if(!t)return;const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,o]),t},useFloatingParentNodeId:eg,useFloatingPortalNode:Og,useFloatingRootContext:Jg,useFloatingTree:tg,useFocus:function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:a}=e,{enabled:s=!0,visibleOnly:l=!0}=t,u=A.useRef(!1),c=A.useRef(),f=A.useRef(!0);A.useEffect((()=>{if(!s)return;const e=dh(a.domReference);function t(){!n&&gh(a.domReference)&&a.domReference===Ah(zh(a.domReference))&&(u.current=!0)}function r(){f.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",r,!0)}}),[a.domReference,n,s]),A.useEffect((()=>{if(s)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(u.current=!0)}}),[o,s]),A.useEffect((()=>()=>{clearTimeout(c.current)}),[]);const d=A.useMemo((()=>({onPointerDown(e){Lh(e.nativeEvent)||(f.current=!1)},onMouseLeave(){u.current=!1},onFocus(e){if(u.current)return;const t=$h(e.nativeEvent);if(l&&mh(t))try{if(Bh()&&Rh().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!f.current&&!Uh(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){u.current=!1;const t=e.relatedTarget,n=e.nativeEvent,o=mh(t)&&t.hasAttribute(ng("focus-guard"))&&"outside"===t.getAttribute("data-type");c.current=window.setTimeout((()=>{var e;const s=Ah(a.domReference?a.domReference.ownerDocument:document);(t||s!==a.domReference)&&(Oh(null==(e=i.current.floatingContext)?void 0:e.refs.floating.current,s)||Oh(a.domReference,s)||o||r(!1,n,"focus"))}))}})),[i,a.domReference,r,l]);return A.useMemo((()=>s?{reference:d}:{}),[s,d])},useHover:function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:a}=e,{enabled:s=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:f=0,move:d=!0}=t,h=tg(),p=eg(),m=rg(u),g=rg(l),v=rg(n),y=A.useRef(),b=A.useRef(-1),w=A.useRef(),_=A.useRef(-1),x=A.useRef(!0),E=A.useRef(!1),k=A.useRef((()=>{})),S=A.useRef(!1),C=A.useCallback((()=>{var e;const t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[o]);A.useEffect((()=>{if(s)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(b.current),clearTimeout(_.current),x.current=!0,S.current=!1)}}),[s,i]),A.useEffect((()=>{if(!s)return;if(!m.current)return;if(!n)return;function e(e){C()&&r(!1,e,"hover")}const t=zh(a.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[a.floating,n,r,s,m,C]);const P=A.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const o=ig(g.current,"close",y.current);o&&!w.current?(clearTimeout(b.current),b.current=window.setTimeout((()=>r(!1,e,n)),o)):t&&(clearTimeout(b.current),r(!1,e,n))}),[g,r]),T=gm((()=>{k.current(),w.current=void 0})),M=gm((()=>{if(E.current){const e=zh(a.floating).body;e.style.pointerEvents="",e.removeAttribute(og),E.current=!1}})),O=gm((()=>!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)));A.useEffect((()=>{if(s&&mh(a.domReference)){var e;const r=a.domReference;return n&&r.addEventListener("mouseleave",l),null==(e=a.floating)||e.addEventListener("mouseleave",l),d&&r.addEventListener("mousemove",t,{once:!0}),r.addEventListener("mouseenter",t),r.addEventListener("mouseleave",i),()=>{var e;n&&r.removeEventListener("mouseleave",l),null==(e=a.floating)||e.removeEventListener("mouseleave",l),d&&r.removeEventListener("mousemove",t),r.removeEventListener("mouseenter",t),r.removeEventListener("mouseleave",i)}}function t(e){if(clearTimeout(b.current),x.current=!1,c&&!Dh(y.current)||f>0&&!ig(g.current,"open"))return;const t=ig(g.current,"open",y.current);t?b.current=window.setTimeout((()=>{v.current||r(!0,e,"hover")}),t):n||r(!0,e,"hover")}function i(e){if(O())return;k.current();const t=zh(a.floating);if(clearTimeout(_.current),S.current=!1,m.current&&o.current.floatingContext){n||clearTimeout(b.current),w.current=m.current({...o.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){M(),T(),O()||P(e,!0,"safe-polygon")}});const r=w.current;return t.addEventListener("mousemove",r),void(k.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==y.current||!Oh(a.floating,e.relatedTarget))&&P(e)}function l(e){O()||o.current.floatingContext&&(null==m.current||m.current({...o.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){M(),T(),O()||P(e)}})(e))}}),[a,s,e,c,f,d,P,T,M,r,n,v,h,g,m,o,O]),Om((()=>{var e;if(s&&n&&null!=(e=m.current)&&e.__options.blockPointerEvents&&C()){E.current=!0;const e=a.floating;if(mh(a.domReference)&&e){var t;const n=zh(a.floating).body;n.setAttribute(og,"");const r=a.domReference,o=null==h||null==(t=h.nodesRef.current.find((e=>e.id===p)))||null==(t=t.context)?void 0:t.elements.floating;return o&&(o.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}}),[s,n,p,a,h,m,C]),Om((()=>{n||(y.current=void 0,S.current=!1,T(),M())}),[n,T,M]),A.useEffect((()=>()=>{T(),clearTimeout(b.current),clearTimeout(_.current),M()}),[s,a.domReference,T,M]);const R=A.useMemo((()=>{function e(e){y.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function o(){x.current||v.current||r(!0,t,"hover")}c&&!Dh(y.current)||n||0===f||S.current&&e.movementX**2+e.movementY**2<2||(clearTimeout(_.current),"touch"===y.current?o():(S.current=!0,_.current=window.setTimeout(o,f)))}}}),[c,r,n,v,f]),N=A.useMemo((()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(e){O()||P(e.nativeEvent,!1)}})),[P,O]);return A.useMemo((()=>s?{reference:R,floating:N}:{}),[s,R,N])},useId:Wm,useInnerOffset:function(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:a,onChange:s}=t,l=gm(s),u=A.useRef(!1),c=A.useRef(null),f=A.useRef(null);A.useEffect((()=>{if(!o)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;const n=e.deltaY,r=t.scrollHeight-t.clientHeight,o=n<0?-1:1,a=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!(i.current.top>=-.5)&&n>0||!(i.current.bottom>=-.5)&&n<0?(e.preventDefault(),D.flushSync((()=>{l((e=>e+Math[a](n,r*o)))}))):/firefox/i.test(Nh())&&(t.scrollTop+=n))}const t=(null==a?void 0:a.current)||r.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{c.current=t.scrollTop,null!=i.current&&(f.current={...i.current})})),()=>{c.current=null,f.current=null,t.removeEventListener("wheel",e)}):void 0}),[o,n,r.floating,i,a,l]);const d=A.useMemo((()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==a?void 0:a.current)||r.floating;if(i.current&&e&&u.current){if(null!==c.current){const t=e.scrollTop-c.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&D.flushSync((()=>l((e=>e+t))))}requestAnimationFrame((()=>{c.current=e.scrollTop}))}}})),[r.floating,l,i,a]);return A.useMemo((()=>o?{floating:d}:{}),[o,d])},useInteractions:function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),o=A.useCallback((t=>Kg(t,e,"reference")),t),i=A.useCallback((t=>Kg(t,e,"floating")),n),a=A.useCallback((t=>Kg(t,e,"item")),r);return A.useMemo((()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a})),[o,i,a])},useListItem:Lm,useListNavigation:function(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:i,activeIndex:a,onNavigate:s=()=>{},enabled:l=!0,selectedIndex:u=null,allowEscape:c=!1,loop:f=!1,nested:d=!1,rtl:h=!1,virtual:p=!1,focusItemOnOpen:m="auto",focusItemOnHover:g=!0,openOnArrowKeyDown:v=!0,disabledIndices:y,orientation:b="vertical",cols:w=1,scrollItemIntoView:_=!0,virtualItemRef:x,itemSizes:E,dense:k=!1}=t;"production"!==Pl.env.NODE_ENV&&(c&&(f||Ym("`useListNavigation` looping must be enabled to allow escaping."),p||Ym("`useListNavigation` must be virtual to allow escaping.")),"vertical"===b&&w>1&&Ym("In grid list navigation mode (`cols` > 1), the `orientation` should",'be either "horizontal" or "both".'));const S=rg(Ig(o.floating)),C=eg(),P=tg(),T=gm((()=>{s(-1===R.current?null:R.current)})),M=Vh(o.domReference),O=A.useRef(m),R=A.useRef(null!=u?u:-1),N=A.useRef(null),I=A.useRef(!0),L=A.useRef(T),B=A.useRef(!!o.floating),j=A.useRef(n),D=A.useRef(!1),z=A.useRef(!1),F=rg(y),$=rg(n),U=rg(_),H=rg(u),[V,q]=A.useState(),[G,W]=A.useState(),J=gm((()=>{function e(e){p?(q(e.id),null==P||P.events.emit("virtualfocus",e),x&&(x.current=e)):cg(e,{sync:D.current,preventScroll:!0})}const t=i.current[R.current];t&&e(t);const n=D.current?e=>e():requestAnimationFrame;n((()=>{const n=i.current[R.current]||t;if(!n)return;t||e(n);const r=U.current;r&&Z&&(z.current||!I.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof r?{block:"nearest",inline:"nearest"}:r))}))}));Om((()=>{l&&(n&&o.floating?O.current&&null!=u&&(z.current=!0,R.current=u,T()):B.current&&(R.current=-1,L.current()))}),[l,n,o.floating,u,T]),Om((()=>{if(l&&n&&o.floating)if(null==a){if(D.current=!1,null!=H.current)return;if(B.current&&(R.current=-1,J()),(!j.current||!B.current)&&O.current&&(null!=N.current||!0===O.current&&null==N.current)){let e=0;const t=()=>{null==i.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(R.current=null==N.current||ev(N.current,b,h)||d?Em(i,F.current):km(i,F.current),N.current=null,T())};t()}}else xm(i,a)||(R.current=a,J(),z.current=!1)}),[l,n,o.floating,a,H,d,i,b,h,T,J,F]),Om((()=>{var e;if(!l||o.floating||!P||p||!B.current)return;const t=P.nodesRef.current,n=null==(e=t.find((e=>e.id===C)))||null==(e=e.context)?void 0:e.elements.floating,r=Ah(zh(o.floating)),i=t.some((e=>e.context&&Oh(e.context.elements.floating,r)));n&&!i&&I.current&&n.focus({preventScroll:!0})}),[l,o.floating,P,C,p]),Om((()=>{if(l&&P&&p&&!C)return P.events.on("virtualfocus",e),()=>{P.events.off("virtualfocus",e)};function e(e){W(e.id),x&&(x.current=e)}}),[l,P,p,C,x]),Om((()=>{L.current=T,j.current=n,B.current=!!o.floating})),Om((()=>{n||(N.current=null)}),[n]);const Y=null!=a,Z=A.useMemo((()=>{function e(e){if(!n)return;const t=i.current.indexOf(e);-1!==t&&R.current!==t&&(R.current=t,T())}return{onFocus(t){let{currentTarget:n}=t;D.current=!0,e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...g&&{onMouseMove(t){let{currentTarget:n}=t;D.current=!0,z.current=!1,e(n)},onPointerLeave(e){let{pointerType:t}=e;var n;I.current&&"touch"!==t&&(D.current=!0,R.current=-1,T(),p||null==(n=S.current)||n.focus({preventScroll:!0}))}}}}),[n,S,g,i,T,p]),K=gm((e=>{if(I.current=!1,D.current=!0,229===e.which)return;if(!$.current&&e.currentTarget===S.current)return;if(d&&tv(e.key,b,h))return Hh(e),r(!1,e.nativeEvent,"list-navigation"),void(gh(o.domReference)&&(p?null==P||P.events.emit("virtualfocus",o.domReference):o.domReference.focus()));const t=R.current,a=Em(i,y),s=km(i,y);if(M||("Home"===e.key&&(Hh(e),R.current=a,T()),"End"===e.key&&(Hh(e),R.current=s,T())),w>1){const t=E||Array.from({length:i.current.length},(()=>({width:1,height:1}))),n=Pm(t,w,k),r=n.findIndex((e=>null!=e&&!Am(i.current,e,y))),o=n.reduce(((e,t,n)=>null==t||Am(i.current,t,y)?e:n),-1),l=n[Cm({current:n.map((e=>null!=e?i.current[e]:null))},{event:e,orientation:b,loop:f,rtl:h,cols:w,disabledIndices:Mm([...y||i.current.map(((e,t)=>Am(i.current,t)?t:void 0)),void 0],n),minIndex:r,maxIndex:o,prevIndex:Tm(R.current>s?a:R.current,t,n,w,e.key===ym?"bl":e.key===(h?bm:wm)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(R.current=l,T()),"both"===b)return}if(Qg(e.key,b)){if(Hh(e),n&&!p&&Ah(e.currentTarget.ownerDocument)===e.currentTarget)return R.current=ev(e.key,b,h)?a:s,void T();R.current=ev(e.key,b,h)?f?t>=s?c&&t!==i.current.length?-1:a:Sm(i,{startingIndex:t,disabledIndices:y}):Math.min(s,Sm(i,{startingIndex:t,disabledIndices:y})):f?t<=a?c&&-1!==t?i.current.length:s:Sm(i,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(a,Sm(i,{startingIndex:t,decrement:!0,disabledIndices:y})),xm(i,R.current)&&(R.current=-1),T()}})),X=A.useMemo((()=>p&&n&&Y&&{"aria-activedescendant":G||V}),[p,n,Y,G,V]),Q=A.useMemo((()=>({"aria-orientation":"both"===b?void 0:b,...M?{}:X,onKeyDown:K,onPointerMove(){I.current=!0}})),[X,K,b,M]),ee=A.useMemo((()=>{function e(e){"auto"===m&&Ih(e.nativeEvent)&&(O.current=!0)}return{...X,onKeyDown(e){I.current=!1;const t=e.key.startsWith("Arrow"),o=["Home","End"].includes(e.key),a=t||o,s=function(e,t,n){return Xg(t,n?e===bm:e===wm,e===ym)}(e.key,b,h),l=tv(e.key,b,h),c=Qg(e.key,b),f=(d?s:c)||"Enter"===e.key||""===e.key.trim();if(p&&n){const t=null==P?void 0:P.nodesRef.current.find((e=>null==e.parentId)),n=P&&t?function(e,t){let n,r=-1;return function t(o,i){i>r&&(n=o,r=i),dg(e,o).forEach((e=>{t(e.id,i+1)}))}(t,0),e.find((e=>e.id===n))}(P.nodesRef.current,t.id):null;if(a&&n&&x){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(s||l){var m,g;const r=(null==(m=n.context)?void 0:m.elements.domReference)===e.currentTarget,o=l&&!r?null==(g=n.context)?void 0:g.elements.domReference:s?i.current.find((e=>(null==e?void 0:e.id)===V)):null;o&&(Hh(e),o.dispatchEvent(t),W(void 0))}var y;if((c||o)&&n.context&&n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return Hh(e),void(null==(y=n.context.elements.domReference)||y.dispatchEvent(t))}return K(e)}(n||v||!t)&&(f&&(N.current=d&&c?null:e.key),d?s&&(Hh(e),n?(R.current=Em(i,F.current),T()):r(!0,e.nativeEvent,"list-navigation")):c&&(null!=u&&(R.current=u),Hh(e),!n&&v?r(!0,e.nativeEvent,"list-navigation"):K(e),n&&T()))},onFocus(){n&&!p&&(R.current=-1,T())},onPointerDown:function(e){O.current=m,"auto"===m&&Lh(e.nativeEvent)&&(O.current=!0)},onMouseDown:e,onClick:e}}),[V,X,K,F,m,i,d,T,r,n,v,b,h,u,P,p,x]);return A.useMemo((()=>l?{reference:ee,floating:Q,item:Z}:{}),[l,ee,Q,Z])},useMergeRefs:hm,useRole:function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:a="dialog"}=t,s=null!=(n=nv.get(a))?n:a,l=Wm(),u=null!=eg(),c=A.useMemo((()=>"tooltip"===s||"label"===a?{["aria-"+("label"===a?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===s?"dialog":s,"aria-controls":r?o:void 0,..."listbox"===s&&{role:"combobox"},..."menu"===s&&{id:l},..."menu"===s&&u&&{role:"menuitem"},..."select"===a&&{"aria-autocomplete":"none"},..."combobox"===a&&{"aria-autocomplete":"list"}}),[s,o,u,r,l,a]),f=A.useMemo((()=>{const e={id:o,...s&&{role:s}};return"tooltip"===s||"label"===a?e:{...e,..."menu"===s&&{"aria-labelledby":l}}}),[s,o,l,a]),d=A.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:o+"-option"}};switch(a){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[o,a]);return A.useMemo((()=>i?{reference:c,floating:f,item:d}:{}),[i,c,f,d])},useTransitionStatus:iv,useTransitionStyles:function(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:a=250}=t,s=e.placement,l=s.split("-")[0],u=A.useMemo((()=>({side:l,placement:s})),[l,s]),c="number"==typeof a,f=(c?a:a.open)||0,d=(c?a:a.close)||0,[h,p]=A.useState((()=>({...ov(i,u),...ov(n,u)}))),{isMounted:m,status:g}=iv(e,{duration:a}),v=rg(n),y=rg(r),b=rg(o),w=rg(i);return Om((()=>{const e=ov(v.current,u),t=ov(b.current,u),n=ov(w.current,u),r=ov(y.current,u)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===g&&p((t=>({transitionProperty:t.transitionProperty,...n,...e}))),"open"===g&&p({transitionProperty:Object.keys(r).map(rv).join(","),transitionDuration:f+"ms",...n,...r}),"close"===g){const r=t||e;p({transitionProperty:Object.keys(r).map(rv).join(","),transitionDuration:d+"ms",...n,...r})}}),[d,b,v,y,w,f,g,u]),{isMounted:m,styles:h}},useTypeahead:function(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:a,onMatch:s,onTypingChange:l,enabled:u=!0,findMatch:c=null,resetMs:f=750,ignoreKeys:d=[],selectedIndex:h=null}=t,p=A.useRef(),m=A.useRef(""),g=A.useRef(null!=(n=null!=h?h:a)?n:-1),v=A.useRef(null),y=gm(s),b=gm(l),w=rg(c),_=rg(d);Om((()=>{r&&(clearTimeout(p.current),v.current=null,m.current="")}),[r]),Om((()=>{var e;r&&""===m.current&&(g.current=null!=(e=null!=h?h:a)?e:-1)}),[r,h,a]);const x=gm((e=>{e?o.current.typing||(o.current.typing=e,b(e)):o.current.typing&&(o.current.typing=e,b(e))})),E=gm((e=>{function t(e,t,n){const r=w.current?w.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}const n=i.current;if(m.current.length>0&&" "!==m.current[0]&&(-1===t(n,n,m.current)?x(!1):" "===e.key&&Hh(e)),null==n||_.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&(Hh(e),x(!0));const o=n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}));o&&m.current===e.key&&(m.current="",g.current=v.current),m.current+=e.key,clearTimeout(p.current),p.current=setTimeout((()=>{m.current="",g.current=v.current,x(!1)}),f);const a=g.current,s=t(n,[...n.slice((a||0)+1),...n.slice(0,(a||0)+1)],m.current);-1!==s?(y(s),v.current=s):" "!==e.key&&(m.current="",x(!1))})),k=A.useMemo((()=>({onKeyDown:E})),[E]),S=A.useMemo((()=>({onKeyDown:E,onKeyUp(e){" "===e.key&&x(!1)}})),[E,x]);return A.useMemo((()=>u?{reference:k,floating:S}:{}),[u,k,S])},arrow:(e,t)=>({...fm(e),options:[e,t]}),autoPlacement:(e,t)=>({...Kp(e),options:[e,t]}),autoUpdate:function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=Lp(e),c=o||i?[...u?Th(u):[],...Th(t)]:[];c.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const f=u&&s?function(e,t){let n,r=null;const o=hh(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h={rootMargin:-Kh(c)+"px "+-Kh(o.clientWidth-(u+f))+"px "+-Kh(o.clientHeight-(c+d))+"px "+-Kh(u)+"px",threshold:Yh(0,Jh(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...h,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(m,h)}r.observe(e)}(!0),i}(u,n):null;let d,h=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),u&&!l&&p.observe(u),p.observe(t));let m=l?zp(e):null;return l&&function t(){const r=zp(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n(),m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==f||f(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}},computePosition:im,detectOverflow:Yp,flip:(e,t)=>({...Qp(e),options:[e,t]}),getOverflowAncestors:Th,hide:(e,t)=>({...tm(e),options:[e,t]}),inline:(e,t)=>({...rm(e),options:[e,t]}),limitShift:(e,t)=>({...om(e),options:[e,t]}),offset:dm,platform:Jp,shift:(e,t)=>({...Xp(e),options:[e,t]}),size:(e,t)=>({...em(e),options:[e,t]})},uv=U(lv),cv=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});var fv=uh.default=function({clientPoint:e,children:t,placement:n="right"}){var r,o;const i=null===(r=(0,pv.useTheme)().components)||void 0===r?void 0:r.MuiPopper,{classes:a}=mv(),{refs:s,floatingStyles:l,context:u}=(0,hv.useFloating)({placement:n,strategy:"fixed"}),c=(0,hv.useClientPoint)(u,e),{getFloatingProps:f}=(0,hv.useInteractions)([c]);return dv.default.createElement(pv.Portal,{container:null===(o=null==i?void 0:i.defaultProps)||void 0===o?void 0:o.container},dv.default.createElement("div",{className:a.tooltip,ref:s.setFloating,style:{...l,zIndex:1e5,visibility:"translate(0px, 0px)"===l.transform?"hidden":void 0,pointerEvents:"none"},...f()},t))};const dv=cv(M.default),hv=uv,pv=N.default,mv=(0,R.default.makeStyles)()((e=>({tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:(0,pv.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(12),lineHeight:Math.round(14e4)/1e5+"em",maxWidth:300,wordWrap:"break-word"}}))),gv=M.default.forwardRef((function({message:e},t){return M.default.createElement("div",{ref:t},M.default.isValidElement(e)?e:e?M.default.createElement(a.SanitizedHTML,{html:String(e)}):null)})),vv=u.observer((function({model:e,clientMouseCoord:t}){const{featureUnderMouse:n}=e,r=t[0]+15,o=t[1],i=n?p.getConf(e,"mouseover",{feature:n}):void 0;return n&&i?M.default.createElement(fv,{clientPoint:{x:r,y:o}},M.default.createElement(gv,{message:i})):null}));var yv={__proto__:null,default:vv};const bv=c.makeStyles()({display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"}});async function wv({option:e,model:t,assemblyName:n}){const r=e.getLocation(),o=e.getTrackId();r&&(await t.navToLocString(r,n),o&&t.showTrack(o))}async function _v({input:e,model:t,assembly:r}){const o=r.allRefNamesWithLowerCase||[],i=r.name;if(e.split(" ").every((e=>function(e,t){const[n,r]=function(e){const t=e.lastIndexOf(":");return-1===t?[e,""]:[e.slice(0,t),e.slice(t+1)]}(e);return t.includes(e)||t.includes(n)&&!Number.isNaN(Number.parseInt(r,10))}(e,o))))await t.navToLocString(e,r.name);else{const o=t.searchScope(i),{textSearchManager:a}=n.getSession(t),s=await async function({queryString:e,searchType:t,searchScope:r,rankSearchResults:o,textSearchManager:i,assembly:a}){var s;i||console.warn("No text search manager");const l=await(null==i?void 0:i.search({queryString:e,searchType:t},r,o)),u=null===(s=null==a?void 0:a.allRefNames)||void 0===s?void 0:s.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,10).map((e=>new Dd({label:e})));return n.dedupe([...u||[],...l||[]],(e=>e.getId()))}({queryString:e,searchType:"exact",searchScope:o,rankSearchResults:t.rankSearchResults,textSearchManager:a,assembly:r});s.length>1?t.setSearchResults(s,e.toLowerCase(),i):1===s.length?await wv({option:s[0],model:t,assemblyName:i}):await t.navToLocString(e,i)}}u.observer((function(e){const{classes:t}=bv(),n=f.useTheme(),r=l.useRef(null),[o,i]=l.useState(),[s,u]=l.useState([0,0]),[c,d]=l.useState([0,0]),[h,m]=l.useState(),{model:g,children:v}=e,{TooltipComponent:y,DisplayMessageComponent:b,height:w}=g,_=g.contextMenuItems();return M.default.createElement("div",{ref:r,"data-testid":`display-${p.getConf(g,"displayId")}`,className:t.display,onContextMenu:e=>{e.preventDefault(),h?m(void 0):r.current&&m([e.clientX,e.clientY])},onMouseMove:e=>{if(!r.current)return;const t=r.current.getBoundingClientRect(),{left:n,top:o}=t;u([e.clientX-n,e.clientY-o]),d([e.clientX,e.clientY]),i(t)}},b?M.default.createElement(b,{model:g}):M.default.createElement(lh,{...e}),v,M.default.createElement(l.Suspense,{fallback:null},M.default.createElement(y,{model:g,height:w,offsetMouseCoord:s,clientMouseCoord:c,clientRect:o,mouseCoord:s})),M.default.createElement(a.Menu,{open:Boolean(h)&&_.length>0,onMenuItemClick:(e,t)=>{t(),m(void 0)},onClose:()=>{m(void 0),g.setContextMenuFeature(void 0)},TransitionProps:{onExit:()=>{m(void 0),g.setContextMenuFeature(void 0)}},anchorReference:"anchorPosition",anchorPosition:h?{top:h[1],left:h[0]}:void 0,style:{zIndex:n.zIndex.tooltip},menuItems:_}))}));var xv={};Object.defineProperty(xv,"__esModule",{value:!0});const Ev=Xi;class kv{constructor({filters:e=[]}){this.filterChain=e.map((e=>e.trim())).filter((e=>!!e)).map((e=>{if("string"==typeof e)return{expr:(0,Ev.stringToJexlExpression)(e),string:e};throw new Error(`invalid inputFilter string "${e}"`)}))}passes(...e){for(const t of this.filterChain)if(!t.expr.evalSync({feature:e[0]}))return!1;return!0}toJSON(){return{filters:this.filterChain.map((e=>e.string))}}static fromJSON(e){return new kv(e)}}xv.default=kv,l.lazy((()=>Promise.resolve().then((function(){return pP})))),l.lazy((()=>Promise.resolve().then((function(){return vP}))));var Sv={},Cv=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sv,"__esModule",{value:!0});var Pv=Sv.ContentCopy=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))};Sv.Indexing=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z"}))},Sv.ContentCut=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"}))},Sv.ContentPaste=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z"}))};var Tv=Sv.TrackSelector=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"}))};Sv.SaveAs=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{fill:"currentColor",d:"M10,19L10.14,18.86C8.9,18.5 8,17.36 8,16A3,3 0 0,1 11,13C12.36,13 13.5,13.9 13.86,15.14L20,9V7L16,3H4C2.89,3 2,3.9 2,5V19A2,2 0 0,0 4,21H10V19M4,5H14V9H4V5M20.04,12.13C19.9,12.13 19.76,12.19 19.65,12.3L18.65,13.3L20.7,15.35L21.7,14.35C21.92,14.14 21.92,13.79 21.7,13.58L20.42,12.3C20.31,12.19 20.18,12.13 20.04,12.13M18.07,13.88L12,19.94V22H14.06L20.12,15.93L18.07,13.88Z"}))},Sv.Save=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{fill:"currentColor",d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"}))},Sv.DNA=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"}))},Sv.Cable=function(e){return Mv.default.createElement(Av.default,{...e},Mv.default.createElement("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"}))};const Mv=Cv(M.default),Av=Cv(F.default);var Ov={};function Rv(e,t){return Math.floor(e.reversed?e.end-t:e.start+t)+1}Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.moveTo=function(e,t,n){if(!t||!n)return;const{width:r,interRegionPaddingWidth:o,displayedRegions:i,bpPerPx:a,minimumBlockWidth:s}=e,l=function(e,t,n){let r=0;const{displayedRegions:o}=e;if(t.index===n.index)r+=n.offset-t.offset;else{const e=o[t.index];if(r+=e.end-e.start-t.offset,n.index-t.index>=2)for(let e=t.index+1;e<n.index;e++){const t=o[e];r+=t.end-t.start}r+=n.offset}return r}(e,t,n);let u=0;for(let e=t.index;e<n.index;e++){const t=i[e];(t.end-t.start)/a>s&&u++}const c=l/(r-o*u),f=e.zoomTo(c);let d=0;c<f&&(d=(f-c)*e.width/2);let h=-d;for(let n=0;n<e.displayedRegions.length;n+=1){const r=e.displayedRegions[n];if(t.index===n){h+=t.offset;break}h+=r.end-r.start}e.scrollTo(Math.round(h/e.bpPerPx))},Ov.pxToBp=function(e,t){var n;let r=0;const{bpPerPx:o,offsetPx:i,displayedRegions:a,interRegionPaddingWidth:s,staticBlocks:l}=e,u=l.contentBlocks,c=(i+t)*o;if(c<0){const e=a[0];return{...e,oob:!0,coord:Rv(e,c),offset:c,index:0}}const f=s*o;let d=0;for(let e=0;e<a.length;e++){const t=a[e],o=t.end-t.start,i=c-r;if(o+r>c&&r<=c)return{...t,oob:!1,offset:i,coord:Rv(t,i),index:e};(null===(n=u[d])||void 0===n?void 0:n.regionNumber)===e?(r+=o+f,d++):r+=o}if(c>=r&&a.length>0){const e=a.at(-1),t=c-r+(e.end-e.start);return{...e,oob:!0,offset:t,coord:Rv(e,t),index:a.length-1}}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}},Ov.bpToPx=function({refName:e,coord:t,regionNumber:n,self:r}){var o;let i=0;const{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:l,staticBlocks:u}=r,c=u.contentBlocks,f=a*s;let d=0,h=0;for(;h<l.length;h++){const r=l[h],a=r.end-r.start;if(e===r.refName&&t>=r.start&&t<=r.end&&(!n||n===h)){i+=r.reversed?r.end-t:t-r.start;break}(null===(o=c[d])||void 0===o?void 0:o.regionNumber)===h?(i+=a+f,d++):i+=a}if(l[h])return{index:h,offsetPx:Math.round(i/s)}},Ov.bpToPxMap=function({refName:e,coord:t,regionNumber:n,self:r}){var o;let i=0;const{interRegionPaddingWidth:a,bpPerPx:s,displayedRegions:l,staticBlocks:u}=r,c=u.contentBlocks,f=a*s;let d=0,h=0;for(;h<l.length;h++){const r=l[h],a=r.end-r.start;if(e===r.refName&&t>=r.start&&t<=r.end&&(void 0===n||n===h)){i+=r.reversed?r.end-t:t-r.start;break}(null===(o=c[d])||void 0===o?void 0:o.regionNumber)===h?(i+=a+f,d++):i+=a}return l[h]?{index:h,offsetPx:Math.round(i/s)}:{}};var Nv={},Iv={};Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.InterRegionPaddingBlock=Iv.ElidedBlock=Iv.ContentBlock=Iv.BaseBlock=Iv.BlockSet=void 0;const Lv=Yt;Iv.BlockSet=class{constructor(e=[]){this.blocks=e}push(e){if("ElidedBlock"===e.type&&this.blocks.length>0){const t=this.blocks.at(-1);if("ElidedBlock"===(null==t?void 0:t.type))return void t.push(e)}this.blocks.push(e)}getBlocks(){return this.blocks}getRegions(){return this.blocks.map((e=>e.toRegion()))}map(e,t){return this.blocks.map(e,t)}forEach(e,t){this.blocks.forEach(e,t)}get length(){return this.blocks.length}get totalWidthPx(){return this.blocks.length>0?(0,Lv.sum)(this.blocks.map((e=>e.widthPx))):0}get totalWidthPxWithoutBorders(){return this.blocks.length>0?(0,Lv.sum)(this.blocks.filter((e=>"boundary"!==e.variant)).map((e=>e.widthPx))):0}get offsetPx(){return this.blocks.length>0?this.blocks[0].offsetPx:0}get contentBlocks(){return this.blocks.filter((e=>"ContentBlock"===e.type))}get totalBp(){return(0,Lv.sum)(this.contentBlocks.map((e=>e.end-e.start)))}};class Bv{constructor(e){this.type="BaseBlock",this.widthPx=0,Object.assign(this,e),this.assemblyName=e.assemblyName,this.refName=e.refName,this.start=e.start,this.end=e.end,this.key=e.key,this.offsetPx=e.offsetPx}toRegion(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}}Iv.BaseBlock=Bv,Iv.ContentBlock=class extends Bv{constructor(){super(...arguments),this.type="ContentBlock"}},Iv.ElidedBlock=class extends Bv{constructor(e){super(e),this.type="ElidedBlock",this.elidedBlockCount=0,this.widthPx=e.widthPx}push(e){this.elidedBlockCount+=1,this.refName="",this.start=0,this.end=0,this.widthPx+=e.widthPx}},Iv.InterRegionPaddingBlock=class extends Bv{constructor(){super(...arguments),this.type="InterRegionPaddingBlock"}},Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.default=function(e,t=!0,n=!0){const{offsetPx:r,displayedRegions:o,bpPerPx:i,width:a,minimumBlockWidth:s,interRegionPaddingWidth:l}=e;if(!a)throw new Error("view has no width, cannot calculate displayed blocks");const u=new zv.BlockSet;let c=0;const f=r,d=f+a;for(let e=0;e<o.length;e++){const h=o[e],{assemblyName:p,refName:m,start:g,end:v,reversed:y}=h,b=c+(v-g)/i,w=(v-g)/i,_=(0,jv.isStateTreeNode)(h)?(0,jv.getSnapshot)(h):h,[x,E]=(0,Fv.intersection2)(f,d,c,b);if(void 0!==x&&void 0!==E){let f,d,h,b,k;y?(f=Math.max(g,v-(E-c)*i),d=v-(x-c)*i,h=d===v,b=f===g,k=c+(v-d)/i):(f=(x-c)*i+g,d=Math.min(v,(E-c)*i+g),h=f===g,b=d===v,k=c+(f-g)/i);const S={assemblyName:p,refName:m,start:f,end:d,reversed:y,offsetPx:k,parentRegion:_,regionNumber:e,widthPx:(d-f)/i,isLeftEndOfDisplayedRegion:h,isRightEndOfDisplayedRegion:b,key:""};S.key=`${(0,Dv.assembleLocStringFast)(S)}-${e}${y?"-reversed":""}`,t&&0===u.length&&h&&u.push(new zv.InterRegionPaddingBlock({key:`${S.key}-beforeFirstRegion`,widthPx:-r,offsetPx:S.offsetPx+r,variant:"boundary"})),u.push(n&&w<s?new zv.ElidedBlock(S):new zv.ContentBlock(S)),t&&(w>=s&&S.isRightEndOfDisplayedRegion&&e<o.length-1&&(u.push(new zv.InterRegionPaddingBlock({key:`${S.key}-rightpad`,widthPx:l,offsetPx:S.offsetPx+S.widthPx})),c+=l),e===o.length-1&&S.isRightEndOfDisplayedRegion&&(k=S.offsetPx+S.widthPx,u.push(new zv.InterRegionPaddingBlock({key:`${S.key}-afterLastRegion`,widthPx:a-k+r,offsetPx:k,variant:"boundary"}))))}c+=(v-g)/i}return u};const jv=T.default,Dv=Yt,zv=Iv,Fv=Us;var $v={};Object.defineProperty($v,"__esModule",{value:!0}),$v.default=function(e,t=!0,n=!0,r=0,o=800){const{offsetPx:i,displayedRegions:a,bpPerPx:s,minimumBlockWidth:l,interRegionPaddingWidth:u,width:c}=e,f=i*s,d=(i+c)*s,h=Math.ceil(o*s);let p=0;const m=new Vv.BlockSet;for(let e=0;e<a.length;e++){const i=a[e],{assemblyName:c,refName:g,start:v,end:y,reversed:b}=i,w=Math.ceil((y-v)/h),_=(0,Uv.isStateTreeNode)(i)?(0,Uv.getSnapshot)(i):i;let x=Math.floor((d-p)/h)+r;x>=w&&(x=w-1);let E=Math.floor((f-p)/h)-r;E<0&&(E=0);const k=(y-v)/s;for(let r=E;r<=x;r+=1){let i,f,d,w;b?(i=Math.max(v,y-(r+1)*h),f=y-r*h,d=f===y,w=i===v):(i=v+r*h,f=Math.min(y,v+(r+1)*h),d=i===v,w=f===y);const x={assemblyName:c,refName:g,start:i,end:f,reversed:b,offsetPx:(p+r*h)/s,parentRegion:_,regionNumber:e,widthPx:(f-i)/s,isLeftEndOfDisplayedRegion:d,isRightEndOfDisplayedRegion:w,key:""};x.key=`${(0,Hv.assembleLocStringFast)(x)}-${e}${b?"-reversed":""}`,t&&0===e&&0===r&&m.push(new Vv.InterRegionPaddingBlock({key:`${x.key}-beforeFirstRegion`,widthPx:o,offsetPx:x.offsetPx-o,variant:"boundary"})),m.push(n&&k<l?new Vv.ElidedBlock(x):new Vv.ContentBlock(x)),t&&(k>=l&&x.isRightEndOfDisplayedRegion&&e<a.length-1&&(p+=u*s,m.push(new Vv.InterRegionPaddingBlock({key:`${x.key}-rightpad`,widthPx:u,offsetPx:x.offsetPx+x.widthPx}))),e===a.length-1&&x.isRightEndOfDisplayedRegion&&(p+=u*s,m.push(new Vv.InterRegionPaddingBlock({key:`${x.key}-afterLastRegion`,widthPx:o,offsetPx:x.offsetPx+x.widthPx,variant:"boundary"}))))}p+=y-v}return m};const Uv=T.default,Hv=Yt,Vv=Iv;var qv=r.createSvgIcon(o.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Gv=r.createSvgIcon([o.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),o.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn"),Wv={exports:{}};!function(e){!function(){function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof $&&$.global===$?$:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,i,a){var s=o.URL||o.webkitURL,l=document.createElement("a");l.download=i=i||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,i,a):r(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,i){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),o);else if(n(e))t(e,o,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}}:function(e,n,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||i)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},c.readAsDataURL(e)}else{var f=o.URL||o.webkitURL,d=f.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a}()}(Wv);var Jv=r.createSvgIcon(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Yv=r.createSvgIcon(o.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");async function Zv({queryString:e,searchType:t,searchScope:r,rankSearchResults:o,textSearchManager:i,assembly:a}){var s;i||console.warn("No text search manager");const l=await(null==i?void 0:i.search({queryString:e,searchType:t},r,o)),u=null===(s=null==a?void 0:a.allRefNames)||void 0===s?void 0:s.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,10).map((e=>new Dd({label:e})));return n.dedupe([...u||[],...l||[]],(e=>e.getId()))}function Kv(e,t){return e.clientX-((null==t?void 0:t.getBoundingClientRect().left)||0)}function Xv(e,t){var n;return(null===(n=null==e?void 0:e.cytobands)||void 0===n?void 0:n.map((t=>({refName:e.getCanonicalRefName(t.get("refName"))||t.get("refName"),start:t.get("start"),end:t.get("end"),type:t.get("gieStain")}))).filter((e=>e.refName===t)))||[]}function Qv(e,t,n,r,o){return`M${e},${t}h${n-o}a${o},${o} 0 0 1 ${o},${o}v${r-2*o}a${o},${o} 0 0 1 ${-o},${o}h${o-n}z`}function ey(e,t,n,r,o){return`M${e+o},${t}h${n-o}v${r}h${o-n}a${o},${o} 0 0 1 ${-o},${-o}v${2*o-r}a${o},${o} 0 0 1 ${o},${-o}z`}function ty(e,t,n,r){return[[e,0],[e+n,r/2],[e,r]].toString()}function ny(e,t,n,r){return[[e,r/2],[e+n,0],[e+n,r]].toString()}const ry={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},oy=u.observer((function({overview:e,block:t,assembly:r}){const{offsetPx:o,reversed:i}=t,a=Xv(r,t.refName),s=i?a.length-1:0,l=i?0:a.length-1,u=20;let c=!1;return M.default.createElement("g",{transform:`translate(-${o})`},a.map(((t,r)=>{const o=JSON.stringify(t),{refName:a,type:f,start:d,end:h}=t,p=e.bpToPx({refName:a,coord:d})||0,m=e.bpToPx({refName:a,coord:h})||0,g=Math.min(p,m),v=Math.abs(m-p),y=ry[f]||"black";return"acen"!==f||c?"acen"===f&&c?M.default.createElement("polygon",{key:o,points:i?ty(p-v,0,v,u):ny(p,0,v,u),...n.getFillProps(y)}):s===r?M.default.createElement("path",{key:o,d:ey(g,0,v,u,8),...n.getFillProps(y)}):l===r?M.default.createElement("path",{key:o,d:Qv(g,0,v,u,8),...n.getFillProps(y)}):M.default.createElement("rect",{key:o,x:g,y:0,width:v,height:u,...n.getFillProps(y)}):(c=!0,M.default.createElement("polygon",{key:o,points:i?ny(p-v,0,v,u):ty(p,0,v,u),...n.getFillProps(y)}))})))})),iy=c.makeStyles()((e=>({highlight:{height:"100%",position:"absolute",background:ri.colord(e.palette.highlight.main).alpha(.35).toRgbString(),borderLeft:`1px solid ${e.palette.highlight.main}`,borderRight:`1px solid ${e.palette.highlight.main}`}}))),ay=u.observer((function({model:e,overview:t}){const{classes:r}=iy(),{highlight:o,cytobandOffset:i}=e,a=n.getSession(e),{assemblyManager:s}=a;return o.map((e=>{var n;const r=s.get(e.assemblyName),o=null!==(n=null==r?void 0:r.getCanonicalRefName(e.refName))&&void 0!==n?n:e.refName,a=t.bpToPx({...e,refName:o,coord:e.start}),l=t.bpToPx({...e,refName:o,coord:e.end});return void 0!==a&&void 0!==l?{width:Math.abs(l-a),left:a+i}:void 0})).filter(n.notEmpty).map((({left:e,width:t},n)=>M.default.createElement("div",{key:`${e}_${t}_${n}`,className:r.highlight,style:{width:t,left:e}})))})),sy=c.makeStyles()((e=>{const{tertiary:t}=e.palette;return{rubberband:{height:"100%",background:f.alpha(t.light,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberbandText:{color:t.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}));function ly({leftBpOffset:e,rightBpOffset:t,numOfBpSelected:r,left:o,width:i}){const a=l.useRef(null),{classes:s}=sy();return M.default.createElement(M.default.Fragment,null,a.current?M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Popover,{className:s.popover,classes:{paper:s.paper},open:!0,anchorEl:a.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},M.default.createElement(f.Typography,null,n.stringify(e))),M.default.createElement(f.Popover,{className:s.popover,classes:{paper:s.paper},open:!0,anchorEl:a.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},M.default.createElement(f.Typography,null,n.stringify(t)))):null,M.default.createElement("div",{ref:a,className:s.rubberband,style:{left:o,width:i}},r?M.default.createElement(f.Typography,{variant:"h6",className:s.rubberbandText},n.toLocale(r)," bp"):null))}const uy=c.makeStyles()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10},rel:{position:"relative"}}),cy=u.observer((function({model:e,open:t,guideX:r,overview:o}){var i;const{classes:a}=uy(),{cytobandOffset:s}=e,{assemblyManager:l}=n.getSession(e),u=o.pxToBp(r-s),c=l.get(u.assemblyName),d=null===(i=null==c?void 0:c.cytobands)||void 0===i?void 0:i.find((e=>u.coord>e.get("start")&&u.coord<e.get("end")&&u.refName===c.getCanonicalRefName(e.get("refName"))));return M.default.createElement(f.Tooltip,{open:t,placement:"top",title:[n.stringify(u),null==d?void 0:d.get("name")].join(" "),arrow:!0},M.default.createElement("div",{className:a.guide,style:{left:r}}))})),fy=u.observer((function({model:e,overview:t,ControlComponent:r=M.default.createElement("div",null)}){const{cytobandOffset:o}=e,[i,a]=l.useState(),[s,u]=l.useState(),[c,f]=l.useState(),d=l.useRef(null),{classes:h}=uy(),p=void 0!==i;function m(e){e.preventDefault(),e.stopPropagation(),a(Kv(e,d.current))}function g(e){f(Kv(e,d.current))}function v(){f(void 0)}if(l.useEffect((()=>{function r(e){const t=d.current;t&&p&&u(Kv(e,t))}function l(){if(void 0!==i&&void 0!==s&&Math.abs(s-i)>3){const n=Math.min(i,s),r=Math.max(i,s);e.moveTo(t.pxToBp(n-o),t.pxToBp(r-o))}if(void 0!==i&&void 0===s){const r=t.pxToBp(i-o);r.refName?e.centerAt(Math.round(r.coord),r.refName,r.index):(n.getSession(e).notify("unknown position clicked"),console.error("unknown position clicked",r))}a(void 0),u(void 0),void 0!==i&&f(void 0)}function c(e){"Escape"===e.key&&(a(void 0),u(void 0))}return p?(window.addEventListener("mousemove",r,!0),window.addEventListener("mouseup",l,!0),window.addEventListener("keydown",c,!0),()=>{window.removeEventListener("mousemove",r,!0),window.removeEventListener("mouseup",l,!0),window.removeEventListener("keydown",c,!0)}):()=>{}}),[p,s,i,e,t,o]),void 0===i)return M.default.createElement("div",{className:h.rel},void 0!==c?M.default.createElement(cy,{model:e,open:!p,overview:t,guideX:c}):null,M.default.createElement("div",{className:h.rubberbandControl,ref:d,onMouseDown:m,onMouseOut:v,onMouseMove:g},r));let y,b,w=i||0,_=0;return void 0!==s&&(w=Math.min(s,i),_=s-i),i&&(y=t.pxToBp(i-o),b=t.pxToBp(i+_-o),void 0!==s&&s<i&&([y,b]=[b,y])),M.default.createElement("div",{className:h.rel},y&&b?M.default.createElement(ly,{leftBpOffset:y,rightBpOffset:b,width:Math.abs(_),left:w}):null,M.default.createElement("div",{"data-testid":"rubberband_controls",className:h.rubberbandControl,ref:d,onMouseDown:m,onMouseOut:v,onMouseMove:g},r))})),dy=u.observer((function({model:e,overview:t,useOffset:r=!0}){const o=f.useTheme(),i=Number(r),{interRegionPaddingWidth:a,offsetPx:s,dynamicBlocks:l,cytobandOffset:u}=e,{contentBlocks:c,totalWidthPxWithoutBorders:d}=l,h=o.palette.tertiary.light;if(!c.length)return null;const p=c.at(0),m=c.at(-1),g=(t.bpToPx({...p,coord:p.reversed?p.end:p.start})||0)+u*i,v=(t.bpToPx({...m,coord:m.reversed?m.start:m.end})||0)+u*i,y=Math.max(0,-s);return M.default.createElement("polygon",{points:[[y,48],[y+d+c.length*a/2,48],[v,0],[g,0]].toString(),...n.getFillProps(f.alpha(h,.3)),...n.getStrokeProps(f.alpha(h,.8))})}));function hy(e,t,n){const r=t*(e=Math.abs(e));let o=10**Number.parseInt(Number(r).toExponential().split(/e/i)[1],10);for(;o<r&&(o*=2,!(o>=r));)o*=2.5;o=Math.max(o,5);const i=o/e;let a=0;return!(o%10)&&i/10>=n?a=o/10:!(o%5)&&i/5>=n?a=o/5:!(o%2)&&i/2>=n&&(a=o/2),{majorPitch:o,minorPitch:a}}function py(e,t,n,r=!0,o=!0){const i=hy(n,60,15);let a=e,s=t;n<0&&([a,s]=[s,a]),a-=Math.abs(20*n)-1,s+=Math.abs(20*n)+1;const l=i.minorPitch||i.majorPitch;let u=0;const c=[];for(let e=Math.floor(a/l)*l;e<Math.ceil(s/l)*l+1;e+=l)o&&e%(2*i.majorPitch)?(c.push({type:"minor",base:e-1,index:u}),u+=1):!r||e%(2*i.majorPitch)||(c.push({type:"major",base:e-1,index:u}),u+=1);return c}const my=c.makeStyles()({scalebarLabel:{height:20,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"}}),gy=u.observer((function({block:e,scale:t,overview:r,model:o}){const{classes:i}=my(),{start:a,end:s,reversed:l,refName:u,assemblyName:c}=e,{majorPitch:d}=hy(t,120,15),{assemblyManager:h}=n.getSession(o),p=h.get(c),m=null==p?void 0:p.getRefNameColor(u),g=[];for(let e=0;e<Math.floor((s-a)/d);e++){const t=(e+1)*d;g.push(l?s-t:a+t)}return g.map(((o,a)=>M.default.createElement(f.Typography,{key:`${JSON.stringify(e)}-${o}-${a}`,className:i.scalebarLabel,variant:"body2",style:{left:(a+1)*d/t,pointerEvents:"none",color:m}},n.getTickDisplayStr(o,r.bpPerPx))))})),vy=c.makeStyles()((e=>({scalebar:{height:20},scalebarBorder:{border:"1px solid"},scalebarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:20,overflow:"hidden"},scalebarContigForward:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarContigReverse:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='${e.palette.divider}'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},scalebarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scalebarVisibleRegion:{position:"absolute",height:20,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:48,position:"relative"},overviewSvg:{pointerEvents:"none",width:"100%",position:"absolute"}}))),yy=u.observer((function({scale:e,model:t,block:r,overview:o}){const{classes:i,cx:a}=vy(),s=f.useTheme(),{cytobandOffset:l,showCytobands:u}=t,{reversed:c,refName:d,assemblyName:h}=r,{assemblyManager:p}=n.getSession(t),m=p.get(h),g=null==m?void 0:m.getRefNameColor(d),v=u&&Xv(m,r.refName).length;return M.default.createElement("div",null,M.default.createElement(f.Typography,{style:{left:r.offsetPx+3,color:v?s.palette.text.primary:g},className:i.scalebarRefName},d),M.default.createElement("div",{className:a(i.scalebarContig,v?void 0:c?i.scalebarContigReverse:i.scalebarContigForward,v?void 0:i.scalebarBorder),style:{left:r.offsetPx+l,width:r.widthPx,borderColor:g}},v?M.default.createElement("svg",{style:{width:"100%"}},M.default.createElement(oy,{overview:o,assembly:m,block:r})):M.default.createElement(gy,{model:t,overview:o,scale:e,block:r})))})),by=u.observer((function({model:e,scale:t,overview:r}){const{classes:o}=vy(),i=f.useTheme(),{dynamicBlocks:a,showCytobands:s,cytobandOffset:l}=e,{pluginManager:u}=n.getEnv(e),c=a.contentBlocks,d=r.dynamicBlocks,h=i.palette.tertiary.light;if(!c.length)return null;const p=c.at(0),m=c.at(-1),g=r.bpToPx({...p,coord:p.reversed?p.end:p.start})||0,v=r.bpToPx({...m,coord:m.reversed?m.start:m.end})||0,y=s?"#f00":h,b=s?.1:.3,w=u.evaluateExtensionPoint("LinearGenomeView-OverviewScalebarComponent",void 0,{model:e,overview:r});return M.default.createElement("div",{className:o.scalebar},M.default.createElement("div",{className:o.scalebarVisibleRegion,style:{width:v-g,left:g+l,background:f.alpha(y,b),borderColor:y}}),d.map(((n,i)=>"ContentBlock"!==n.type?M.default.createElement("div",{key:`${JSON.stringify(n)}-${i}`,className:o.scalebarContig,style:{width:n.widthPx,left:n.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}}):M.default.createElement(yy,{scale:t,block:n,model:e,overview:r,key:`${JSON.stringify(n)}-${i}`}))),M.default.createElement(ay,{model:e,overview:r}),w)})),wy=u.observer((function({model:e,children:t}){const{classes:n}=vy(),{minimumBlockWidth:r,totalBp:o,width:i,cytobandOffset:a,displayedRegions:s}=e,u=i-a,c=JSON.stringify(s),f=l.useMemo((()=>{const e=z.default.create({displayedRegions:JSON.parse(c),interRegionPaddingWidth:0,minimumBlockWidth:r});return e.setVolatileWidth(u),e.showAllRegions(),e}),[c,r,u]);return M.default.createElement("div",null,M.default.createElement(fy,{model:e,overview:f,ControlComponent:M.default.createElement(by,{model:e,overview:f,scale:o/(u-2*(s.length-1))})}),M.default.createElement("div",{className:n.overview},M.default.createElement("svg",{height:48,className:n.overviewSvg},M.default.createElement(dy,{model:e,overview:f})),t))}));var _y=r.createSvgIcon(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");const xy=l.lazy((()=>Promise.resolve().then((function(){return yP}))));function Ey(){const[e,t]=l.useState(!1);return M.default.createElement(M.default.Fragment,null,M.default.createElement(f.IconButton,{onClick:()=>{t(!0)},size:"small"},M.default.createElement(_y,{fontSize:"small"})),e?M.default.createElement(l.Suspense,{fallback:null},M.default.createElement(xy,{handleClose:()=>{t(!1)}})):null)}function ky({showHelp:e,endAdornment:t}){return M.default.createElement(M.default.Fragment,null,M.default.createElement(f.InputAdornment,{position:"end",style:{marginRight:7}},M.default.createElement(qv,{fontSize:"small"}),e?M.default.createElement(Ey,null):null),t)}function Sy({TextFieldProps:e,inputBoxVal:t,params:n,showHelp:r,setInputValue:o,setCurrentSearch:i}){const{helperText:a,InputProps:s={}}=e;return M.default.createElement(f.TextField,{onBlur:()=>{o(t)},...n,...e,size:"small",helperText:a,slotProps:{input:{...n.InputProps,...s,endAdornment:M.default.createElement(ky,{showHelp:r,endAdornment:n.InputProps.endAdornment})}},placeholder:"Search for location",onChange:e=>{i(e.target.value)}})}const Cy=u.observer((function({model:e,onSelect:t,assemblyName:r,style:o,fetchResults:i,onChange:a,value:s,showHelp:u=!0,minWidth:c=200,maxWidth:d=550,TextFieldProps:h={}}){const p=n.getSession(e),{assemblyManager:m}=p,[g,v]=l.useState(!1),[y,b]=l.useState(!0),[w,_]=l.useState(""),[x,E]=l.useState(""),[k,S]=l.useState(),C=n.useDebounce(w,300),P=r?m.get(r):void 0,{coarseVisibleLocStrings:T,hasDisplayedRegions:A}=e;l.useEffect((()=>{(async()=>{try{if(""===C||!r)return;b(!1);const e=await i(C);b(!0),S(function(e){return Object.entries(function(e){const t={};for(const n of e){const e=n.getDisplayString();t[e]||(t[e]=[]),t[e].push(n)}return t}(e)).map((([e,t])=>1===t.length?{result:t[0]}:{result:new Dd({displayString:e,results:t,label:e})}))}(e))}catch(e){console.error(e),p.notifyError(`${e}`,e)}})()}),[r,i,C,p]);const O=T||s||"",R=Math.min(Math.max(n.measureText(O,14)+100,c),d),N=null==P?void 0:P.refNames,I=(null==N?void 0:N.map((e=>({result:new Bd({refName:e,label:e,matchedAttribute:"refName"})}))))||[];return M.default.createElement(f.Autocomplete,{"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,disabled:!r,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:{...o,width:R},value:O,loading:!y,inputValue:x,onInputChange:(e,t)=>{E(t),null==a||a(t)},loadingText:"loading results",open:g,onOpen:()=>{v(!0)},onClose:()=>{v(!1),b(!0),A&&(_(""),S(void 0))},onChange:(e,n)=>{n&&r&&("string"==typeof n?null==t||t(new Dd({label:n})):null==t||t(n.result),E(O))},options:(null==k?void 0:k.length)?k:I,getOptionDisabled:e=>"limitOption"===e.group,filterOptions:(e,{inputValue:t})=>function(e,t){const n=(r=e,o=t.toLocaleLowerCase(),r.filter((({result:e})=>e.getLabel().toLowerCase().includes(o)||e.matchedObject)));var r,o;return[...n.slice(0,100),...n.length>100?[{group:"limitOption",result:new Dd({label:"keep typing for more results"})}]:[]]}(e,t),renderInput:e=>M.default.createElement(Sy,{showHelp:u,params:e,inputBoxVal:O,TextFieldProps:h,setCurrentSearch:_,setInputValue:E}),getOptionLabel:e=>"string"==typeof e?e:e.result.getDisplayString()})})),Py=c.makeStyles()((()=>({headerRefName:{minWidth:100}}))),Ty=u.observer((function({model:e,showHelp:t}){const{classes:r}=Py(),o=f.useTheme(),i=n.getSession(e),{textSearchManager:a,assemblyManager:s}=i,{assemblyNames:l,rankSearchResults:u}=e,c=l[0],d=s.get(c),h=e.searchScope(c);return M.default.createElement(Cy,{showHelp:t,onSelect:async t=>{var r;try{t.hasLocation()?await wv({option:t,model:e,assemblyName:c}):(null===(r=t.results)||void 0===r?void 0:r.length)?e.setSearchResults(t.results,t.getLabel()):d&&await _v({input:t.getLabel(),assembly:d,model:e})}catch(t){console.error(t),n.getSession(e).notify(`${t}`,"warning")}},assemblyName:c,fetchResults:e=>Zv({queryString:e,searchScope:h,rankSearchResults:u,textSearchManager:a,assembly:d}),model:e,minWidth:175,TextFieldProps:{variant:"outlined",className:r.headerRefName,style:{margin:7},InputProps:{style:{padding:0,height:32,background:f.alpha(o.palette.background.paper,.8)}}}})}));var My=r.createSvgIcon(o.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut");const Ay=c.makeStyles()((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:70,color:e.palette.text.secondary}}))),Oy=u.observer((function({model:e}){const{classes:t}=Ay(),{maxBpPerPx:n,minBpPerPx:r,bpPerPx:o}=e,[i,a]=l.useState(100*-Math.log2(o));return l.useEffect((()=>{a(100*-Math.log2(o))}),[o]),M.default.createElement("div",{className:t.container},M.default.createElement(f.IconButton,{"data-testid":"zoom_out",onClick:()=>{e.zoom(2*o)},disabled:o>=n-1e-4,size:"large"},M.default.createElement(My,null)),M.default.createElement(f.Slider,{size:"small",className:t.slider,value:i,min:100*-Math.log2(n),max:100*-Math.log2(r),onChange:(e,t)=>{a(t)},onChangeCommitted:()=>e.zoomTo(2**(-i/100))}),M.default.createElement(f.IconButton,{"data-testid":"zoom_in",onClick:()=>{e.zoom(e.bpPerPx/2)},disabled:o<=r+1e-4,size:"large"},M.default.createElement(Gv,null)))})),Ry=c.makeStyles()((e=>({headerBar:{display:"flex"},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1},panButton:{background:f.alpha(e.palette.background.paper,.8),color:e.palette.text.primary,margin:7},bp:{display:"flex",alignItems:"center",marginLeft:5},toggleButton:{height:44,border:"none",marginLeft:e.spacing(4)},buttonSpacer:{marginRight:e.spacing(2)}}))),Ny=u.observer((({model:e})=>{const{classes:t}=Ry();return M.default.createElement(f.IconButton,{onClick:e.activateTrackSelector,className:t.toggleButton,title:"Open track selector",value:"track_select"},M.default.createElement(Tv,{className:t.buttonSpacer}))}));function Iy({model:e}){const{classes:t}=Ry();return M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(-.9)}},M.default.createElement(Jv,null)),M.default.createElement(f.Button,{variant:"outlined",className:t.panButton,onClick:()=>{e.slide(.9)}},M.default.createElement(Yv,null)))}const Ly=u.observer((function({model:e}){const{classes:t}=Ry(),{coarseTotalBp:r}=e;return M.default.createElement(f.Typography,{variant:"body2",color:"textSecondary",className:t.bp},n.getBpDisplayStr(r))})),By=({model:e})=>{const{classes:t}=Ry();return M.default.createElement("div",{className:t.headerBar},M.default.createElement(Ny,{model:e}),M.default.createElement("div",{className:t.spacer}),M.default.createElement(f.FormGroup,{row:!0,className:t.headerForm},M.default.createElement(Iy,{model:e}),M.default.createElement(Ty,{model:e})),M.default.createElement(Ly,{model:e}),M.default.createElement(Oy,{model:e}),M.default.createElement("div",{className:t.spacer}))};u.observer((function({model:e}){const{hideHeader:t,hideHeaderOverview:n}=e;return t?null:n?M.default.createElement(By,{model:e}):M.default.createElement(wy,{model:e},M.default.createElement(By,{model:e}))}));var jy={},Dy=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),zy=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fy=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&Dy(t,e,n);return zy(t,e),t},$y=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jy,"__esModule",{value:!0});const Uy=Fy(M.default),Hy=$y(We),Vy=N.default,qy=it,Gy=(0,O.default.observer)((function({children:e,menuItems:t,closeAfterItemClick:n=!0,stopPropagation:r,setOpen:o,onClick:i,...a}){const s=(0,qy.usePopupState)({popupId:"viewMenu",variant:"popover"}),{onClick:l,onTouchStart:u,...c}=(0,qy.bindTrigger)(s),{isOpen:f}=s;return(0,Uy.useEffect)((()=>{null==o||o(f)}),[f,o]),Uy.default.createElement(Uy.default.Fragment,null,Uy.default.createElement(Vy.IconButton,{onClick:e=>{r&&e.stopPropagation(),l(e),null==i||i()},onTouchStart:e=>{r&&e.stopPropagation(),u(e),null==i||i()},...c,...a,disabled:0===t.length},e),Uy.default.createElement(Hy.default,{...(0,qy.bindPopover)(s),onMenuItemClick:(e,t)=>{t()},menuItems:t,closeAfterItemClick:n,popupState:s}))}));var Wy=jy.default=Gy,Jy=r.createSvgIcon(o.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");const Yy=c.makeStyles()((e=>({background:{position:"absolute",right:0,zIndex:1001,background:e.palette.background.paper},focusedBackground:{background:f.alpha(e.palette.secondary.light,.2)}})));u.observer((function({model:e}){const{classes:t}=Yy(),{id:r,bpPerPx:o,maxBpPerPx:i,minBpPerPx:a,scaleFactor:s,hideHeader:l}=e,{focusedViewId:u}=n.getSession(e);return l?M.default.createElement(f.Paper,{className:t.background},M.default.createElement(f.Paper,{className:u===r?t.focusedBackground:void 0},M.default.createElement(Wy,{menuItems:e.menuItems()},M.default.createElement(Jy,{fontSize:"small"})),M.default.createElement(f.IconButton,{"data-testid":"zoom_out",onClick:()=>{e.zoom(2*o)},disabled:o>=i-1e-4||1!==s},M.default.createElement(My,{fontSize:"small"})),M.default.createElement(f.IconButton,{"data-testid":"zoom_in",onClick:()=>{e.zoom(o/2)},disabled:o<=a+1e-4||1!==s},M.default.createElement(Gv,{fontSize:"small"})))):null}));var Zy={},Ky=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Xy=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qy=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&Ky(t,e,n);return Xy(t,e),t};Object.defineProperty(Zy,"__esModule",{value:!0});var eb=Zy.ErrorBoundary=void 0;const tb=Qy(M.default);eb=Zy.ErrorBoundary=class extends tb.Component{constructor(e){super(e),this.state={error:void 0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e})}render(){return this.state.error?tb.default.createElement(this.props.FallbackComponent,{error:this.state.error}):this.props.children}};var nb=r.createSvgIcon(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),rb=r.createSvgIcon(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ob=r.createSvgIcon(o.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),ib=r.createSvgIcon([o.jsx("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),o.jsx("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown"),ab=r.createSvgIcon([o.jsx("path",{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},"0"),o.jsx("path",{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},"1")],"KeyboardDoubleArrowUp"),sb=r.createSvgIcon(o.jsx("path",{d:"M6 19h12v2H6z"}),"Minimize"),lb=r.createSvgIcon(o.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),ub=r.createSvgIcon(o.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");const cb=c.makeStyles()({dragHandle:{cursor:"grab"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"}});function fb({trackId:e,view:t,track:n}){const{classes:r}=cb();return M.default.createElement("span",{draggable:!0,className:r.dragHandle,onDragStart:e=>{const r=e.currentTarget;r.parentNode&&(e.dataTransfer.setDragImage(r.parentNode,20,20),t.setDraggingTrackId(n.id))},onDragEnd:()=>{t.setDraggingTrackId(void 0)},"data-testid":`dragHandle-${t.id}-${e}`},M.default.createElement(ub,{className:r.dragHandleIcon,fontSize:"small"}))}const db=c.makeStyles()((e=>({root:{background:f.alpha(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper}},trackName:{fontSize:"0.8rem"},iconButton:{padding:e.spacing(1)}}))),hb=u.observer(M.default.forwardRef((function({track:e,className:t},r){var o;const{classes:i,cx:s}=db(),l=n.getContainingView(e),u=n.getSession(e),c=e.configuration,d=e.minimized,h=p.getConf(e,"trackId"),m=g.getTrackName(c,u),v=[{label:"Track order",type:"subMenu",priority:2e3,subMenu:[{label:d?"Restore track":"Minimize track",icon:d?nb:sb,onClick:()=>{e.setMinimized(!d)}},...l.tracks.length>2?[{label:"Move track to top",icon:ab,onClick:()=>{l.moveTrackToTop(e.id)}}]:[],{label:"Move track up",icon:ob,onClick:()=>{l.moveTrackUp(e.id)}},{label:"Move track down",icon:Jy,onClick:()=>{l.moveTrackDown(e.id)}},...l.tracks.length>2?[{label:"Move track to bottom",icon:ib,onClick:()=>{l.moveTrackToBottom(e.id)}}]:[]]},...(null===(o=u.getTrackActionMenuItems)||void 0===o?void 0:o.call(u,c))||[],...e.trackMenuItems()].sort(((e,t)=>((null==t?void 0:t.priority)||0)-((null==e?void 0:e.priority)||0)));return M.default.createElement(f.Paper,{ref:r,className:s(t,i.root),onClick:e=>{e.stopPropagation()}},M.default.createElement(fb,{track:e,trackId:h,view:l}),M.default.createElement(f.IconButton,{onClick:()=>l.hideTrack(h),className:i.iconButton,title:"close this track"},M.default.createElement(rb,{fontSize:"small"})),M.default.createElement(f.Typography,{variant:"body1",component:"span",className:i.trackName,onMouseDown:e=>{e.stopPropagation()}},M.default.createElement(a.SanitizedHTML,{html:[m,d?"(minimized)":""].filter((e=>!!e)).join(" ")})),M.default.createElement(Wy,{menuItems:v,"data-testid":"track_menu_icon"},M.default.createElement(lb,{fontSize:"small"})))}))),pb=c.makeStyles()({trackLabel:{zIndex:3},trackLabelOffset:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"}}),mb=u.observer((function({track:e,view:t}){const{classes:n,cx:r}=pb(),o=e.displays[0],{trackLabel:i,trackLabelOverlap:a,trackLabelOffset:s}=n;return"hidden"!==t.trackLabelsSetting?M.default.createElement(hb,{track:e,className:r(i,"overlapping"!==t.trackLabelsSetting||o.prefersOffset?s:a)}):null})),gb=c.makeStyles()({renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none",zIndex:2}}),vb=u.observer((function({model:e,track:t,onDragEnter:n}){const{classes:r}=gb(),o=t.displays[0],{height:i,RenderingComponent:s,DisplayBlurb:u}=o,{trackRefs:c,id:f,scaleFactor:d}=e,h=p.getConf(t,"trackId"),m=l.useRef(null),g=t.minimized;return l.useEffect((()=>(m.current&&(c[h]=m.current),()=>{delete c[h]})),[c,h]),M.default.createElement("div",{className:r.trackRenderingContainer,style:{height:g?20:i},onScroll:e=>o.setScrollTop(e.currentTarget.scrollTop),onDragEnter:n,"data-testid":`trackRenderingContainer-${f}-${h}`},g?null:M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{ref:m,className:r.renderingComponentContainer,style:{transform:1!==d?`scaleX(${d})`:void 0}},M.default.createElement(l.Suspense,{fallback:M.default.createElement(a.LoadingEllipses,null)},M.default.createElement(s,{model:o,onHorizontalScroll:e.horizontalScroll}))),u?M.default.createElement("div",{style:{position:"absolute",left:0,top:o.height-20}},M.default.createElement(u,{model:o})):null))})),yb=c.makeStyles()({root:{marginTop:2},resizeHandle:{height:3,boxSizing:"border-box",position:"relative",zIndex:2}}),bb=u.observer((function({model:e,track:t}){const{classes:n}=yb(),r=t.displays[0],{draggingTrackId:o,showTrackOutlines:s}=e,u=l.useRef(null);return M.default.createElement(f.Paper,{ref:u,className:n.root,variant:s?"outlined":void 0,elevation:s?void 0:0,onClick:n=>{var r;if(2===n.detail&&!t.displays[0].featureIdUnderMouse){const t=(null===(r=u.current)||void 0===r?void 0:r.getBoundingClientRect().left)||0;e.zoomTo(e.bpPerPx/2,n.clientX-t,!0)}}},M.default.createElement(mb,{track:t,view:e}),M.default.createElement(eb,{FallbackComponent:e=>M.default.createElement(a.ErrorMessage,{error:e.error})},M.default.createElement(vb,{model:e,track:t,onDragEnter:()=>{i.isAlive(r)&&void 0!==o&&o!==r.id&&e.moveTrack(o,t.id)}})),M.default.createElement(a.ResizeHandle,{onDrag:r.resizeHeight,className:n.resizeHandle}))})),wb=c.makeStyles()((e=>({centerLineContainer:{background:"transparent",height:"100%",zIndex:5,position:"absolute",border:`1px ${e.palette.action.active} dashed`,borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}}))),_b=u.observer((function({model:e}){const{bpPerPx:t,centerLineInfo:n,trackHeights:r,tracks:o,width:i}=e,a=l.useRef(null),{classes:s}=wb();return o.length?M.default.createElement("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:a,style:{left:i/2+"px",width:Math.max(1/t,1)}},n&&M.default.createElement("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/t,1)+5,top:r}},n.refName,":"," ",Math.max(Math.round(n.offset)+1,0))):null})),xb=c.makeStyles()((e=>({verticalGuidesZoomContainer:{position:"absolute",height:"100%",width:"100%",zIndex:1,pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",zIndex:1,pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.action.disabled},minorTick:{background:e.palette.divider}})));function Eb({block:e,bpPerPx:t}){const{classes:n,cx:r}=xb(),o=py(e.start,e.end,t);return M.default.createElement(rh,{block:e},o.map((({type:o,base:i})=>{const a=(e.reversed?e.end-i:i-e.start)/t;return M.default.createElement("div",{key:i,className:r(n.tick,"major"===o||"labeledMajor"===o?n.majorTick:n.minorTick),style:{left:a}})})))}const kb=u.observer((({model:e})=>{const{staticBlocks:t,bpPerPx:n}=e;return M.default.createElement(M.default.Fragment,null,t.map(((e,t)=>{const r=`${e.key}-${t}`;return"ContentBlock"===e.type?M.default.createElement(Eb,{key:r,block:e,bpPerPx:n}):"ElidedBlock"===e.type?M.default.createElement(oh,{key:r,width:e.widthPx}):"InterRegionPaddingBlock"===e.type?M.default.createElement(ih,{key:r,width:e.widthPx,boundary:"boundary"===e.variant}):null})))})),Sb=u.observer((function({model:e}){const{classes:t}=xb();return M.default.createElement("div",{className:t.verticalGuidesZoomContainer,style:{transform:1!==e.scaleFactor?`scaleX(${e.scaleFactor})`:void 0}},M.default.createElement("div",{className:t.verticalGuidesContainer,style:{left:e.staticBlocks.offsetPx-e.offsetPx,width:e.staticBlocks.totalWidthPx}},M.default.createElement(kb,{model:e})))}));var Cb=r.createSvgIcon(o.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),Pb=r.createSvgIcon(o.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const Tb=c.makeStyles()((e=>({highlight:{height:"100%",position:"absolute",overflow:"hidden",background:ri.colord(e.palette.highlight.main).alpha(.35).toRgbString()},linkIcon:{color:ri.colord(e.palette.highlight.main).darken(.2).toRgbString()}}))),Mb=u.observer((function({model:e,highlight:t}){var r;const{classes:o}=Tb(),[i,s]=l.useState(!1),u=l.useRef(null),c=n.getSession(e),{assemblyManager:d}=c,h=()=>{e.removeHighlight(t)};function p(){s(!1)}const m=d.get(t.assemblyName),g=(t=>{const n=e.bpToPx({refName:t.refName,coord:t.start}),r=e.bpToPx({refName:t.refName,coord:t.end});return n&&r?{width:Math.max(Math.abs(r.offsetPx-n.offsetPx),3),left:Math.min(n.offsetPx,r.offsetPx)-e.offsetPx}:void 0})({...t,refName:null!==(r=null==m?void 0:m.getCanonicalRefName(t.refName))&&void 0!==r?r:t.refName});return g?M.default.createElement("div",{className:o.highlight,style:{left:g.left,width:g.width}},M.default.createElement(f.Tooltip,{title:"Highlighted from URL parameter",arrow:!0},M.default.createElement(f.IconButton,{ref:u,onClick:()=>{s(!0)},style:{zIndex:3}},M.default.createElement(Pb,{fontSize:"small",className:o.linkIcon}))),M.default.createElement(a.Menu,{anchorEl:u.current,onMenuItemClick:(e,t)=>{t(c),p()},open:i,onClose:p,menuItems:[{label:"Dismiss highlight",icon:rb,onClick:()=>{h()}},{label:"Bookmark highlighted region",icon:Cb,onClick:()=>{let e=c.widgets.get("GridBookmark");e||(e=c.addWidget("GridBookmarkWidget","GridBookmark")),e.addBookmark(t),h()}}]})):null})),Ab=u.observer((function({model:e}){return e.highlight.map(((t,n)=>M.default.createElement(Mb,{key:`${JSON.stringify(t)}-${n}`,model:e,highlight:t})))})),Ob=c.makeStyles()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}),Rb=u.observer((function({model:e,coordX:t}){const{classes:r}=Ob();return M.default.createElement(f.Tooltip,{open:!0,placement:"top",title:n.stringify(e.pxToBp(t)),arrow:!0},M.default.createElement("div",{className:r.guide,style:{left:t,background:"red"}}))}));function Nb(e,t,n){const[r,o]=l.useState(),[i,a]=l.useState(),[s,u]=l.useState(),[c,f]=l.useState(),d=void 0!==r&&void 0===s;function h(t){if(n&&!t.shiftKey)return;t.preventDefault(),t.stopPropagation();const r=Kv(t,e.current);o(r),a(r)}function p(t){f(n?t.shiftKey?Kv(t,e.current):void 0:Kv(t,e.current))}function m(){f(void 0),t.setOffsets(void 0,void 0)}function g(){u(void 0),o(void 0),a(void 0)}function v(e,t){t(),g()}l.useEffect((()=>{function n(t){if(e.current&&d){const n=Kv(t,e.current);a(n)}}function o(n){if(void 0!==r&&e.current){const{clientX:o,clientY:i}=n,a=Kv(n,e.current);u({offsetX:a,clientX:o,clientY:i});const s=function(e){if(void 0===r)return;const n=Math.min(r,e),o=Math.max(r,e);return{leftOffset:t.pxToBp(n),rightOffset:t.pxToBp(o)}}(a);s&&t.setOffsets(s.leftOffset,s.rightOffset),f(void 0)}}return d?(window.addEventListener("mousemove",n),window.addEventListener("mouseup",o),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",o)}):()=>{}}),[r,d,t,e]),l.useEffect((()=>{!d&&void 0!==i&&void 0!==r&&Math.abs(i-r)<=3&&g()}),[d,i,r]);const y=Boolean(s);if(void 0===r)return{open:y,guideX:c,mouseDown:h,mouseMove:p,mouseOut:m,handleMenuItemClick:v};const b=s?s.offsetX:i||0,w=Math.min(b,r),_=Math.abs(b-r);return{open:y,rubberbandOn:!0,mouseDown:h,mouseMove:p,mouseOut:m,handleClose:g,handleMenuItemClick:v,leftBpOffset:t.pxToBp(w),rightBpOffset:t.pxToBp(w+_),anchorPosition:s,numOfBpSelected:Math.ceil(_*t.bpPerPx),width:_,left:w}}const Ib=c.makeStyles()({rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8}}),Lb=u.observer((function({model:e,ControlComponent:t=M.default.createElement("div",null)}){const n=l.useRef(null),{classes:r}=Ib(),{guideX:o,rubberbandOn:i,leftBpOffset:s,rightBpOffset:u,numOfBpSelected:c,width:f,left:d,anchorPosition:h,open:p,handleMenuItemClick:m,handleClose:g,mouseMove:v,mouseDown:y,mouseOut:b}=Nb(n,e);return M.default.createElement(M.default.Fragment,null,void 0!==o?M.default.createElement(Rb,{model:e,coordX:o}):i?M.default.createElement(ly,{leftBpOffset:s,rightBpOffset:u,numOfBpSelected:c,width:f,left:d}):null,h?M.default.createElement(a.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:h.clientX,top:h.clientY},onMenuItemClick:m,open:p,onClose:g,menuItems:e.rubberBandMenuItems()}):null,M.default.createElement("div",{"data-testid":"rubberband_controls",className:r.rubberbandControl,ref:n,onMouseDown:y,onMouseMove:v,onMouseOut:b},t))})),Bb=c.makeStyles()((e=>({majorTickLabel:{fontSize:11,zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"}}))),jb=function({block:e,bpPerPx:t}){const{classes:r}=Bb(),{reversed:o,start:i,end:a}=e,s=py(i,a,t,!0,!1);return M.default.createElement(rh,{block:e},s.map((({type:e,base:s})=>{if("major"===e){const e=s+1;return M.default.createElement("div",{key:s,className:r.tick,style:{left:(o?a-s:s-i)/t}},e?M.default.createElement(f.Typography,{className:r.majorTickLabel},n.getTickDisplayStr(e,t)):null)}return null})))},Db=u.observer((function({model:e}){const{staticBlocks:t,bpPerPx:n}=e;return M.default.createElement(M.default.Fragment,null,t.map(((e,t)=>{const{key:r,widthPx:o}=e,i=`${r}-${t}`;return"ContentBlock"===e.type?M.default.createElement(jb,{key:i,block:e,bpPerPx:n}):"ElidedBlock"===e.type?M.default.createElement(oh,{key:i,width:o}):"InterRegionPaddingBlock"===e.type?M.default.createElement(ih,{key:i,width:o,style:{background:"none"},boundary:"boundary"===e.variant}):null})))})),zb=c.makeStyles()((e=>({refLabel:{fontSize:11,position:"absolute",left:2,top:-1,fontWeight:"bold",lineHeight:"normal",zIndex:1,background:e.palette.background.paper},b0:{left:0,zIndex:100}}))),Fb=u.observer((function({model:e}){const{classes:t,cx:n}=zb(),{staticBlocks:r,offsetPx:o,scaleBarDisplayPrefix:i}=e;let a=0;r.forEach(((e,t)=>{e.offsetPx-o<0&&(a=t)}));const s=i(),l=r.blocks[0];return M.default.createElement(M.default.Fragment,null,"ContentBlock"!==(null==l?void 0:l.type)&&s?M.default.createElement(f.Typography,{className:n(t.b0,t.refLabel)},s):null,r.map(((e,n)=>{const{offsetPx:r,isLeftEndOfDisplayedRegion:i,key:l,type:u,refName:c}=e,d=n===a;return"ContentBlock"===u&&(i||d)?M.default.createElement(f.Typography,{key:`refLabel-${l}-${n}`,style:{left:d?Math.max(0,-o):r-o-1,paddingLeft:d?0:1},className:t.refLabel,"data-testid":`refLabel-${c}`},d&&s?`${s}:`:"",c):null})))})),$b=c.makeStyles()({container:{overflow:"hidden",position:"relative"},zoomContainer:{position:"relative",zIndex:1},scalebar:{position:"absolute",display:"flex",pointerEvents:"none"}}),Ub=u.observer(M.default.forwardRef((function({model:e,style:t,className:n,...r},o){const{classes:i,cx:a}=$b(),{staticBlocks:s,offsetPx:l,scaleFactor:u}=e,c=s.offsetPx-l;return M.default.createElement(f.Paper,{"data-resizer":"true",className:a(i.container,n),variant:"outlined",ref:o,style:t,...r},M.default.createElement("div",{className:i.zoomContainer,style:{transform:1!==u?`scaleX(${u})`:void 0}},M.default.createElement("div",{className:i.scalebar,style:{left:c-1,width:s.totalWidthPx,...t}},M.default.createElement(Db,{model:e}))),M.default.createElement(Fb,{model:e}))}))),Hb=c.makeStyles()({tracksContainer:{position:"relative",overflow:"hidden"}}),Vb=u.observer((function({children:e,model:t}){const{classes:r}=Hb(),{pluginManager:o}=n.getEnv(t),{mouseDown:i,mouseUp:s}=function(e){const[t,n]=l.useState(!1),r=l.useRef(!1),o=l.useRef(0);return l.useEffect((()=>{let i=()=>{};function a(t){t.preventDefault();const n=t.clientX-o.current;n&&(r.current||(r.current=!0,window.requestAnimationFrame((()=>{e.horizontalScroll(-n),r.current=!1,o.current=t.clientX}))))}function s(){o.current=0,t&&n(!1)}return t&&(window.addEventListener("mousemove",a,!0),window.addEventListener("mouseup",s,!0),i=()=>{window.removeEventListener("mousemove",a,!0),window.removeEventListener("mouseup",s,!0)}),i}),[e,t]),{mouseDown:function(e){if(e.shiftKey)return;const t=e.target;t.draggable||t.dataset.resizer||0===e.button&&(o.current=e.clientX,n(!0))},mouseUp:function(e){e.preventDefault(),n(!1)}}}(t),{showGridlines:u,showCenterLine:c}=t,f=l.useRef(null),{guideX:d,rubberbandOn:h,leftBpOffset:p,rightBpOffset:m,numOfBpSelected:g,width:v,left:y,anchorPosition:b,open:w,handleMenuItemClick:_,handleClose:x,mouseMove:E,mouseDown:k}=Nb(f,t,!0);!function(e,t){const n=l.useRef(0),r=l.useRef(),o=l.useRef(!1);l.useEffect((()=>{const i=e.current;function a(e){e.ctrlKey?(e.preventDefault(),n.current+=e.deltaY/500,t.setScaleFactor(n.current<0?1-n.current:1/(1+n.current)),r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{t.setScaleFactor(1),t.zoomTo(n.current>0?t.bpPerPx*(1+n.current):t.bpPerPx/(1-n.current),e.clientX-((null==i?void 0:i.getBoundingClientRect().left)||0)),n.current=0}),300)):(Math.abs(e.deltaX)>Math.abs(2*e.deltaY)&&e.preventDefault(),n.current+=e.deltaX,o.current||(o.current=!0,window.requestAnimationFrame((()=>{t.horizontalScroll(n.current),n.current=0,o.current=!1}))))}return i?(i.addEventListener("wheel",a),()=>{i.removeEventListener("wheel",a)}):()=>{}}),[t,e])}(f,t);const S=o.evaluateExtensionPoint("LinearGenomeView-TracksContainerComponent",void 0,{model:t});return M.default.createElement("div",{ref:f,"data-testid":"trackContainer",className:r.tracksContainer,onMouseDown:e=>{i(e),k(e)},onMouseMove:E,onMouseUp:s},u?M.default.createElement(Sb,{model:t}):null,c?M.default.createElement(_b,{model:t}):null,void 0!==d?M.default.createElement(Rb,{model:t,coordX:d}):h?M.default.createElement(ly,{leftBpOffset:p,rightBpOffset:m,numOfBpSelected:g,width:v,left:y}):null,b?M.default.createElement(a.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:b.clientX,top:b.clientY},onMenuItemClick:_,open:w,onClose:x,menuItems:t.rubberBandMenuItems()}):null,M.default.createElement(Lb,{model:t,ControlComponent:M.default.createElement(Ub,{model:t,style:{height:17,boxSizing:"border-box"}})}),M.default.createElement(Ab,{model:t}),S,e)})),qb=l.lazy((()=>Promise.resolve().then((function(){return xP})))),Gb=l.lazy((()=>Promise.resolve().then((function(){return kP})))),Wb=c.makeStyles()({rel:{position:"relative"},top:{zIndex:1e3}});u.observer((function({model:e}){const{error:t,initialized:n,hasDisplayedRegions:r}=e;return n||t?M.default.createElement(!r||t?qb:Jb,{model:e}):M.default.createElement(a.LoadingEllipses,{variant:"h6"})}));const Jb=u.observer((function({model:e}){const{tracks:t}=e,{classes:r}=Wb(),o=n.getSession(e),i=l.useRef(null),a=e.MiniControlsComponent(),s=e.HeaderComponent();return l.useEffect((()=>{function t(t){var n,r;t.target instanceof Element&&(null===(n=i.current)||void 0===n?void 0:n.contains(t.target))&&(null===(r=o.setFocusedViewId)||void 0===r||r.call(o,e.id))}return document.addEventListener("mousedown",t),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("keydown",t)}}),[o,e]),M.default.createElement("div",{className:r.rel,ref:i,onMouseLeave:()=>{o.setHovered(void 0)},onMouseMove:t=>{const n=i.current;if(!n)return;const{tracks:r}=e,a=t.clientX-n.getBoundingClientRect().left,s=e.pxToBp(a),l=r.find((e=>e.displays[0].featureUnderMouse));o.setHovered({hoverPosition:s,hoverFeature:l})}},M.default.createElement(s,{model:e}),M.default.createElement(a,{model:e}),M.default.createElement(Vb,{model:e},t.length?t.map((t=>M.default.createElement(bb,{key:t.id,model:e,track:t}))):M.default.createElement(l.Suspense,{fallback:M.default.createElement(M.default.Fragment,null)},M.default.createElement(Gb,{model:e}))))}));l.lazy((()=>Promise.resolve().then((function(){return RP})))),l.lazy((()=>Promise.resolve().then((function(){return LP})))),l.lazy((()=>Promise.resolve().then((function(){return zP})))),l.lazy((()=>Promise.resolve().then((function(){return GP})))),l.lazy((()=>Promise.resolve().then((function(){return JP}))));const Yb=c.makeStyles()((e=>({importFormContainer:{padding:e.spacing(4)},formPaper:{margin:"0 auto",padding:12,marginBottom:10}}))),Zb=u.observer((({model:e})=>{const{classes:t}=Yb(),r=n.getSession(e),{assemblyNames:o,assemblyManager:i}=r,[s,u]=l.useState([o[0]]),[c,d]=l.useState("2"),[h,p]=l.useState("Descending"),[m,g]=l.useState(),v=o.length?s.map((e=>i.get(e)?.error)).filter((e=>!!e)).join(", "):"No configured assemblies",[y,b]=l.useState(),w=i.get(s[0]),_=w?.regions||[],x=y||new Dd({label:_[0]?.refName}),E=x?.getLocation()||x?.getLabel();async function k(e,t){if(!x)return;let n=x.getTrackId(),o=e||x.getLocation()||"";try{if(w?.allRefNames?.includes(o))t.navToLocString(o,s[0]);else{const r=await S(e,"exact");if(r&&r.length>1)return void t.setSearchResults(r,e.toLowerCase());1===r?.length&&(o=r[0].getLocation(),n=r[0].getTrackId()),t.navToLocString(o,s[0]),n&&t.showTrack(n)}}catch(e){console.error(e),r.notify(`${e}`,"warning")}}async function S(t,n){const{textSearchManager:o}=r;o||console.warn("No text search manager");const i=await(o?.search({queryString:t,searchType:n},e.searchScope(s[0]),e.rankSearchResults)),a=w?.allRefNames?.filter((e=>e.startsWith(t))).map((e=>new Dd({label:e}))).slice(0,10);return[...a||[],...i||[]]}l.useEffect((()=>{const e=parseInt(c,10);Number.isNaN(e)||(e>1?e<=10?u(Array(e).fill(o[0])):d("10"):d("2"))}),[c,o]),l.useEffect((()=>{e.setIsDescending("Descending"===h)}),[h,e]);const C=m||v;return M.default.createElement(f.Container,{className:t.importFormContainer},C?M.default.createElement(a.ErrorMessage,{error:C}):null,M.default.createElement(f.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},M.default.createElement(f.Grid,{item:!0},M.default.createElement(a.AssemblySelector,{onChange:e=>{g(void 0),u(Array(parseInt(c,10)).fill(e))},session:r,selected:s[0]})),M.default.createElement(f.Grid,{item:!0},s[0]?m?M.default.createElement(Nd,{style:{color:"red"}}):E?M.default.createElement(Cy,{fetchResults:S,model:e,assemblyName:v?void 0:s[0],value:E,minWidth:270,onSelect:e=>b(e),TextFieldProps:{margin:"normal",variant:"outlined",helperText:"Enter sequence name, feature name, or location"}}):M.default.createElement(f.CircularProgress,{role:"progressbar",size:20,disableShrink:!0}):null),M.default.createElement(f.Grid,{item:!0},M.default.createElement(f.Tooltip,{title:"Views are limited between 2 and 10"},M.default.createElement(M.default.Fragment,null,M.default.createElement(f.TextField,{value:c,type:"number",variant:"outlined",margin:"normal",onChange:e=>d(e.target.value),style:{width:"8rem",verticalAlign:"baseline"},"data-testid":"num_views",helperText:"Number of views"})))),M.default.createElement(f.Grid,{item:!0},M.default.createElement(f.TextField,{select:!0,value:h,variant:"outlined",margin:"normal",label:"Order","data-testid":"cascade_order",onChange:e=>p(e.target.value),style:{width:"17rem",verticalAlign:"baseline"},helperText:`${h} order has the overview at the ${"Descending"===h?"top":"bottom"}`},M.default.createElement(f.MenuItem,{key:"Ascending",value:"Ascending"},"Ascending"),M.default.createElement(f.MenuItem,{key:"Descending",value:"Descending"},"Descending"))),M.default.createElement(f.Grid,{item:!0},M.default.createElement(f.Button,{disabled:!!v,onClick:async function(){try{if(!n.isSessionWithAddTracks(r))return;if(e.setViews(await Promise.all(s.map((async e=>{const t=await i.waitForAssembly(e);if(!t)throw new Error(`Assembly ${e} failed to load`);return{type:"LinearGenomeMultilevelView",bpPerPx:1,offsetPx:0,displayedRegions:t.regions}})))),e.isDescending){const t=e.views.length-1,n=0;let r=0,o=e.views.length-1,i=0;e.views.forEach((a=>{a.setWidth(e.width),E&&k(E,a),a.id===e.views[n].id?(r=a.maxBpPerPx,a.toggleIsOverview(),a.setDisplayName("Overview")):a.id===e.views[t].id?(r=1,a.toggleIsAnchor(),a.setDisplayName("Details")):r=(e.views.length-i)*o,a.zoomTo(r),o--,i++}))}else{const t=e.views.length-1,n=0;let r=1,o=2;e.views.forEach((i=>{i.setWidth(e.width),E&&k(E,i),i.id===e.views[n].id&&(i.toggleIsAnchor(),i.setDisplayName("Details")),i.id===e.views[t].id&&(r=i.maxBpPerPx,i.toggleIsOverview(),i.setDisplayName("Overview")),i.zoomTo(r),r*=o,o++}))}e.setLimitBpPerPx(),e.toggleLinkViews()}catch(e){console.error(e),g(e)}},variant:"contained",color:"primary",style:{marginBottom:"1rem"}},"Open"))))}));var Kb=function(){function e(e){var t=this;this._insertTag=function(e){t.container.insertBefore(e,0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Xb="-ms-",Qb="-moz-",ew="-webkit-",tw="comm",nw="rule",rw="decl",ow="@keyframes",iw=Math.abs,aw=String.fromCharCode,sw=Object.assign;function lw(e){return e.trim()}function uw(e,t,n){return e.replace(t,n)}function cw(e,t){return e.indexOf(t)}function fw(e,t){return 0|e.charCodeAt(t)}function dw(e,t,n){return e.slice(t,n)}function hw(e){return e.length}function pw(e){return e.length}function mw(e,t){return t.push(e),e}var gw=1,vw=1,yw=0,bw=0,ww=0,_w="";function xw(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:gw,column:vw,length:a,return:""}}function Ew(e,t){return sw(xw("",null,null,"",null,null,0),e,{length:-e.length},t)}function kw(){return ww=bw>0?fw(_w,--bw):0,vw--,10===ww&&(vw=1,gw--),ww}function Sw(){return ww=bw<yw?fw(_w,bw++):0,vw++,10===ww&&(vw=1,gw++),ww}function Cw(){return fw(_w,bw)}function Pw(){return bw}function Tw(e,t){return dw(_w,e,t)}function Mw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Aw(e){return gw=vw=1,yw=hw(_w=e),bw=0,[]}function Ow(e){return _w="",e}function Rw(e){return lw(Tw(bw-1,Lw(91===e?e+2:40===e?e+1:e)))}function Nw(e){for(;(ww=Cw())&&ww<33;)Sw();return Mw(e)>2||Mw(ww)>3?"":" "}function Iw(e,t){for(;--t&&Sw()&&!(ww<48||ww>102||ww>57&&ww<65||ww>70&&ww<97););return Tw(e,Pw()+(t<6&&32==Cw()&&32==Sw()))}function Lw(e){for(;Sw();)switch(ww){case e:return bw;case 34:case 39:34!==e&&39!==e&&Lw(ww);break;case 40:41===e&&Lw(e);break;case 92:Sw()}return bw}function Bw(e,t){for(;Sw()&&e+ww!==57&&(e+ww!==84||47!==Cw()););return"/*"+Tw(t,bw-1)+"*"+aw(47===e?e:Sw())}function jw(e){for(;!Mw(Cw());)Sw();return Tw(e,bw)}function Dw(e){return Ow(zw("",null,null,null,[""],e=Aw(e),0,[0],e))}function zw(e,t,n,r,o,i,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,p=0,m=1,g=1,v=1,y=0,b="",w=o,_=i,x=r,E=b;g;)switch(p=y,y=Sw()){case 40:if(108!=p&&58==fw(E,f-1)){-1!=cw(E+=uw(Rw(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=Rw(y);break;case 9:case 10:case 13:case 32:E+=Nw(p);break;case 92:E+=Iw(Pw()-1,7);continue;case 47:switch(Cw()){case 42:case 47:mw($w(Bw(Sw(),Pw()),t,n),l);break;default:E+="/"}break;case 123*m:s[u++]=hw(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:-1==v&&(E=uw(E,/\f/g,"")),h>0&&hw(E)-f&&mw(h>32?Uw(E+";",r,n,f-1):Uw(uw(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(mw(x=Fw(E,t,n,u,c,o,s,b,w=[],_=[],f),i),123===y)if(0===c)zw(E,t,x,x,w,i,f,s,_);else switch(99===d&&110===fw(E,3)?100:d){case 100:case 108:case 109:case 115:zw(e,x,x,r&&mw(Fw(e,x,x,0,0,o,s,b,o,w=[],f),_),o,_,f,s,r?w:_);break;default:zw(E,x,x,x,[""],_,0,s,_)}}u=c=h=0,m=v=1,b=E="",f=a;break;case 58:f=1+hw(E),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==kw())continue;switch(E+=aw(y),y*m){case 38:v=c>0?1:(E+="\f",-1);break;case 44:s[u++]=(hw(E)-1)*v,v=1;break;case 64:45===Cw()&&(E+=Rw(Sw())),d=Cw(),c=f=hw(b=E+=jw(Pw())),y++;break;case 45:45===p&&2==hw(E)&&(m=0)}}return i}function Fw(e,t,n,r,o,i,a,s,l,u,c){for(var f=o-1,d=0===o?i:[""],h=pw(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=dw(e,f+1,f=iw(m=a[p])),b=e;v<h;++v)(b=lw(m>0?d[v]+" "+y:uw(y,/&\f/g,d[v])))&&(l[g++]=b);return xw(e,t,n,0===o?nw:s,l,u,c)}function $w(e,t,n){return xw(e,t,n,tw,aw(ww),dw(e,2,-2),0)}function Uw(e,t,n,r){return xw(e,t,n,rw,dw(e,0,r),dw(e,r+1,-1),r)}function Hw(e,t){for(var n="",r=pw(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Vw(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case rw:return e.return=e.return||e.value;case tw:return"";case ow:return e.return=e.value+"{"+Hw(e.children,r)+"}";case nw:e.value=e.props.join(",")}return hw(n=Hw(e.children,r))?e.return=e.value+"{"+n+"}":""}var qw=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};function Gw(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ww=function(e,t,n){for(var r=0,o=0;r=o,o=Cw(),38===r&&12===o&&(t[n]=1),!Mw(o);)Sw();return Tw(e,bw)},Jw=new WeakMap,Yw=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Jw.get(n))&&!r){Jw.set(e,!0);for(var o=[],i=function(e,t){return Ow(function(e,t){var n=-1,r=44;do{switch(Mw(r)){case 0:38===r&&12===Cw()&&(t[n]=1),e[n]+=Ww(bw-1,t,n);break;case 2:e[n]+=Rw(r);break;case 4:if(44===r){e[++n]=58===Cw()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=aw(r)}}while(r=Sw());return e}(Aw(e),t))}(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[u]):a[u]+" "+i[s]}}},Zw=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Kw(e,t){switch(function(e,t){return 45^fw(e,0)?(((t<<2^fw(e,0))<<2^fw(e,1))<<2^fw(e,2))<<2^fw(e,3):0}(e,t)){case 5103:return ew+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ew+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ew+e+Qb+e+Xb+e+e;case 6828:case 4268:return ew+e+Xb+e+e;case 6165:return ew+e+Xb+"flex-"+e+e;case 5187:return ew+e+uw(e,/(\w+).+(:[^]+)/,ew+"box-$1$2"+Xb+"flex-$1$2")+e;case 5443:return ew+e+Xb+"flex-item-"+uw(e,/flex-|-self/,"")+e;case 4675:return ew+e+Xb+"flex-line-pack"+uw(e,/align-content|flex-|-self/,"")+e;case 5548:return ew+e+Xb+uw(e,"shrink","negative")+e;case 5292:return ew+e+Xb+uw(e,"basis","preferred-size")+e;case 6060:return ew+"box-"+uw(e,"-grow","")+ew+e+Xb+uw(e,"grow","positive")+e;case 4554:return ew+uw(e,/([^-])(transform)/g,"$1"+ew+"$2")+e;case 6187:return uw(uw(uw(e,/(zoom-|grab)/,ew+"$1"),/(image-set)/,ew+"$1"),e,"")+e;case 5495:case 3959:return uw(e,/(image-set\([^]*)/,ew+"$1$`$1");case 4968:return uw(uw(e,/(.+:)(flex-)?(.*)/,ew+"box-pack:$3"+Xb+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ew+e+e;case 4095:case 3583:case 4068:case 2532:return uw(e,/(.+)-inline(.+)/,ew+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hw(e)-1-t>6)switch(fw(e,t+1)){case 109:if(45!==fw(e,t+4))break;case 102:return uw(e,/(.+:)(.+)-([^]+)/,"$1"+ew+"$2-$3$1"+Qb+(108==fw(e,t+3)?"$3":"$2-$3"))+e;case 115:return~cw(e,"stretch")?Kw(uw(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==fw(e,t+1))break;case 6444:switch(fw(e,hw(e)-3-(~cw(e,"!important")&&10))){case 107:return uw(e,":",":"+ew)+e;case 101:return uw(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ew+(45===fw(e,14)?"inline-":"")+"box$3$1"+ew+"$2$3$1"+Xb+"$2box$3")+e}break;case 5936:switch(fw(e,t+11)){case 114:return ew+e+Xb+uw(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ew+e+Xb+uw(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ew+e+Xb+uw(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ew+e+Xb+e+e}return e}var Xw=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case rw:e.return=Kw(e.value,e.length);break;case ow:return Hw([Ew(e,{value:uw(e.value,"@","@"+ew)})],r);case nw:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Hw([Ew(e,{props:[uw(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Hw([Ew(e,{props:[uw(t,/:(plac\w+)/,":"+ew+"input-$1")]}),Ew(e,{props:[uw(t,/:(plac\w+)/,":-moz-$1")]}),Ew(e,{props:[uw(t,/:(plac\w+)/,Xb+"input-$1")]})],r)}return""}))}}],Qw=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,i=e.stylisPlugins||Xw,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,u,c=[Vw,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],f=function(e){var t=pw(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([Yw,Zw].concat(i,c));o=function(e,t,n,r){l=n,Hw(Dw(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Kb({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d},e_={__proto__:null,default:Qw};function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}var n_={exports:{}},r_={},o_="function"==typeof Symbol&&Symbol.for,i_=o_?Symbol.for("react.element"):60103,a_=o_?Symbol.for("react.portal"):60106,s_=o_?Symbol.for("react.fragment"):60107,l_=o_?Symbol.for("react.strict_mode"):60108,u_=o_?Symbol.for("react.profiler"):60114,c_=o_?Symbol.for("react.provider"):60109,f_=o_?Symbol.for("react.context"):60110,d_=o_?Symbol.for("react.async_mode"):60111,h_=o_?Symbol.for("react.concurrent_mode"):60111,p_=o_?Symbol.for("react.forward_ref"):60112,m_=o_?Symbol.for("react.suspense"):60113,g_=o_?Symbol.for("react.suspense_list"):60120,v_=o_?Symbol.for("react.memo"):60115,y_=o_?Symbol.for("react.lazy"):60116,b_=o_?Symbol.for("react.block"):60121,w_=o_?Symbol.for("react.fundamental"):60117,__=o_?Symbol.for("react.responder"):60118,x_=o_?Symbol.for("react.scope"):60119;function E_(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i_:switch(e=e.type){case d_:case h_:case s_:case u_:case l_:case m_:return e;default:switch(e=e&&e.$$typeof){case f_:case p_:case y_:case v_:case c_:return e;default:return t}}case a_:return t}}}function k_(e){return E_(e)===h_}r_.AsyncMode=d_,r_.ConcurrentMode=h_,r_.ContextConsumer=f_,r_.ContextProvider=c_,r_.Element=i_,r_.ForwardRef=p_,r_.Fragment=s_,r_.Lazy=y_,r_.Memo=v_,r_.Portal=a_,r_.Profiler=u_,r_.StrictMode=l_,r_.Suspense=m_,r_.isAsyncMode=function(e){return k_(e)||E_(e)===d_},r_.isConcurrentMode=k_,r_.isContextConsumer=function(e){return E_(e)===f_},r_.isContextProvider=function(e){return E_(e)===c_},r_.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i_},r_.isForwardRef=function(e){return E_(e)===p_},r_.isFragment=function(e){return E_(e)===s_},r_.isLazy=function(e){return E_(e)===y_},r_.isMemo=function(e){return E_(e)===v_},r_.isPortal=function(e){return E_(e)===a_},r_.isProfiler=function(e){return E_(e)===u_},r_.isStrictMode=function(e){return E_(e)===l_},r_.isSuspense=function(e){return E_(e)===m_},r_.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s_||e===h_||e===u_||e===l_||e===m_||e===g_||"object"==typeof e&&null!==e&&(e.$$typeof===y_||e.$$typeof===v_||e.$$typeof===c_||e.$$typeof===f_||e.$$typeof===p_||e.$$typeof===w_||e.$$typeof===__||e.$$typeof===x_||e.$$typeof===b_)},r_.typeOf=E_;var S_={};"production"!==Pl.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var d=e.$$typeof;switch(d){case t:var m=e.type;switch(m){case l:case u:case r:case i:case o:case f:return m;default:var g=m&&m.$$typeof;switch(g){case s:case c:case p:case h:case a:return g;default:return d}}case n:return d}}}var w=u,_=s,x=a,E=t,k=c,S=r,C=p,P=h,T=n,M=i,A=o,O=f,R=!1;function N(e){return b(e)===u}S_.AsyncMode=l,S_.ConcurrentMode=w,S_.ContextConsumer=_,S_.ContextProvider=x,S_.Element=E,S_.ForwardRef=k,S_.Fragment=S,S_.Lazy=C,S_.Memo=P,S_.Portal=T,S_.Profiler=M,S_.StrictMode=A,S_.Suspense=O,S_.isAsyncMode=function(e){return R||(R=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),N(e)||b(e)===l},S_.isConcurrentMode=N,S_.isContextConsumer=function(e){return b(e)===s},S_.isContextProvider=function(e){return b(e)===a},S_.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},S_.isForwardRef=function(e){return b(e)===c},S_.isFragment=function(e){return b(e)===r},S_.isLazy=function(e){return b(e)===p},S_.isMemo=function(e){return b(e)===h},S_.isPortal=function(e){return b(e)===n},S_.isProfiler=function(e){return b(e)===i},S_.isStrictMode=function(e){return b(e)===o},S_.isSuspense=function(e){return b(e)===f},S_.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===i||e===o||e===f||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===a||e.$$typeof===s||e.$$typeof===c||e.$$typeof===g||e.$$typeof===v||e.$$typeof===y||e.$$typeof===m)},S_.typeOf=b}(),n_.exports="production"===Pl.env.NODE_ENV?r_:S_;var C_=n_.exports,P_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},T_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},M_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},A_={};function O_(e){return C_.isMemo(e)?M_:A_[e.$$typeof]||P_}A_[C_.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},A_[C_.Memo]=M_;var R_=Object.defineProperty,N_=Object.getOwnPropertyNames,I_=Object.getOwnPropertySymbols,L_=Object.getOwnPropertyDescriptor,B_=Object.getPrototypeOf,j_=Object.prototype,D_=function e(t,n,r){if("string"!=typeof n){if(j_){var o=B_(n);o&&o!==j_&&e(t,o,r)}var i=N_(n);I_&&(i=i.concat(I_(n)));for(var a=O_(t),s=O_(n),l=0;l<i.length;++l){var u=i[l];if(!(T_[u]||r&&r[u]||s&&s[u]||a&&a[u])){var c=L_(n,u);try{R_(t,u,c)}catch(e){}}}}return t};function z_(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var F_=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},$_=function(e,t,n){F_(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}},U_={__proto__:null,getRegisteredStyles:z_,insertStyles:$_,registerStyles:F_},H_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V_=/[A-Z]|^ms/g,q_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,G_=function(e){return 45===e.charCodeAt(1)},W_=function(e){return null!=e&&"boolean"!=typeof e},J_=Gw((function(e){return G_(e)?e:e.replace(V_,"-$&").toLowerCase()})),Y_=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(q_,(function(e,t,n){return K_={name:t,styles:n,next:K_},t}))}return 1===H_[e]||G_(e)||"number"!=typeof t||0===t?t:t+"px"};function Z_(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return K_={name:n.name,styles:n.styles,next:K_},n.name;var r=n;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)K_={name:o.name,styles:o.styles,next:K_},o=o.next;return r.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Z_(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a){var s=a;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":W_(s)&&(r+=J_(i)+":"+Y_(i,s)+";")}else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Z_(e,t,a);switch(i){case"animation":case"animationName":r+=J_(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var u=0;u<a.length;u++)W_(a[u])&&(r+=J_(i)+":"+Y_(i,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=K_,a=n(e);return K_=i,Z_(e,t,a)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var K_,X_=/label:\s*([^\s;{]+)\s*(;|$)/g;function Q_(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";K_=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=Z_(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=Z_(n,t,e[a]),r&&(o+=i[a]);X_.lastIndex=0;for(var s,l="";null!==(s=X_.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:K_}}var ex,tx,nx={__proto__:null,serializeStyles:Q_},rx=!!A.useInsertionEffect&&A.useInsertionEffect,ox=rx||function(e){return e()},ix=rx||A.useLayoutEffect,ax=A.createContext("undefined"!=typeof HTMLElement?Qw({key:"css"}):null),sx=ax.Provider,lx=function(e){return l.forwardRef((function(t,n){var r=l.useContext(ax);return e(t,r,n)}))},ux=A.createContext({}),cx=qw((function(e){return qw((function(t){return function(e,t){return"function"==typeof t?t(e):t_({},e,t)}(e,t)}))})),fx=function(e){var t=A.useContext(ux);return e.theme!==t&&(t=cx(t)(e.theme)),A.createElement(ux.Provider,{value:t},e.children)},dx={}.hasOwnProperty,hx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",px=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return F_(t,n,r),ox((function(){return $_(t,n,r)})),null},mx=lx((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[hx],i=[r],a="";"string"==typeof e.className?a=z_(t.registered,i,e.className):null!=e.className&&(a=e.className+" ");var s=Q_(i,void 0,A.useContext(ux));a+=t.key+"-"+s.name;var l={};for(var u in e)dx.call(e,u)&&"css"!==u&&u!==hx&&(l[u]=e[u]);return l.className=a,n&&(l.ref=n),A.createElement(A.Fragment,null,A.createElement(px,{cache:t,serialized:s,isStringTag:"string"==typeof o}),A.createElement(o,l))})),gx=mx,vx=function(e,t){var n=arguments;if(null==t||!dx.call(t,"css"))return A.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=gx,o[1]=function(e,t){var n={};for(var r in t)dx.call(t,r)&&(n[r]=t[r]);return n[hx]=e,n}(e,t);for(var i=2;i<r;i++)o[i]=n[i];return A.createElement.apply(null,o)};ex=vx||(vx={}),tx||(tx=ex.JSX||(ex.JSX={}));var yx=lx((function(e,t){var n=Q_([e.styles],void 0,A.useContext(ux)),r=A.useRef();return ix((function(){var e=t.key+"-global",o=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),o.hydrate([a])),r.current=[o,i],function(){o.flush()}}),[t]),ix((function(){var e=r.current,o=e[0];e[1]?e[1]=!1:(void 0!==n.next&&$_(t,n.next,!0),o.tags.length&&(o.before=o.tags[o.tags.length-1].nextElementSibling,o.flush()),t.insert("",n,o,!1))}),[t,n.name]),null}));function bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q_(t)}var wx=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o},_x=function(e){var t=e.cache,n=e.serializedArr;return ox((function(){for(var e=0;e<n.length;e++)$_(t,n[e],!1)})),null},xx=lx((function(e,t){var n=[],r=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=Q_(r,t.registered);return n.push(i),F_(t,i,!1),t.key+"-"+i.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(e,t,n){var r=[],o=z_(e,r,n);return r.length<2?n:o+t(r)}(t.registered,r,wx(n))},theme:A.useContext(ux)},i=e.children(o);return A.createElement(A.Fragment,null,A.createElement(_x,{cache:t,serializedArr:n}),i)})),Ex={__proto__:null,ClassNames:xx,Global:yx,get createElement(){return vx},css:bx,get jsx(){return vx},keyframes:function(){var e=bx.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},CacheProvider:sx,ThemeContext:ux,ThemeProvider:fx,__unsafe_useEmotionCache:function(){return l.useContext(ax)},useTheme:function(){return A.useContext(ux)},withEmotionCache:lx,withTheme:function(e){var t=e.displayName||e.name||"Component",n=A.forwardRef((function(t,n){var r=A.useContext(ux);return A.createElement(e,t_({theme:r,ref:n},t))}));return n.displayName="WithTheme("+t+")",D_(n,e)}};const kx=a.createJBrowseTheme(),Sx=c.makeStyles()((()=>({container:{display:"grid"},overlay:{zIndex:100,gridArea:"1/1"},content:{gridArea:"1/1",position:"relative"},grid:{display:"grid"},relative:{position:"relative"}}))),Cx=u.observer((e=>{const{classes:t}=Sx(),{model:r,ExtraButtons:o}=e,{pluginManager:a}=i.getEnv(r),{initialized:s}=r;return s?M.default.createElement(fx,{theme:kx},M.default.createElement("div",null,M.default.createElement(Ad,{model:r,ExtraButtons:o}),M.default.createElement("div",{className:t.container},M.default.createElement("div",{className:t.content},M.default.createElement("div",{className:t.relative},r.views.map((e=>{const{ReactComponent:t}=a.getViewType(e.type);if(!r.initialized||!e.initialized)return null;const o=((e,t)=>{const r=e.views.find((e=>e.isAnchor)),o=e=>{const t=n.bpToPx(r?.coarseDynamicBlocks[0]?.start,{start:e.coarseDynamicBlocks[0]?.start,end:e.coarseDynamicBlocks[0]?.end,reversed:e.coarseDynamicBlocks[0]?.reversed},e.bpPerPx);return isNaN(t)?0:e.offsetPx<0?t+-1*e.offsetPx:t},i=e=>{const t=n.bpToPx(r?.coarseDynamicBlocks[0]?.end,{start:e.coarseDynamicBlocks[0]?.start,end:e.coarseDynamicBlocks[0]?.end,reversed:e.coarseDynamicBlocks[0]?.reversed},e.bpPerPx);return isNaN(t)?0:e.offsetPx<0?t+-1*e.offsetPx:t},a=o(t),s=i(t);let l=e.views.findIndex((e=>e.id===t.id));l>0&&l--;const u=e.views[l];return{left:a,right:s,prevLeft:o(u),prevRight:i(u)}})(r,e);return M.default.createElement("div",{key:e.id},M.default.createElement(M.default.Fragment,null,e.hideHeader||e.id===r.views[0].id?null:M.default.createElement(xd,{view:e,model:r,polygonPoints:o}),!e.isAnchor&&e.isVisible?M.default.createElement(Me,{view:e,model:r,polygonPoints:o}):null),e.isVisible?M.default.createElement(M.default.Fragment,null,M.default.createElement(t,{key:e.id,model:e})):null)}))))))):M.default.createElement(Zb,{model:r})}));var Px=({jbrequire:e})=>new(e("@jbrowse/core/pluggableElementTypes/ViewType"))({name:"MultilevelLinearView",stateModel:e(Pe),ReactComponent:Cx}),Tx={},Mx=V.exports;Object.defineProperty(Tx,"__esModule",{value:!0});var Ax=Tx.default=void 0,Ox=Mx(q);Ax=Tx.default=(0,Ox.default)((0,P.default.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var Rx={},Nx=V.exports;Object.defineProperty(Rx,"__esModule",{value:!0});var Ix=Rx.default=void 0,Lx=Nx(q);Ix=Rx.default=(0,Lx.default)((0,P.default.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var Bx={},jx=V.exports;Object.defineProperty(Bx,"__esModule",{value:!0});var Dx=Bx.default=void 0,zx=jx(q);Dx=Bx.default=(0,zx.default)((0,P.default.jsx)("path",{d:"M8 11h3v10h2V11h3l-4-4zM4 3v2h16V3z"}),"VerticalAlignTop");var Fx={},$x=V.exports;Object.defineProperty(Fx,"__esModule",{value:!0});var Ux=Fx.default=void 0,Hx=$x(q);function Vx(e){return e.getViewType("LinearGenomeView").stateModel.named("LinearGenomeMultilevelView").props({id:s.ElementId,type:i.types.literal("LinearGenomeMultilevelView"),hideControls:!0,isVisible:!0,isAnchor:!1,isOverview:!1,limitBpPerPx:i.types.optional(i.types.frozen(),{limited:!1,upperLimit:1,apexUpperLimit:1,lowerLimit:0,apexLowerLimit:0}),polygonPoints:i.types.optional(i.types.frozen(),{left:-1,right:-1,prevLeft:-1,prevRight:-1})}).actions((e=>({toggleControls(){e.hideControls=!e.hideControls},toggleVisible(){e.isVisible=!e.isVisible},toggleIsAnchor(){e.isAnchor=!e.isAnchor},toggleIsOverview(){e.isOverview=!e.isOverview},setLimitBpPerPx(t,n,r,o,i){e.limitBpPerPx={limited:t,upperLimit:n||e.limitBpPerPx.upperLimit,apexUpperLimit:o||e.limitBpPerPx.apexUpperLimit,lowerLimit:r||e.limitBpPerPx.lowerLimit,apexLowerLimit:i||e.limitBpPerPx.apexLowerLimit}},setPolygonPoints(t,n,r,o){e.polygonPoints={left:t,right:n,prevLeft:r,prevRight:o}},zoomTo(t){if(!e.limitBpPerPx.limited||t<=e.limitBpPerPx.apexUpperLimit&&t>=e.limitBpPerPx.apexLowerLimit){const r=n.clamp(t,e.minBpPerPx,e.maxBpPerPx);if(r===e.bpPerPx)return r;const o=e.bpPerPx;if(e.bpPerPx=r,Math.abs(o-r)<1e-6)return console.warn("zoomTo bpPerPx rounding error"),o;const i=e.width;return e.scrollTo(Math.round((e.offsetPx+i/2)*o/r-i/2)),r}return e.bpPerPx},navToLocString(t,r){const{assemblyNames:o}=e,{assemblyManager:i}=n.getSession(e),{isValidRefName:a}=i,s=r||o[0];let l;const u=t.split(/(\s+)/).map((e=>e.trim())).filter((e=>!!e));try{l=u.map((e=>n.parseLocString(e,(e=>a(e,s)))))}catch(e){const[t,r,o]=u;if(!(`${e}`.match(/Unknown reference sequence/)&&Number.isInteger(+r)&&Number.isInteger(+o)))throw e;l=[n.parseLocString(t+":"+r+".."+o,(e=>a(e,s)))]}const c=l.map((e=>{const t=e.assemblyName||s,n=i.get(t),{refName:r}=e;if(!n)throw new Error(`assembly ${t} not found`);const{regions:o}=n;if(!o)throw new Error(`regions not loaded yet for ${t}`);const a=n.getCanonicalRefName(e.refName);if(!a)throw new Error(`Could not find refName ${r} in ${n.name}`);const l=o.find((e=>e.refName===a));if(!l)throw new Error(`Could not find refName ${r} in ${t}`);return{...e,assemblyName:t,parentRegion:l}}));if(1===c.length){const t=c[0];e.setDisplayedRegions([{reversed:t.reversed,...t.parentRegion}]);const{start:r,end:o,parentRegion:i}=t;e.navTo({...t,start:n.clamp(r??0,0,i.end),end:n.clamp(o??i.end,0,i.end)})}else e.setDisplayedRegions(c.map((e=>void 0===e.start?e.parentRegion:e))),e.showAllRegions()},moveIfAnchor(t,n){e.isAnchor&&e.moveTo(t,n)},closeView(){n.getContainingView(e).removeView(e)},addView(t){n.getContainingView(e).addView(t,e)}}))).views((e=>{const{menuItems:t}=e;return{MiniControlsComponent:()=>vd,HeaderComponent:()=>Ad,menuItems(){const n=t(),r=n.findIndex((e=>"Return to import form"===e.label));return n.splice(r,1),n.splice(2,0,e.isAnchor||e.isOverview?{label:"This view cannot be removed",icon:Nd,disabled:!0,onClick:()=>{}}:{label:"Remove view",icon:Nd,onClick:e.closeView},{label:"Add neighbouring view",icon:Ix,subMenu:[{label:"Add view above",icon:Dx,onClick:()=>{e.addView(!0)}},{label:"Add view below",icon:Ux,onClick:()=>{e.addView(!1)}}]}),n.splice(12,0,{label:"Show controls",icon:Ax,type:"checkbox",checked:!e.hideControls,onClick:e.toggleControls,disabled:!e.isVisible||e.isAnchor||e.isOverview},{label:"Hide view",icon:Ax,type:"checkbox",checked:!e.isVisible,onClick:e.toggleVisible,disabled:e.isOverview}),n}}})).views((e=>{const{rubberBandMenuItems:t}=e,n=t(),r=n.findIndex((e=>"Zoom to region"===e.label));return n.splice(r,1),{rubberBandMenuItems:()=>[{label:"Zoom to region",icon:Fe,onClick:()=>{const{leftOffset:t,rightOffset:n}=e;t&&n&&e.moveIfAnchor(t,n)}},...n]}}))}Ux=Fx.default=(0,Hx.default)((0,P.default.jsx)("path",{d:"M16 13h-3V3h-2v10H8l4 4zM4 19v2h16v-2z"}),"VerticalAlignBottom");const qx=u.observer((({model:e})=>{const t=i.getEnv(n.getSession(e)).pluginManager.getPlugin("LinearGenomeViewPlugin"),{LinearGenomeView:r}=t.exports;return M.default.createElement(r,{model:e})}));var Gx=({jbrequire:e})=>new(e("@jbrowse/core/pluggableElementTypes/ViewType"))({name:"LinearGenomeMultilevelView",stateModel:e(Vx),ReactComponent:qx,extendedName:"LinearGenomeView"}),Wx={},Jx={"text/plain":"Text","text/html":"Url",default:"Text"},Yx=function(e,t){var n,r,o,i,a,s,l=!1;t||(t={}),n=t.debug||!1;try{if(o=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}(),i=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){r.stopPropagation(),t.format&&(r.preventDefault(),void 0===r.clipboardData?(n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),window.clipboardData.setData(Jx[t.format]||Jx.default,e)):(r.clipboardData.clearData(),r.clipboardData.setData(t.format,e))),t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(o){n&&console.error("unable to copy using execCommand: ",o),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(o){n&&console.error("unable to copy using clipboardData: ",o),n&&console.error("falling back to prompt"),r=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return l},Zx={},Kx={},Xx={},Qx={},eE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Qx.encode=function(e){if(0<=e&&e<eE.length)return eE[e];throw new TypeError("Must be between 0 and 63: "+e)},Qx.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var tE=Qx;Xx.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=tE.encode(t)}while(r>0);return n},Xx.decode=function(e,t,n){var r,o,i,a,s=e.length,l=0,u=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=tE.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),l+=(o&=31)<<u,u+=5}while(r);n.value=(a=(i=l)>>1,1&~i?a:-a),n.rest=t};var nE={};!function(e){e.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function r(e){var n=e.match(t);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}e.urlParse=r,e.urlGenerate=o;var i=function(){var t=[];return function(n){for(var i=0;i<t.length;i++)if(t[i].input===n){var a=t[0];return t[0]=t[i],t[i]=a,t[0].result}var s=function(t){var n=t,i=r(t);if(i){if(!i.path)return t;n=i.path}for(var a=e.isAbsolute(n),s=[],l=0,u=0;;){if(-1===(u=n.indexOf("/",l=u))){s.push(n.slice(l));break}for(s.push(n.slice(l,u));u<n.length&&"/"===n[u];)u++}var c,f=0;for(u=s.length-1;u>=0;u--)"."===(c=s[u])?s.splice(u,1):".."===c?f++:f>0&&(""===c?(s.splice(u+1,f),f=0):(s.splice(u,2),f--));return""===(n=s.join("/"))&&(n=a?"/":"."),i?(i.path=n,o(i)):n}(n);return t.unshift({input:n,result:s}),t.length>32&&t.pop(),s}}();function a(e,t){""===e&&(e="."),""===t&&(t=".");var a=r(t),s=r(e);if(s&&(e=s.path||"/"),a&&!a.scheme)return s&&(a.scheme=s.scheme),o(a);if(a||t.match(n))return t;if(s&&!s.host&&!s.path)return s.host=t,o(s);var l="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=l,o(s)):l}e.normalize=i,e.join=a,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function l(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function c(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=s?l:function(e){return u(e)?"$"+e:e},e.fromSetString=s?l:function(e){return u(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,n){var r=c(e.source,t.source);return 0!==r||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:c(e.name,t.name)},e.compareByOriginalPositionsNoSource=function(e,t,n){var r;return 0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:c(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=c(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:c(e.name,t.name)},e.compareByGeneratedPositionsDeflatedNoLine=function(e,t,n){var r=e.generatedColumn-t.generatedColumn;return 0!==r||n||0!==(r=c(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:c(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=c(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:c(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var s=r(n);if(!s)throw new Error("sourceMapURL could not be parsed");if(s.path){var l=s.path.lastIndexOf("/");l>=0&&(s.path=s.path.substring(0,l+1))}t=a(o(s),t)}return i(t)}}(nE);var rE={},oE=nE,iE=Object.prototype.hasOwnProperty,aE="undefined"!=typeof Map;function sE(){this._array=[],this._set=aE?new Map:Object.create(null)}sE.fromArray=function(e,t){for(var n=new sE,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},sE.prototype.size=function(){return aE?this._set.size:Object.getOwnPropertyNames(this._set).length},sE.prototype.add=function(e,t){var n=aE?e:oE.toSetString(e),r=aE?this.has(e):iE.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(aE?this._set.set(e,o):this._set[n]=o)},sE.prototype.has=function(e){if(aE)return this._set.has(e);var t=oE.toSetString(e);return iE.call(this._set,t)},sE.prototype.indexOf=function(e){if(aE){var t=this._set.get(e);if(t>=0)return t}else{var n=oE.toSetString(e);if(iE.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},sE.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},sE.prototype.toArray=function(){return this._array.slice()},rE.ArraySet=sE;var lE={},uE=nE;function cE(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}cE.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},cE.prototype.add=function(e){var t,n,r,o;(o=(n=e).generatedLine)>(r=(t=this._last).generatedLine)||o==r&&n.generatedColumn>=t.generatedColumn||uE.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},cE.prototype.toArray=function(){return this._sorted||(this._array.sort(uE.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},lE.MappingList=cE;var fE=Xx,dE=nE,hE=rE.ArraySet,pE=lE.MappingList;function mE(e){e||(e={}),this._file=dE.getArg(e,"file",null),this._sourceRoot=dE.getArg(e,"sourceRoot",null),this._skipValidation=dE.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=dE.getArg(e,"ignoreInvalidMapping",!1),this._sources=new hE,this._names=new hE,this._mappings=new pE,this._sourcesContents=null}mE.prototype._version=3,mE.fromSourceMap=function(e,t){var n=e.sourceRoot,r=new mE(Object.assign(t||{},{file:e.file,sourceRoot:n}));return e.eachMapping((function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=dE.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),r.addMapping(t)})),e.sources.forEach((function(t){var o=t;null!==n&&(o=dE.relative(n,t)),r._sources.has(o)||r._sources.add(o);var i=e.sourceContentFor(t);null!=i&&r.setSourceContent(t,i)})),r},mE.prototype.addMapping=function(e){var t=dE.getArg(e,"generated"),n=dE.getArg(e,"original",null),r=dE.getArg(e,"source",null),o=dE.getArg(e,"name",null);(this._skipValidation||!1!==this._validateMapping(t,n,r,o))&&(null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o}))},mE.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=dE.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[dE.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[dE.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},mE.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=dE.relative(o,r));var i=new hE,a=new hE;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=n&&(t.source=dE.join(n,t.source)),null!=o&&(t.source=dE.relative(o,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var l=t.source;null==l||i.has(l)||i.add(l);var u=t.name;null==u||a.has(u)||a.add(u)}),this),this._sources=i,this._names=a,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=dE.join(n,t)),null!=o&&(t=dE.relative(o,t)),this.setSourceContent(t,r))}),this)},mE.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column){var o="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(o),!1;throw new Error(o)}if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n)){if(o="Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}),this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(o),!1;throw new Error(o)}},mE.prototype._serializeMappings=function(){for(var e,t,n,r,o=0,i=1,a=0,s=0,l=0,u=0,c="",f=this._mappings.toArray(),d=0,h=f.length;d<h;d++){if(e="",(t=f[d]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(d>0){if(!dE.compareByGeneratedPositionsInflated(t,f[d-1]))continue;e+=","}e+=fE.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=fE.encode(r-u),u=r,e+=fE.encode(t.originalLine-1-s),s=t.originalLine-1,e+=fE.encode(t.originalColumn-a),a=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=fE.encode(n-l),l=n)),c+=e}return c},mE.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=dE.relative(t,e));var n=dE.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},mE.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},mE.prototype.toString=function(){return JSON.stringify(this.toJSON())},Kx.SourceMapGenerator=mE;var gE={},vE={};!function(e){function t(n,r,o,i,a,s){var l=Math.floor((r-n)/2)+n,u=a(o,i[l],!0);return 0===u?l:u>0?r-l>1?t(l,r,o,i,a,s):s==e.LEAST_UPPER_BOUND?r<i.length?r:-1:l:l-n>1?t(n,l,o,i,a,s):s==e.LEAST_UPPER_BOUND?l:n<0?-1:n}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(n,r,o,i){if(0===r.length)return-1;var a=t(-1,r.length,n,r,o,i||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(r[a],r[a-1],!0);)--a;return a}}(vE);var yE={};function bE(e){function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}return function e(n,r,o,i){if(o<i){var a=o-1;t(n,(c=o,f=i,Math.round(c+Math.random()*(f-c))),i);for(var s=n[i],l=o;l<i;l++)r(n[l],s,!1)<=0&&t(n,a+=1,l);t(n,a+1,l);var u=a+1;e(n,r,o,u-1),e(n,r,u+1,i)}var c,f}}let wE=new WeakMap;yE.quickSort=function(e,t,n=0){let r=wE.get(t);void 0===r&&(r=function(e){let t=bE.toString();return new Function(`return ${t}`)()(e)}(t),wE.set(t,r)),r(e,t,n,e.length-1)};var _E=nE,xE=vE,EE=rE.ArraySet,kE=Xx,SE=yE.quickSort;function CE(e,t){var n=e;return"string"==typeof e&&(n=_E.parseSourceMapInput(e)),null!=n.sections?new OE(n,t):new PE(n,t)}function PE(e,t){var n=e;"string"==typeof e&&(n=_E.parseSourceMapInput(e));var r=_E.getArg(n,"version"),o=_E.getArg(n,"sources"),i=_E.getArg(n,"names",[]),a=_E.getArg(n,"sourceRoot",null),s=_E.getArg(n,"sourcesContent",null),l=_E.getArg(n,"mappings"),u=_E.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=_E.normalize(a)),o=o.map(String).map(_E.normalize).map((function(e){return a&&_E.isAbsolute(a)&&_E.isAbsolute(e)?_E.relative(a,e):e})),this._names=EE.fromArray(i.map(String),!0),this._sources=EE.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(e){return _E.computeSourceURL(a,e,t)})),this.sourceRoot=a,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=u}function TE(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}CE.fromSourceMap=function(e,t){return PE.fromSourceMap(e,t)},CE.prototype._version=3,CE.prototype.__generatedMappings=null,Object.defineProperty(CE.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),CE.prototype.__originalMappings=null,Object.defineProperty(CE.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),CE.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},CE.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},CE.GENERATED_ORDER=1,CE.ORIGINAL_ORDER=2,CE.GREATEST_LOWER_BOUND=1,CE.LEAST_UPPER_BOUND=2,CE.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||CE.GENERATED_ORDER){case CE.GENERATED_ORDER:r=this._generatedMappings;break;case CE.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var i=this.sourceRoot,a=e.bind(o),s=this._names,l=this._sources,u=this._sourceMapURL,c=0,f=r.length;c<f;c++){var d=r[c],h=null===d.source?null:l.at(d.source);null!==h&&(h=_E.computeSourceURL(i,h,u)),a({source:h,generatedLine:d.generatedLine,generatedColumn:d.generatedColumn,originalLine:d.originalLine,originalColumn:d.originalColumn,name:null===d.name?null:s.at(d.name)})}},CE.prototype.allGeneratedPositionsFor=function(e){var t=_E.getArg(e,"line"),n={source:_E.getArg(e,"source"),originalLine:t,originalColumn:_E.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",_E.compareByOriginalPositions,xE.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)r.push({line:_E.getArg(i,"generatedLine",null),column:_E.getArg(i,"generatedColumn",null),lastColumn:_E.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var s=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==s;)r.push({line:_E.getArg(i,"generatedLine",null),column:_E.getArg(i,"generatedColumn",null),lastColumn:_E.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},gE.SourceMapConsumer=CE,(PE.prototype=Object.create(CE.prototype)).consumer=CE,PE.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=_E.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},PE.fromSourceMap=function(e,t){var n=Object.create(PE.prototype),r=n._names=EE.fromArray(e._names.toArray(),!0),o=n._sources=EE.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return _E.computeSourceURL(n.sourceRoot,e,t)}));for(var i=e._mappings.toArray().slice(),a=n.__generatedMappings=[],s=n.__originalMappings=[],l=0,u=i.length;l<u;l++){var c=i[l],f=new TE;f.generatedLine=c.generatedLine,f.generatedColumn=c.generatedColumn,c.source&&(f.source=o.indexOf(c.source),f.originalLine=c.originalLine,f.originalColumn=c.originalColumn,c.name&&(f.name=r.indexOf(c.name)),s.push(f)),a.push(f)}return SE(n.__originalMappings,_E.compareByOriginalPositions),n},PE.prototype._version=3,Object.defineProperty(PE.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});const ME=_E.compareByGeneratedPositionsDeflatedNoLine;function AE(e,t){let n=e.length,r=e.length-t;if(!(r<=1))if(2==r){let n=e[t],r=e[t+1];ME(n,r)>0&&(e[t]=r,e[t+1]=n)}else if(r<20)for(let r=t;r<n;r++)for(let n=r;n>t;n--){let t=e[n-1],r=e[n];if(ME(t,r)<=0)break;e[n-1]=r,e[n]=t}else SE(e,ME,t)}function OE(e,t){var n=e;"string"==typeof e&&(n=_E.parseSourceMapInput(e));var r=_E.getArg(n,"version"),o=_E.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new EE,this._names=new EE;var i={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=_E.getArg(e,"offset"),r=_E.getArg(n,"line"),o=_E.getArg(n,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new CE(_E.getArg(e,"map"),t)}}))}PE.prototype._parseMappings=function(e,t){var n,r,o,i=1,a=0,s=0,l=0,u=0,c=0,f=e.length,d=0,h={},p=[],m=[];let g=0;for(;d<f;)if(";"===e.charAt(d))i++,d++,a=0,AE(m,g),g=m.length;else if(","===e.charAt(d))d++;else{for((n=new TE).generatedLine=i,o=d;o<f&&!this._charIsMappingSeparator(e,o);o++);for(e.slice(d,o),r=[];d<o;)kE.decode(e,d,h),d=h.rest,r.push(h.value);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");if(n.generatedColumn=a+r[0],a=n.generatedColumn,r.length>1&&(n.source=u+r[1],u+=r[1],n.originalLine=s+r[2],s=n.originalLine,n.originalLine+=1,n.originalColumn=l+r[3],l=n.originalColumn,r.length>4&&(n.name=c+r[4],c+=r[4])),m.push(n),"number"==typeof n.originalLine){let e=n.source;for(;p.length<=e;)p.push(null);null===p[e]&&(p[e]=[]),p[e].push(n)}}AE(m,g),this.__generatedMappings=m;for(var v=0;v<p.length;v++)null!=p[v]&&SE(p[v],_E.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...p)},PE.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return xE.search(e,t,o,i)},PE.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=Infinity}},PE.prototype.originalPositionFor=function(e){var t={generatedLine:_E.getArg(e,"line"),generatedColumn:_E.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",_E.compareByGeneratedPositionsDeflated,_E.getArg(e,"bias",CE.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=_E.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=_E.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=_E.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:_E.getArg(r,"originalLine",null),column:_E.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},PE.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},PE.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=_E.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=_E.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},PE.prototype.generatedPositionFor=function(e){var t=_E.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:_E.getArg(e,"line"),originalColumn:_E.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",_E.compareByOriginalPositions,_E.getArg(e,"bias",CE.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:_E.getArg(o,"generatedLine",null),column:_E.getArg(o,"generatedColumn",null),lastColumn:_E.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},gE.BasicSourceMapConsumer=PE,(OE.prototype=Object.create(CE.prototype)).constructor=CE,OE.prototype._version=3,Object.defineProperty(OE.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),OE.prototype.originalPositionFor=function(e){var t={generatedLine:_E.getArg(e,"line"),generatedColumn:_E.getArg(e,"column")},n=xE.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},OE.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},OE.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r||""===r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},OE.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(_E.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},OE.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],s=r.consumer._sources.at(a.source);null!==s&&(s=_E.computeSourceURL(r.consumer.sourceRoot,s,this._sourceMapURL)),this._sources.add(s),s=this._sources.indexOf(s);var l=null;a.name&&(l=r.consumer._names.at(a.name),this._names.add(l),l=this._names.indexOf(l));var u={source:s,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}SE(this.__generatedMappings,_E.compareByGeneratedPositionsDeflated),SE(this.__originalMappings,_E.compareByOriginalPositions)},gE.IndexedSourceMapConsumer=OE;var RE={},NE=Kx.SourceMapGenerator,IE=nE,LE=/(\r?\n)/,BE="$$$isSourceNode$$$";function jE(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[BE]=!0,null!=r&&this.add(r)}jE.fromStringWithSourceMap=function(e,t,n){var r=new jE,o=e.split(LE),i=0,a=function(){return e()+(e()||"");function e(){return i<o.length?o[i++]:void 0}},s=1,l=0,u=null;return t.eachMapping((function(e){if(null!==u){if(!(s<e.generatedLine)){var t=(n=o[i]||"").substr(0,e.generatedColumn-l);return o[i]=n.substr(e.generatedColumn-l),l=e.generatedColumn,c(u,t),void(u=e)}c(u,a()),s++,l=0}for(;s<e.generatedLine;)r.add(a()),s++;var n;l<e.generatedColumn&&(r.add((n=o[i]||"").substr(0,e.generatedColumn)),o[i]=n.substr(e.generatedColumn),l=e.generatedColumn),u=e}),this),i<o.length&&(u&&c(u,a()),r.add(o.splice(i).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=IE.join(n,e)),r.setSourceContent(e,o))})),r;function c(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?IE.join(n,e.source):e.source;r.add(new jE(e.originalLine,e.originalColumn,o,t,e.name))}}},jE.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[BE]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},jE.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[BE]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},jE.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[BE]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},jE.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},jE.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[BE]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},jE.prototype.setSourceContent=function(e,t){this.sourceContents[IE.toSetString(e)]=t},jE.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][BE]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(IE.fromSetString(r[t]),this.sourceContents[r[t]])},jE.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},jE.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new NE(e),r=!1,o=null,i=null,a=null,s=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(o===l.source&&i===l.line&&a===l.column&&s===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),o=l.source,i=l.line,a=l.column,s=l.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var u=0,c=e.length;u<c;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===c?(o=null,r=!1):r&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},RE.SourceNode=jE,Zx.SourceMapGenerator=Kx.SourceMapGenerator,Zx.SourceMapConsumer=gE.SourceMapConsumer,Zx.SourceNode=RE.SourceNode;var DE={},zE={},FE=V.exports.default;Object.defineProperty(zE,"__esModule",{value:!0}),zE.default=void 0;var $E=FE(Ye);zE.default=(0,$E.default)((0,P.default.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var UE={},HE={},VE=V.exports.default;Object.defineProperty(HE,"__esModule",{value:!0}),HE.default=void 0;var qE=VE(Ye);HE.default=(0,qE.default)((0,P.default.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");var GE={},WE=V.exports.default;Object.defineProperty(GE,"__esModule",{value:!0}),GE.default=void 0;var JE=WE(Ye);GE.default=(0,JE.default)((0,P.default.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report");var YE={},ZE=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YE,"__esModule",{value:!0}),YE.default=function({children:e}){const{classes:t}=XE();return KE.default.createElement("div",{className:t.bg},e)};const KE=ZE(M.default),XE=(0,R.default.makeStyles)()((e=>({bg:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:"dark"===e.palette.mode?"#833":"#f88",border:`1px solid ${e.palette.divider}`}})));var QE=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),ek=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tk=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&QE(t,e,n);return ek(t,e),t},nk=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(UE,"__esModule",{value:!0});const rk=tk(M.default),ok=nk(HE),ik=nk(GE),ak=N.default,sk=R.default,lk=nk(YE),uk=(0,rk.lazy)((()=>Promise.resolve().then((()=>tk(Wx))))),ck=(0,sk.makeStyles)()((e=>({bg:{background:e.palette.divider,border:"1px solid black",margin:20},iconFloat:{float:"right",marginLeft:100}})));function fk({error:e,onReset:t}){const{classes:n}=ck(),[r,o]=(0,rk.useState)(!1);return rk.default.createElement("div",{className:n.iconFloat},"object"==typeof e&&e&&"stack"in e?rk.default.createElement(ak.Tooltip,{title:"Get stack trace"},rk.default.createElement(ak.IconButton,{onClick:()=>{o(!0)},color:"primary"},rk.default.createElement(ik.default,null))):null,t?rk.default.createElement(ak.Tooltip,{title:"Retry"},rk.default.createElement(ak.IconButton,{onClick:t,color:"primary"},rk.default.createElement(ok.default,null))):null,r?rk.default.createElement(rk.Suspense,{fallback:null},rk.default.createElement(uk,{error:e,onClose:()=>{o(!1)}})):null)}UE.default=function({error:e,onReset:t}){const{classes:n}=ck(),r=`${e}`,o=r.indexOf("expected an instance of"),i=-1!==o?r.slice(0,o):r,a=function(e){let t="";const n=e.indexOf("is not assignable");if(-1!==n){const r=e.slice(0,n+17),o=/.*at path "(.*)" snapshot `(.*)` is not assignable/m.exec(r);o&&(e=`Failed to load element at ${o[1]}...Failed element had snapshot`,t=o[2]);const i=/.*snapshot `(.*)` is not assignable/.exec(r);i&&(e="Failed to load element...Failed element had snapshot",t=i[1])}return t}(r);return rk.default.createElement(lk.default,null,i.slice(0,1e4),rk.default.createElement(fk,{error:e,onReset:t}),a?rk.default.createElement("pre",{className:n.bg},JSON.stringify(JSON.parse(a),null,2)):null)};var dk={};const{entries:hk,setPrototypeOf:pk,isFrozen:mk,getPrototypeOf:gk,getOwnPropertyDescriptor:vk}=Object;let{freeze:yk,seal:bk,create:wk}=Object,{apply:_k,construct:xk}="undefined"!=typeof Reflect&&Reflect;yk||(yk=function(e){return e}),bk||(bk=function(e){return e}),_k||(_k=function(e,t,n){return e.apply(t,n)}),xk||(xk=function(e,t){return new e(...t)});const Ek=Bk(Array.prototype.forEach),kk=Bk(Array.prototype.pop),Sk=Bk(Array.prototype.push),Ck=Bk(String.prototype.toLowerCase),Pk=Bk(String.prototype.toString),Tk=Bk(String.prototype.match),Mk=Bk(String.prototype.replace),Ak=Bk(String.prototype.indexOf),Ok=Bk(String.prototype.trim),Rk=Bk(Object.prototype.hasOwnProperty),Nk=Bk(RegExp.prototype.test),Ik=(Lk=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xk(Lk,t)});var Lk;function Bk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return _k(e,t,r)}}function jk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ck;pk&&pk(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(mk(t)||(t[r]=e),o=e)}e[o]=!0}return e}function Dk(e){for(let t=0;t<e.length;t++)Rk(e,t)||(e[t]=null);return e}function zk(e){const t=wk(null);for(const[n,r]of hk(e))Rk(e,n)&&(t[n]=Array.isArray(r)?Dk(r):r&&"object"==typeof r&&r.constructor===Object?zk(r):r);return t}function Fk(e,t){for(;null!==e;){const n=vk(e,t);if(n){if(n.get)return Bk(n.get);if("function"==typeof n.value)return Bk(n.value)}e=gk(e)}return function(){return null}}const $k=yk(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Uk=yk(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hk=yk(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vk=yk(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qk=yk(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gk=yk(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Wk=yk(["#text"]),Jk=yk(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yk=yk(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zk=yk(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kk=yk(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xk=bk(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qk=bk(/<%[\w\W]*|[\w\W]*%>/gm),eS=bk(/\$\{[\w\W]*}/gm),tS=bk(/^data-[\-\w.\u00B7-\uFFFF]+$/),nS=bk(/^aria-[\-\w]+$/),rS=bk(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oS=bk(/^(?:\w+script|data):/i),iS=bk(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aS=bk(/^html$/i),sS=bk(/^[a-z][.\w]*(-[.\w]+)+$/i);var lS=Object.freeze({__proto__:null,ARIA_ATTR:nS,ATTR_WHITESPACE:iS,CUSTOM_ELEMENT:sS,DATA_ATTR:tS,DOCTYPE_NAME:aS,ERB_EXPR:Qk,IS_ALLOWED_URI:rS,IS_SCRIPT_OR_DATA:oS,MUSTACHE_EXPR:Xk,TMPLIT_EXPR:eS});const uS=function(){return"undefined"==typeof window?null:window};var cS=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uS();const n=t=>e(t);if(n.version="3.2.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:c,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:p}=t,m=u.prototype,g=Fk(m,"cloneNode"),v=Fk(m,"remove"),y=Fk(m,"nextSibling"),b=Fk(m,"childNodes"),w=Fk(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let _,x="";const{implementation:E,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:C}=r,{importNode:P}=o;let T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof hk&&"function"==typeof w&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:M,ERB_EXPR:A,TMPLIT_EXPR:O,DATA_ATTR:R,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:B}=lS;let{IS_ALLOWED_URI:j}=lS,D=null;const z=jk({},[...$k,...Uk,...Hk,...qk,...Wk]);let F=null;const $=jk({},[...Jk,...Yk,...Zk,...Kk]);let U=Object.seal(wk(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,V=null,q=!0,G=!0,W=!1,J=!0,Y=!1,Z=!0,K=!1,X=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!1,ie=!0,ae=!1,se={},le=null;const ue=jk({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ce=null;const fe=jk({},["audio","video","img","source","image","track"]);let de=null;const he=jk({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,ye=!1,be=null;const we=jk({},[pe,me,ge],Pk);let _e=jk({},["mi","mo","mn","ms","mtext"]),xe=jk({},["annotation-xml"]);const Ee=jk({},["title","style","font","a","script"]);let ke=null;const Se=["application/xhtml+xml","text/html"];let Ce=null,Pe=null;const Te=r.createElement("form"),Me=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Pe||Pe!==e){if(e&&"object"==typeof e||(e={}),e=zk(e),ke=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ce="application/xhtml+xml"===ke?Pk:Ck,D=Rk(e,"ALLOWED_TAGS")?jk({},e.ALLOWED_TAGS,Ce):z,F=Rk(e,"ALLOWED_ATTR")?jk({},e.ALLOWED_ATTR,Ce):$,be=Rk(e,"ALLOWED_NAMESPACES")?jk({},e.ALLOWED_NAMESPACES,Pk):we,de=Rk(e,"ADD_URI_SAFE_ATTR")?jk(zk(he),e.ADD_URI_SAFE_ATTR,Ce):he,ce=Rk(e,"ADD_DATA_URI_TAGS")?jk(zk(fe),e.ADD_DATA_URI_TAGS,Ce):fe,le=Rk(e,"FORBID_CONTENTS")?jk({},e.FORBID_CONTENTS,Ce):ue,H=Rk(e,"FORBID_TAGS")?jk({},e.FORBID_TAGS,Ce):{},V=Rk(e,"FORBID_ATTR")?jk({},e.FORBID_ATTR,Ce):{},se=!!Rk(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,W=e.ALLOW_UNKNOWN_PROTOCOLS||!1,J=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,j=e.ALLOWED_URI_REGEXP||rS,ve=e.NAMESPACE||ge,_e=e.MATHML_TEXT_INTEGRATION_POINTS||_e,xe=e.HTML_INTEGRATION_POINTS||xe,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Me(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Me(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(G=!1),te&&(ee=!0),se&&(D=jk({},Wk),F=[],!0===se.html&&(jk(D,$k),jk(F,Jk)),!0===se.svg&&(jk(D,Uk),jk(F,Yk),jk(F,Kk)),!0===se.svgFilters&&(jk(D,Hk),jk(F,Yk),jk(F,Kk)),!0===se.mathMl&&(jk(D,qk),jk(F,Zk),jk(F,Kk))),e.ADD_TAGS&&(D===z&&(D=zk(D)),jk(D,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(F===$&&(F=zk(F)),jk(F,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&jk(de,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ue&&(le=zk(le)),jk(le,e.FORBID_CONTENTS,Ce)),ie&&(D["#text"]=!0),K&&jk(D,["html","head","body"]),D.table&&(jk(D,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ik('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ik('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=e.TRUSTED_TYPES_POLICY,x=_.createHTML("")}else void 0===_&&(_=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(p,i)),null!==_&&"string"==typeof x&&(x=_.createHTML(""));yk&&yk(e),Pe=e}},Oe=jk({},[...Uk,...Hk,...Vk]),Re=jk({},[...qk,...Gk]),Ne=function(e){Sk(n.removed,{element:e});try{w(e).removeChild(e)}catch(t){v(e)}},Ie=function(e,t){try{Sk(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Sk(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ne(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Le=function(e){let t=null,n=null;if(Q)e="<remove></remove>"+e;else{const t=Tk(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=_?_.createHTML(e):e;if(ve===ge)try{t=(new h).parseFromString(o,ke)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ye?x:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ve===ge?C.call(t,K?"html":"body")[0]:K?t.documentElement:i},Be=function(e){return k.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},je=function(e){return e instanceof d&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},De=function(e){return"function"==typeof l&&e instanceof l};function ze(e,t,r){Ek(e,(e=>{e.call(n,t,r,Pe)}))}const Fe=function(e){let t=null;if(ze(T.beforeSanitizeElements,e,null),je(e))return Ne(e),!0;const r=Ce(e.nodeName);if(ze(T.uponSanitizeElement,e,{tagName:r,allowedTags:D}),e.hasChildNodes()&&!De(e.firstElementChild)&&Nk(/<[/\w]/g,e.innerHTML)&&Nk(/<[/\w]/g,e.textContent))return Ne(e),!0;if(7===e.nodeType)return Ne(e),!0;if(Z&&8===e.nodeType&&Nk(/<[/\w]/g,e.data))return Ne(e),!0;if(!D[r]||H[r]){if(!H[r]&&Ue(r)){if(U.tagNameCheck instanceof RegExp&&Nk(U.tagNameCheck,r))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(r))return!1}if(ie&&!le[r]){const t=w(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const o=g(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,y(e))}}return Ne(e),!0}return e instanceof u&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=Ck(e.tagName),r=Ck(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===r||_e[r]):Boolean(Oe[n]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&xe[r]:Boolean(Re[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!xe[r])&&!(t.namespaceURI===pe&&!_e[r])&&!Re[n]&&(Ee[n]||!Oe[n]):!("application/xhtml+xml"!==ke||!be[e.namespaceURI]))}(e)?(Ne(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Nk(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,Ek([M,A,O],(e=>{t=Mk(t,e," ")})),e.textContent!==t&&(Sk(n.removed,{element:e.cloneNode()}),e.textContent=t)),ze(T.afterSanitizeElements,e,null),!1):(Ne(e),!0)},$e=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Te))return!1;if(G&&!V[t]&&Nk(R,t));else if(q&&Nk(N,t));else if(!F[t]||V[t]){if(!(Ue(e)&&(U.tagNameCheck instanceof RegExp&&Nk(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&Nk(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&Nk(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(de[t]);else if(Nk(j,Mk(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ak(n,"data:")||!ce[e])if(W&&!Nk(I,Mk(n,L,"")));else if(n)return!1;return!0},Ue=function(e){return"annotation-xml"!==e&&Tk(e,B)},He=function(e){ze(T.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||je(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:l}=i,u=Ce(a);let c="value"===a?l:Ok(l);if(r.attrName=u,r.attrValue=c,r.keepAttr=!0,r.forceKeepAttr=void 0,ze(T.uponSanitizeAttribute,e,r),c=r.attrValue,!oe||"id"!==u&&"name"!==u||(Ie(a,e),c="user-content-"+c),Z&&Nk(/((--!?|])>)|<\/(style|title)/i,c)){Ie(a,e);continue}if(r.forceKeepAttr)continue;if(Ie(a,e),!r.keepAttr)continue;if(!J&&Nk(/\/>/i,c)){Ie(a,e);continue}Y&&Ek([M,A,O],(e=>{c=Mk(c,e," ")}));const f=Ce(e.nodeName);if($e(f,u,c)){if(_&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(s);else switch(p.getAttributeType(f,u)){case"TrustedHTML":c=_.createHTML(c);break;case"TrustedScriptURL":c=_.createScriptURL(c)}try{s?e.setAttributeNS(s,a,c):e.setAttribute(a,c),je(e)?Ne(e):kk(n.removed)}catch(e){}}}ze(T.afterSanitizeAttributes,e,null)},Ve=function e(t){let n=null;const r=Be(t);for(ze(T.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)ze(T.uponSanitizeShadowNode,n,null),Fe(n),He(n),n.content instanceof a&&e(n.content);ze(T.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,u=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!De(e)){if("function"!=typeof e.toString)throw Ik("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ik("dirty is not a string, aborting")}if(!n.isSupported)return e;if(X||Ae(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Ce(e.nodeName);if(!D[t]||H[t])throw Ik("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Le("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return _&&ne?_.createHTML(e):e;if(r=Le(e),!r)return ee?null:ne?x:""}r&&Q&&Ne(r.firstChild);const c=Be(ae?e:r);for(;s=c.nextNode();)Fe(s),He(s),s.content instanceof a&&Ve(s.content);if(ae)return e;if(ee){if(te)for(u=S.call(r.ownerDocument);r.firstChild;)u.appendChild(r.firstChild);else u=r;return(F.shadowroot||F.shadowrootmode)&&(u=P.call(o,u,!0)),u}let f=K?r.outerHTML:r.innerHTML;return K&&D["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Nk(aS,r.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+f),Y&&Ek([M,A,O],(e=>{f=Mk(f,e," ")})),_&&ne?_.createHTML(f):f},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},n.clearConfig=function(){Pe=null,X=!1},n.isValidAttribute=function(e,t,n){Pe||Ae({});const r=Ce(e),o=Ce(t);return $e(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&Sk(T[e],t)},n.removeHook=function(e){return kk(T[e])},n.removeHooks=function(e){T[e]=[]},n.removeAllHooks=function(){T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),fS=cS,dS=/["'&<>]/,hS=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dk,"__esModule",{value:!0}),dk.default=function({html:e,className:t}){const n=(0,vS.linkify)(e),r=bS.test(n)?n:(0,gS.default)(n);return yS||(yS=!0,mS.default.addHook("afterSanitizeAttributes",(e=>{"A"===e.tagName&&(e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"))}))),pS.default.createElement("span",{className:t,dangerouslySetInnerHTML:{__html:mS.default.sanitize(r)}})};const pS=hS(M.default),mS=hS(fS),gS=hS((function(e){var t,n=""+e,r=dS.exec(n);if(!r)return n;var o="",i=0,a=0;for(i=r.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==i&&(o+=n.substring(a,i)),a=i+1,o+=t}return a!==i?o+n.substring(a,i):o})),vS=Yt;let yS=!1;const bS=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","sup","sub","td","tfoot","th","thead","tr","u","ul"].map((e=>`<${e}\\b[^>]*>`)).join("|"),"i");var wS=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DE,"__esModule",{value:!0});const _S=wS(M.default),xS=Zy,ES=wS(zE),kS=N.default,SS=O.default,CS=R.default,PS=wS(UE),TS=wS(dk),MS=(0,CS.makeStyles)()((e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})));function AS({error:e}){return _S.default.createElement("div",{style:{width:800,margin:40}},_S.default.createElement(PS.default,{error:e}))}const OS=(0,SS.observer)((function(e){const{classes:t}=MS(),{title:n,header:r,children:o,onClose:i}=e,a=(0,kS.useTheme)();return _S.default.createElement(kS.Dialog,{...e},_S.default.createElement(kS.ScopedCssBaseline,null,_S.default.isValidElement(r)?r:_S.default.createElement(kS.DialogTitle,null,_S.default.createElement(TS.default,{html:n||""}),i?_S.default.createElement(kS.IconButton,{className:t.closeButton,onClick:()=>{i()}},_S.default.createElement(ES.default,null)):null),_S.default.createElement(kS.Divider,null),_S.default.createElement(xS.ErrorBoundary,{FallbackComponent:AS},_S.default.createElement(kS.ThemeProvider,{theme:(0,kS.createTheme)(a,{components:{MuiInputBase:{styleOverrides:{input:{boxSizing:"content-box!important"}}}}})},o))))}));DE.default=OS;var RS={},NS={},IS={},LS={},BS={};Object.defineProperty(BS,"__esModule",{value:!0}),BS.assert=void 0,BS.assert=function(e,t){if(!e)throw new Error(t)};var jS={};Object.defineProperty(jS,"__esModule",{value:!0}),jS.typeGuard=void 0,jS.typeGuard=function(e,t){return t},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.classnames=void 0;const t=BS,n=jS;e.classnames=r=>{const o=r.length;let i=0,a="";for(;i<o;i++){const o=r[i];if(null==o)continue;let s;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=(0,e.classnames)(o);else{(0,t.assert)(!(0,n.typeGuard)(o,!1)),"production"!==Pl.env.NODE_ENV&&void 0!==o.styles&&void 0!==o.name&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),s="";for(const e in o)o[e]&&e&&(s&&(s+=" "),s+=e)}break;default:s=o}s&&(a&&(a+=" "),a+=s)}return a}}(LS);var DS=U(nx),zS=U(U_),FS={};Object.defineProperty(FS,"__esModule",{value:!0}),FS.useGuaranteedMemo=void 0;const $S=M.default;FS.useGuaranteedMemo=function(e,t){const n=(0,$S.useRef)();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map(((e,n)=>e===t[n])).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v};var US={},HS=U(e_),VS=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),qS=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GS=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&VS(t,e,n);return qS(t,e),t},WS=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(US,"__esModule",{value:!0}),US.TssCacheProvider=US.useTssEmotionCache=US.getTssDefaultEmotionCache=US.getDoExistsTssDefaultEmotionCacheMemoizedValue=void 0;const JS=GS(M.default),YS=WS(HS),{getDoExistsTssDefaultEmotionCacheMemoizedValue:ZS,getTssDefaultEmotionCache:KS,reactContext:XS}=(()=>{const e=JS.createContext;let t=e["__tss-react_context"];if(void 0===t){const{getTssDefaultEmotionCache:n,getDoExistsTssDefaultEmotionCacheMemoizedValue:r}=(()=>{let e;return{getTssDefaultEmotionCache:function(t){const{doReset:n=!1}=null!=t?t:{};return n&&(e=void 0),void 0===e&&(e=(0,YS.default)({key:"tss"})),e},getDoExistsTssDefaultEmotionCacheMemoizedValue:()=>void 0!==e}})();t={getTssDefaultEmotionCache:n,getDoExistsTssDefaultEmotionCacheMemoizedValue:r,reactContext:(0,JS.createContext)(void 0)},Object.defineProperty(e,"__tss-react_context",{configurable:!1,enumerable:!1,writable:!1,value:t})}return t})();US.getDoExistsTssDefaultEmotionCacheMemoizedValue=ZS,US.getTssDefaultEmotionCache=KS,US.useTssEmotionCache=function(){const e=(0,JS.useContext)(XS);return null!=e?e:KS()},US.TssCacheProvider=function(e){const{children:t,value:n}=e;return JS.default.createElement(XS.Provider,{value:n},t)};var QS={};Object.defineProperty(QS,"__esModule",{value:!0}),QS.matchCSSObject=void 0,QS.matchCSSObject=function(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useCssAndCx=e.createCssAndCx=void 0;const t=LS,n=DS,r=zS,o=FS,i=US,a=QS;e.createCssAndCx=function(e){const{cache:o}=e,i=(...e)=>{const t=(0,n.serializeStyles)(e,o.registered);(0,r.insertStyles)(o,t,!1);const i=`${o.key}-${t.name}`;{const t=e[0];(0,a.matchCSSObject)(t)&&s.saveClassNameCSSObjectMapping(o,i,t)}return i};return{css:i,cx:(...e)=>{const n=(0,t.classnames)(e),a=s.fixClassName(o,n,i);return function(e,t,n){const o=[],i=(0,r.getRegisteredStyles)(e,o,n);return o.length<2?n:i+t(o)}(o.registered,i,a)}}},e.useCssAndCx=function(){const t=(0,i.useTssEmotionCache)(),{css:n,cx:r}=(0,o.useGuaranteedMemo)((()=>(0,e.createCssAndCx)({cache:t})),[t]);return{css:n,cx:r}};const s=(()=>{const e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,n,r)=>{let o=e.get(t);void 0===o&&(o=new Map,e.set(t,o)),o.set(n,r)},fixClassName:(n,r,o)=>{const i=e.get(n);return(0,t.classnames)(function(e){let t=!1;return e.map((([e,n])=>{if(void 0===n)return e;let r;if(t)r={"&&":n};else{r=e;for(const e in n)if(e.startsWith("@media")){t=!0;break}}return r}))}(r.split(" ").map((e=>[e,null==i?void 0:i.get(e)]))).map((e=>"string"==typeof e?e:o(e))))}}})()}(IS);var eC={},tC={};Object.defineProperty(tC,"__esModule",{value:!0}),tC.objectKeys=void 0,tC.objectKeys=function(e){return Object.keys(e)};var nC={};Object.defineProperty(nC,"__esModule",{value:!0}),nC.getDependencyArrayRef=void 0,nC.getDependencyArrayRef=function(e){if(!(e instanceof Object)||"function"==typeof e)return e;const t=[];for(const n in e){const r=e[n],o=typeof r;if("string"!==o&&("number"!==o||isNaN(r))&&"boolean"!==o&&null!=r)return e;t.push(`${n}:${o}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")},Object.defineProperty(eC,"__esModule",{value:!0}),eC.useMergedClasses=eC.mergeClasses=void 0;const rC=tC,oC=nC,iC=IS,aC=M.default;function sC(e,t,n){if(!(t instanceof Object))return e;const r={};return(0,rC.objectKeys)(e).forEach((o=>r[o]=n(e[o],t[o]))),(0,rC.objectKeys)(t).forEach((n=>{if(n in e)return;const o=t[n];"string"==typeof o&&(r[n]=o)})),r}eC.mergeClasses=sC,eC.useMergedClasses=function(e,t){const{cx:n}=(0,iC.useCssAndCx)();return(0,aC.useMemo)((()=>sC(e,t,n)),[e,(0,oC.getDependencyArrayRef)(t),n])};var lC={},uC={};Object.defineProperty(uC,"__esModule",{value:!0}),uC.objectFromEntries=void 0,uC.objectFromEntries=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach((n=>{const[r,o]=e[n];t[r]=o})),t},Object.defineProperty(lC,"__esModule",{value:!0}),lC.createMakeStyles=void 0;const cC=M.default,fC=uC,dC=tC,hC=IS,pC=nC,mC=jS,gC=US,vC=BS,yC=eC;let bC=0;lC.createMakeStyles=function(e){const{useTheme:t}=e;return{makeStyles:function(e){const{name:n,uniqId:r=bC++}=null!=e?e:{},o="object"!=typeof n?n:Object.keys(n)[0];return function(e){const n="function"==typeof e?e:()=>e;return function(e,i){var a,s;const l=t(),{css:u,cx:c}=(0,hC.useCssAndCx)(),f=(0,gC.useTssEmotionCache)();let d=(0,cC.useMemo)((()=>{const t={},i="undefined"!=typeof Proxy&&new Proxy({},{get:(e,n)=>("symbol"==typeof n&&(0,vC.assert)(!1),t[n]=`${f.key}-${r}${void 0!==o?`-${o}`:""}-${n}-ref`)}),a=n(l,e,i||{}),s=(0,fC.objectFromEntries)((0,dC.objectKeys)(a).map((e=>{const n=a[e];return n.label||(n.label=`${void 0!==o?`${o}-`:""}${e}`),[e,`${u(n)}${(0,mC.typeGuard)(e,e in t)?` ${t[e]}`:""}`]})));return(0,dC.objectKeys)(t).forEach((e=>{e in s||(s[e]=t[e])})),s}),[f,u,c,l,(0,pC.getDependencyArrayRef)(e)]);const h=null==i?void 0:i.props.classes;d=(0,cC.useMemo)((()=>(0,yC.mergeClasses)(d,h,c)),[d,(0,pC.getDependencyArrayRef)(h),c]);{let e;try{e=void 0!==o?null===(s=null===(a=l.components)||void 0===a?void 0:a[o])||void 0===s?void 0:s.styleOverrides:void 0}catch(e){}const t=(0,cC.useMemo)((()=>{if(!e)return;const t={};for(const n in e){const r=e[n];r instanceof Object&&(t[n]=u("function"==typeof r?r(Object.assign({theme:l,ownerState:null==i?void 0:i.ownerState},null==i?void 0:i.props)):r))}return t}),[void 0===e?void 0:JSON.stringify(e),(0,pC.getDependencyArrayRef)(null==i?void 0:i.props),(0,pC.getDependencyArrayRef)(null==i?void 0:i.ownerState),u]);d=(0,cC.useMemo)((()=>(0,yC.mergeClasses)(d,t,c)),[d,t,c])}return{classes:d,theme:l,css:u,cx:c}}}},useStyles:function(){const e=t(),{css:n,cx:r}=(0,hC.useCssAndCx)();return{theme:e,css:n,cx:r}}}};var wC={},_C={};Object.defineProperty(_C,"__esModule",{value:!0}),_C.capitalize=void 0,_C.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var xC=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),EC=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kC=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&xC(t,e,n);return EC(t,e),t},SC=$&&$.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(wC,"__esModule",{value:!0}),wC.createWithStyles=void 0;const CC=kC(M.default),PC=lC,TC=_C;function MC(e){const t={},n={};return Object.keys(e).forEach((r=>(r.startsWith("@media")?n:t)[r]=e[r])),Object.keys(n).forEach((e=>{const r=n[e];Object.keys(r).forEach((n=>{var o;return t[n]=Object.assign(Object.assign({},null!==(o=t[n])&&void 0!==o?o:{}),{[e]:r[n]})}))})),t}wC.createWithStyles=function(e){const{useTheme:t}=e,{makeStyles:n}=(0,PC.createMakeStyles)({useTheme:t});return{withStyles:function(e,t,r){const o="string"==typeof e?(()=>{const t=e,n=function(e){var{children:n}=e,r=SC(e,["children"]);return(0,CC.createElement)(t,r,n)};return Object.defineProperty(n,"name",{value:(0,TC.capitalize)(t)}),n})():e,i=(()=>{const{name:e}=o;return"string"==typeof e?e:void 0})(),a=n(r)("function"==typeof t?(e,n,r)=>MC(t(e,n,r)):MC(t)),s=(0,CC.forwardRef)((function(t,n){const{className:r}=t,i=SC(t,["className","classes"]),{classes:s,cx:l}=a(t,{props:t});return CC.default.createElement(o,Object.assign({ref:n,className:l(s.root,r)},"string"==typeof e?{}:{classes:s},i))}));return void 0!==i&&Object.defineProperty(s,"name",{value:`${i}WithStyles`}),s}}};var AC=U(Ex),OC={},RC=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),NC=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IC=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&RC(t,e,n);return NC(t,e),t},LC=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OC,"__esModule",{value:!0}),OC.GlobalStyles=void 0;const BC=LC(M.default),jC=IC(AC);OC.GlobalStyles=function(e){const{styles:t}=e;return BC.default.createElement(jC.Global,{styles:jC.css(t)})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMakeAndWithStyles=e.TssCacheProvider=e.getTssDefaultEmotionCache=e.GlobalStyles=e.keyframes=e.createWithStyles=e.createMakeStyles=e.useMergedClasses=e.useCssAndCx=void 0;var t=IS;Object.defineProperty(e,"useCssAndCx",{enumerable:!0,get:function(){return t.useCssAndCx}});var n=eC;Object.defineProperty(e,"useMergedClasses",{enumerable:!0,get:function(){return n.useMergedClasses}});const r=lC;Object.defineProperty(e,"createMakeStyles",{enumerable:!0,get:function(){return r.createMakeStyles}});const o=wC;Object.defineProperty(e,"createWithStyles",{enumerable:!0,get:function(){return o.createWithStyles}});var i=AC;Object.defineProperty(e,"keyframes",{enumerable:!0,get:function(){return i.keyframes}});var a=OC;Object.defineProperty(e,"GlobalStyles",{enumerable:!0,get:function(){return a.GlobalStyles}});var s=US;Object.defineProperty(e,"getTssDefaultEmotionCache",{enumerable:!0,get:function(){return s.getTssDefaultEmotionCache}}),Object.defineProperty(e,"TssCacheProvider",{enumerable:!0,get:function(){return s.TssCacheProvider}}),e.createMakeAndWithStyles=function(e){return Object.assign(Object.assign({},(0,r.createMakeStyles)(e)),(0,o.createWithStyles)(e))}}(NS);var DC=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RS,"__esModule",{value:!0}),RS.default=function({message:e,variant:t="body2",...n}){const{cx:r,classes:o}=UC();return zC.default.createElement(FC.Typography,{className:r(o.dots,n.className),...n,variant:t},e||"Loading")};const zC=DC(M.default),FC=N.default,$C=NS,UC=(0,R.default.makeStyles)()({dots:{"&::after":{display:"inline-block",content:'""',width:"1em",textAlign:"left",animation:`${$C.keyframes`
      0% {
        content: '';
      }
      25% {
          content: '.';
      }
      50% {
        content: '..';
      }
      75% {
        content: '...';
      }
      `} 1.2s infinite ease-in-out`}}});var HC=$&&$.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),VC=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qC=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&HC(t,e,n);return VC(t,e),t},GC=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wx,"__esModule",{value:!0});var WC=Wx.default=function({error:e,onClose:t,extra:n}){const[r,o]=(0,JC.useState)(),[i,a]=(0,JC.useState)(),[s,l]=(0,JC.useState)(!1),u=e?`${e}`:"",c=function(e,t){return e.startsWith("Error:")?e.slice(`${t}`.length):e}(`${"object"==typeof e&&null!==e&&"stack"in e?e.stack:""}`,u);(0,JC.useEffect)((()=>{(async()=>{try{const e=await async function(e){const t=e.split("\n"),n=[];for(const e of t){const t=new RegExp(/(.*)(https?:\/\/.*):(\d+):(\d+)/).exec(e);if(null===t){n.push(e);continue}const r=t[2],o=(await oP(r)).originalPositionFor({line:Number.parseInt(t[3]),column:Number.parseInt(t[4])});n.push(o.source&&o.line&&o.column?`${o.source}:${o.line}:${o.column+1} (${t[1].trim()})`:e)}return n.join("\n")}(c);o(e)}catch(e){console.error(e),o(c),a(e)}})()}),[c]);const f=[i?"Error loading source map, showing raw stack trace below:":"",u.length>iP?`${u.slice(0,iP)}...`:u,r||"No stack trace available",window.JBrowseSession?`JBrowse ${window.JBrowseSession.version}`:""].filter((e=>!!e)).join("\n");return JC.default.createElement(QC.default,{open:!0,onClose:t,title:"Stack trace",maxWidth:"xl"},JC.default.createElement(YC.DialogContent,null,void 0===r?JC.default.createElement(eP.default,{variant:"h6"}):JC.default.createElement(sP,{text:f,extra:n})),JC.default.createElement(YC.DialogActions,null,JC.default.createElement(YC.Button,{variant:"contained",color:"secondary",onClick:()=>{(0,ZC.default)(f),l(!0),setTimeout((()=>{l(!1)}),1e3)}},s?"Copied!":"Copy stack trace to clipboard"),JC.default.createElement(YC.Button,{variant:"contained",color:"primary",onClick:t},"Close")))};const JC=qC(M.default),YC=N.default,ZC=GC(Yx),KC=Zx,XC=R.default,QC=GC(DE),eP=GC(RS);function tP({href:e,children:t}){return JC.default.createElement(YC.Link,{target:"_blank",href:e},t)}async function nP(e){const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status} fetching ${e}: ${await t.text()}`);return t}const rP={};async function oP(e){var t;if(void 0!==rP[e])return rP[e];const n=new URL(e).search,r=await async function(e){return(await nP(e)).text()}(e);let o=(null===(t=new RegExp(/\/\/# sourceMappingURL=(.*)/).exec(r))||void 0===t?void 0:t[1])||"";o=new URL(o,e).href+n;const i=await async function(e){return(await nP(e)).json()}(o),a=new KC.SourceMapConsumer(i);return rP[e]=a,a}const iP=1e4,aP=(0,XC.makeStyles)()((e=>({pre:{background:(0,YC.alpha)(e.palette.error.main,.2),border:`1px solid ${e.palette.divider}`,overflow:"auto",margin:20,maxHeight:300}})));function sP({text:e,extra:t}){const{classes:n}=aP(),r=encodeURIComponent(`${["I got this error from JBrowse, here is the stack trace:\n","```",e,"```",t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join("\n")}\n`),o=[e,t?`supporting data: ${JSON.stringify(t,null,2)}`:""].join("\n"),i="jbrowse2@berkeley.edu",a=`mailto:${i}?subject=JBrowse%202%20error&body=${r}`;return JC.default.createElement(JC.default.Fragment,null,JC.default.createElement(YC.Typography,null,"Post a new issue at ",JC.default.createElement(tP,{href:`https://github.com/GMOD/jbrowse-components/issues/new?labels=bug&title=JBrowse+issue&body=${r}`},"GitHub")," or send an email to ",JC.default.createElement(tP,{href:a},i)," "),JC.default.createElement("pre",{className:n.pre},o))}var lP=r.createSvgIcon(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),uP=r.createSvgIcon(o.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report"),cP={__proto__:null,default:u.observer((function({model:e}){return M.default.createElement(Gd,{message:`${e.error}`,severity:"error",action:M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Tooltip,{title:"Reload track"},M.default.createElement(f.IconButton,{"data-testid":"reload_button",onClick:()=>{e.reload()}},M.default.createElement(lP,null))),M.default.createElement(f.Tooltip,{title:"Show stack trace"},M.default.createElement(f.IconButton,{onClick:()=>{n.getSession(e).queueDialog((t=>[WC,{onClose:t,error:e.error}]))}},M.default.createElement(uP,null))))})}))},fP={__proto__:null,renderBaseLinearDisplaySvg:async function(e,t){const{height:r,id:o}=e,{overrideHeight:i}=t,a=n.getContainingView(e),{offsetPx:s,roundedDynamicBlocks:l,width:u}=a,c=await Promise.all(l.map((async r=>{const o=Xd.create({key:r.key,region:r}),i=e.regionCannotBeRenderedText(r)||e.regionCannotBeRendered(r);if(i)return[r,{reactElement:M.default.createElement(M.default.Fragment,null,M.default.createElement("rect",{x:0,y:0,width:u,height:20,fill:"#aaa"}),M.default.createElement("text",{x:0,y:15},i))}];const{rpcManager:a,renderArgs:s,renderProps:l,rendererType:c}=Qd(o,e);return[r,await c.renderInClient(a,{...s,...l,viewParams:n.getViewParams(e,!0),exportSVG:t,theme:t.theme||l.theme})]})));return M.default.createElement(M.default.Fragment,null,c.map((([e,t],a)=>{const{offsetPx:l,widthPx:u}=e,c=l-s,f=function(e,t){const n="undefined"==typeof jest;return["clip",n?e:"jest",t,n?Math.random():""].filter((e=>!!e)).join("-")}(o,a);return M.default.createElement(M.default.Fragment,{key:`frag-${a}`},M.default.createElement("defs",null,M.default.createElement("clipPath",{id:f},M.default.createElement("rect",{x:0,y:0,width:u,height:i||r}))),M.default.createElement("g",{transform:`translate(${c} 0)`},M.default.createElement("g",{clipPath:`url(#${f})`},M.default.createElement(n.ReactRendering,{rendering:t}))))})))}};const dP=c.makeStyles()({root:{width:500}}),hP=u.observer((function({model:e,handleClose:t}){const{classes:n}=dP(),{maxHeight:r=""}=e,[o,i]=l.useState(`${r}`),s=""!==o&&!Number.isNaN(+o);return M.default.createElement(a.Dialog,{open:!0,onClose:t,title:"Set max height"},M.default.createElement(f.DialogContent,{className:n.root},M.default.createElement(f.Typography,null,'Set max height for the track. For example, you can increase this if the layout says "Max height reached"'),M.default.createElement(f.TextField,{value:o,onChange:e=>{i(e.target.value)},placeholder:"Enter max score"}),s?null:M.default.createElement("div",{style:{color:"red"}},"Invalid number")),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!s,onClick:()=>{e.setMaxHeight(+o),t()}},"Submit"),M.default.createElement(f.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))}));var pP={__proto__:null,default:hP};const mP=c.makeStyles()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},error:{color:"red",fontSize:"0.8em"}}),gP=u.observer((function({model:e,handleClose:t}){const{classes:n}=mP(),{activeFilters:r}=e,[o,i]=l.useState(r.join("\n")),[s,u]=l.useState();return l.useEffect((()=>{try{o.split("\n").map((e=>e.trim())).filter((e=>!!e)).map((e=>{!function(e){as(e)}(e.trim())})),u(void 0)}catch(e){console.error(e),u(e)}}),[o]),M.default.createElement(a.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Add track filters"},M.default.createElement(f.DialogContent,null,M.default.createElement("div",null,"Add filters, in jexl format, one per line, starting with the string jexl:. Examples:"," ",M.default.createElement("ul",null,M.default.createElement("li",null,M.default.createElement("code",null,"jexl:get(feature,'name')=='BRCA1'")," - show only feature where the name attribute is BRCA1"),M.default.createElement("li",null,M.default.createElement("code",null,"jexl:get(feature,'type')=='gene'")," - show only gene type features in a GFF that has many other feature types"),M.default.createElement("li",null,M.default.createElement("code",null,"jexl:get(feature,'score') > 400")," - show only features that have a score greater than 400"))),s?M.default.createElement("p",{className:n.error},`${s}`):null,M.default.createElement(f.TextField,{variant:"outlined",multiline:!0,minRows:5,maxRows:10,className:n.dialogContent,fullWidth:!0,value:o,onChange:e=>{i(e.target.value)},slotProps:{input:{classes:{input:n.textAreaFont}}}})),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,disabled:!!s,onClick:()=>{e.setJexlFilters(o.split("\n")),t()}},"Submit"),M.default.createElement(f.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))}));var vP={__proto__:null,default:gP},yP={__proto__:null,default:function({handleClose:e}){return M.default.createElement(a.Dialog,{open:!0,maxWidth:"xl",onClose:e,title:"Using the search box"},M.default.createElement(f.DialogContent,null,M.default.createElement("h3",null,"Searching"),M.default.createElement("ul",null,M.default.createElement("li",null,"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."),M.default.createElement("li",null,"Jump to a specific region by typing the region into the location box as: ",M.default.createElement("code",null,"ref:start..end")," or ",M.default.createElement("code",null,"ref:start-end"),". Commas are allowed in the start and end coordinates. A space-separated list of locstrings can be used to open up multiple chromosomes at a time")),M.default.createElement("h3",null,"Example Searches"),M.default.createElement("ul",null,M.default.createElement("li",null,M.default.createElement("code",null,"BRCA")," - searches for the feature named BRCA"),M.default.createElement("li",null,M.default.createElement("code",null,"chr4")," - jumps to chromosome 4"),M.default.createElement("li",null,M.default.createElement("code",null,"chr4:79,500,000..80,000,000")," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."),M.default.createElement("li",null,M.default.createElement("code",null,"chr1:1-100 chr2:1-100")," - create a split view of chr1:1-100 and chr2:1-100"),M.default.createElement("li",null,M.default.createElement("code",null,"chr1 chr2 chr3")," - open up multiple chromosomes at once"),M.default.createElement("li",null,M.default.createElement("code",null,"chr1:1-100[rev] chr2:1-100")," - open up the first region in the horizontally flipped orientation"),M.default.createElement("li",null,M.default.createElement("code",null,"chr1 100 200")," - use whitespace separated refname, start, end"))),M.default.createElement(f.Divider,null),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{onClick:()=>{e()},color:"primary"},"Close")))}};const bP=u.observer((function({model:e,selectedAsm:t,value:r,setValue:o,setOption:i}){const a=n.getSession(e),{assemblyManager:s,textSearchManager:l}=a,{rankSearchResults:u}=e,c=e.searchScope(t),f=s.get(t);return M.default.createElement(Cy,{fetchResults:e=>Zv({queryString:e,assembly:f,textSearchManager:l,rankSearchResults:u,searchScope:c}),model:e,assemblyName:t,value:r,minWidth:270,onChange:e=>{o(e)},onSelect:e=>{i(e)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})})),wP=c.makeStyles()((e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}}))),_P=u.observer((function({model:e}){var t;const{classes:r}=wP(),o=n.getSession(e),{assemblyNames:i,assemblyManager:s}=o,{error:u}=e,[c,d]=l.useState(i[0]),[h,p]=l.useState(),m=s.get(c),g=i.length?null==m?void 0:m.error:"No configured assemblies",v=g||u,[y,b]=l.useState(""),w=null==m?void 0:m.regions,_=!!w,x=w&&(null===(t=w[0])||void 0===t?void 0:t.refName)||"";return l.useEffect((()=>{b(x)}),[x,c]),M.default.createElement("div",{className:r.container},v?M.default.createElement(a.ErrorMessage,{error:v}):null,M.default.createElement(f.Container,{className:r.importFormContainer},M.default.createElement("form",{onSubmit:async t=>{var n;if(t.preventDefault(),e.setError(void 0),y)try{(null==h?void 0:h.getDisplayString())===y&&h.hasLocation()?await wv({option:h,model:e,assemblyName:c}):(null===(n=null==h?void 0:h.results)||void 0===n?void 0:n.length)?e.setSearchResults(h.results,h.getLabel(),c):m&&await _v({input:y,assembly:m,model:e})}catch(e){console.error(e),o.notify(`${e}`,"warning")}}},M.default.createElement(f.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},M.default.createElement(f.Grid,{item:!0},M.default.createElement(f.FormControl,null,M.default.createElement(a.AssemblySelector,{onChange:e=>{d(e)},localStorageKey:"lgv",session:o,selected:c}))),M.default.createElement(f.Grid,{item:!0},c?g?M.default.createElement(rb,{style:{color:"red"}}):_?M.default.createElement(f.FormControl,null,M.default.createElement(bP,{value:y,setValue:b,selectedAsm:c,setOption:p,model:e})):M.default.createElement(f.CircularProgress,{size:20,disableShrink:!0}):null),M.default.createElement(f.Grid,{item:!0},M.default.createElement(f.FormControl,null,M.default.createElement(f.Button,{type:"submit",disabled:!y,className:r.button,variant:"contained",color:"primary"},"Open")),M.default.createElement(f.FormControl,null,M.default.createElement(f.Button,{disabled:!y,className:r.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(c)},variant:"contained",color:"secondary"},"Show all regions in assembly")))))))}));var xP={__proto__:null,default:_P};const EP=c.makeStyles()((e=>({note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},top:{zIndex:1e3}})));var kP={__proto__:null,default:u.observer((function({model:e}){const{classes:t}=EP(),{hideNoTracksActive:n}=e;return M.default.createElement(f.Paper,{className:t.note},n?M.default.createElement("div",{style:{height:"48px"}}):M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Typography,null,"No tracks active."),M.default.createElement(f.Button,{variant:"contained",color:"primary",onClick:()=>e.activateTrackSelector(),className:t.top,startIcon:M.default.createElement(Tv,null)},"Open track selector")))}))},SP={},CP=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(SP,"__esModule",{value:!0});const PP=CP(M.default),TP=N.default,MP=O.default,AP=CP(DE),OP=(0,MP.observer)((function({model:e,handleClose:t}){return PP.default.createElement(AP.default,{maxWidth:"xl",open:!0,onClose:t,title:"Reference sequence"},PP.default.createElement(TP.DialogContent,null,PP.default.createElement(TP.Typography,null,"Are you sure you want to return to the import form? This will lose your current view")),PP.default.createElement(TP.DialogActions,null,PP.default.createElement(TP.Button,{onClick:()=>{e.clearView(),t()},variant:"contained",color:"primary",autoFocus:!0},"OK"),PP.default.createElement(TP.Button,{onClick:()=>{t()},color:"secondary",variant:"contained"},"Cancel")))}));var RP=k({__proto__:null,default:SP.default=OP},[SP]);const NP=c.makeStyles()({dialogContent:{width:"40em"}}),IP=u.observer((function({model:e,handleClose:t}){const{classes:r}=NP(),[o,s]=l.useState(""),[u,c]=l.useState(!0),[d,h]=l.useState(!0),[p,m]=l.useState(!0);let g;try{new RegExp(o)}catch(e){g=e}return M.default.createElement(a.Dialog,{maxWidth:"xl",open:!0,onClose:t,title:"Sequence search"},M.default.createElement(f.DialogContent,{className:r.dialogContent},M.default.createElement(f.Typography,null,"Supply a sequence to search for. A track will be created with the resulting matches once submitted. You can also supply regex style expressions e.g. AACT(C|T)."),M.default.createElement(f.TextField,{value:o,onChange:e=>{s(e.target.value)},helperText:"Sequence search pattern"}),M.default.createElement(f.FormGroup,null,M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{checked:u,onChange:e=>{c(e.target.checked)}}),label:"Search forward strand"}),M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{checked:d,onChange:e=>{h(e.target.checked)}}),label:"Search reverse strand"}),M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{checked:p,onChange:e=>{m(e.target.checked)}}),label:"Case insensitive"})),g?M.default.createElement(f.Typography,{color:"error"},`${g}`):null),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{onClick:()=>{var r;if(o){const t="sequence_search_"+ +Date.now(),a=n.getSession(e),{assemblyManager:s}=a,l=e.assemblyNames[0];n.isSessionWithAddTracks(a)&&(a.addTrackConf({trackId:t,name:`Sequence search ${o}`,assemblyNames:[l],type:"FeatureTrack",adapter:{type:"SequenceSearchAdapter",search:o,searchForward:u,searchReverse:d,caseInsensitive:p,sequenceAdapter:i.getSnapshot(null===(r=s.get(l))||void 0===r?void 0:r.configuration.sequence.adapter)}}),e.showTrack(t))}t()},variant:"contained",color:"primary"},"Submit"),M.default.createElement(f.Button,{onClick:()=>{t()},variant:"contained",color:"secondary"},"Close")))}));var LP={__proto__:null,default:IP};function BP(){return M.default.createElement("div",null,M.default.createElement(f.CircularProgress,{size:20,style:{marginRight:20}}),M.default.createElement(f.Typography,{display:"inline"},"Creating SVG"))}function jP(e,t){return n.useLocalStorage(`svg-${e}`,t)}function DP({children:e,...t}){return M.default.createElement("div",null,M.default.createElement(f.TextField,{...t},e))}var zP={__proto__:null,default:function({model:e,handleClose:t}){const r=n.getSession(e),o="undefined"!=typeof OffscreenCanvas,[i,s]=l.useState(o),[u,c]=l.useState(!1),[d,h]=l.useState(),[p,m]=jP("file","jbrowse.svg"),[g,v]=jP("tracklabels","offset"),[y,b]=jP("theme",r.themeName||"default");return M.default.createElement(a.Dialog,{open:!0,onClose:t,title:"Export SVG"},M.default.createElement(f.DialogContent,null,d?M.default.createElement(a.ErrorMessage,{error:d}):u?M.default.createElement(BP,null):null,M.default.createElement(DP,{helperText:"filename",value:p,onChange:e=>{m(e.target.value)}}),M.default.createElement(DP,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:g,onChange:e=>{v(e.target.value)}},M.default.createElement(f.MenuItem,{value:"offset"},"Offset"),M.default.createElement(f.MenuItem,{value:"overlay"},"Overlay"),M.default.createElement(f.MenuItem,{value:"left"},"Left"),M.default.createElement(f.MenuItem,{value:"none"},"None")),r.allThemes?M.default.createElement(DP,{select:!0,label:"Theme",variant:"outlined",value:y,onChange:e=>{b(e.target.value)}},Object.entries(r.allThemes()).map((([e,t])=>M.default.createElement(f.MenuItem,{key:e,value:e},t.name||"(Unknown name)")))):null,o?M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{checked:i,onChange:()=>{s((e=>!e))}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):M.default.createElement(f.Typography,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel"),M.default.createElement(f.Button,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{c(!0),h(void 0);try{await e.exportSvg({rasterizeLayers:i,filename:p,trackLabels:g,themeName:y}),t()}catch(e){console.error(e),h(e)}finally{c(!1)}}},"Submit")))}},FP={};Object.defineProperty(FP,"__esModule",{value:!0}),FP.formatFastaLines=UP;var $P=FP.formatSeqFasta=function(e){return e.map((e=>`>${e.header}\n${UP(e.seq)}`)).join("\n")};function UP(e){return e.replaceAll(/(.{1,80})/g,"$1\n").trimEnd()}var HP=r.createSvgIcon(o.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp");const VP=c.makeStyles()({dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"},ml:{marginLeft:10}}),qP=u.observer((function({model:e,handleClose:t}){const{classes:r}=VP(),[o,i]=l.useState(),[s,u]=l.useState(),[c,d]=l.useState(!1),[h,m]=l.useState(!1),[g,v]=l.useState(!1),{leftOffset:y,rightOffset:b}=e,w=Boolean(void 0===s);l.useEffect((()=>{const t=new AbortController;return(async()=>{try{const t=e.getSelectedRegions(y,b);if(0===t.length)throw new Error("Selected region is out of bounds");const r=await async function(e,t){const r=n.getSession(e),{leftOffset:o,rightOffset:i}=e;if(!o||!i)throw new Error("no offsets on model to use for range");if(o.assemblyName!==i.assemblyName)throw new Error("not able to fetch sequences from multiple assemblies");const{rpcManager:a,assemblyManager:s}=r,l=o.assemblyName||i.assemblyName||"",u=s.get(l);if(!u)throw new Error(`assembly ${l} not found`);const c=p.getConf(u,["sequence","adapter"]),f="getSequence";return a.call(f,"CoreGetFeatures",{adapterConfig:c,regions:t,sessionId:f})}(e,t);u(r)}catch(e){console.error(e),i(e)}})(),()=>{t.abort()}}),[e,y,b]);const _=s?$P(s.map((e=>{let t=e.get("seq");const r=e.get("refName"),o=e.get("start")+1,i=e.get("end"),a=`${r}:${o}-${i}`;if((null==t?void 0:t.length)!==i-o+1)throw new Error(`${a} returned ${t.length.toLocaleString()} bases, but should have returned ${(i-o).toLocaleString()}`);return c&&(t=n.reverse(t)),g&&(t=n.complement(t)),{header:a+(c?"-rev":"")+(g?"-comp":""),seq:t}}))):"",x=!!_&&_.length>1e6;return M.default.createElement(a.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{t(),e.setOffsets()},title:"Reference sequence"},M.default.createElement(f.DialogContent,null,o?M.default.createElement(f.Typography,{color:"error"},`${o}`):w?M.default.createElement(f.Container,null,"Retrieving reference sequence...",M.default.createElement(f.CircularProgress,{className:r.ml,size:20,disableShrink:!0})):null,M.default.createElement(f.TextField,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,minRows:5,maxRows:10,disabled:x,className:r.dialogContent,fullWidth:!0,value:x?"Reference sequence too large to display, use the download FASTA button":_,slotProps:{input:{readOnly:!0,classes:{input:r.textAreaFont}}}}),M.default.createElement(f.FormGroup,null,M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{value:c,onChange:e=>{d(e.target.checked)}}),label:"Reverse sequence"}),M.default.createElement(f.FormControlLabel,{control:M.default.createElement(f.Checkbox,{value:g,onChange:e=>{v(e.target.checked)}}),label:"Complement sequence"})),M.default.createElement(f.Typography,{style:{margin:10}},'Note: Check both boxes for the "reverse complement"')),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{onClick:()=>{Yx(_),m(!0),setTimeout((()=>{m(!1)}),500)},disabled:w||!!o||x,color:"primary",startIcon:M.default.createElement(Pv,null)},h?"Copied":"Copy to clipboard"),M.default.createElement(f.Button,{onClick:()=>{Wv.exports.saveAs(new Blob([_||""],{type:"text/x-fasta;charset=utf-8"}),"jbrowse_ref_seq.fa")},disabled:w||!!o,color:"primary",startIcon:M.default.createElement(HP,null)},"Download FASTA"),M.default.createElement(f.Button,{onClick:t,variant:"contained"},"Close")))}));var GP={__proto__:null,default:qP};function WP({searchResults:e,assemblyName:t,model:r,handleClose:o}){const a=n.getSession(r),{pluginManager:s}=n.getEnv(a),{assemblyManager:l}=a,u=t||r.displayedRegions[0].assemblyName,c=l.get(u);if(!c)throw new Error(`assembly ${u} not found`);if(!c.regions)throw new Error(`assembly ${u} regions not loaded`);return M.default.createElement(f.TableContainer,{component:f.Paper},M.default.createElement(f.Table,null,M.default.createElement(f.TableHead,null,M.default.createElement(f.TableRow,null,M.default.createElement(f.TableCell,null,"Name"),M.default.createElement(f.TableCell,{align:"right"},"Location"),M.default.createElement(f.TableCell,{align:"right"},"Track"),M.default.createElement(f.TableCell,{align:"right"}))),M.default.createElement(f.TableBody,null,e.map((e=>M.default.createElement(f.TableRow,{key:e.getId()},M.default.createElement(f.TableCell,{component:"th",scope:"row"},e.getLabel()),M.default.createElement(f.TableCell,{align:"right"},e.getLocation()),M.default.createElement(f.TableCell,{align:"right"},function(e){var t;if(e){const n=s.pluggableConfigSchemaType("track"),o=i.resolveIdentifier(n,i.getRoot(r),e);return(null===(t=null==o?void 0:o.name)||void 0===t?void 0:t.value)||""}return""}(e.getTrackId())||"N/A"),M.default.createElement(f.TableCell,{align:"right"},M.default.createElement(f.Button,{onClick:async()=>{try{await async function(e){var t;try{const n=null===(t=null==c?void 0:c.regions)||void 0===t?void 0:t.find((t=>e===t.refName));n?(r.setDisplayedRegions([n]),r.showAllRegions()):await r.navToLocString(e,u)}catch(e){console.warn(e),a.notify(`${e}`,"warning")}}(e.getLocation()||e.getLabel());const t=e.getTrackId();t&&r.showTrack(t)}catch(e){console.error(e),a.notifyError(`${e}`,e)}o()},color:"primary",variant:"contained"},"Go"))))))))}var JP={__proto__:null,default:function({model:e,assemblyName:t,searchQuery:n,searchResults:r,handleClose:o}){return M.default.createElement(a.Dialog,{open:!0,maxWidth:"xl",onClose:o,title:"Search results"},M.default.createElement(f.DialogContent,null,(null==r?void 0:r.length)?M.default.createElement(M.default.Fragment,null,M.default.createElement(f.Typography,null,"Showing results for ",M.default.createElement("b",null,n)),M.default.createElement(WP,{model:e,handleClose:o,assemblyName:t,searchResults:r})):M.default.createElement(f.Typography,null,"No results found for ",M.default.createElement("b",null,n))),M.default.createElement(f.Divider,null),M.default.createElement(f.DialogActions,null,M.default.createElement(f.Button,{onClick:()=>{o()},color:"primary"},"Cancel")))}};e.default=class extends S.default{name="MultilevelLinearViewPlugin";version="1.0.2";install(e){e.addViewType((()=>e.jbrequire(Gx))),e.addViewType((()=>e.jbrequire(Px)))}configure(e){n.isAbstractMenuManager(e.rootModel)&&e.rootModel.appendToMenu("Add",{label:"Linear multilevel view",icon:W,onClick:e=>{e.addView("MultilevelLinearView",{})}})}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=jbrowse-plugin-multilevel-linear-view2.umd.production.min.js.map
